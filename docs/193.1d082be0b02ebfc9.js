(self.webpackChunkaudio_aid_manager=self.webpackChunkaudio_aid_manager||[]).push([[193],{193:(tl,Qi,dt)=>{"use strict";dt.r(Qi),dt.d(Qi,{PagesModule:()=>Lht});var Te={};dt.r(Te),dt.d(Te,{Arc:()=>s0,BezierCurve:()=>Yg,BoundingRect:()=>$t,Circle:()=>El,CompoundPath:()=>l0,Ellipse:()=>a0,Group:()=>Kt,Image:()=>Pn,IncrementalDisplayable:()=>_N,Line:()=>yn,LinearGradient:()=>Sf,OrientedBoundingRect:()=>Zg,Path:()=>ge,Point:()=>ee,Polygon:()=>Dr,Polyline:()=>Pr,RadialGradient:()=>W2,Rect:()=>De,Ring:()=>Wg,Sector:()=>kr,Text:()=>Ie,applyTransform:()=>lo,clipPointsByRect:()=>$2,clipRectByRect:()=>TN,createIcon:()=>Tf,extendPath:()=>CN,extendShape:()=>xN,getShapeClass:()=>u0,getTransform:()=>tu,groupTransition:()=>wf,initProps:()=>pi,isElementRemoved:()=>Ch,lineLineIntersect:()=>j2,linePolygonIntersect:()=>Mf,makeImage:()=>Y2,makePath:()=>qg,mergePath:()=>Sa,registerShape:()=>so,removeElement:()=>Ll,removeElementWithFadeOut:()=>lf,resizePath:()=>U2,setTooltipConfig:()=>zh,subPixelOptimize:()=>Kg,subPixelOptimizeLine:()=>Vh,subPixelOptimizeRect:()=>SN,transformDirection:()=>Qg,traverseElements:()=>Fl,updateProps:()=>Ve});var ct=dt(784),Qt=dt(2276),y=dt(4650),Ot=function(e,i){return(Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])})(e,i)};function ot(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function t(){this.constructor=e}Ot(e,i),e.prototype=null===i?Object.create(i):(t.prototype=i.prototype,new t)}var Ji=function e(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},re=new function e(){this.browser=new Ji,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(re.wxa=!0,re.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?re.worker=!0:typeof navigator>"u"||0===navigator.userAgent.indexOf("Node.js")?(re.node=!0,re.svgSupported=!0):function Fe(e,i){var t=i.browser,n=e.match(/Firefox\/([\d.]+)/),r=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),a=e.match(/Edge?\/([\d.]+)/),o=/micromessenger/i.test(e);n&&(t.firefox=!0,t.version=n[1]),r&&(t.ie=!0,t.version=r[1]),a&&(t.edge=!0,t.version=a[1],t.newEdge=+a[1].split(".")[0]>18),o&&(t.weChat=!0),i.svgSupported=typeof SVGRect<"u",i.touchEventsSupported="ontouchstart"in window&&!t.ie&&!t.edge,i.pointerEventsSupported="onpointerdown"in window&&(t.edge||t.ie&&+t.version>=11),i.domSupported=typeof document<"u";var s=document.documentElement.style;i.transform3dSupported=(t.ie&&"transition"in s||t.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),i.transformSupported=i.transform3dSupported||t.ie&&+t.version>=9}(navigator.userAgent,re);const Yt=re;var e,i,fr=12,en="sans-serif",ni=fr+"px "+en,il=function na(e){var i={};if(typeof JSON>"u")return i;for(var t=0;t<e.length;t++){var n=String.fromCharCode(t+32),r=(e.charCodeAt(t)-20)/100;i[n]=r}return i}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),xn={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(t,n){if(!e){var r=xn.createCanvas();e=r&&r.getContext("2d")}if(e)return i!==n&&(i=e.font=n||ni),e.measureText(t);t=t||"";var a=/((?:\d+)?\.?\d*)px/.exec(n=n||ni),o=a&&+a[1]||fr,s=0;if(n.indexOf("mono")>=0)s=o*t.length;else for(var l=0;l<t.length;l++){var c=il[t[l]];s+=null==c?o:c*o}return{width:s}},loadImage:function(e,i,t){var n=new Image;return n.onload=i,n.onerror=t,n.src=e,n}},nl=bi(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(e,i){return e["[object "+i+"]"]=!0,e},{}),Hu=bi(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(e,i){return e["[object "+i+"Array]"]=!0,e},{}),Hi=Object.prototype.toString,ra=Array.prototype,rl=ra.forEach,os=ra.filter,xi=ra.slice,aa=ra.map,ss=function(){}.constructor,Ce=ss?ss.prototype:null,Di="__proto__",Oa=2311;function ls(){return Oa++}function Pi(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];typeof console<"u"&&console.error.apply(console,e)}function Gt(e){if(null==e||"object"!=typeof e)return e;var i=e,t=Hi.call(e);if("[object Array]"===t){if(!vr(e)){i=[];for(var n=0,r=e.length;n<r;n++)i[n]=Gt(e[n])}}else if(Hu[t]){if(!vr(e)){var a=e.constructor;if(a.from)i=a.from(e);else for(i=new a(e.length),n=0,r=e.length;n<r;n++)i[n]=e[n]}}else if(!nl[t]&&!vr(e)&&!Cn(e))for(var o in i={},e)e.hasOwnProperty(o)&&o!==Di&&(i[o]=Gt(e[o]));return i}function ie(e,i,t){if(!Bt(i)||!Bt(e))return t?Gt(i):e;for(var n in i)if(i.hasOwnProperty(n)&&n!==Di){var r=e[n],a=i[n];!Bt(a)||!Bt(r)||yt(a)||yt(r)||Cn(a)||Cn(r)||al(a)||al(r)||vr(a)||vr(r)?(t||!(n in e))&&(e[n]=Gt(i[n])):ie(r,a,t)}return e}function nn(e,i){for(var t=e[0],n=1,r=e.length;n<r;n++)t=ie(t,e[n],i);return t}function ft(e,i){if(Object.assign)Object.assign(e,i);else for(var t in i)i.hasOwnProperty(t)&&t!==Di&&(e[t]=i[t]);return e}function Rt(e,i,t){for(var n=he(i),r=0;r<n.length;r++){var a=n[r];(t?null!=i[a]:null==e[a])&&(e[a]=i[a])}return e}function oe(e,i){if(e){if(e.indexOf)return e.indexOf(i);for(var t=0,n=e.length;t<n;t++)if(e[t]===i)return t}return-1}function It(e,i,t){if(e="prototype"in e?e.prototype:e,i="prototype"in i?i.prototype:i,Object.getOwnPropertyNames)for(var n=Object.getOwnPropertyNames(i),r=0;r<n.length;r++){var a=n[r];"constructor"!==a&&(t?null!=i[a]:null==e[a])&&(e[a]=i[a])}else Rt(e,i,t)}function Li(e){return!(!e||"string"==typeof e)&&"number"==typeof e.length}function U(e,i,t){if(e&&i)if(e.forEach&&e.forEach===rl)e.forEach(i,t);else if(e.length===+e.length)for(var n=0,r=e.length;n<r;n++)i.call(t,e[n],n,e);else for(var a in e)e.hasOwnProperty(a)&&i.call(t,e[a],a,e)}function mt(e,i,t){if(!e)return[];if(!i)return ds(e);if(e.map&&e.map===aa)return e.map(i,t);for(var n=[],r=0,a=e.length;r<a;r++)n.push(i.call(t,e[r],r,e));return n}function bi(e,i,t,n){if(e&&i){for(var r=0,a=e.length;r<a;r++)t=i.call(n,t,e[r],r,e);return t}}function ve(e,i,t){if(!e)return[];if(!i)return ds(e);if(e.filter&&e.filter===os)return e.filter(i,t);for(var n=[],r=0,a=e.length;r<a;r++)i.call(t,e[r],r,e)&&n.push(e[r]);return n}function he(e){if(!e)return[];if(Object.keys)return Object.keys(e);var i=[];for(var t in e)e.hasOwnProperty(t)&&i.push(t);return i}var Dt=Ce&&Z(Ce.bind)?Ce.call.bind(Ce.bind):function oa(e,i){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return function(){return e.apply(i,t.concat(xi.call(arguments)))}};function jt(e){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return function(){return e.apply(this,i.concat(xi.call(arguments)))}}function yt(e){return Array.isArray?Array.isArray(e):"[object Array]"===Hi.call(e)}function Z(e){return"function"==typeof e}function Lt(e){return"string"==typeof e}function us(e){return"[object String]"===Hi.call(e)}function _e(e){return"number"==typeof e}function Bt(e){var i=typeof e;return"function"===i||!!e&&"object"===i}function al(e){return!!nl[Hi.call(e)]}function fn(e){return!!Hu[Hi.call(e)]}function Cn(e){return"object"==typeof e&&"number"==typeof e.nodeType&&"object"==typeof e.ownerDocument}function pn(e){return null!=e.colorStops}function Ea(e){return e!=e}function hi(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];for(var t=0,n=e.length;t<n;t++)if(null!=e[t])return e[t]}function qt(e,i){return e??i}function gr(e,i,t){return e??i??t}function ds(e){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t];return xi.apply(e,i)}function Fa(e){if("number"==typeof e)return[e,e,e,e];var i=e.length;return 2===i?[e[0],e[1],e[0],e[1]]:3===i?[e[0],e[1],e[2],e[1]]:e}function ti(e,i){if(!e)throw new Error(i)}function Ci(e){return null==e?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var bo="__ec_primitive__";function Ra(e){e[bo]=!0}function vr(e){return e[bo]}var Yu=function(){function e(){this.data={}}return e.prototype.delete=function(i){var t=this.has(i);return t&&delete this.data[i],t},e.prototype.has=function(i){return this.data.hasOwnProperty(i)},e.prototype.get=function(i){return this.data[i]},e.prototype.set=function(i,t){return this.data[i]=t,this},e.prototype.keys=function(){return he(this.data)},e.prototype.forEach=function(i){var t=this.data;for(var n in t)t.hasOwnProperty(n)&&i(t[n],n)},e}(),ol="function"==typeof Map,qn=function(){function e(i){var t=yt(i);this.data=function Me(){return ol?new Map:new Yu}();var n=this;function r(a,o){t?n.set(a,o):n.set(o,a)}i instanceof e?i.each(r):i&&U(i,r)}return e.prototype.hasKey=function(i){return this.data.has(i)},e.prototype.get=function(i){return this.data.get(i)},e.prototype.set=function(i,t){return this.data.set(i,t),t},e.prototype.each=function(i,t){this.data.forEach(function(n,r){i.call(t,n,r)})},e.prototype.keys=function(){var i=this.data.keys();return ol?Array.from(i):i},e.prototype.removeKey=function(i){this.data.delete(i)},e}();function Mt(e){return new qn(e)}function sa(e,i){for(var t=new e.constructor(e.length+i.length),n=0;n<e.length;n++)t[n]=e[n];var r=e.length;for(n=0;n<i.length;n++)t[n+r]=i[n];return t}function Ba(e,i){var t;if(Object.create)t=Object.create(e);else{var n=function(){};n.prototype=e,t=new n}return i&&ft(t,i),t}function la(e){var i=e.style;i.webkitUserSelect="none",i.userSelect="none",i.webkitTapHighlightColor="rgba(0,0,0,0)",i["-webkit-touch-callout"]="none"}function Pt(e,i){return e.hasOwnProperty(i)}function Je(){}var Ii=180/Math.PI,Sn=function(e,i){return(Sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])})(e,i)};function Ye(e,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function t(){this.constructor=e}Sn(e,i),e.prototype=null===i?Object.create(i):(t.prototype=i.prototype,new t)}function Oi(e,i){return null==e&&(e=0),null==i&&(i=0),[e,i]}function fi(e,i){return e[0]=i[0],e[1]=i[1],e}function Bn(e){return[e[0],e[1]]}function Nr(e,i,t){return e[0]=i,e[1]=t,e}function yi(e,i,t){return e[0]=i[0]+t[0],e[1]=i[1]+t[1],e}function Gr(e,i,t,n){return e[0]=i[0]+t[0]*n,e[1]=i[1]+t[1]*n,e}function Kn(e,i,t){return e[0]=i[0]-t[0],e[1]=i[1]-t[1],e}function ua(e){return Math.sqrt(function gs(e){return e[0]*e[0]+e[1]*e[1]}(e))}function Va(e,i,t){return e[0]=i[0]*t,e[1]=i[1]*t,e}function rn(e,i){var t=ua(i);return 0===t?(e[0]=0,e[1]=0):(e[0]=i[0]/t,e[1]=i[1]/t),e}function za(e,i){return Math.sqrt((e[0]-i[0])*(e[0]-i[0])+(e[1]-i[1])*(e[1]-i[1]))}var Qn=za,Hr=function Be(e,i){return(e[0]-i[0])*(e[0]-i[0])+(e[1]-i[1])*(e[1]-i[1])};function wn(e,i,t,n){return e[0]=i[0]+n*(t[0]-i[0]),e[1]=i[1]+n*(t[1]-i[1]),e}function Si(e,i,t){var n=i[0],r=i[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function zn(e,i,t){return e[0]=Math.min(i[0],t[0]),e[1]=Math.min(i[1],t[1]),e}function Tn(e,i,t){return e[0]=Math.max(i[0],t[0]),e[1]=Math.max(i[1],t[1]),e}var To=function e(i,t){this.target=i,this.topTarget=t&&t.topTarget},Ju=function(){function e(i){this.handler=i,i.on("mousedown",this._dragStart,this),i.on("mousemove",this._drag,this),i.on("mouseup",this._dragEnd,this)}return e.prototype._dragStart=function(i){for(var t=i.target;t&&!t.draggable;)t=t.parent||t.__hostTarget;t&&(this._draggingTarget=t,t.dragging=!0,this._x=i.offsetX,this._y=i.offsetY,this.handler.dispatchToElement(new To(t,i),"dragstart",i.event))},e.prototype._drag=function(i){var t=this._draggingTarget;if(t){var n=i.offsetX,r=i.offsetY,a=n-this._x,o=r-this._y;this._x=n,this._y=r,t.drift(a,o,i),this.handler.dispatchToElement(new To(t,i),"drag",i.event);var s=this.handler.findHover(n,r,t).target,l=this._dropTarget;this._dropTarget=s,t!==s&&(l&&s!==l&&this.handler.dispatchToElement(new To(l,i),"dragleave",i.event),s&&s!==l&&this.handler.dispatchToElement(new To(s,i),"dragenter",i.event))}},e.prototype._dragEnd=function(i){var t=this._draggingTarget;t&&(t.dragging=!1),this.handler.dispatchToElement(new To(t,i),"dragend",i.event),this._dropTarget&&this.handler.dispatchToElement(new To(this._dropTarget,i),"drop",i.event),this._draggingTarget=null,this._dropTarget=null},e}();const Rd=Ju;var hl=function(){function e(i){i&&(this._$eventProcessor=i)}return e.prototype.on=function(i,t,n,r){this._$handlers||(this._$handlers={});var a=this._$handlers;if("function"==typeof t&&(r=n,n=t,t=null),!n||!i)return this;var o=this._$eventProcessor;null!=t&&o&&o.normalizeQuery&&(t=o.normalizeQuery(t)),a[i]||(a[i]=[]);for(var s=0;s<a[i].length;s++)if(a[i][s].h===n)return this;var l={h:n,query:t,ctx:r||this,callAtLast:n.zrEventfulCallAtLast},c=a[i].length-1,u=a[i][c];return u&&u.callAtLast?a[i].splice(c,0,l):a[i].push(l),this},e.prototype.isSilent=function(i){var t=this._$handlers;return!t||!t[i]||!t[i].length},e.prototype.off=function(i,t){var n=this._$handlers;if(!n)return this;if(!i)return this._$handlers={},this;if(t){if(n[i]){for(var r=[],a=0,o=n[i].length;a<o;a++)n[i][a].h!==t&&r.push(n[i][a]);n[i]=r}n[i]&&0===n[i].length&&delete n[i]}else delete n[i];return this},e.prototype.trigger=function(i){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[i],a=this._$eventProcessor;if(r)for(var o=t.length,s=r.length,l=0;l<s;l++){var c=r[l];if(!a||!a.filter||null==c.query||a.filter(i,c.query))switch(o){case 0:c.h.call(c.ctx);break;case 1:c.h.call(c.ctx,t[0]);break;case 2:c.h.call(c.ctx,t[0],t[1]);break;default:c.h.apply(c.ctx,t)}}return a&&a.afterTrigger&&a.afterTrigger(i),this},e.prototype.triggerWithContext=function(i){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!this._$handlers)return this;var r=this._$handlers[i],a=this._$eventProcessor;if(r)for(var o=t.length,s=t[o-1],l=r.length,c=0;c<l;c++){var u=r[c];if(!a||!a.filter||null==u.query||a.filter(i,u.query))switch(o){case 0:u.h.call(s);break;case 1:u.h.call(s,t[0]);break;case 2:u.h.call(s,t[0],t[1]);break;default:u.h.apply(s,t.slice(1,o-1))}}return a&&a.afterTrigger&&a.afterTrigger(i),this},e}();const Nn=hl;var Wr=Math.log(2);function rc(e,i,t,n,r,a){var o=n+"-"+r,s=e.length;if(a.hasOwnProperty(o))return a[o];if(1===i){var l=Math.round(Math.log((1<<s)-1&~r)/Wr);return e[t][l]}for(var c=n|1<<t,u=t+1;n&1<<u;)u++;for(var h=0,f=0,p=0;f<s;f++){var m=1<<f;m&r||(h+=(p%2?-1:1)*e[t][f]*rc(e,i-1,u,c,r|m,a),p++)}return a[o]=h,h}function Mo(e,i){var t=[[e[0],e[1],1,0,0,0,-i[0]*e[0],-i[0]*e[1]],[0,0,0,e[0],e[1],1,-i[1]*e[0],-i[1]*e[1]],[e[2],e[3],1,0,0,0,-i[2]*e[2],-i[2]*e[3]],[0,0,0,e[2],e[3],1,-i[3]*e[2],-i[3]*e[3]],[e[4],e[5],1,0,0,0,-i[4]*e[4],-i[4]*e[5]],[0,0,0,e[4],e[5],1,-i[5]*e[4],-i[5]*e[5]],[e[6],e[7],1,0,0,0,-i[6]*e[6],-i[6]*e[7]],[0,0,0,e[6],e[7],1,-i[7]*e[6],-i[7]*e[7]]],n={},r=rc(t,8,0,0,0,n);if(0!==r){for(var a=[],o=0;o<8;o++)for(var s=0;s<8;s++)null==a[s]&&(a[s]=0),a[s]+=((o+s)%2?-1:1)*rc(t,7,0===o?1:0,1<<o,1<<s,n)/r*i[o];return function(l,c,u){var h=c*a[6]+u*a[7]+1;l[0]=(c*a[0]+u*a[1]+a[2])/h,l[1]=(c*a[3]+u*a[4]+a[5])/h}}}var dl="___zrEVENTSAVED",Yi=[];function fl(e,i,t,n,r){if(i.getBoundingClientRect&&Yt.domSupported&&!Xi(i)){var a=i[dl]||(i[dl]={}),o=function th(e,i){var t=i.markers;if(t)return t;t=i.markers=[];for(var n=["left","right"],r=["top","bottom"],a=0;a<4;a++){var o=document.createElement("div"),l=a%2,c=(a>>1)%2;o.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",r[c]+":0",n[1-l]+":auto",r[1-c]+":auto",""].join("!important;"),e.appendChild(o),t.push(o)}return t}(i,a),s=function Bd(e,i,t){for(var n=t?"invTrans":"trans",r=i[n],a=i.srcCoords,o=[],s=[],l=!0,c=0;c<4;c++){var u=e[c].getBoundingClientRect(),h=2*c,f=u.left,p=u.top;o.push(f,p),l=l&&a&&f===a[h]&&p===a[h+1],s.push(e[c].offsetLeft,e[c].offsetTop)}return l&&r?r:(i.srcCoords=o,i[n]=t?Mo(s,o):Mo(o,s))}(o,a,r);if(s)return s(e,t,n),!0}return!1}function Xi(e){return"CANVAS"===e.nodeName.toUpperCase()}var vs=/([&<>"'])/g,ac={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Fi(e){return null==e?"":(e+"").replace(vs,function(i,t){return ac[t]})}var eh=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ga=[],Ha=Yt.browser.firefox&&+Yt.browser.version.split(".")[0]<39;function pl(e,i,t,n){return t=t||{},n?Ao(e,i,t):Ha&&null!=i.layerX&&i.layerX!==i.offsetX?(t.zrX=i.layerX,t.zrY=i.layerY):null!=i.offsetX?(t.zrX=i.offsetX,t.zrY=i.offsetY):Ao(e,i,t),t}function Ao(e,i,t){if(Yt.domSupported&&e.getBoundingClientRect){var n=i.clientX,r=i.clientY;if(Xi(e)){var a=e.getBoundingClientRect();return t.zrX=n-a.left,void(t.zrY=r-a.top)}if(fl(Ga,e,n,r))return t.zrX=Ga[0],void(t.zrY=Ga[1])}t.zrX=t.zrY=0}function Jn(e){return e||window.event}function gn(e,i,t){if(null!=(i=Jn(i)).zrX)return i;var n=i.type;if(n&&n.indexOf("touch")>=0){var o="touchend"!==n?i.targetTouches[0]:i.changedTouches[0];o&&pl(e,o,i,t)}else{pl(e,i,i,t);var a=function ms(e){var i=e.wheelDelta;if(i)return i;var t=e.deltaX,n=e.deltaY;return null==t||null==n?i:3*Math.abs(0!==n?n:t)*(n>0?-1:n<0?1:t>0?-1:1)}(i);i.zrDelta=a?a/120:-(i.detail||0)/3}var s=i.button;return null==i.which&&void 0!==s&&eh.test(i.type)&&(i.which=1&s?1:2&s?3:4&s?2:0),i}function Lo(e,i,t,n){e.addEventListener(i,t,n)}function oc(e,i,t,n){e.removeEventListener(i,t,n)}var tr=function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0};function gl(e){return 2===e.which||3===e.which}var ys=function(){function e(){this._track=[]}return e.prototype.recognize=function(i,t,n){return this._doTrack(i,t,n),this._recognize(i)},e.prototype.clear=function(){return this._track.length=0,this},e.prototype._doTrack=function(i,t,n){var r=i.touches;if(r){for(var a={points:[],touches:[],target:t,event:i},o=0,s=r.length;o<s;o++){var l=r[o],c=pl(n,l,{});a.points.push([c.zrX,c.zrY]),a.touches.push(l)}this._track.push(a)}},e.prototype._recognize=function(i){for(var t in sc)if(sc.hasOwnProperty(t)){var n=sc[t](this._track,i);if(n)return n}},e}();function ih(e){var i=e[1][0]-e[0][0],t=e[1][1]-e[0][1];return Math.sqrt(i*i+t*t)}var sc={pinch:function(e,i){var t=e.length;if(t){var n=(e[t-1]||{}).points,r=(e[t-2]||{}).points||n;if(r&&r.length>1&&n&&n.length>1){var a=ih(n)/ih(r);!isFinite(a)&&(a=1),i.pinchScale=a;var o=function nh(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}(n);return i.pinchX=o[0],i.pinchY=o[1],{type:"pinch",target:e[0].target,event:i}}}}};function Yr(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function lc(e,i){return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e}function Ui(e,i,t){var r=i[1]*t[0]+i[3]*t[1],a=i[0]*t[2]+i[2]*t[3],o=i[1]*t[2]+i[3]*t[3],s=i[0]*t[4]+i[2]*t[5]+i[4],l=i[1]*t[4]+i[3]*t[5]+i[5];return e[0]=i[0]*t[0]+i[2]*t[1],e[1]=r,e[2]=a,e[3]=o,e[4]=s,e[5]=l,e}function mr(e,i,t){return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4]+t[0],e[5]=i[5]+t[1],e}function Ri(e,i,t,n){void 0===n&&(n=[0,0]);var r=i[0],a=i[2],o=i[4],s=i[1],l=i[3],c=i[5],u=Math.sin(t),h=Math.cos(t);return e[0]=r*h+s*u,e[1]=-r*u+s*h,e[2]=a*h+l*u,e[3]=-a*u+h*l,e[4]=h*(o-n[0])+u*(c-n[1])+n[0],e[5]=h*(c-n[1])-u*(o-n[0])+n[1],e}function Ze(e,i,t){var n=t[0],r=t[1];return e[0]=i[0]*n,e[1]=i[1]*r,e[2]=i[2]*n,e[3]=i[3]*r,e[4]=i[4]*n,e[5]=i[5]*r,e}function vn(e,i){var t=i[0],n=i[2],r=i[4],a=i[1],o=i[3],s=i[5],l=t*o-a*n;return l?(e[0]=o*(l=1/l),e[1]=-a*l,e[2]=-n*l,e[3]=t*l,e[4]=(n*s-o*r)*l,e[5]=(a*r-t*s)*l,e):null}var Wa=function(){function e(i,t){this.x=i||0,this.y=t||0}return e.prototype.copy=function(i){return this.x=i.x,this.y=i.y,this},e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.set=function(i,t){return this.x=i,this.y=t,this},e.prototype.equal=function(i){return i.x===this.x&&i.y===this.y},e.prototype.add=function(i){return this.x+=i.x,this.y+=i.y,this},e.prototype.scale=function(i){this.x*=i,this.y*=i},e.prototype.scaleAndAdd=function(i,t){this.x+=i.x*t,this.y+=i.y*t},e.prototype.sub=function(i){return this.x-=i.x,this.y-=i.y,this},e.prototype.dot=function(i){return this.x*i.x+this.y*i.y},e.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},e.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},e.prototype.normalize=function(){var i=this.len();return this.x/=i,this.y/=i,this},e.prototype.distance=function(i){var t=this.x-i.x,n=this.y-i.y;return Math.sqrt(t*t+n*n)},e.prototype.distanceSquare=function(i){var t=this.x-i.x,n=this.y-i.y;return t*t+n*n},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},e.prototype.transform=function(i){if(i){var t=this.x,n=this.y;return this.x=i[0]*t+i[2]*n+i[4],this.y=i[1]*t+i[3]*n+i[5],this}},e.prototype.toArray=function(i){return i[0]=this.x,i[1]=this.y,i},e.prototype.fromArray=function(i){this.x=i[0],this.y=i[1]},e.set=function(i,t,n){i.x=t,i.y=n},e.copy=function(i,t){i.x=t.x,i.y=t.y},e.len=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)},e.lenSquare=function(i){return i.x*i.x+i.y*i.y},e.dot=function(i,t){return i.x*t.x+i.y*t.y},e.add=function(i,t,n){i.x=t.x+n.x,i.y=t.y+n.y},e.sub=function(i,t,n){i.x=t.x-n.x,i.y=t.y-n.y},e.scale=function(i,t,n){i.x=t.x*n,i.y=t.y*n},e.scaleAndAdd=function(i,t,n,r){i.x=t.x+n.x*r,i.y=t.y+n.y*r},e.lerp=function(i,t,n,r){var a=1-r;i.x=a*t.x+r*n.x,i.y=a*t.y+r*n.y},e}();const ee=Wa;var wi=Math.min,an=Math.max,Ya=new ee,_r=new ee,Xa=new ee,on=new ee,_s=new ee,Mn=new ee,rh=function(){function e(i,t,n,r){n<0&&(i+=n,n=-n),r<0&&(t+=r,r=-r),this.x=i,this.y=t,this.width=n,this.height=r}return e.prototype.union=function(i){var t=wi(i.x,this.x),n=wi(i.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?an(i.x+i.width,this.x+this.width)-t:i.width,this.height=isFinite(this.y)&&isFinite(this.height)?an(i.y+i.height,this.y+this.height)-n:i.height,this.x=t,this.y=n},e.prototype.applyTransform=function(i){e.applyTransform(this,this,i)},e.prototype.calculateTransform=function(i){var t=this,n=i.width/t.width,r=i.height/t.height,a=[1,0,0,1,0,0];return mr(a,a,[-t.x,-t.y]),Ze(a,a,[n,r]),mr(a,a,[i.x,i.y]),a},e.prototype.intersect=function(i,t){if(!i)return!1;i instanceof e||(i=e.create(i));var n=this,r=n.x,a=n.x+n.width,o=n.y,s=n.y+n.height,l=i.x,c=i.x+i.width,u=i.y,h=i.y+i.height,f=!(a<l||c<r||s<u||h<o);if(t){var p=1/0,m=0,b=Math.abs(a-l),_=Math.abs(c-r),w=Math.abs(s-u),T=Math.abs(h-o),A=Math.min(b,_),P=Math.min(w,T);a<l||c<r?A>m&&(m=A,ee.set(Mn,b<_?-b:_,0)):A<p&&(p=A,ee.set(_s,b<_?b:-_,0)),s<u||h<o?P>m&&(m=P,ee.set(Mn,0,w<T?-w:T)):A<p&&(p=A,ee.set(_s,0,w<T?w:-T))}return t&&ee.copy(t,f?_s:Mn),f},e.prototype.contain=function(i,t){var n=this;return i>=n.x&&i<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(i){e.copy(this,i)},e.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},e.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},e.prototype.isZero=function(){return 0===this.width||0===this.height},e.create=function(i){return new e(i.x,i.y,i.width,i.height)},e.copy=function(i,t){i.x=t.x,i.y=t.y,i.width=t.width,i.height=t.height},e.applyTransform=function(i,t,n){if(n){if(n[1]<1e-5&&n[1]>-1e-5&&n[2]<1e-5&&n[2]>-1e-5){var r=n[0],a=n[3],s=n[5];return i.x=t.x*r+n[4],i.y=t.y*a+s,i.width=t.width*r,i.height=t.height*a,i.width<0&&(i.x+=i.width,i.width=-i.width),void(i.height<0&&(i.y+=i.height,i.height=-i.height))}Ya.x=Xa.x=t.x,Ya.y=on.y=t.y,_r.x=on.x=t.x+t.width,_r.y=Xa.y=t.y+t.height,Ya.transform(n),on.transform(n),_r.transform(n),Xa.transform(n),i.x=wi(Ya.x,_r.x,Xa.x,on.x),i.y=wi(Ya.y,_r.y,Xa.y,on.y);var l=an(Ya.x,_r.x,Xa.x,on.x),c=an(Ya.y,_r.y,Xa.y,on.y);i.width=l-i.x,i.height=c-i.y}else i!==t&&e.copy(i,t)},e}();const $t=rh;var vl="silent";function ko(){tr(this.event)}var ml=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.handler=null,t}return Ye(i,e),i.prototype.dispose=function(){},i.prototype.setCursor=function(){},i}(Nn),xr=function e(i,t){this.x=i,this.y=t},Do=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Po=new $t(0,0,0,0),bs=function(e){function i(t,n,r,a,o){var s=e.call(this)||this;return s._hovered=new xr(0,0),s.storage=t,s.painter=n,s.painterRoot=a,s._pointerSize=o,r=r||new ml,s.proxy=null,s.setHandlerProxy(r),s._draggingMgr=new Rd(s),s}return Ye(i,e),i.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(U(Do,function(n){t.on&&t.on(n,this[n],this)},this),t.handler=this),this.proxy=t},i.prototype.mousemove=function(t){var n=t.zrX,r=t.zrY,a=er(this,n,r),o=this._hovered,s=o.target;s&&!s.__zr&&(s=(o=this.findHover(o.x,o.y)).target);var l=this._hovered=a?new xr(n,r):this.findHover(n,r),c=l.target,u=this.proxy;u.setCursor&&u.setCursor(c?c.cursor:"default"),s&&c!==s&&this.dispatchToElement(o,"mouseout",t),this.dispatchToElement(l,"mousemove",t),c&&c!==s&&this.dispatchToElement(l,"mouseover",t)},i.prototype.mouseout=function(t){var n=t.zrEventControl;"only_globalout"!==n&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==n&&this.trigger("globalout",{type:"globalout",event:t})},i.prototype.resize=function(){this._hovered=new xr(0,0)},i.prototype.dispatch=function(t,n){var r=this[t];r&&r.call(this,n)},i.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},i.prototype.setCursorStyle=function(t){var n=this.proxy;n.setCursor&&n.setCursor(t)},i.prototype.dispatchToElement=function(t,n,r){var a=(t=t||{}).target;if(!a||!a.silent){for(var o="on"+n,s=function xs(e,i,t){return{type:e,event:t,target:i.target,topTarget:i.topTarget,cancelBubble:!1,offsetX:t.zrX,offsetY:t.zrY,gestureEvent:t.gestureEvent,pinchX:t.pinchX,pinchY:t.pinchY,pinchScale:t.pinchScale,wheelDelta:t.zrDelta,zrByTouch:t.zrByTouch,which:t.which,stop:ko}}(n,t,r);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(n,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(l){"function"==typeof l[o]&&l[o].call(l,s),l.trigger&&l.trigger(n,s)}))}},i.prototype.findHover=function(t,n,r){var a=this.storage.getDisplayList(),o=new xr(t,n);if(uc(a,o,t,n,r),this._pointerSize&&!o.target){for(var s=[],l=this._pointerSize,c=l/2,u=new $t(t-c,n-c,l,l),h=a.length-1;h>=0;h--){var f=a[h];f!==r&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(Po.copy(f.getBoundingRect()),f.transform&&Po.applyTransform(f.transform),Po.intersect(u)&&s.push(f))}if(s.length)for(var m=Math.PI/12,b=2*Math.PI,_=0;_<c;_+=4)for(var w=0;w<b;w+=m)if(uc(s,o,t+_*Math.cos(w),n+_*Math.sin(w),r),o.target)return o}return o},i.prototype.processGesture=function(t,n){this._gestureMgr||(this._gestureMgr=new ys);var r=this._gestureMgr;"start"===n&&r.clear();var a=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===n&&r.clear(),a){var o=a.type;t.gestureEvent=o;var s=new xr;s.target=a.target,this.dispatchToElement(s,o,a.event)}},i}(Nn);function cc(e,i,t){if(e[e.rectHover?"rectContain":"contain"](i,t)){for(var n=e,r=void 0,a=!1;n;){if(n.ignoreClip&&(a=!0),!a){var o=n.getClipPath();if(o&&!o.contain(i,t))return!1}n.silent&&(r=!0),n=n.__hostTarget||n.parent}return!r||vl}return!1}function uc(e,i,t,n,r){for(var a=e.length-1;a>=0;a--){var o=e[a],s=void 0;if(o!==r&&!o.ignore&&(s=cc(o,t,n))&&(!i.topTarget&&(i.topTarget=o),s!==vl)){i.target=o;break}}}function er(e,i,t){var n=e.painter;return i<0||i>n.getWidth()||t<0||t>n.getHeight()}U(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){bs.prototype[e]=function(i){var a,o,t=i.zrX,n=i.zrY,r=er(this,t,n);if(("mouseup"!==e||!r)&&(o=(a=this.findHover(t,n)).target),"mousedown"===e)this._downEl=o,this._downPoint=[i.zrX,i.zrY],this._upEl=o;else if("mouseup"===e)this._upEl=o;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||Qn(this._downPoint,[i.zrX,i.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,e,i)}});const Se=bs;var hc=32,ir=7;function Ua(e,i,t,n){var r=i+1;if(r===t)return 1;if(n(e[r++],e[i])<0){for(;r<t&&n(e[r],e[r-1])<0;)r++;!function dc(e,i,t){for(t--;i<t;){var n=e[i];e[i++]=e[t],e[t--]=n}}(e,i,r)}else for(;r<t&&n(e[r],e[r-1])>=0;)r++;return r-i}function nr(e,i,t,n,r){for(n===i&&n++;n<t;n++){for(var l,a=e[n],o=i,s=n;o<s;)r(a,e[l=o+s>>>1])<0?s=l:o=l+1;var c=n-o;switch(c){case 3:e[o+3]=e[o+2];case 2:e[o+2]=e[o+1];case 1:e[o+1]=e[o];break;default:for(;c>0;)e[o+c]=e[o+c-1],c--}e[o]=a}}function Xr(e,i,t,n,r,a){var o=0,s=0,l=1;if(a(e,i[t+r])>0){for(s=n-r;l<s&&a(e,i[t+r+l])>0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),o+=r,l+=r}else{for(s=r+1;l<s&&a(e,i[t+r-l])<=0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var c=o;o=r-l,l=r-c}for(o++;o<l;){var u=o+(l-o>>>1);a(e,i[t+u])>0?o=u+1:l=u}return l}function da(e,i,t,n,r,a){var o=0,s=0,l=1;if(a(e,i[t+r])<0){for(s=r+1;l<s&&a(e,i[t+r-l])<0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var c=o;o=r-l,l=r-c}else{for(s=n-r;l<s&&a(e,i[t+r+l])>=0;)o=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),o+=r,l+=r}for(o++;o<l;){var u=o+(l-o>>>1);a(e,i[t+u])<0?l=u:o=u+1}return l}function rr(e,i,t,n){t||(t=0),n||(n=e.length);var r=n-t;if(!(r<2)){var a=0;if(r<hc)return void nr(e,t,n,t+(a=Ua(e,t,n,i)),i);var o=function Za(e,i){var n,r,t=ir,a=0,o=[];function u(p){var m=n[p],b=r[p],_=n[p+1],w=r[p+1];r[p]=b+w,p===a-3&&(n[p+1]=n[p+2],r[p+1]=r[p+2]),a--;var T=da(e[_],e,m,b,0,i);m+=T,0!=(b-=T)&&0!==(w=Xr(e[m+b-1],e,_,w,w-1,i))&&(b<=w?function h(p,m,b,_){var w=0;for(w=0;w<m;w++)o[w]=e[p+w];var T=0,A=b,P=p;if(e[P++]=e[A++],0!=--_)if(1!==m){for(var O,V,N,F=t;;){O=0,V=0,N=!1;do{if(i(e[A],o[T])<0){if(e[P++]=e[A++],V++,O=0,0==--_){N=!0;break}}else if(e[P++]=o[T++],O++,V=0,1==--m){N=!0;break}}while((O|V)<F);if(N)break;do{if(0!==(O=da(e[A],o,T,m,0,i))){for(w=0;w<O;w++)e[P+w]=o[T+w];if(P+=O,T+=O,(m-=O)<=1){N=!0;break}}if(e[P++]=e[A++],0==--_){N=!0;break}if(0!==(V=Xr(o[T],e,A,_,0,i))){for(w=0;w<V;w++)e[P+w]=e[A+w];if(P+=V,A+=V,0==(_-=V)){N=!0;break}}if(e[P++]=o[T++],1==--m){N=!0;break}F--}while(O>=ir||V>=ir);if(N)break;F<0&&(F=0),F+=2}if((t=F)<1&&(t=1),1===m){for(w=0;w<_;w++)e[P+w]=e[A+w];e[P+_]=o[T]}else{if(0===m)throw new Error;for(w=0;w<m;w++)e[P+w]=o[T+w]}}else{for(w=0;w<_;w++)e[P+w]=e[A+w];e[P+_]=o[T]}else for(w=0;w<m;w++)e[P+w]=o[T+w]}(m,b,_,w):function f(p,m,b,_){var w=0;for(w=0;w<_;w++)o[w]=e[b+w];var T=p+m-1,A=_-1,P=b+_-1,F=0,O=0;if(e[P--]=e[T--],0!=--m)if(1!==_){for(var V=t;;){var N=0,G=0,H=!1;do{if(i(o[A],e[T])<0){if(e[P--]=e[T--],N++,G=0,0==--m){H=!0;break}}else if(e[P--]=o[A--],G++,N=0,1==--_){H=!0;break}}while((N|G)<V);if(H)break;do{if(0!=(N=m-da(o[A],e,p,m,m-1,i))){for(m-=N,O=1+(P-=N),F=1+(T-=N),w=N-1;w>=0;w--)e[O+w]=e[F+w];if(0===m){H=!0;break}}if(e[P--]=o[A--],1==--_){H=!0;break}if(0!=(G=_-Xr(e[T],o,0,_,_-1,i))){for(_-=G,O=1+(P-=G),F=1+(A-=G),w=0;w<G;w++)e[O+w]=o[F+w];if(_<=1){H=!0;break}}if(e[P--]=e[T--],0==--m){H=!0;break}V--}while(N>=ir||G>=ir);if(H)break;V<0&&(V=0),V+=2}if((t=V)<1&&(t=1),1===_){for(O=1+(P-=m),F=1+(T-=m),w=m-1;w>=0;w--)e[O+w]=e[F+w];e[P]=o[A]}else{if(0===_)throw new Error;for(F=P-(_-1),w=0;w<_;w++)e[F+w]=o[w]}}else{for(O=1+(P-=m),F=1+(T-=m),w=m-1;w>=0;w--)e[O+w]=e[F+w];e[P]=o[A]}else for(F=P-(_-1),w=0;w<_;w++)e[F+w]=o[w]}(m,b,_,w))}return n=[],r=[],{mergeRuns:function l(){for(;a>1;){var p=a-2;if(p>=1&&r[p-1]<=r[p]+r[p+1]||p>=2&&r[p-2]<=r[p]+r[p-1])r[p-1]<r[p+1]&&p--;else if(r[p]>r[p+1])break;u(p)}},forceMergeRuns:function c(){for(;a>1;){var p=a-2;p>0&&r[p-1]<r[p+1]&&p--,u(p)}},pushRun:function s(p,m){n[a]=p,r[a]=m,a+=1}}}(e,i),s=function Gn(e){for(var i=0;e>=hc;)i|=1&e,e>>=1;return e+i}(r);do{if((a=Ua(e,t,n,i))<s){var l=r;l>s&&(l=s),nr(e,t,t+l,t+a,i),a=l}o.pushRun(t,a),o.mergeRuns(),r-=a,t+=a}while(0!==r);o.forceMergeRuns()}}var An=1,$a=4,fc=!1;function ja(){fc||(fc=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function Ln(e,i){return e.zlevel===i.zlevel?e.z===i.z?e.z2-i.z2:e.z-i.z:e.zlevel-i.zlevel}var yl=function(){function e(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=Ln}return e.prototype.traverse=function(i,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(i,t)},e.prototype.getDisplayList=function(i,t){t=t||!1;var n=this._displayList;return(i||!n.length)&&this.updateDisplayList(t),n},e.prototype.updateDisplayList=function(i){this._displayListLen=0;for(var t=this._roots,n=this._displayList,r=0,a=t.length;r<a;r++)this._updateAndAddDisplayable(t[r],null,i);n.length=this._displayListLen,rr(n,Ln)},e.prototype._updateAndAddDisplayable=function(i,t,n){if(!i.ignore||n){i.beforeUpdate(),i.update(),i.afterUpdate();var r=i.getClipPath();if(i.ignoreClip)t=null;else if(r){t=t?t.slice():[];for(var a=r,o=i;a;)a.parent=o,a.updateTransform(),t.push(a),o=a,a=a.getClipPath()}if(i.childrenRef){for(var s=i.childrenRef(),l=0;l<s.length;l++){var c=s[l];i.__dirty&&(c.__dirty|=An),this._updateAndAddDisplayable(c,t,n)}i.__dirty=0}else{var u=i;t&&t.length?u.__clipPaths=t:u.__clipPaths&&u.__clipPaths.length>0&&(u.__clipPaths=[]),isNaN(u.z)&&(ja(),u.z=0),isNaN(u.z2)&&(ja(),u.z2=0),isNaN(u.zlevel)&&(ja(),u.zlevel=0),this._displayList[this._displayListLen++]=u}var h=i.getDecalElement&&i.getDecalElement();h&&this._updateAndAddDisplayable(h,t,n);var f=i.getTextGuideLine();f&&this._updateAndAddDisplayable(f,t,n);var p=i.getTextContent();p&&this._updateAndAddDisplayable(p,t,n)}},e.prototype.addRoot=function(i){i.__zr&&i.__zr.storage===this||this._roots.push(i)},e.prototype.delRoot=function(i){if(i instanceof Array)for(var t=0,n=i.length;t<n;t++)this.delRoot(i[t]);else{var r=oe(this._roots,i);r>=0&&this._roots.splice(r,1)}},e.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},e.prototype.getRoots=function(){return this._roots},e.prototype.dispose=function(){this._displayList=null,this._roots=null},e}();const Cs=yl;var fa;fa=Yt.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){return setTimeout(e,16)};const pc=fa;var qa={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var i,t=.1;return 0===e?0:1===e?1:(!t||t<1?(t=1,i=.1):i=.4*Math.asin(1/t)/(2*Math.PI),-t*Math.pow(2,10*(e-=1))*Math.sin((e-i)*(2*Math.PI)/.4))},elasticOut:function(e){var i,t=.1;return 0===e?0:1===e?1:(!t||t<1?(t=1,i=.1):i=.4*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*e)*Math.sin((e-i)*(2*Math.PI)/.4)+1)},elasticInOut:function(e){var i,t=.1;return 0===e?0:1===e?1:(!t||t<1?(t=1,i=.1):i=.4*Math.asin(1/t)/(2*Math.PI),(e*=2)<1?t*Math.pow(2,10*(e-=1))*Math.sin((e-i)*(2*Math.PI)/.4)*-.5:t*Math.pow(2,-10*(e-=1))*Math.sin((e-i)*(2*Math.PI)/.4)*.5+1)},backIn:function(e){var i=1.70158;return e*e*((i+1)*e-i)},backOut:function(e){var i=1.70158;return--e*e*((i+1)*e+i)+1},backInOut:function(e){var i=2.5949095;return(e*=2)<1?e*e*((i+1)*e-i)*.5:.5*((e-=2)*e*((i+1)*e+i)+2)},bounceIn:function(e){return 1-qa.bounceOut(1-e)},bounceOut:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return e<.5?.5*qa.bounceIn(2*e):.5*qa.bounceOut(2*e-1)+.5}};const Ka=qa;var Io=Math.pow,Hn=Math.sqrt,Oo=1e-8,Zi=1e-4,Ss=Hn(3),ws=1/3,Wn=Oi(),kn=Oi(),Qa=Oi();function sn(e){return e>-Oo&&e<Oo}function ah(e){return e>Oo||e<-Oo}function vi(e,i,t,n,r){var a=1-r;return a*a*(a*e+3*r*i)+r*r*(r*n+3*a*t)}function g(e,i,t,n,r){var a=1-r;return 3*(((i-e)*a+2*(t-i)*r)*a+(n-t)*r*r)}function S(e,i,t,n,r,a){var o=n+3*(i-t)-e,s=3*(t-2*i+e),l=3*(i-e),c=e-r,u=s*s-3*o*l,h=s*l-9*o*c,f=l*l-3*s*c,p=0;if(sn(u)&&sn(h))sn(s)?a[0]=0:(m=-l/s)>=0&&m<=1&&(a[p++]=m);else{var b=h*h-4*u*f;if(sn(b)){var _=h/u,w=-_/2;(m=-s/o+_)>=0&&m<=1&&(a[p++]=m),w>=0&&w<=1&&(a[p++]=w)}else if(b>0){var T=Hn(b),A=u*s+1.5*o*(-h+T),P=u*s+1.5*o*(-h-T);(m=(-s-((A=A<0?-Io(-A,ws):Io(A,ws))+(P=P<0?-Io(-P,ws):Io(P,ws))))/(3*o))>=0&&m<=1&&(a[p++]=m)}else{var F=(2*u*s-3*o*h)/(2*Hn(u*u*u)),O=Math.acos(F)/3,V=Hn(u),N=Math.cos(O),m=(-s-2*V*N)/(3*o),G=(w=(-s+V*(N+Ss*Math.sin(O)))/(3*o),(-s+V*(N-Ss*Math.sin(O)))/(3*o));m>=0&&m<=1&&(a[p++]=m),w>=0&&w<=1&&(a[p++]=w),G>=0&&G<=1&&(a[p++]=G)}}return p}function k(e,i,t,n,r){var a=6*t-12*i+6*e,o=9*i+3*n-3*e-9*t,s=3*i-3*e,l=0;if(sn(o))ah(a)&&(c=-s/a)>=0&&c<=1&&(r[l++]=c);else{var u=a*a-4*o*s;if(sn(u))r[0]=-a/(2*o);else if(u>0){var c,h=Hn(u),f=(-a-h)/(2*o);(c=(-a+h)/(2*o))>=0&&c<=1&&(r[l++]=c),f>=0&&f<=1&&(r[l++]=f)}}return l}function R(e,i,t,n,r,a){var o=(i-e)*r+e,s=(t-i)*r+i,l=(n-t)*r+t,c=(s-o)*r+o,u=(l-s)*r+s,h=(u-c)*r+c;a[0]=e,a[1]=o,a[2]=c,a[3]=h,a[4]=h,a[5]=u,a[6]=l,a[7]=n}function Y(e,i,t,n,r,a,o,s,l,c,u){var h,m,b,_,w,f=.005,p=1/0;Wn[0]=l,Wn[1]=c;for(var T=0;T<1;T+=.05)kn[0]=vi(e,t,r,o,T),kn[1]=vi(i,n,a,s,T),(_=Hr(Wn,kn))<p&&(h=T,p=_);p=1/0;for(var A=0;A<32&&!(f<Zi);A++)b=h+f,kn[0]=vi(e,t,r,o,m=h-f),kn[1]=vi(i,n,a,s,m),_=Hr(kn,Wn),m>=0&&_<p?(h=m,p=_):(Qa[0]=vi(e,t,r,o,b),Qa[1]=vi(i,n,a,s,b),w=Hr(Qa,Wn),b<=1&&w<p?(h=b,p=w):f*=.5);return u&&(u[0]=vi(e,t,r,o,h),u[1]=vi(i,n,a,s,h)),Hn(p)}function K(e,i,t,n,r,a,o,s,l){for(var c=e,u=i,h=0,f=1/l,p=1;p<=l;p++){var m=p*f,b=vi(e,t,r,o,m),_=vi(i,n,a,s,m),w=b-c,T=_-u;h+=Math.sqrt(w*w+T*T),c=b,u=_}return h}function rt(e,i,t,n){var r=1-n;return r*(r*e+2*n*i)+n*n*t}function pt(e,i,t,n){return 2*((1-n)*(i-e)+n*(t-i))}function Ct(e,i,t){var n=e+t-2*i;return 0===n?.5:(e-i)/n}function Wt(e,i,t,n,r){var a=(i-e)*n+e,o=(t-i)*n+i,s=(o-a)*n+a;r[0]=e,r[1]=a,r[2]=s,r[3]=s,r[4]=o,r[5]=t}function ce(e,i,t,n,r,a,o,s,l){var c,u=.005,h=1/0;Wn[0]=o,Wn[1]=s;for(var f=0;f<1;f+=.05)kn[0]=rt(e,t,r,f),kn[1]=rt(i,n,a,f),(p=Hr(Wn,kn))<h&&(c=f,h=p);h=1/0;for(var m=0;m<32&&!(u<Zi);m++){var b=c-u,_=c+u;kn[0]=rt(e,t,r,b),kn[1]=rt(i,n,a,b);var p=Hr(kn,Wn);if(b>=0&&p<h)c=b,h=p;else{Qa[0]=rt(e,t,r,_),Qa[1]=rt(i,n,a,_);var w=Hr(Qa,Wn);_<=1&&w<h?(c=_,h=w):u*=.5}}return l&&(l[0]=rt(e,t,r,c),l[1]=rt(i,n,a,c)),Hn(h)}function Ae(e,i,t,n,r,a,o){for(var s=e,l=i,c=0,u=1/o,h=1;h<=o;h++){var f=h*u,p=rt(e,t,r,f),m=rt(i,n,a,f),b=p-s,_=m-l;c+=Math.sqrt(b*b+_*_),s=p,l=m}return c}var Cr=/cubic-bezier\(([0-9,\.e ]+)\)/;function Ur(e){var i=e&&Cr.exec(e);if(i){var t=i[1].split(","),n=+Ci(t[0]),r=+Ci(t[1]),a=+Ci(t[2]),o=+Ci(t[3]);if(isNaN(n+r+a+o))return;var s=[];return function(l){return l<=0?0:l>=1?1:S(0,n,a,1,l,s)&&vi(0,r,o,1,s[0])}}}var Eo=function(){function e(i){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=i.life||1e3,this._delay=i.delay||0,this.loop=i.loop||!1,this.onframe=i.onframe||Je,this.ondestroy=i.ondestroy||Je,this.onrestart=i.onrestart||Je,i.easing&&this.setEasing(i.easing)}return e.prototype.step=function(i,t){if(this._inited||(this._startTime=i+this._delay,this._inited=!0),!this._paused){var n=this._life,r=i-this._startTime-this._pausedTime,a=r/n;a<0&&(a=0),a=Math.min(a,1);var o=this.easingFunc,s=o?o(a):a;if(this.onframe(s),1===a){if(!this.loop)return!0;this._startTime=i-r%n,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=t},e.prototype.pause=function(){this._paused=!0},e.prototype.resume=function(){this._paused=!1},e.prototype.setEasing=function(i){this.easing=i,this.easingFunc=Z(i)?i:Ka[i]||Ur(i)},e}();const Sr=Eo;var gc=function e(i){this.value=i},Vd=function(){function e(){this._len=0}return e.prototype.insert=function(i){var t=new gc(i);return this.insertEntry(t),t},e.prototype.insertEntry=function(i){this.head?(this.tail.next=i,i.prev=this.tail,i.next=null,this.tail=i):this.head=this.tail=i,this._len++},e.prototype.remove=function(i){var t=i.prev,n=i.next;t?t.next=n:this.head=n,n?n.prev=t:this.tail=t,i.next=i.prev=null,this._len--},e.prototype.len=function(){return this._len},e.prototype.clear=function(){this.head=this.tail=null,this._len=0},e}(),vc=function(){function e(i){this._list=new Vd,this._maxSize=10,this._map={},this._maxSize=i}return e.prototype.put=function(i,t){var n=this._list,r=this._map,a=null;if(null==r[i]){var o=n.len(),s=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var l=n.head;n.remove(l),delete r[l.key],a=l.value,this._lastRemovedEntry=l}s?s.value=t:s=new gc(t),s.key=i,n.insertEntry(s),r[i]=s}return a},e.prototype.get=function(i){var t=this._map[i],n=this._list;if(null!=t)return t!==n.tail&&(n.remove(t),n.insertEntry(t)),t.value},e.prototype.clear=function(){this._list.clear(),this._map={}},e.prototype.len=function(){return this._list.len()},e}();const Ts=vc;var _l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function ar(e){return(e=Math.round(e))<0?0:e>255?255:e}function ui(e){return e<0?0:e>1?1:e}function Fo(e){var i=e;return i.length&&"%"===i.charAt(i.length-1)?ar(parseFloat(i)/100*255):ar(parseInt(i,10))}function Ja(e){var i=e;return i.length&&"%"===i.charAt(i.length-1)?ui(parseFloat(i)/100):ui(parseFloat(i))}function mc(e,i,t){return t<0?t+=1:t>1&&(t-=1),6*t<1?e+(i-e)*t*6:2*t<1?i:3*t<2?e+(i-e)*(2/3-t)*6:e}function or(e,i,t){return e+(i-e)*t}function ln(e,i,t,n,r){return e[0]=i,e[1]=t,e[2]=n,e[3]=r,e}function xl(e,i){return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e}var bl=new Ts(20),yc=null;function Cl(e,i){yc&&xl(yc,i),yc=bl.put(e,yc||i.slice())}function Dn(e,i){if(e){i=i||[];var t=bl.get(e);if(t)return xl(i,t);var n=(e+="").replace(/ /g,"").toLowerCase();if(n in _l)return xl(i,_l[n]),Cl(e,i),i;var a,r=n.length;if("#"===n.charAt(0))return 4===r||5===r?(a=parseInt(n.slice(1,4),16))>=0&&a<=4095?(ln(i,(3840&a)>>4|(3840&a)>>8,240&a|(240&a)>>4,15&a|(15&a)<<4,5===r?parseInt(n.slice(4),16)/15:1),Cl(e,i),i):void ln(i,0,0,0,1):7===r||9===r?(a=parseInt(n.slice(1,7),16))>=0&&a<=16777215?(ln(i,(16711680&a)>>16,(65280&a)>>8,255&a,9===r?parseInt(n.slice(7),16)/255:1),Cl(e,i),i):void ln(i,0,0,0,1):void 0;var o=n.indexOf("("),s=n.indexOf(")");if(-1!==o&&s+1===r){var l=n.substr(0,o),c=n.substr(o+1,s-(o+1)).split(","),u=1;switch(l){case"rgba":if(4!==c.length)return 3===c.length?ln(i,+c[0],+c[1],+c[2],1):ln(i,0,0,0,1);u=Ja(c.pop());case"rgb":return c.length>=3?(ln(i,Fo(c[0]),Fo(c[1]),Fo(c[2]),3===c.length?u:Ja(c[3])),Cl(e,i),i):void ln(i,0,0,0,1);case"hsla":return 4!==c.length?void ln(i,0,0,0,1):(c[3]=Ja(c[3]),_c(c,i),Cl(e,i),i);case"hsl":return 3!==c.length?void ln(i,0,0,0,1):(_c(c,i),Cl(e,i),i);default:return}}ln(i,0,0,0,1)}}function _c(e,i){var t=(parseFloat(e[0])%360+360)%360/360,n=Ja(e[1]),r=Ja(e[2]),a=r<=.5?r*(n+1):r+n-r*n,o=2*r-a;return ln(i=i||[],ar(255*mc(o,a,t+1/3)),ar(255*mc(o,a,t)),ar(255*mc(o,a,t-1/3)),1),4===e.length&&(i[3]=e[3]),i}function mn(e,i){var t=Dn(e);if(t){for(var n=0;n<3;n++)t[n]=i<0?t[n]*(1-i)|0:(255-t[n])*i+t[n]|0,t[n]>255?t[n]=255:t[n]<0&&(t[n]=0);return wr(t,4===t.length?"rgba":"rgb")}}function zd(e,i,t){if(i&&i.length&&e>=0&&e<=1){t=t||[];var n=e*(i.length-1),r=Math.floor(n),a=Math.ceil(n),o=i[r],s=i[a],l=n-r;return t[0]=ar(or(o[0],s[0],l)),t[1]=ar(or(o[1],s[1],l)),t[2]=ar(or(o[2],s[2],l)),t[3]=ui(or(o[3],s[3],l)),t}}function xc(e,i,t,n){var r=Dn(e);if(e)return r=function sh(e){if(e){var l,c,i=e[0]/255,t=e[1]/255,n=e[2]/255,r=Math.min(i,t,n),a=Math.max(i,t,n),o=a-r,s=(a+r)/2;if(0===o)l=0,c=0;else{c=s<.5?o/(a+r):o/(2-a-r);var u=((a-i)/6+o/2)/o,h=((a-t)/6+o/2)/o,f=((a-n)/6+o/2)/o;i===a?l=f-h:t===a?l=1/3+u-f:n===a&&(l=2/3+h-u),l<0&&(l+=1),l>1&&(l-=1)}var p=[360*l,c,s];return null!=e[3]&&p.push(e[3]),p}}(r),null!=i&&(r[0]=function oh(e){return(e=Math.round(e))<0?0:e>360?360:e}(i)),null!=t&&(r[1]=Ja(t)),null!=n&&(r[2]=Ja(n)),wr(_c(r),"rgba")}function to(e,i){var t=Dn(e);if(t&&null!=i)return t[3]=ui(i),wr(t,"rgba")}function wr(e,i){if(e&&e.length){var t=e[0]+","+e[1]+","+e[2];return("rgba"===i||"hsva"===i||"hsla"===i)&&(t+=","+e[3]),i+"("+t+")"}}function pa(e,i){var t=Dn(e);return t?(.299*t[0]+.587*t[1]+.114*t[2])*t[3]/255+(1-t[3])*i:0}var $p=new Ts(100);function Nd(e){if(Lt(e)){var i=$p.get(e);return i||(i=mn(e,-.1),$p.put(e,i)),i}if(pn(e)){var t=ft({},e);return t.colorStops=mt(e.colorStops,function(n){return{offset:n.offset,color:mn(n.color,-.1)}}),t}return e}var bc=Math.round;function Cc(e){var i;if(e&&"transparent"!==e){if("string"==typeof e&&e.indexOf("rgba")>-1){var t=Dn(e);t&&(e="rgb("+t[0]+","+t[1]+","+t[2]+")",i=t[3])}}else e="none";return{color:e,opacity:i??1}}var jp=1e-4;function eo(e){return e<jp&&e>-jp}function lh(e){return bc(1e3*e)/1e3}function ch(e){return bc(1e4*e)/1e4}var _y={left:"start",right:"end",center:"middle",middle:"middle"};function qp(e){return e&&!!e.image}function Gd(e){return qp(e)||function Sy(e){return e&&!!e.svgElement}(e)}function Hd(e){return"linear"===e.type}function Wd(e){return"radial"===e.type}function Kp(e){return e&&("linear"===e.type||"radial"===e.type)}function uh(e){return"url(#"+e+")"}function Qp(e){var i=e.getGlobalScale(),t=Math.max(i[0],i[1]);return Math.max(Math.ceil(Math.log(t)/Math.log(10)),1)}function io(e){var i=e.x||0,t=e.y||0,n=(e.rotation||0)*Ii,r=qt(e.scaleX,1),a=qt(e.scaleY,1),o=e.skewX||0,s=e.skewY||0,l=[];return(i||t)&&l.push("translate("+i+"px,"+t+"px)"),n&&l.push("rotate("+n+")"),(1!==r||1!==a)&&l.push("scale("+r+","+a+")"),(o||s)&&l.push("skew("+bc(o*Ii)+"deg, "+bc(s*Ii)+"deg)"),l.join(" ")}var Ro=Yt.hasGlobalWindow&&Z(window.btoa)?function(e){return window.btoa(unescape(encodeURIComponent(e)))}:typeof Buffer<"u"?function(e){return Buffer.from(e).toString("base64")}:function(e){return null},Sc=Array.prototype.slice;function ga(e,i,t){return(i-e)*t+e}function hh(e,i,t,n){for(var r=i.length,a=0;a<r;a++)e[a]=ga(i[a],t[a],n);return e}function Tr(e,i,t,n){for(var r=i.length,a=0;a<r;a++)e[a]=i[a]+t[a]*n;return e}function Yd(e,i,t,n){for(var r=i.length,a=r&&i[0].length,o=0;o<r;o++){e[o]||(e[o]=[]);for(var s=0;s<a;s++)e[o][s]=i[o][s]+t[o][s]*n}return e}function Jp(e,i){for(var t=e.length,n=i.length,r=t>n?i:e,a=Math.min(t,n),o=r[a-1]||{color:[0,0,0,0],offset:0},s=a;s<Math.max(t,n);s++)r.push({offset:o.offset,color:o.color.slice()})}function Ty(e,i,t){var n=e,r=i;if(n.push&&r.push){var a=n.length,o=r.length;if(a!==o)if(a>o)n.length=o;else for(var l=a;l<o;l++)n.push(1===t?r[l]:Sc.call(r[l]));var c=n[0]&&n[0].length;for(l=0;l<n.length;l++)if(1===t)isNaN(n[l])&&(n[l]=r[l]);else for(var u=0;u<c;u++)isNaN(n[l][u])&&(n[l][u]=r[l][u])}}function Mr(e){if(Li(e)){var i=e.length;if(Li(e[0])){for(var t=[],n=0;n<i;n++)t.push(Sc.call(e[n]));return t}return Sc.call(e)}return e}function dh(e){return e[0]=Math.floor(e[0])||0,e[1]=Math.floor(e[1])||0,e[2]=Math.floor(e[2])||0,e[3]=null==e[3]?1:e[3],"rgba("+e.join(",")+")"}var wc=1,tg=2,v=4,x=5;function M(e){return e===v||e===x}function D(e){return e===wc||e===tg}var I=[0,0,0,0],B=function(){function e(i){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=i}return e.prototype.isFinished=function(){return this._finished},e.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},e.prototype.needsAnimate=function(){return this.keyframes.length>=1},e.prototype.getAdditiveTrack=function(){return this._additiveTrack},e.prototype.addKeyframe=function(i,t,n){this._needsSort=!0;var r=this.keyframes,a=r.length,o=!1,s=6,l=t;if(Li(t)){var c=function My(e){return Li(e&&e[0])?2:1}(t);s=c,(1===c&&!_e(t[0])||2===c&&!_e(t[0][0]))&&(o=!0)}else if(_e(t)&&!Ea(t))s=0;else if(Lt(t))if(isNaN(+t)){var u=Dn(t);u&&(l=u,s=3)}else s=0;else if(pn(t)){var h=ft({},l);h.colorStops=mt(t.colorStops,function(p){return{offset:p.offset,color:Dn(p.color)}}),Hd(t)?s=v:Wd(t)&&(s=x),l=h}0===a?this.valType=s:(s!==this.valType||6===s)&&(o=!0),this.discrete=this.discrete||o;var f={time:i,value:l,rawValue:t,percent:0};return n&&(f.easing=n,f.easingFunc=Z(n)?n:Ka[n]||Ur(n)),r.push(f),f},e.prototype.prepare=function(i,t){var n=this.keyframes;this._needsSort&&n.sort(function(b,_){return b.time-_.time});for(var r=this.valType,a=n.length,o=n[a-1],s=this.discrete,l=D(r),c=M(r),u=0;u<a;u++){var h=n[u],f=h.value,p=o.value;h.percent=h.time/i,s||(l&&u!==a-1?Ty(f,p,r):c&&Jp(f.colorStops,p.colorStops))}if(!s&&r!==x&&t&&this.needsAnimate()&&t.needsAnimate()&&r===t.valType&&!t._finished){this._additiveTrack=t;var m=n[0].value;for(u=0;u<a;u++)0===r?n[u].additiveValue=n[u].value-m:3===r?n[u].additiveValue=Tr([],n[u].value,m,-1):D(r)&&(n[u].additiveValue=r===wc?Tr([],n[u].value,m,-1):Yd([],n[u].value,m,-1))}},e.prototype.step=function(i,t){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var u,p,m,n=null!=this._additiveTrack,r=n?"additiveValue":"value",a=this.valType,o=this.keyframes,s=o.length,l=this.propName,c=3===a,h=this._lastFr,f=Math.min;if(1===s)p=m=o[0];else{if(t<0)u=0;else if(t<this._lastFrP){for(u=f(h+1,s-1);u>=0&&!(o[u].percent<=t);u--);u=f(u,s-2)}else{for(u=h;u<s&&!(o[u].percent>t);u++);u=f(u-1,s-2)}m=o[u+1],p=o[u]}if(p&&m){this._lastFr=u,this._lastFrP=t;var _=m.percent-p.percent,w=0===_?1:f((t-p.percent)/_,1);m.easingFunc&&(w=m.easingFunc(w));var T=n?this._additiveValue:c?I:i[l];if((D(a)||c)&&!T&&(T=this._additiveValue=[]),this.discrete)i[l]=w<1?p.rawValue:m.rawValue;else if(D(a))a===wc?hh(T,p[r],m[r],w):function wy(e,i,t,n){for(var r=i.length,a=r&&i[0].length,o=0;o<r;o++){e[o]||(e[o]=[]);for(var s=0;s<a;s++)e[o][s]=ga(i[o][s],t[o][s],n)}}(T,p[r],m[r],w);else if(M(a)){var A=p[r],P=m[r],F=a===v;i[l]={type:F?"linear":"radial",x:ga(A.x,P.x,w),y:ga(A.y,P.y,w),colorStops:mt(A.colorStops,function(V,N){var G=P.colorStops[N];return{offset:ga(V.offset,G.offset,w),color:dh(hh([],V.color,G.color,w))}}),global:P.global},F?(i[l].x2=ga(A.x2,P.x2,w),i[l].y2=ga(A.y2,P.y2,w)):i[l].r=ga(A.r,P.r,w)}else if(c)hh(T,p[r],m[r],w),n||(i[l]=dh(T));else{var O=ga(p[r],m[r],w);n?this._additiveValue=O:i[l]=O}n&&this._addToTarget(i)}}},e.prototype._addToTarget=function(i){var t=this.valType,n=this.propName,r=this._additiveValue;0===t?i[n]=i[n]+r:3===t?(Dn(i[n],I),Tr(I,I,r,1),i[n]=dh(I)):t===wc?Tr(i[n],i[n],r,1):t===tg&&Yd(i[n],i[n],r,1)},e}(),E=function(){function e(i,t,n,r){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=i,this._loop=t,t&&r?Pi("Can' use additive animation on looped animation."):(this._additiveAnimators=r,this._allowDiscrete=n)}return e.prototype.getMaxTime=function(){return this._maxTime},e.prototype.getDelay=function(){return this._delay},e.prototype.getLoop=function(){return this._loop},e.prototype.getTarget=function(){return this._target},e.prototype.changeTarget=function(i){this._target=i},e.prototype.when=function(i,t,n){return this.whenWithKeys(i,t,he(t),n)},e.prototype.whenWithKeys=function(i,t,n,r){for(var a=this._tracks,o=0;o<n.length;o++){var s=n[o],l=a[s];if(!l){l=a[s]=new B(s);var c=void 0,u=this._getAdditiveTrack(s);if(u){var h=u.keyframes,f=h[h.length-1];c=f&&f.value,3===u.valType&&c&&(c=dh(c))}else c=this._target[s];if(null==c)continue;i>0&&l.addKeyframe(0,Mr(c),r),this._trackKeys.push(s)}l.addKeyframe(i,Mr(t[s]),r)}return this._maxTime=Math.max(this._maxTime,i),this},e.prototype.pause=function(){this._clip.pause(),this._paused=!0},e.prototype.resume=function(){this._clip.resume(),this._paused=!1},e.prototype.isPaused=function(){return!!this._paused},e.prototype.duration=function(i){return this._maxTime=i,this._force=!0,this},e.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var i=this._doneCbs;if(i)for(var t=i.length,n=0;n<t;n++)i[n].call(this)},e.prototype._abortedCallback=function(){this._setTracksFinished();var i=this.animation,t=this._abortedCbs;if(i&&i.removeClip(this._clip),this._clip=null,t)for(var n=0;n<t.length;n++)t[n].call(this)},e.prototype._setTracksFinished=function(){for(var i=this._tracks,t=this._trackKeys,n=0;n<t.length;n++)i[t[n]].setFinished()},e.prototype._getAdditiveTrack=function(i){var t,n=this._additiveAnimators;if(n)for(var r=0;r<n.length;r++){var a=n[r].getTrack(i);a&&(t=a)}return t},e.prototype.start=function(i){if(!(this._started>0)){this._started=1;for(var t=this,n=[],r=this._maxTime||0,a=0;a<this._trackKeys.length;a++){var o=this._trackKeys[a],s=this._tracks[o],l=this._getAdditiveTrack(o),c=s.keyframes,u=c.length;if(s.prepare(r,l),s.needsAnimate())if(!this._allowDiscrete&&s.discrete){var h=c[u-1];h&&(t._target[s.propName]=h.rawValue),s.setFinished()}else n.push(s)}if(n.length||this._force){var f=new Sr({life:r,loop:this._loop,delay:this._delay||0,onframe:function(p){t._started=2;var m=t._additiveAnimators;if(m){for(var b=!1,_=0;_<m.length;_++)if(m[_]._clip){b=!0;break}b||(t._additiveAnimators=null)}for(_=0;_<n.length;_++)n[_].step(t._target,p);var w=t._onframeCbs;if(w)for(_=0;_<w.length;_++)w[_](t._target,p)},ondestroy:function(){t._doneCallback()}});this._clip=f,this.animation&&this.animation.addClip(f),i&&f.setEasing(i)}else this._doneCallback();return this}},e.prototype.stop=function(i){this._clip&&(i&&this._clip.onframe(1),this._abortedCallback())},e.prototype.delay=function(i){return this._delay=i,this},e.prototype.during=function(i){return i&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(i)),this},e.prototype.done=function(i){return i&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(i)),this},e.prototype.aborted=function(i){return i&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(i)),this},e.prototype.getClip=function(){return this._clip},e.prototype.getTrack=function(i){return this._tracks[i]},e.prototype.getTracks=function(){var i=this;return mt(this._trackKeys,function(t){return i._tracks[t]})},e.prototype.stopTracks=function(i,t){if(!i.length||!this._clip)return!0;for(var n=this._tracks,r=this._trackKeys,a=0;a<i.length;a++){var o=n[i[a]];o&&!o.isFinished()&&(t?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var s=!0;for(a=0;a<r.length;a++)if(!n[r[a]].isFinished()){s=!1;break}return s&&this._abortedCallback(),s},e.prototype.saveTo=function(i,t,n){if(i){t=t||this._trackKeys;for(var r=0;r<t.length;r++){var a=t[r],o=this._tracks[a];if(o&&!o.isFinished()){var s=o.keyframes,l=s[n?0:s.length-1];l&&(i[a]=Mr(l.rawValue))}}}},e.prototype.__changeFinalValue=function(i,t){t=t||he(i);for(var n=0;n<t.length;n++){var r=t[n],a=this._tracks[r];if(a){var o=a.keyframes;if(o.length>1){var s=o.pop();a.addKeyframe(s.time,i[r]),a.prepare(this._maxTime,a.getAdditiveTrack())}}}},e}();const z=E;function W(){return(new Date).getTime()}var $=function(e){function i(t){var n=e.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,n.stage=(t=t||{}).stage||{},n}return Ye(i,e),i.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},i.prototype.addAnimator=function(t){t.animation=this;var n=t.getClip();n&&this.addClip(n)},i.prototype.removeClip=function(t){if(t.animation){var n=t.prev,r=t.next;n?n.next=r:this._head=r,r?r.prev=n:this._tail=n,t.next=t.prev=t.animation=null}},i.prototype.removeAnimator=function(t){var n=t.getClip();n&&this.removeClip(n),t.animation=null},i.prototype.update=function(t){for(var n=W()-this._pausedTime,r=n-this._time,a=this._head;a;){var o=a.next;a.step(n,r)&&(a.ondestroy(),this.removeClip(a)),a=o}this._time=n,t||(this.trigger("frame",r),this.stage.update&&this.stage.update())},i.prototype._startLoop=function(){var t=this;this._running=!0,pc(function n(){t._running&&(pc(n),!t._paused&&t.update())})},i.prototype.start=function(){this._running||(this._time=W(),this._pausedTime=0,this._startLoop())},i.prototype.stop=function(){this._running=!1},i.prototype.pause=function(){this._paused||(this._pauseStart=W(),this._paused=!0)},i.prototype.resume=function(){this._paused&&(this._pausedTime+=W()-this._pauseStart,this._paused=!1)},i.prototype.clear=function(){for(var t=this._head;t;){var n=t.next;t.prev=t.next=t.animation=null,t=n}this._head=this._tail=null},i.prototype.isFinished=function(){return null==this._head},i.prototype.animate=function(t,n){n=n||{},this.start();var r=new z(t,n.loop);return this.addAnimator(r),r},i}(Nn);const Q=$;var nt=Yt.domSupported,at=function(){var e=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};return{mouse:e,touch:["touchstart","touchend","touchmove"],pointer:mt(e,function(r){var a=r.replace("mouse","pointer");return t.hasOwnProperty(a)?a:r})}}(),ht={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wt=!1;function Nt(e){var i=e.pointerType;return"pen"===i||"touch"===i}function xe(e){e&&(e.zrByTouch=!0)}function We(e,i){for(var t=i,n=!1;t&&9!==t.nodeType&&!(n=t.domBelongToZr||t!==i&&t===e.painterRoot);)t=t.parentNode;return n}var Ge=function e(i,t){this.stopPropagation=Je,this.stopImmediatePropagation=Je,this.preventDefault=Je,this.type=t.type,this.target=this.currentTarget=i.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY},Pe={mousedown:function(e){e=gn(this.dom,e),this.__mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=gn(this.dom,e);var i=this.__mayPointerCapture;i&&(e.zrX!==i[0]||e.zrY!==i[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",e)},mouseup:function(e){e=gn(this.dom,e),this.__togglePointerCapture(!1),this.trigger("mouseup",e)},mouseout:function(e){We(this,(e=gn(this.dom,e)).toElement||e.relatedTarget)||(this.__pointerCapturing&&(e.zrEventControl="no_globalout"),this.trigger("mouseout",e))},wheel:function(e){wt=!0,e=gn(this.dom,e),this.trigger("mousewheel",e)},mousewheel:function(e){wt||(e=gn(this.dom,e),this.trigger("mousewheel",e))},touchstart:function(e){xe(e=gn(this.dom,e)),this.__lastTouchMoment=new Date,this.handler.processGesture(e,"start"),Pe.mousemove.call(this,e),Pe.mousedown.call(this,e)},touchmove:function(e){xe(e=gn(this.dom,e)),this.handler.processGesture(e,"change"),Pe.mousemove.call(this,e)},touchend:function(e){xe(e=gn(this.dom,e)),this.handler.processGesture(e,"end"),Pe.mouseup.call(this,e),+new Date-+this.__lastTouchMoment<300&&Pe.click.call(this,e)},pointerdown:function(e){Pe.mousedown.call(this,e)},pointermove:function(e){Nt(e)||Pe.mousemove.call(this,e)},pointerup:function(e){Pe.mouseup.call(this,e)},pointerout:function(e){Nt(e)||Pe.mouseout.call(this,e)}};U(["click","dblclick","contextmenu"],function(e){Pe[e]=function(i){i=gn(this.dom,i),this.trigger(e,i)}});var ei={pointermove:function(e){Nt(e)||ei.mousemove.call(this,e)},pointerup:function(e){ei.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var i=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",e),i&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}};function _i(e,i,t,n){e.mounted[i]=t,e.listenerOpts[i]=n,Lo(e.domTarget,i,t,n)}function Vi(e){var i=e.mounted;for(var t in i)i.hasOwnProperty(t)&&oc(e.domTarget,t,i[t],e.listenerOpts[t]);e.mounted={}}var Ms=function e(i,t){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=i,this.domHandlers=t},Sl=function(e){function i(t,n){var r=e.call(this)||this;return r.__pointerCapturing=!1,r.dom=t,r.painterRoot=n,r._localHandlerScope=new Ms(t,Pe),nt&&(r._globalHandlerScope=new Ms(document,ei)),function $i(e,i){var t=i.domHandlers;Yt.pointerEventsSupported?U(at.pointer,function(n){_i(i,n,function(r){t[n].call(e,r)})}):(Yt.touchEventsSupported&&U(at.touch,function(n){_i(i,n,function(r){t[n].call(e,r),function Xt(e){e.touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)}(i)})}),U(at.mouse,function(n){_i(i,n,function(r){r=Jn(r),i.touching||t[n].call(e,r)})}))}(r,r._localHandlerScope),r}return Ye(i,e),i.prototype.dispose=function(){Vi(this._localHandlerScope),nt&&Vi(this._globalHandlerScope)},i.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},i.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,nt&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var n=this._globalHandlerScope;t?function Bi(e,i){function t(n){_i(i,n,function r(a){a=Jn(a),We(e,a.target)||(a=function be(e,i){return gn(e.dom,new Ge(e,i),!0)}(e,a),i.domHandlers[n].call(e,a))},{capture:!0})}Yt.pointerEventsSupported?U(ht.pointer,t):Yt.touchEventsSupported||U(ht.mouse,t)}(this,n):Vi(n)}},i}(Nn);const Xd=Sl;var eg=1;Yt.hasGlobalWindow&&(eg=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var ig=eg,Ly="#333",ky="#ccc",dS=Yr,fS=5e-5;function Tc(e){return e>fS||e<-fS}var Mc=[],ph=[],Dy=[1,0,0,1,0,0],Py=Math.abs,aB=function(){function e(){}return e.prototype.getLocalTransform=function(i){return e.getLocalTransform(this,i)},e.prototype.setPosition=function(i){this.x=i[0],this.y=i[1]},e.prototype.setScale=function(i){this.scaleX=i[0],this.scaleY=i[1]},e.prototype.setSkew=function(i){this.skewX=i[0],this.skewY=i[1]},e.prototype.setOrigin=function(i){this.originX=i[0],this.originY=i[1]},e.prototype.needLocalTransform=function(){return Tc(this.rotation)||Tc(this.x)||Tc(this.y)||Tc(this.scaleX-1)||Tc(this.scaleY-1)||Tc(this.skewX)||Tc(this.skewY)},e.prototype.updateTransform=function(){var i=this.parent&&this.parent.transform,t=this.needLocalTransform(),n=this.transform;t||i?(n=n||[1,0,0,1,0,0],t?this.getLocalTransform(n):dS(n),i&&(t?Ui(n,i,n):lc(n,i)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&(dS(n),this.invTransform=null)},e.prototype._resolveGlobalScaleRatio=function(i){var t=this.globalScaleRatio;if(null!=t&&1!==t){this.getGlobalScale(Mc);var n=Mc[0]<0?-1:1,r=Mc[1]<0?-1:1,a=((Mc[0]-n)*t+n)/Mc[0]||0,o=((Mc[1]-r)*t+r)/Mc[1]||0;i[0]*=a,i[1]*=a,i[2]*=o,i[3]*=o}this.invTransform=this.invTransform||[1,0,0,1,0,0],vn(this.invTransform,i)},e.prototype.getComputedTransform=function(){for(var i=this,t=[];i;)t.push(i),i=i.parent;for(;i=t.pop();)i.updateTransform();return this.transform},e.prototype.setLocalTransform=function(i){if(i){var t=i[0]*i[0]+i[1]*i[1],n=i[2]*i[2]+i[3]*i[3],r=Math.atan2(i[1],i[0]),a=Math.PI/2+r-Math.atan2(i[3],i[2]);n=Math.sqrt(n)*Math.cos(a),t=Math.sqrt(t),this.skewX=a,this.skewY=0,this.rotation=-r,this.x=+i[4],this.y=+i[5],this.scaleX=t,this.scaleY=n,this.originX=0,this.originY=0}},e.prototype.decomposeTransform=function(){if(this.transform){var i=this.parent,t=this.transform;i&&i.transform&&(i.invTransform=i.invTransform||[1,0,0,1,0,0],Ui(ph,i.invTransform,t),t=ph);var n=this.originX,r=this.originY;(n||r)&&(Dy[4]=n,Dy[5]=r,Ui(ph,t,Dy),ph[4]-=n,ph[5]-=r,t=ph),this.setLocalTransform(t)}},e.prototype.getGlobalScale=function(i){var t=this.transform;return i=i||[],t?(i[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),i[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(i[0]=-i[0]),t[3]<0&&(i[1]=-i[1]),i):(i[0]=1,i[1]=1,i)},e.prototype.transformCoordToLocal=function(i,t){var n=[i,t],r=this.invTransform;return r&&Si(n,n,r),n},e.prototype.transformCoordToGlobal=function(i,t){var n=[i,t],r=this.transform;return r&&Si(n,n,r),n},e.prototype.getLineScale=function(){var i=this.transform;return i&&Py(i[0]-1)>1e-10&&Py(i[3]-1)>1e-10?Math.sqrt(Py(i[0]*i[3]-i[2]*i[1])):1},e.prototype.copyTransform=function(i){pS(this,i)},e.getLocalTransform=function(i,t){t=t||[];var n=i.originX||0,r=i.originY||0,a=i.scaleX,o=i.scaleY,s=i.anchorX,l=i.anchorY,c=i.rotation||0,u=i.x,h=i.y,f=i.skewX?Math.tan(i.skewX):0,p=i.skewY?Math.tan(-i.skewY):0;if(n||r||s||l){var m=n+s,b=r+l;t[4]=-m*a-f*b*o,t[5]=-b*o-p*m*a}else t[4]=t[5]=0;return t[0]=a,t[3]=o,t[1]=p*a,t[2]=f*o,c&&Ri(t,t,c),t[4]+=n+u,t[5]+=r+h,t},e.initDefaultProps=function(){var i=e.prototype;i.scaleX=i.scaleY=i.globalScaleRatio=1,i.x=i.y=i.originX=i.originY=i.skewX=i.skewY=i.rotation=i.anchorX=i.anchorY=0}(),e}(),Bo=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function pS(e,i){for(var t=0;t<Bo.length;t++){var n=Bo[t];e[n]=i[n]}}const As=aB;var gS={};function Zr(e,i){var t=gS[i=i||ni];t||(t=gS[i]=new Ts(500));var n=t.get(e);return null==n&&(n=xn.measureText(e,i).width,t.put(e,n)),n}function vS(e,i,t,n){var r=Zr(e,i),a=ng(i),o=Zd(0,r,t),s=gh(0,a,n);return new $t(o,s,r,a)}function Ud(e,i,t,n){var r=((e||"")+"").split("\n");if(1===r.length)return vS(r[0],i,t,n);for(var o=new $t(0,0,0,0),s=0;s<r.length;s++){var l=vS(r[s],i,t,n);0===s?o.copy(l):o.union(l)}return o}function Zd(e,i,t){return"right"===t?e-=i:"center"===t&&(e-=i/2),e}function gh(e,i,t){return"middle"===t?e-=i/2:"bottom"===t&&(e-=i),e}function ng(e){return Zr("\u56fd",e)}function no(e,i){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*i:parseFloat(e):e}function rg(e,i,t){var n=i.position||"inside",r=null!=i.distance?i.distance:5,a=t.height,o=t.width,s=a/2,l=t.x,c=t.y,u="left",h="top";if(n instanceof Array)l+=no(n[0],t.width),c+=no(n[1],t.height),u=null,h=null;else switch(n){case"left":l-=r,c+=s,u="right",h="middle";break;case"right":l+=r+o,c+=s,h="middle";break;case"top":l+=o/2,c-=r,u="center",h="bottom";break;case"bottom":l+=o/2,c+=a+r,u="center";break;case"inside":l+=o/2,c+=s,u="center",h="middle";break;case"insideLeft":l+=r,c+=s,h="middle";break;case"insideRight":l+=o-r,c+=s,u="right",h="middle";break;case"insideTop":l+=o/2,c+=r,u="center";break;case"insideBottom":l+=o/2,c+=a-r,u="center",h="bottom";break;case"insideTopLeft":l+=r,c+=r;break;case"insideTopRight":l+=o-r,c+=r,u="right";break;case"insideBottomLeft":l+=r,c+=a-r,h="bottom";break;case"insideBottomRight":l+=o-r,c+=a-r,u="right",h="bottom"}return(e=e||{}).x=l,e.y=c,e.align=u,e.verticalAlign=h,e}var Iy="__zr_normal__",Oy=Bo.concat(["ignore"]),oB=bi(Bo,function(e,i){return e[i]=!0,e},{ignore:!1}),vh={},sB=new $t(0,0,0,0),Ey=function(){function e(i){this.id=ls(),this.animators=[],this.currentStates=[],this.states={},this._init(i)}return e.prototype._init=function(i){this.attr(i)},e.prototype.drift=function(i,t,n){switch(this.draggable){case"horizontal":t=0;break;case"vertical":i=0}var r=this.transform;r||(r=this.transform=[1,0,0,1,0,0]),r[4]+=i,r[5]+=t,this.decomposeTransform(),this.markRedraw()},e.prototype.beforeUpdate=function(){},e.prototype.afterUpdate=function(){},e.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},e.prototype.updateInnerText=function(i){var t=this._textContent;if(t&&(!t.ignore||i)){this.textConfig||(this.textConfig={});var n=this.textConfig,r=n.local,a=t.innerTransformable,o=void 0,s=void 0,l=!1;a.parent=r?this:null;var c=!1;if(a.copyTransform(t),null!=n.position){var u=sB;u.copy(n.layoutRect?n.layoutRect:this.getBoundingRect()),r||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(vh,n,u):rg(vh,n,u),a.x=vh.x,a.y=vh.y,o=vh.align,s=vh.verticalAlign;var h=n.origin;if(h&&null!=n.rotation){var f=void 0,p=void 0;"center"===h?(f=.5*u.width,p=.5*u.height):(f=no(h[0],u.width),p=no(h[1],u.height)),c=!0,a.originX=-a.x+f+(r?0:u.x),a.originY=-a.y+p+(r?0:u.y)}}null!=n.rotation&&(a.rotation=n.rotation);var m=n.offset;m&&(a.x+=m[0],a.y+=m[1],c||(a.originX=-m[0],a.originY=-m[1]));var b=null==n.inside?"string"==typeof n.position&&n.position.indexOf("inside")>=0:n.inside,_=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),w=void 0,T=void 0,A=void 0;b&&this.canBeInsideText()?(T=n.insideStroke,(null==(w=n.insideFill)||"auto"===w)&&(w=this.getInsideTextFill()),(null==T||"auto"===T)&&(T=this.getInsideTextStroke(w),A=!0)):(T=n.outsideStroke,(null==(w=n.outsideFill)||"auto"===w)&&(w=this.getOutsideFill()),(null==T||"auto"===T)&&(T=this.getOutsideStroke(w),A=!0)),((w=w||"#000")!==_.fill||T!==_.stroke||A!==_.autoStroke||o!==_.align||s!==_.verticalAlign)&&(l=!0,_.fill=w,_.stroke=T,_.autoStroke=A,_.align=o,_.verticalAlign=s,t.setDefaultTextStyle(_)),t.__dirty|=An,l&&t.dirtyStyle(!0)}},e.prototype.canBeInsideText=function(){return!0},e.prototype.getInsideTextFill=function(){return"#fff"},e.prototype.getInsideTextStroke=function(i){return"#000"},e.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?ky:Ly},e.prototype.getOutsideStroke=function(i){var t=this.__zr&&this.__zr.getBackgroundColor(),n="string"==typeof t&&Dn(t);n||(n=[255,255,255,1]);for(var r=n[3],a=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*r+(a?0:255)*(1-r);return n[3]=1,wr(n,"rgba")},e.prototype.traverse=function(i,t){},e.prototype.attrKV=function(i,t){"textConfig"===i?this.setTextConfig(t):"textContent"===i?this.setTextContent(t):"clipPath"===i?this.setClipPath(t):"extra"===i?(this.extra=this.extra||{},ft(this.extra,t)):this[i]=t},e.prototype.hide=function(){this.ignore=!0,this.markRedraw()},e.prototype.show=function(){this.ignore=!1,this.markRedraw()},e.prototype.attr=function(i,t){if("string"==typeof i)this.attrKV(i,t);else if(Bt(i))for(var r=he(i),a=0;a<r.length;a++){var o=r[a];this.attrKV(o,i[o])}return this.markRedraw(),this},e.prototype.saveCurrentToNormalState=function(i){this._innerSaveToNormal(i);for(var t=this._normalState,n=0;n<this.animators.length;n++){var r=this.animators[n],a=r.__fromStateTransition;if(!(r.getLoop()||a&&a!==Iy)){var o=r.targetName;r.saveTo(o?t[o]:t)}}},e.prototype._innerSaveToNormal=function(i){var t=this._normalState;t||(t=this._normalState={}),i.textConfig&&!t.textConfig&&(t.textConfig=this.textConfig),this._savePrimaryToNormal(i,t,Oy)},e.prototype._savePrimaryToNormal=function(i,t,n){for(var r=0;r<n.length;r++){var a=n[r];null!=i[a]&&!(a in t)&&(t[a]=this[a])}},e.prototype.hasState=function(){return this.currentStates.length>0},e.prototype.getState=function(i){return this.states[i]},e.prototype.ensureState=function(i){var t=this.states;return t[i]||(t[i]={}),t[i]},e.prototype.clearStates=function(i){this.useState(Iy,!1,i)},e.prototype.useState=function(i,t,n,r){var a=i===Iy;if(this.hasState()||!a){var s=this.currentStates,l=this.stateTransition;if(!(oe(s,i)>=0)||!t&&1!==s.length){var c;if(this.stateProxy&&!a&&(c=this.stateProxy(i)),c||(c=this.states&&this.states[i]),!c&&!a)return void Pi("State "+i+" not exists.");a||this.saveCurrentToNormalState(c);var u=!!(c&&c.hoverLayer||r);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(i,c,this._normalState,t,!n&&!this.__inHover&&l&&l.duration>0,l);var h=this._textContent,f=this._textGuide;return h&&h.useState(i,t,n,u),f&&f.useState(i,t,n,u),a?(this.currentStates=[],this._normalState={}):t?this.currentStates.push(i):this.currentStates=[i],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~An),c}}},e.prototype.useStates=function(i,t,n){if(i.length){var r=[],a=this.currentStates,o=i.length,s=o===a.length;if(s)for(var l=0;l<o;l++)if(i[l]!==a[l]){s=!1;break}if(s)return;for(l=0;l<o;l++){var c=i[l],u=void 0;this.stateProxy&&(u=this.stateProxy(c,i)),u||(u=this.states[c]),u&&r.push(u)}var h=r[o-1],f=!!(h&&h.hoverLayer||n);f&&this._toggleHoverLayerFlag(!0);var p=this._mergeStates(r),m=this.stateTransition;this.saveCurrentToNormalState(p),this._applyStateObj(i.join(","),p,this._normalState,!1,!t&&!this.__inHover&&m&&m.duration>0,m);var b=this._textContent,_=this._textGuide;b&&b.useStates(i,t,f),_&&_.useStates(i,t,f),this._updateAnimationTargets(),this.currentStates=i.slice(),this.markRedraw(),!f&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~An)}else this.clearStates()},e.prototype.isSilent=function(){for(var i=this.silent,t=this.parent;!i&&t;){if(t.silent){i=!0;break}t=t.parent}return i},e.prototype._updateAnimationTargets=function(){for(var i=0;i<this.animators.length;i++){var t=this.animators[i];t.targetName&&t.changeTarget(this[t.targetName])}},e.prototype.removeState=function(i){var t=oe(this.currentStates,i);if(t>=0){var n=this.currentStates.slice();n.splice(t,1),this.useStates(n)}},e.prototype.replaceState=function(i,t,n){var r=this.currentStates.slice(),a=oe(r,i),o=oe(r,t)>=0;a>=0?o?r.splice(a,1):r[a]=t:n&&!o&&r.push(t),this.useStates(r)},e.prototype.toggleState=function(i,t){t?this.useState(i,!0):this.removeState(i)},e.prototype._mergeStates=function(i){for(var n,t={},r=0;r<i.length;r++){var a=i[r];ft(t,a),a.textConfig&&ft(n=n||{},a.textConfig)}return n&&(t.textConfig=n),t},e.prototype._applyStateObj=function(i,t,n,r,a,o){var s=!(t&&r);t&&t.textConfig?(this.textConfig=ft({},r?this.textConfig:n.textConfig),ft(this.textConfig,t.textConfig)):s&&n.textConfig&&(this.textConfig=n.textConfig);for(var l={},c=!1,u=0;u<Oy.length;u++){var h=Oy[u],f=a&&oB[h];t&&null!=t[h]?f?(c=!0,l[h]=t[h]):this[h]=t[h]:s&&null!=n[h]&&(f?(c=!0,l[h]=n[h]):this[h]=n[h])}if(!a)for(u=0;u<this.animators.length;u++){var p=this.animators[u],m=p.targetName;p.getLoop()||p.__changeFinalValue(m?(t||n)[m]:t||n)}c&&this._transitionState(i,l,o)},e.prototype._attachComponent=function(i){if((!i.__zr||i.__hostTarget)&&i!==this){var t=this.__zr;t&&i.addSelfToZr(t),i.__zr=t,i.__hostTarget=this}},e.prototype._detachComponent=function(i){i.__zr&&i.removeSelfFromZr(i.__zr),i.__zr=null,i.__hostTarget=null},e.prototype.getClipPath=function(){return this._clipPath},e.prototype.setClipPath=function(i){this._clipPath&&this._clipPath!==i&&this.removeClipPath(),this._attachComponent(i),this._clipPath=i,this.markRedraw()},e.prototype.removeClipPath=function(){var i=this._clipPath;i&&(this._detachComponent(i),this._clipPath=null,this.markRedraw())},e.prototype.getTextContent=function(){return this._textContent},e.prototype.setTextContent=function(i){var t=this._textContent;t!==i&&(t&&t!==i&&this.removeTextContent(),i.innerTransformable=new As,this._attachComponent(i),this._textContent=i,this.markRedraw())},e.prototype.setTextConfig=function(i){this.textConfig||(this.textConfig={}),ft(this.textConfig,i),this.markRedraw()},e.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},e.prototype.removeTextContent=function(){var i=this._textContent;i&&(i.innerTransformable=null,this._detachComponent(i),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},e.prototype.getTextGuideLine=function(){return this._textGuide},e.prototype.setTextGuideLine=function(i){this._textGuide&&this._textGuide!==i&&this.removeTextGuideLine(),this._attachComponent(i),this._textGuide=i,this.markRedraw()},e.prototype.removeTextGuideLine=function(){var i=this._textGuide;i&&(this._detachComponent(i),this._textGuide=null,this.markRedraw())},e.prototype.markRedraw=function(){this.__dirty|=An;var i=this.__zr;i&&(this.__inHover?i.refreshHover():i.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},e.prototype.dirty=function(){this.markRedraw()},e.prototype._toggleHoverLayerFlag=function(i){this.__inHover=i;var t=this._textContent,n=this._textGuide;t&&(t.__inHover=i),n&&(n.__inHover=i)},e.prototype.addSelfToZr=function(i){if(this.__zr!==i){this.__zr=i;var t=this.animators;if(t)for(var n=0;n<t.length;n++)i.animation.addAnimator(t[n]);this._clipPath&&this._clipPath.addSelfToZr(i),this._textContent&&this._textContent.addSelfToZr(i),this._textGuide&&this._textGuide.addSelfToZr(i)}},e.prototype.removeSelfFromZr=function(i){if(this.__zr){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)i.animation.removeAnimator(t[n]);this._clipPath&&this._clipPath.removeSelfFromZr(i),this._textContent&&this._textContent.removeSelfFromZr(i),this._textGuide&&this._textGuide.removeSelfFromZr(i)}},e.prototype.animate=function(i,t,n){var a=new z(i?this[i]:this,t,n);return i&&(a.targetName=i),this.addAnimator(a,i),a},e.prototype.addAnimator=function(i,t){var n=this.__zr,r=this;i.during(function(){r.updateDuringAnimation(t)}).done(function(){var a=r.animators,o=oe(a,i);o>=0&&a.splice(o,1)}),this.animators.push(i),n&&n.animation.addAnimator(i),n&&n.wakeUp()},e.prototype.updateDuringAnimation=function(i){this.markRedraw()},e.prototype.stopAnimation=function(i,t){for(var n=this.animators,r=n.length,a=[],o=0;o<r;o++){var s=n[o];i&&i!==s.scope?a.push(s):s.stop(t)}return this.animators=a,this},e.prototype.animateTo=function(i,t,n){Fy(this,i,t,n)},e.prototype.animateFrom=function(i,t,n){Fy(this,i,t,n,!0)},e.prototype._transitionState=function(i,t,n,r){for(var a=Fy(this,t,n,r),o=0;o<a.length;o++)a[o].__fromStateTransition=i},e.prototype.getBoundingRect=function(){return null},e.prototype.getPaintRect=function(){return null},e.initDefaultProps=function(){var i=e.prototype;function r(a,o,s,l){function c(u,h){Object.defineProperty(h,0,{get:function(){return u[s]},set:function(f){u[s]=f}}),Object.defineProperty(h,1,{get:function(){return u[l]},set:function(f){u[l]=f}})}Object.defineProperty(i,a,{get:function(){return this[o]||c(this,this[o]=[]),this[o]},set:function(u){this[s]=u[0],this[l]=u[1],this[o]=u,c(this,u)}})}i.type="element",i.name="",i.ignore=i.silent=i.isGroup=i.draggable=i.dragging=i.ignoreClip=i.__inHover=!1,i.__dirty=An,Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),e}();function Fy(e,i,t,n,r){var a=[];mS(e,"",e,i,t=t||{},n,a,r);var o=a.length,s=!1,l=t.done,c=t.aborted,u=function(){s=!0,--o<=0&&(s?l&&l():c&&c())},h=function(){--o<=0&&(s?l&&l():c&&c())};o||l&&l(),a.length>0&&t.during&&a[0].during(function(m,b){t.during(b)});for(var f=0;f<a.length;f++){var p=a[f];u&&p.done(u),h&&p.aborted(h),t.force&&p.duration(t.duration),p.start(t.easing)}return a}function Ry(e,i,t){for(var n=0;n<t;n++)e[n]=i[n]}function cB(e,i,t){if(Li(i[t]))if(Li(e[t])||(e[t]=[]),fn(i[t])){var n=i[t].length;e[t].length!==n&&(e[t]=new i[t].constructor(n),Ry(e[t],i[t],n))}else{var r=i[t],a=e[t],o=r.length;if(function lB(e){return Li(e[0])}(r))for(var s=r[0].length,l=0;l<o;l++)a[l]?Ry(a[l],r[l],s):a[l]=Array.prototype.slice.call(r[l]);else Ry(a,r,o);a.length=r.length}else e[t]=i[t]}function mS(e,i,t,n,r,a,o,s){for(var l=he(n),c=r.duration,u=r.delay,h=r.additive,f=r.setToFinal,p=!Bt(a),m=e.animators,b=[],_=0;_<l.length;_++){var T=n[w=l[_]];if(null!=T&&null!=t[w]&&(p||a[w]))if(!Bt(T)||Li(T)||pn(T))b.push(w);else{if(i){s||(t[w]=T,e.updateDuringAnimation(i));continue}mS(e,w,t[w],T,r,a&&a[w],o,s)}else s||(t[w]=T,e.updateDuringAnimation(i),b.push(w))}var A=b.length;if(!h&&A)for(var P=0;P<m.length;P++)if((F=m[P]).targetName===i&&F.stopTracks(b)){var V=oe(m,F);m.splice(V,1)}if(r.force||(b=ve(b,function(X){return!function uB(e,i){return e===i||Li(e)&&Li(i)&&function hB(e,i){var t=e.length;if(t!==i.length)return!1;for(var n=0;n<t;n++)if(e[n]!==i[n])return!1;return!0}(e,i)}(n[X],t[X])}),A=b.length),A>0||r.force&&!o.length){var F,N=void 0,G=void 0,H=void 0;if(s)for(G={},f&&(N={}),P=0;P<A;P++)G[w=b[P]]=t[w],f?N[w]=n[w]:t[w]=n[w];else if(f)for(H={},P=0;P<A;P++){var w;H[w=b[P]]=Mr(t[w]),cB(t,n,w)}(F=new z(t,!1,!1,h?ve(m,function(q){return q.targetName===i}):null)).targetName=i,r.scope&&(F.scope=r.scope),f&&N&&F.whenWithKeys(0,N,b),H&&F.whenWithKeys(0,H,b),F.whenWithKeys(c??500,s?G:n,b).delay(u||0),e.addAnimator(F,i),o.push(F)}}It(Ey,Nn),It(Ey,As);const yS=Ey;var _S=function(e){function i(t){var n=e.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(t),n}return Ye(i,e),i.prototype.childrenRef=function(){return this._children},i.prototype.children=function(){return this._children.slice()},i.prototype.childAt=function(t){return this._children[t]},i.prototype.childOfName=function(t){for(var n=this._children,r=0;r<n.length;r++)if(n[r].name===t)return n[r]},i.prototype.childCount=function(){return this._children.length},i.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},i.prototype.addBefore=function(t,n){if(t&&t!==this&&t.parent!==this&&n&&n.parent===this){var r=this._children,a=r.indexOf(n);a>=0&&(r.splice(a,0,t),this._doAdd(t))}return this},i.prototype.replace=function(t,n){var r=oe(this._children,t);return r>=0&&this.replaceAt(n,r),this},i.prototype.replaceAt=function(t,n){var r=this._children,a=r[n];if(t&&t!==this&&t.parent!==this&&t!==a){r[n]=t,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(t)}return this},i.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var n=this.__zr;n&&n!==t.__zr&&t.addSelfToZr(n),n&&n.refresh()},i.prototype.remove=function(t){var n=this.__zr,r=this._children,a=oe(r,t);return a<0||(r.splice(a,1),t.parent=null,n&&t.removeSelfFromZr(n),n&&n.refresh()),this},i.prototype.removeAll=function(){for(var t=this._children,n=this.__zr,r=0;r<t.length;r++){var a=t[r];n&&a.removeSelfFromZr(n),a.parent=null}return t.length=0,this},i.prototype.eachChild=function(t,n){for(var r=this._children,a=0;a<r.length;a++)t.call(n,r[a],a);return this},i.prototype.traverse=function(t,n){for(var r=0;r<this._children.length;r++){var a=this._children[r],o=t.call(n,a);a.isGroup&&!o&&a.traverse(t,n)}return this},i.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].addSelfToZr(t)},i.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].removeSelfFromZr(t)},i.prototype.getBoundingRect=function(t){for(var n=new $t(0,0,0,0),r=t||this._children,a=[],o=null,s=0;s<r.length;s++){var l=r[s];if(!l.ignore&&!l.invisible){var c=l.getBoundingRect(),u=l.getLocalTransform(a);u?($t.applyTransform(n,c,u),(o=o||n.clone()).union(n)):(o=o||c.clone()).union(c)}}return o||n},i}(yS);_S.prototype.type="group";const Kt=_S;var By,ag={},Ac={},pB=function(){function e(i,t,n){var r=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=t,this.id=i;var a=new Cs,o=n.renderer||"canvas";ag[o]||(o=he(ag)[0]),n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var s=new ag[o](t,a,n,i),l=n.ssr||s.ssrOnly;this.storage=a,this.painter=s;var p,c=Yt.node||Yt.worker||l?null:new Xd(s.getViewportRoot(),s.root),u=n.useCoarsePointer;(null==u||"auto"===u?Yt.touchEventsSupported:!!u)&&(p=qt(n.pointerSize,44)),this.handler=new Se(a,s,c,s.root,p),this.animation=new Q({stage:{update:l?null:function(){return r._flush(!0)}}}),l||this.animation.start()}return e.prototype.add=function(i){this._disposed||!i||(this.storage.addRoot(i),i.addSelfToZr(this),this.refresh())},e.prototype.remove=function(i){this._disposed||!i||(this.storage.delRoot(i),i.removeSelfFromZr(this),this.refresh())},e.prototype.configLayer=function(i,t){this._disposed||(this.painter.configLayer&&this.painter.configLayer(i,t),this.refresh())},e.prototype.setBackgroundColor=function(i){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(i),this.refresh(),this._backgroundColor=i,this._darkMode=function fB(e){if(!e)return!1;if("string"==typeof e)return pa(e,1)<.4;if(e.colorStops){for(var i=e.colorStops,t=0,n=i.length,r=0;r<n;r++)t+=pa(i[r].color,1);return(t/=n)<.4}return!1}(i))},e.prototype.getBackgroundColor=function(){return this._backgroundColor},e.prototype.setDarkMode=function(i){this._darkMode=i},e.prototype.isDarkMode=function(){return this._darkMode},e.prototype.refreshImmediately=function(i){this._disposed||(i||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},e.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},e.prototype.flush=function(){this._disposed||this._flush(!1)},e.prototype._flush=function(i){var t,n=W();this._needsRefresh&&(t=!0,this.refreshImmediately(i)),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately());var r=W();t?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:r-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},e.prototype.setSleepAfterStill=function(i){this._sleepAfterStill=i},e.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},e.prototype.refreshHover=function(){this._needsRefreshHover=!0},e.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover())},e.prototype.resize=function(i){this._disposed||(this.painter.resize((i=i||{}).width,i.height),this.handler.resize())},e.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},e.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},e.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},e.prototype.setCursorStyle=function(i){this._disposed||this.handler.setCursorStyle(i)},e.prototype.findHover=function(i,t){if(!this._disposed)return this.handler.findHover(i,t)},e.prototype.on=function(i,t,n){return this._disposed||this.handler.on(i,t,n),this},e.prototype.off=function(i,t){this._disposed||this.handler.off(i,t)},e.prototype.trigger=function(i,t){this._disposed||this.handler.trigger(i,t)},e.prototype.clear=function(){if(!this._disposed){for(var i=this.storage.getRoots(),t=0;t<i.length;t++)i[t]instanceof Kt&&i[t].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},e.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,function dB(e){delete Ac[e]}(this.id))},e}();function xS(e,i){var t=new pB(ls(),e,i);return Ac[t.id]=t,t}var bS=1e-4,CS=20;function Xe(e,i,t,n){var r=i[0],a=i[1],o=t[0],s=t[1],l=a-r,c=s-o;if(0===l)return 0===c?o:(o+s)/2;if(n)if(l>0){if(e<=r)return o;if(e>=a)return s}else{if(e>=r)return o;if(e<=a)return s}else{if(e===r)return o;if(e===a)return s}return(e-r)/l*c+o}function At(e,i){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return Lt(e)?function yB(e){return e.replace(/^\s+|\s+$/g,"")}(e).match(/%$/)?parseFloat(e)/100*i:parseFloat(e):null==e?NaN:+e}function ki(e,i,t){return null==i&&(i=10),i=Math.min(Math.max(0,i),CS),e=(+e).toFixed(i),t?e:+e}function va(e){return e.sort(function(i,t){return i-t}),e}function Vo(e){if(e=+e,isNaN(e))return 0;if(e>1e-14)for(var i=1,t=0;t<15;t++,i*=10)if(Math.round(e*i)/i===e)return t;return function _B(e){var i=e.toString().toLowerCase(),t=i.indexOf("e"),n=t>0?+i.slice(t+1):0,r=t>0?t:i.length,a=i.indexOf(".");return Math.max(0,(a<0?0:r-1-a)-n)}(e)}function SS(e,i){var t=Math.log,n=Math.LN10,r=Math.floor(t(e[1]-e[0])/n),a=Math.round(t(Math.abs(i[1]-i[0]))/n),o=Math.min(Math.max(-r+a,0),20);return isFinite(o)?o:20}function xB(e,i){var t=Math.max(Vo(e),Vo(i)),n=e+i;return t>CS?n:ki(n,t)}var TS=9007199254740991;function MS(e){var i=2*Math.PI;return(e%i+i)%i}function $d(e){return e>-bS&&e<bS}var bB=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function zo(e){if(e instanceof Date)return e;if(Lt(e)){var i=bB.exec(e);if(!i)return new Date(NaN);if(i[8]){var t=+i[4]||0;return"Z"!==i[8].toUpperCase()&&(t-=+i[8].slice(0,3)),new Date(Date.UTC(+i[1],+(i[2]||1)-1,+i[3]||1,t,+(i[5]||0),+i[6]||0,i[7]?+i[7].substring(0,3):0))}return new Date(+i[1],+(i[2]||1)-1,+i[3]||1,+i[4]||0,+(i[5]||0),+i[6]||0,i[7]?+i[7].substring(0,3):0)}return null==e?new Date(NaN):new Date(Math.round(e))}function Vy(e){if(0===e)return 0;var i=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,i)>=10&&i++,i}function AS(e,i){var t=Vy(e),n=Math.pow(10,t),r=e/n;return e=(i?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*n,t>=-20?+e.toFixed(t<0?-t:0):e}function zy(e,i){var t=(e.length-1)*i+1,n=Math.floor(t),r=+e[n-1],a=t-n;return a?r+a*(e[n]-r):r}function LS(e){e.sort(function(l,c){return s(l,c,0)?-1:1});for(var i=-1/0,t=1,n=0;n<e.length;){for(var r=e[n].interval,a=e[n].close,o=0;o<2;o++)r[o]<=i&&(r[o]=i,a[o]=o?1:1-t),i=r[o],t=a[o];r[0]===r[1]&&a[0]*a[1]!=1?e.splice(n,1):n++}return e;function s(l,c,u){return l.interval[u]<c.interval[u]||l.interval[u]===c.interval[u]&&(l.close[u]-c.close[u]==(u?-1:1)||!u&&s(l,c,1))}}function Ls(e){var i=parseFloat(e);return i==e&&(0!==i||!Lt(e)||e.indexOf("x")<=0)?i:NaN}function kS(e){return!isNaN(Ls(e))}function DS(){return Math.round(9*Math.random())}function PS(e,i){return 0===i?e:PS(i,e%i)}function IS(e,i){return null==e?i:null==i?e:e*i/PS(e,i)}function OS(e,i,t){return(i-e)*t+e}var ES="series\0",FS="\0_ec_\0";function je(e){return e instanceof Array?e:null==e?[]:[e]}function Lc(e,i,t){if(e){e[i]=e[i]||{},e.emphasis=e.emphasis||{},e.emphasis[i]=e.emphasis[i]||{};for(var n=0,r=t.length;n<r;n++){var a=t[n];!e.emphasis[i].hasOwnProperty(a)&&e[i].hasOwnProperty(a)&&(e.emphasis[i][a]=e[i][a])}}}var RS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function mh(e){return!Bt(e)||yt(e)||e instanceof Date?e:e.value}function SB(e){return Bt(e)&&!(e instanceof Array)}function BS(e,i,t){var n="normalMerge"===t,r="replaceMerge"===t,a="replaceAll"===t;e=e||[],i=(i||[]).slice();var o=Mt();U(i,function(l,c){Bt(l)||(i[c]=null)});var s=function wB(e,i,t){var n=[];if("replaceAll"===t)return n;for(var r=0;r<e.length;r++){var a=e[r];a&&null!=a.id&&i.set(a.id,r),n.push({existing:"replaceMerge"===t||qd(a)?null:a,newOption:null,keyInfo:null,brandNew:null})}return n}(e,o,t);return(n||r)&&function TB(e,i,t,n){U(n,function(r,a){if(r&&null!=r.id){var o=jd(r.id),s=t.get(o);if(null!=s){var l=e[s];ti(!l.newOption,'Duplicated option on id "'+o+'".'),l.newOption=r,l.existing=i[s],n[a]=null}}})}(s,e,o,i),n&&function MB(e,i){U(i,function(t,n){if(t&&null!=t.name)for(var r=0;r<e.length;r++){var a=e[r].existing;if(!e[r].newOption&&a&&(null==a.id||null==t.id)&&!qd(t)&&!qd(a)&&VS("name",a,t))return e[r].newOption=t,void(i[n]=null)}})}(s,i),n||r?function AB(e,i,t){U(i,function(n){if(n){for(var r,a=0;(r=e[a])&&(r.newOption||qd(r.existing)||r.existing&&null!=n.id&&!VS("id",n,r.existing));)a++;r?(r.newOption=n,r.brandNew=t):e.push({newOption:n,brandNew:t,existing:null,keyInfo:null}),a++}})}(s,i,r):a&&function LB(e,i){U(i,function(t){e.push({newOption:t,brandNew:!0,existing:null,keyInfo:null})})}(s,i),function kB(e){var i=Mt();U(e,function(t){var n=t.existing;n&&i.set(n.id,t)}),U(e,function(t){var n=t.newOption;ti(!n||null==n.id||!i.get(n.id)||i.get(n.id)===t,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&i.set(n.id,t),!t.keyInfo&&(t.keyInfo={})}),U(e,function(t,n){var r=t.existing,a=t.newOption,o=t.keyInfo;if(Bt(a)){if(o.name=null!=a.name?jd(a.name):r?r.name:ES+n,r)o.id=jd(r.id);else if(null!=a.id)o.id=jd(a.id);else{var s=0;do{o.id="\0"+o.name+"\0"+s++}while(i.get(o.id))}i.set(o.id,t)}})}(s),s}function VS(e,i,t){var n=ji(i[e],null),r=ji(t[e],null);return null!=n&&null!=r&&n===r}function jd(e){return ji(e,"")}function ji(e,i){return null==e?i:Lt(e)?e:_e(e)||us(e)?e+"":i}function Ny(e){var i=e.name;return!(!i||!i.indexOf(ES))}function qd(e){return e&&null!=e.id&&0===jd(e.id).indexOf(FS)}function kc(e,i){return null!=i.dataIndexInside?i.dataIndexInside:null!=i.dataIndex?yt(i.dataIndex)?mt(i.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(i.dataIndex):null!=i.name?yt(i.name)?mt(i.name,function(t){return e.indexOfName(t)}):e.indexOfName(i.name):void 0}function Le(){var e="__ec_inner_"+EB++;return function(i){return i[e]||(i[e]={})}}var EB=DS();function Kd(e,i,t){var n=Gy(i,t),a=n.queryOptionMap,s=n.others,l=t?t.defaultMainType:null;return!n.mainTypeSpecified&&l&&a.set(l,{}),a.each(function(c,u){var h=Qd(e,u,c,{useDefault:l===u,enableAll:!t||null==t.enableAll||t.enableAll,enableNone:!t||null==t.enableNone||t.enableNone});s[u+"Models"]=h.models,s[u+"Model"]=h.models[0]}),s}function Gy(e,i){var t;if(Lt(e)){var n={};n[e+"Index"]=0,t=n}else t=e;var r=Mt(),a={},o=!1;return U(t,function(s,l){if("dataIndex"!==l&&"dataIndexInside"!==l){var c=l.match(/^(\w+)(Index|Id|Name)$/)||[],u=c[1],h=(c[2]||"").toLowerCase();!u||!h||i&&i.includeMainTypes&&oe(i.includeMainTypes,u)<0||(o=o||!!u,(r.get(u)||r.set(u,{}))[h]=s)}else a[l]=s}),{mainTypeSpecified:o,queryOptionMap:r,others:a}}var zi={useDefault:!0,enableAll:!1,enableNone:!1},FB={useDefault:!1,enableAll:!0,enableNone:!0};function Qd(e,i,t,n){n=n||zi;var r=t.index,a=t.id,o=t.name,s={models:null,specified:null!=r||null!=a||null!=o};if(!s.specified){var l=void 0;return s.models=n.useDefault&&(l=e.getComponent(i))?[l]:[],s}return"none"===r||!1===r?(ti(n.enableNone,'`"none"` or `false` is not a valid value on index option.'),s.models=[],s):("all"===r&&(ti(n.enableAll,'`"all"` is not a valid value on index option.'),r=a=o=null),s.models=e.queryComponents({mainType:i,index:r,id:a,name:o}),s)}function zS(e,i,t){e.setAttribute?e.setAttribute(i,t):e[i]=t}function Hy(e,i){var t=Mt(),n=[];return U(e,function(r){var a=i(r);(t.get(a)||(n.push(a),t.set(a,[]))).push(r)}),{keys:n,buckets:t}}function NS(e,i,t,n,r){var a=null==i||"auto"===i;if(null==n)return n;if(_e(n))return ki(o=OS(t||0,n,r),a?Math.max(Vo(t||0),Vo(n)):i);if(Lt(n))return r<1?t:n;for(var s=[],l=t,c=n,u=Math.max(l?l.length:0,c.length),h=0;h<u;++h){var f=e.getDimensionInfo(h);if(f&&"ordinal"===f.type)s[h]=(r<1&&l?l:c)[h];else{var p=l&&l[h]?l[h]:0,m=c[h],o=OS(p,m,r);s[h]=ki(o,a?Math.max(Vo(p),Vo(m)):i)}}return s}var VB=".",Dc="___EC__COMPONENT__CONTAINER___",GS="___EC__EXTENDED_CLASS___";function No(e){var i={main:"",sub:""};if(e){var t=e.split(VB);i.main=t[0]||"",i.sub=t[1]||""}return i}function Wy(e,i){e.$constructor=e,e.extend=function(t){var r,n=this;return function GB(e){return Z(e)&&/^class\s/.test(Function.prototype.toString.call(e))}(n)?r=function(a){function o(){return a.apply(this,arguments)||this}return ot(o,a),o}(n):(r=function(){(t.$constructor||n).apply(this,arguments)},function bn(e,i){var t=e.prototype;function n(){}for(var r in n.prototype=i.prototype,e.prototype=new n,t)t.hasOwnProperty(r)&&(e.prototype[r]=t[r]);e.prototype.constructor=e,e.superClass=i}(r,this)),ft(r.prototype,t),r[GS]=!0,r.extend=this.extend,r.superCall=YB,r.superApply=XB,r.superClass=n,r}}function HS(e,i){e.extend=i.extend}var HB=Math.round(10*Math.random());function YB(e,i){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return this.superClass.prototype[i].apply(e,t)}function XB(e,i,t){return this.superClass.prototype[i].apply(e,t)}function og(e){var i={};e.registerClass=function(n){var r=n.type||n.prototype.type;if(r){(function zB(e){ti(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')})(r),n.prototype.type=r;var a=No(r);if(a.sub){if(a.sub!==Dc){var o=function t(n){var r=i[n.main];return(!r||!r[Dc])&&((r=i[n.main]={})[Dc]=!0),r}(a);o[a.sub]=n}}else i[a.main]=n}return n},e.getClass=function(n,r,a){var o=i[n];if(o&&o[Dc]&&(o=r?o[r]:null),a&&!o)throw new Error(r?"Component "+n+"."+(r||"")+" is used but not imported.":n+".type should be specified.");return o},e.getClassesByMainType=function(n){var r=No(n),a=[],o=i[r.main];return o&&o[Dc]?U(o,function(s,l){l!==Dc&&a.push(s)}):a.push(o),a},e.hasClass=function(n){var r=No(n);return!!i[r.main]},e.getAllClassMainTypes=function(){var n=[];return U(i,function(r,a){n.push(a)}),n},e.hasSubTypes=function(n){var r=No(n),a=i[r.main];return a&&a[Dc]}}function Pc(e,i){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return i=i||!1,function(n,r,a){for(var o={},s=0;s<e.length;s++){var l=e[s][1];if(!(r&&oe(r,l)>=0||a&&oe(a,l)<0)){var c=n.getShallow(l,i);null!=c&&(o[e[s][0]]=c)}}return o}}var ZB=Pc([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),$B=function(){function e(){}return e.prototype.getAreaStyle=function(i,t){return ZB(this,i,t)},e}(),Yy=new Ts(50);function jB(e){if("string"==typeof e){var i=Yy.get(e);return i&&i.image}return e}function Xy(e,i,t,n,r){if(e){if("string"==typeof e){if(i&&i.__zrImageSrc===e||!t)return i;var a=Yy.get(e),o={hostEl:t,cb:n,cbPayload:r};return a?!sg(i=a.image)&&a.pending.push(o):((i=xn.loadImage(e,WS,WS)).__zrImageSrc=e,Yy.put(e,i.__cachedImgObj={image:i,pending:[o]})),i}return e}return i}function WS(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var i=0;i<e.pending.length;i++){var t=e.pending[i],n=t.cb;n&&n(this,t.cbPayload),t.hostEl.dirty()}e.pending.length=0}function sg(e){return e&&e.width&&e.height}var Uy=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function qB(e,i,t,n,r){if(!i)return"";var a=(e+"").split("\n");r=YS(i,t,n,r);for(var o=0,s=a.length;o<s;o++)a[o]=XS(a[o],r);return a.join("\n")}function YS(e,i,t,n){var r=ft({},n=n||{});r.font=i,t=qt(t,"..."),r.maxIterations=qt(n.maxIterations,2);var a=r.minChar=qt(n.minChar,0);r.cnCharWidth=Zr("\u56fd",i);var o=r.ascCharWidth=Zr("a",i);r.placeholder=qt(n.placeholder,"");for(var s=e=Math.max(0,e-1),l=0;l<a&&s>=o;l++)s-=o;var c=Zr(t,i);return c>s&&(t="",c=0),s=e-c,r.ellipsis=t,r.ellipsisWidth=c,r.contentWidth=s,r.containerWidth=e,r}function XS(e,i){var t=i.containerWidth,n=i.font,r=i.contentWidth;if(!t)return"";var a=Zr(e,n);if(a<=t)return e;for(var o=0;;o++){if(a<=r||o>=i.maxIterations){e+=i.ellipsis;break}var s=0===o?KB(e,r,i.ascCharWidth,i.cnCharWidth):a>0?Math.floor(e.length*r/a):0;a=Zr(e=e.substr(0,s),n)}return""===e&&(e=i.placeholder),e}function KB(e,i,t,n){for(var r=0,a=0,o=e.length;a<o&&r<i;a++){var s=e.charCodeAt(a);r+=0<=s&&s<=127?t:n}return a}var JB=function e(){},US=function e(i){this.tokens=[],i&&(this.tokens=i)},tV=function e(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function Zy(e,i,t,n,r){var u,h,a=""===i,o=r&&t.rich[r]||{},s=e.lines,l=o.font||t.font,c=!1;if(n){var f=o.padding,p=f?f[1]+f[3]:0;if(null!=o.width&&"auto"!==o.width){var m=no(o.width,n.width)+p;s.length>0&&m+n.accumWidth>n.width&&(u=i.split("\n"),c=!0),n.accumWidth=m}else{var b=ZS(i,l,n.width,n.breakAll,n.accumWidth);n.accumWidth=b.accumWidth+p,h=b.linesWidths,u=b.lines}}else u=i.split("\n");for(var _=0;_<u.length;_++){var w=u[_],T=new JB;if(T.styleName=r,T.text=w,T.isLineHolder=!w&&!a,T.width="number"==typeof o.width?o.width:h?h[_]:Zr(w,l),_||c)s.push(new US([T]));else{var A=(s[s.length-1]||(s[0]=new US)).tokens,P=A.length;1===P&&A[0].isLineHolder?A[0]=T:(w||!P||a)&&A.push(T)}}}var nV=bi(",&?/;] ".split(""),function(e,i){return e[i]=!0,e},{});function rV(e){return!function iV(e){var i=e.charCodeAt(0);return i>=32&&i<=591||i>=880&&i<=4351||i>=4608&&i<=5119||i>=7680&&i<=8303}(e)||!!nV[e]}function ZS(e,i,t,n,r){for(var a=[],o=[],s="",l="",c=0,u=0,h=0;h<e.length;h++){var f=e.charAt(h);if("\n"!==f){var p=Zr(f,i),m=!n&&!rV(f);(a.length?u+p>t:r+u+p>t)?u?(s||l)&&(m?(s||(s=l,l="",u=c=0),a.push(s),o.push(u-c),l+=f,s="",u=c+=p):(l&&(s+=l,l="",c=0),a.push(s),o.push(u),s=f,u=p)):m?(a.push(l),o.push(c),l=f,c=p):(a.push(f),o.push(p)):(u+=p,m?(l+=f,c+=p):(l&&(s+=l,l="",c=0),s+=f))}else l&&(s+=l,u+=c),a.push(s),o.push(u),s="",l="",c=0,u=0}return!a.length&&!s&&(s=e,l="",c=0),l&&(s+=l),s&&(a.push(s),o.push(u)),1===a.length&&(u+=r),{accumWidth:u,lines:a,linesWidths:o}}var $y="__zr_style_"+Math.round(10*Math.random()),Ic={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},lg={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Ic[$y]=!0;var $S=["z","z2","invisible"],aV=["invisible"],oV=function(e){function i(t){return e.call(this,t)||this}return Ye(i,e),i.prototype._init=function(t){for(var n=he(t),r=0;r<n.length;r++){var a=n[r];"style"===a?this.useStyle(t[a]):e.prototype.attrKV.call(this,a,t[a])}this.style||this.useStyle({})},i.prototype.beforeBrush=function(){},i.prototype.afterBrush=function(){},i.prototype.innerBeforeBrush=function(){},i.prototype.innerAfterBrush=function(){},i.prototype.shouldBePainted=function(t,n,r,a){var o=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function sV(e,i,t){return jy.copy(e.getBoundingRect()),e.transform&&jy.applyTransform(e.transform),qy.width=i,qy.height=t,!jy.intersect(qy)}(this,t,n)||o&&!o[0]&&!o[3])return!1;if(r&&this.__clipPaths)for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1;if(a&&this.parent)for(var l=this.parent;l;){if(l.ignore)return!1;l=l.parent}return!0},i.prototype.contain=function(t,n){return this.rectContain(t,n)},i.prototype.traverse=function(t,n){t.call(n,this)},i.prototype.rectContain=function(t,n){var r=this.transformCoordToLocal(t,n);return this.getBoundingRect().contain(r[0],r[1])},i.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,r=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,l=a.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new $t(0,0,0,0)),n?$t.applyTransform(t,r,n):t.copy(r),(o||s||l)&&(t.width+=2*o+Math.abs(s),t.height+=2*o+Math.abs(l),t.x=Math.min(t.x,t.x+s-o),t.y=Math.min(t.y,t.y+l-o));var c=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-c),t.y=Math.floor(t.y-c),t.width=Math.ceil(t.width+1+2*c),t.height=Math.ceil(t.height+1+2*c))}return t},i.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new $t(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},i.prototype.getPrevPaintRect=function(){return this._prevPaintRect},i.prototype.animateStyle=function(t){return this.animate("style",t)},i.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},i.prototype.attrKV=function(t,n){"style"!==t?e.prototype.attrKV.call(this,t,n):this.style?this.setStyle(n):this.useStyle(n)},i.prototype.setStyle=function(t,n){return"string"==typeof t?this.style[t]=n:ft(this.style,t),this.dirtyStyle(),this},i.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},i.prototype.dirty=function(){this.dirtyStyle()},i.prototype.styleChanged=function(){return!!(2&this.__dirty)},i.prototype.styleUpdated=function(){this.__dirty&=-3},i.prototype.createStyle=function(t){return Ba(Ic,t)},i.prototype.useStyle=function(t){t[$y]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},i.prototype.isStyleObject=function(t){return t[$y]},i.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(t,n,$S)},i.prototype._applyStateObj=function(t,n,r,a,o,s){e.prototype._applyStateObj.call(this,t,n,r,a,o,s);var c,l=!(n&&a);if(n&&n.style?o?a?c=n.style:(c=this._mergeStyle(this.createStyle(),r.style),this._mergeStyle(c,n.style)):(c=this._mergeStyle(this.createStyle(),a?this.style:r.style),this._mergeStyle(c,n.style)):l&&(c=r.style),c)if(o){var u=this.style;if(this.style=this.createStyle(l?{}:u),l)for(var h=he(u),f=0;f<h.length;f++)(p=h[f])in c&&(c[p]=c[p],this.style[p]=u[p]);var m=he(c);for(f=0;f<m.length;f++)this.style[p=m[f]]=this.style[p];this._transitionState(t,{style:c},s,this.getAnimationStyleProps())}else this.useStyle(c);var b=this.__inHover?aV:$S;for(f=0;f<b.length;f++){var p=b[f];n&&null!=n[p]?this[p]=n[p]:l&&null!=r[p]&&(this[p]=r[p])}},i.prototype._mergeStates=function(t){for(var r,n=e.prototype._mergeStates.call(this,t),a=0;a<t.length;a++){var o=t[a];o.style&&this._mergeStyle(r=r||{},o.style)}return r&&(n.style=r),n},i.prototype._mergeStyle=function(t,n){return ft(t,n),t},i.prototype.getAnimationStyleProps=function(){return lg},i.initDefaultProps=((t=i.prototype).type="displayable",t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor="pointer",t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,void(t.__dirty=2|An)),i;var t}(yS),jy=new $t(0,0,0,0),qy=new $t(0,0,0,0);const ma=oV;var Ar=Math.min,Lr=Math.max,Ky=Math.sin,Qy=Math.cos,Oc=2*Math.PI,cg=Oi(),ug=Oi(),hg=Oi();function dg(e,i,t){if(0!==e.length){for(var n=e[0],r=n[0],a=n[0],o=n[1],s=n[1],l=1;l<e.length;l++)r=Ar(r,(n=e[l])[0]),a=Lr(a,n[0]),o=Ar(o,n[1]),s=Lr(s,n[1]);i[0]=r,i[1]=o,t[0]=a,t[1]=s}}function jS(e,i,t,n,r,a){r[0]=Ar(e,t),r[1]=Ar(i,n),a[0]=Lr(e,t),a[1]=Lr(i,n)}var qS=[],KS=[];function lV(e,i,t,n,r,a,o,s,l,c){var u=k,h=vi,f=u(e,t,r,o,qS);l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0;for(var p=0;p<f;p++){var m=h(e,t,r,o,qS[p]);l[0]=Ar(m,l[0]),c[0]=Lr(m,c[0])}for(f=u(i,n,a,s,KS),p=0;p<f;p++){var b=h(i,n,a,s,KS[p]);l[1]=Ar(b,l[1]),c[1]=Lr(b,c[1])}l[0]=Ar(e,l[0]),c[0]=Lr(e,c[0]),l[0]=Ar(o,l[0]),c[0]=Lr(o,c[0]),l[1]=Ar(i,l[1]),c[1]=Lr(i,c[1]),l[1]=Ar(s,l[1]),c[1]=Lr(s,c[1])}function cV(e,i,t,n,r,a,o,s){var l=Ct,c=rt,u=Lr(Ar(l(e,t,r),1),0),h=Lr(Ar(l(i,n,a),1),0),f=c(e,t,r,u),p=c(i,n,a,h);o[0]=Ar(e,r,f),o[1]=Ar(i,a,p),s[0]=Lr(e,r,f),s[1]=Lr(i,a,p)}function uV(e,i,t,n,r,a,o,s,l){var c=zn,u=Tn,h=Math.abs(r-a);if(h%Oc<1e-4&&h>1e-4)return s[0]=e-t,s[1]=i-n,l[0]=e+t,void(l[1]=i+n);if(cg[0]=Qy(r)*t+e,cg[1]=Ky(r)*n+i,ug[0]=Qy(a)*t+e,ug[1]=Ky(a)*n+i,c(s,cg,ug),u(l,cg,ug),(r%=Oc)<0&&(r+=Oc),(a%=Oc)<0&&(a+=Oc),r>a&&!o?a+=Oc:r<a&&o&&(r+=Oc),o){var f=a;a=r,r=f}for(var p=0;p<a;p+=Math.PI/2)p>r&&(hg[0]=Qy(p)*t+e,hg[1]=Ky(p)*n+i,c(s,hg,s),u(l,hg,l))}var ii={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Ec=[],Fc=[],Go=[],wl=[],Ho=[],Wo=[],Jy=Math.min,t_=Math.max,Rc=Math.cos,Bc=Math.sin,ks=Math.abs,e_=Math.PI,Tl=2*e_,i_=typeof Float32Array<"u",Jd=[];function n_(e){return Math.round(e/e_*1e8)/1e8%2*e_}function r_(e,i){var t=n_(e[0]);t<0&&(t+=Tl);var r=e[1];r+=t-e[0],!i&&r-t>=Tl?r=t+Tl:i&&t-r>=Tl?r=t-Tl:!i&&t>r?r=t+(Tl-n_(t-r)):i&&t<r&&(r=t-(Tl-n_(r-t))),e[0]=t,e[1]=r}var hV=function(){function e(i){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,i&&(this._saveData=!1),this._saveData&&(this.data=[])}return e.prototype.increaseVersion=function(){this._version++},e.prototype.getVersion=function(){return this._version},e.prototype.setScale=function(i,t,n){(n=n||0)>0&&(this._ux=ks(n/ig/i)||0,this._uy=ks(n/ig/t)||0)},e.prototype.setDPR=function(i){this.dpr=i},e.prototype.setContext=function(i){this._ctx=i},e.prototype.getContext=function(){return this._ctx},e.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},e.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},e.prototype.moveTo=function(i,t){return this._drawPendingPt(),this.addData(ii.M,i,t),this._ctx&&this._ctx.moveTo(i,t),this._x0=i,this._y0=t,this._xi=i,this._yi=t,this},e.prototype.lineTo=function(i,t){var n=ks(i-this._xi),r=ks(t-this._yi),a=n>this._ux||r>this._uy;if(this.addData(ii.L,i,t),this._ctx&&a&&this._ctx.lineTo(i,t),a)this._xi=i,this._yi=t,this._pendingPtDist=0;else{var o=n*n+r*r;o>this._pendingPtDist&&(this._pendingPtX=i,this._pendingPtY=t,this._pendingPtDist=o)}return this},e.prototype.bezierCurveTo=function(i,t,n,r,a,o){return this._drawPendingPt(),this.addData(ii.C,i,t,n,r,a,o),this._ctx&&this._ctx.bezierCurveTo(i,t,n,r,a,o),this._xi=a,this._yi=o,this},e.prototype.quadraticCurveTo=function(i,t,n,r){return this._drawPendingPt(),this.addData(ii.Q,i,t,n,r),this._ctx&&this._ctx.quadraticCurveTo(i,t,n,r),this._xi=n,this._yi=r,this},e.prototype.arc=function(i,t,n,r,a,o){return this._drawPendingPt(),Jd[0]=r,Jd[1]=a,r_(Jd,o),this.addData(ii.A,i,t,n,n,r=Jd[0],(a=Jd[1])-r,0,o?0:1),this._ctx&&this._ctx.arc(i,t,n,r,a,o),this._xi=Rc(a)*n+i,this._yi=Bc(a)*n+t,this},e.prototype.arcTo=function(i,t,n,r,a){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(i,t,n,r,a),this},e.prototype.rect=function(i,t,n,r){return this._drawPendingPt(),this._ctx&&this._ctx.rect(i,t,n,r),this.addData(ii.R,i,t,n,r),this},e.prototype.closePath=function(){this._drawPendingPt(),this.addData(ii.Z);var i=this._ctx,t=this._x0,n=this._y0;return i&&i.closePath(),this._xi=t,this._yi=n,this},e.prototype.fill=function(i){i&&i.fill(),this.toStatic()},e.prototype.stroke=function(i){i&&i.stroke(),this.toStatic()},e.prototype.len=function(){return this._len},e.prototype.setData=function(i){var t=i.length;(!this.data||this.data.length!==t)&&i_&&(this.data=new Float32Array(t));for(var n=0;n<t;n++)this.data[n]=i[n];this._len=t},e.prototype.appendPath=function(i){i instanceof Array||(i=[i]);for(var t=i.length,n=0,r=this._len,a=0;a<t;a++)n+=i[a].len();for(i_&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n)),a=0;a<t;a++)for(var o=i[a].data,s=0;s<o.length;s++)this.data[r++]=o[s];this._len=r},e.prototype.addData=function(i,t,n,r,a,o,s,l,c){if(this._saveData){var u=this.data;this._len+arguments.length>u.length&&(this._expandData(),u=this.data);for(var h=0;h<arguments.length;h++)u[this._len++]=arguments[h]}},e.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},e.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var i=[],t=0;t<this._len;t++)i[t]=this.data[t];this.data=i}},e.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var i=this.data;i instanceof Array&&(i.length=this._len,i_&&this._len>11&&(this.data=new Float32Array(i)))}},e.prototype.getBoundingRect=function(){Go[0]=Go[1]=Ho[0]=Ho[1]=Number.MAX_VALUE,wl[0]=wl[1]=Wo[0]=Wo[1]=-Number.MAX_VALUE;var o,i=this.data,t=0,n=0,r=0,a=0;for(o=0;o<this._len;){var s=i[o++],l=1===o;switch(l&&(r=t=i[o],a=n=i[o+1]),s){case ii.M:t=r=i[o++],n=a=i[o++],Ho[0]=r,Ho[1]=a,Wo[0]=r,Wo[1]=a;break;case ii.L:jS(t,n,i[o],i[o+1],Ho,Wo),t=i[o++],n=i[o++];break;case ii.C:lV(t,n,i[o++],i[o++],i[o++],i[o++],i[o],i[o+1],Ho,Wo),t=i[o++],n=i[o++];break;case ii.Q:cV(t,n,i[o++],i[o++],i[o],i[o+1],Ho,Wo),t=i[o++],n=i[o++];break;case ii.A:var c=i[o++],u=i[o++],h=i[o++],f=i[o++],p=i[o++],m=i[o++]+p;o+=1;var b=!i[o++];l&&(r=Rc(p)*h+c,a=Bc(p)*f+u),uV(c,u,h,f,p,m,b,Ho,Wo),t=Rc(m)*h+c,n=Bc(m)*f+u;break;case ii.R:jS(r=t=i[o++],a=n=i[o++],r+i[o++],a+i[o++],Ho,Wo);break;case ii.Z:t=r,n=a}zn(Go,Go,Ho),Tn(wl,wl,Wo)}return 0===o&&(Go[0]=Go[1]=wl[0]=wl[1]=0),new $t(Go[0],Go[1],wl[0]-Go[0],wl[1]-Go[1])},e.prototype._calculateLength=function(){var i=this.data,t=this._len,n=this._ux,r=this._uy,a=0,o=0,s=0,l=0;this._pathSegLen||(this._pathSegLen=[]);for(var c=this._pathSegLen,u=0,h=0,f=0;f<t;){var p=i[f++],m=1===f;m&&(s=a=i[f],l=o=i[f+1]);var b=-1;switch(p){case ii.M:a=s=i[f++],o=l=i[f++];break;case ii.L:var _=i[f++],A=(w=i[f++])-o;(ks(T=_-a)>n||ks(A)>r||f===t-1)&&(b=Math.sqrt(T*T+A*A),a=_,o=w);break;case ii.C:var P=i[f++],F=i[f++],w=(_=i[f++],i[f++]),O=i[f++],V=i[f++];b=K(a,o,P,F,_,w,O,V,10),a=O,o=V;break;case ii.Q:b=Ae(a,o,P=i[f++],F=i[f++],_=i[f++],w=i[f++],10),a=_,o=w;break;case ii.A:var N=i[f++],G=i[f++],H=i[f++],X=i[f++],q=i[f++],j=i[f++],J=j+q;f+=1,m&&(s=Rc(q)*H+N,l=Bc(q)*X+G),b=t_(H,X)*Jy(Tl,Math.abs(j)),a=Rc(J)*H+N,o=Bc(J)*X+G;break;case ii.R:s=a=i[f++],l=o=i[f++],b=2*i[f++]+2*i[f++];break;case ii.Z:var T=s-a;A=l-o,b=Math.sqrt(T*T+A*A),a=s,o=l}b>=0&&(c[h++]=b,u+=b)}return this._pathLen=u,u},e.prototype.rebuildPath=function(i,t){var s,l,c,u,h,f,m,T,P,F,n=this.data,r=this._ux,a=this._uy,o=this._len,p=t<1,_=0,w=0,A=0;if(!p||(this._pathSegLen||this._calculateLength(),m=this._pathSegLen,T=t*this._pathLen))t:for(var O=0;O<o;){var V=n[O++],N=1===O;switch(N&&(s=c=n[O],l=u=n[O+1]),V!==ii.L&&A>0&&(i.lineTo(P,F),A=0),V){case ii.M:s=c=n[O++],l=u=n[O++],i.moveTo(c,u);break;case ii.L:h=n[O++],f=n[O++];var G=ks(h-c),H=ks(f-u);if(G>r||H>a){if(p){if(_+(X=m[w++])>T){i.lineTo(c*(1-(q=(T-_)/X))+h*q,u*(1-q)+f*q);break t}_+=X}i.lineTo(h,f),c=h,u=f,A=0}else{var j=G*G+H*H;j>A&&(P=h,F=f,A=j)}break;case ii.C:var J=n[O++],tt=n[O++],et=n[O++],lt=n[O++],st=n[O++],ut=n[O++];if(p){if(_+(X=m[w++])>T){R(c,J,et,st,q=(T-_)/X,Ec),R(u,tt,lt,ut,q,Fc),i.bezierCurveTo(Ec[1],Fc[1],Ec[2],Fc[2],Ec[3],Fc[3]);break t}_+=X}i.bezierCurveTo(J,tt,et,lt,st,ut),c=st,u=ut;break;case ii.Q:if(J=n[O++],tt=n[O++],et=n[O++],lt=n[O++],p){if(_+(X=m[w++])>T){Wt(c,J,et,q=(T-_)/X,Ec),Wt(u,tt,lt,q,Fc),i.quadraticCurveTo(Ec[1],Fc[1],Ec[2],Fc[2]);break t}_+=X}i.quadraticCurveTo(J,tt,et,lt),c=et,u=lt;break;case ii.A:var vt=n[O++],_t=n[O++],St=n[O++],Et=n[O++],Ft=n[O++],ne=n[O++],le=n[O++],Ut=!n[O++],Vt=St>Et?St:Et,bt=ks(St-Et)>.001,kt=Ft+ne,Tt=!1;if(p&&(_+(X=m[w++])>T&&(kt=Ft+ne*(T-_)/X,Tt=!0),_+=X),bt&&i.ellipse?i.ellipse(vt,_t,St,Et,le,Ft,kt,Ut):i.arc(vt,_t,Vt,Ft,kt,Ut),Tt)break t;N&&(s=Rc(Ft)*St+vt,l=Bc(Ft)*Et+_t),c=Rc(kt)*St+vt,u=Bc(kt)*Et+_t;break;case ii.R:s=c=n[O],l=u=n[O+1],h=n[O++],f=n[O++];var gt=n[O++],fe=n[O++];if(p){if(_+(X=m[w++])>T){var Ht=T-_;i.moveTo(h,f),i.lineTo(h+Jy(Ht,gt),f),(Ht-=gt)>0&&i.lineTo(h+gt,f+Jy(Ht,fe)),(Ht-=fe)>0&&i.lineTo(h+t_(gt-Ht,0),f+fe),(Ht-=gt)>0&&i.lineTo(h,f+t_(fe-Ht,0));break t}_+=X}i.rect(h,f,gt,fe);break;case ii.Z:if(p){var X;if(_+(X=m[w++])>T){var q;i.lineTo(c*(1-(q=(T-_)/X))+s*q,u*(1-q)+l*q);break t}_+=X}i.closePath(),c=s,u=l}}},e.prototype.clone=function(){var i=new e,t=this.data;return i.data=t.slice?t.slice():Array.prototype.slice.call(t),i._len=this._len,i},e.CMD=ii,e.initDefaultProps=function(){var i=e.prototype;i._saveData=!0,i._ux=0,i._uy=0,i._pendingPtDist=0,i._version=0}(),e}();const Yo=hV;function Ml(e,i,t,n,r,a,o){if(0===r)return!1;var l,s=r;if(o>i+s&&o>n+s||o<i-s&&o<n-s||a>e+s&&a>t+s||a<e-s&&a<t-s)return!1;if(e===t)return Math.abs(a-e)<=s/2;var u=(l=(i-n)/(e-t))*a-o+(e*n-t*i)/(e-t);return u*u/(l*l+1)<=s/2*s/2}function dV(e,i,t,n,r,a,o,s,l,c,u){if(0===l)return!1;var h=l;return!(u>i+h&&u>n+h&&u>a+h&&u>s+h||u<i-h&&u<n-h&&u<a-h&&u<s-h||c>e+h&&c>t+h&&c>r+h&&c>o+h||c<e-h&&c<t-h&&c<r-h&&c<o-h)&&Y(e,i,t,n,r,a,o,s,c,u,null)<=h/2}function QS(e,i,t,n,r,a,o,s,l){if(0===o)return!1;var c=o;return!(l>i+c&&l>n+c&&l>a+c||l<i-c&&l<n-c&&l<a-c||s>e+c&&s>t+c&&s>r+c||s<e-c&&s<t-c&&s<r-c)&&ce(e,i,t,n,r,a,s,l,null)<=c/2}var JS=2*Math.PI;function $r(e){return(e%=JS)<0&&(e+=JS),e}var tf=2*Math.PI;function fV(e,i,t,n,r,a,o,s,l){if(0===o)return!1;var c=o;s-=e,l-=i;var u=Math.sqrt(s*s+l*l);if(u-c>t||u+c<t)return!1;if(Math.abs(n-r)%tf<1e-4)return!0;if(a){var h=n;n=$r(r),r=$r(h)}else n=$r(n),r=$r(r);n>r&&(r+=tf);var f=Math.atan2(l,s);return f<0&&(f+=tf),f>=n&&f<=r||f+tf>=n&&f+tf<=r}function Ds(e,i,t,n,r,a){if(a>i&&a>n||a<i&&a<n||n===i)return 0;var o=(a-i)/(n-i),s=n<i?1:-1;(1===o||0===o)&&(s=n<i?.5:-.5);var l=o*(t-e)+e;return l===r?1/0:l>r?s:0}var Al=Yo.CMD,Vc=2*Math.PI,pV=1e-4,sr=[-1,-1,-1],ya=[-1,-1];function vV(){var e=ya[0];ya[0]=ya[1],ya[1]=e}function mV(e,i,t,n,r,a,o,s,l,c){if(c>i&&c>n&&c>a&&c>s||c<i&&c<n&&c<a&&c<s)return 0;var u=S(i,n,a,s,c,sr);if(0===u)return 0;for(var h=0,f=-1,p=void 0,m=void 0,b=0;b<u;b++){var _=sr[b],w=0===_||1===_?.5:1;vi(e,t,r,o,_)<l||(f<0&&(f=k(i,n,a,s,ya),ya[1]<ya[0]&&f>1&&vV(),p=vi(i,n,a,s,ya[0]),f>1&&(m=vi(i,n,a,s,ya[1]))),h+=2===f?_<ya[0]?p<i?w:-w:_<ya[1]?m<p?w:-w:s<m?w:-w:_<ya[0]?p<i?w:-w:s<p?w:-w)}return h}function yV(e,i,t,n,r,a,o,s){if(s>i&&s>n&&s>a||s<i&&s<n&&s<a)return 0;var l=function xt(e,i,t,n,r){var a=e-2*i+t,o=2*(i-e),s=e-n,l=0;if(sn(a))ah(o)&&(c=-s/o)>=0&&c<=1&&(r[l++]=c);else{var u=o*o-4*a*s;if(sn(u))(c=-o/(2*a))>=0&&c<=1&&(r[l++]=c);else if(u>0){var c,h=Hn(u),f=(-o-h)/(2*a);(c=(-o+h)/(2*a))>=0&&c<=1&&(r[l++]=c),f>=0&&f<=1&&(r[l++]=f)}}return l}(i,n,a,s,sr);if(0===l)return 0;var c=Ct(i,n,a);if(c>=0&&c<=1){for(var u=0,h=rt(i,n,a,c),f=0;f<l;f++){var p=0===sr[f]||1===sr[f]?.5:1;rt(e,t,r,sr[f])<o||(u+=sr[f]<c?h<i?p:-p:a<h?p:-p)}return u}return p=0===sr[0]||1===sr[0]?.5:1,rt(e,t,r,sr[0])<o?0:a<i?p:-p}function _V(e,i,t,n,r,a,o,s){if((s-=i)>t||s<-t)return 0;var l=Math.sqrt(t*t-s*s);sr[0]=-l,sr[1]=l;var c=Math.abs(n-r);if(c<1e-4)return 0;if(c>=Vc-1e-4){n=0,r=Vc;var u=a?1:-1;return o>=sr[0]+e&&o<=sr[1]+e?u:0}if(n>r){var h=n;n=r,r=h}n<0&&(n+=Vc,r+=Vc);for(var f=0,p=0;p<2;p++){var m=sr[p];if(m+e>o){var b=Math.atan2(s,m);u=a?1:-1,b<0&&(b=Vc+b),(b>=n&&b<=r||b+Vc>=n&&b+Vc<=r)&&(b>Math.PI/2&&b<1.5*Math.PI&&(u=-u),f+=u)}}return f}function tw(e,i,t,n,r){for(var f,p,a=e.data,o=e.len(),s=0,l=0,c=0,u=0,h=0,m=0;m<o;){var b=a[m++],_=1===m;switch(b===Al.M&&m>1&&(t||(s+=Ds(l,c,u,h,n,r))),_&&(u=l=a[m],h=c=a[m+1]),b){case Al.M:l=u=a[m++],c=h=a[m++];break;case Al.L:if(t){if(Ml(l,c,a[m],a[m+1],i,n,r))return!0}else s+=Ds(l,c,a[m],a[m+1],n,r)||0;l=a[m++],c=a[m++];break;case Al.C:if(t){if(dV(l,c,a[m++],a[m++],a[m++],a[m++],a[m],a[m+1],i,n,r))return!0}else s+=mV(l,c,a[m++],a[m++],a[m++],a[m++],a[m],a[m+1],n,r)||0;l=a[m++],c=a[m++];break;case Al.Q:if(t){if(QS(l,c,a[m++],a[m++],a[m],a[m+1],i,n,r))return!0}else s+=yV(l,c,a[m++],a[m++],a[m],a[m+1],n,r)||0;l=a[m++],c=a[m++];break;case Al.A:var w=a[m++],T=a[m++],A=a[m++],P=a[m++],F=a[m++],O=a[m++];m+=1;var V=!!(1-a[m++]);f=Math.cos(F)*A+w,p=Math.sin(F)*P+T,_?(u=f,h=p):s+=Ds(l,c,f,p,n,r);var N=(n-w)*P/A+w;if(t){if(fV(w,T,P,F,F+O,V,i,N,r))return!0}else s+=_V(w,T,P,F,F+O,V,N,r);l=Math.cos(F+O)*A+w,c=Math.sin(F+O)*P+T;break;case Al.R:if(u=l=a[m++],h=c=a[m++],f=u+a[m++],p=h+a[m++],t){if(Ml(u,h,f,h,i,n,r)||Ml(f,h,f,p,i,n,r)||Ml(f,p,u,p,i,n,r)||Ml(u,p,u,h,i,n,r))return!0}else s+=Ds(f,h,f,p,n,r),s+=Ds(u,p,u,h,n,r);break;case Al.Z:if(t){if(Ml(l,c,u,h,i,n,r))return!0}else s+=Ds(l,c,u,h,n,r);l=u,c=h}}return!t&&!function gV(e,i){return Math.abs(e-i)<pV}(c,h)&&(s+=Ds(l,c,u,h,n,r)||0),0!==s}var fg=Rt({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Ic),CV={style:Rt({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},lg.style)},a_=Bo.concat(["invisible","culling","z","z2","zlevel","parent"]),SV=function(e){function i(t){return e.call(this,t)||this}return Ye(i,e),i.prototype.update=function(){var t=this;e.prototype.update.call(this);var n=this.style;if(n.decal){var r=this._decalEl=this._decalEl||new i;r.buildPath===i.prototype.buildPath&&(r.buildPath=function(l){t.buildPath(l,t.shape)}),r.silent=!0;var a=r.style;for(var o in n)a[o]!==n[o]&&(a[o]=n[o]);a.fill=n.fill?n.decal:null,a.decal=null,a.shadowColor=null,n.strokeFirst&&(a.stroke=null);for(var s=0;s<a_.length;++s)r[a_[s]]=this[a_[s]];r.__dirty|=An}else this._decalEl&&(this._decalEl=null)},i.prototype.getDecalElement=function(){return this._decalEl},i.prototype._init=function(t){var n=he(t);this.shape=this.getDefaultShape();var r=this.getDefaultStyle();r&&this.useStyle(r);for(var a=0;a<n.length;a++){var o=n[a],s=t[o];"style"===o?this.style?ft(this.style,s):this.useStyle(s):"shape"===o?ft(this.shape,s):e.prototype.attrKV.call(this,o,s)}this.style||this.useStyle({})},i.prototype.getDefaultStyle=function(){return null},i.prototype.getDefaultShape=function(){return{}},i.prototype.canBeInsideText=function(){return this.hasFill()},i.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if(Lt(t)){var n=pa(t,0);return n>.5?Ly:n>.2?"#eee":ky}if(t)return ky}return Ly},i.prototype.getInsideTextStroke=function(t){var n=this.style.fill;if(Lt(n)){var r=this.__zr;if(!(!r||!r.isDarkMode())==pa(t,0)<.4)return n}},i.prototype.buildPath=function(t,n,r){},i.prototype.pathUpdated=function(){this.__dirty&=~$a},i.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},i.prototype.createPathProxy=function(){this.path=new Yo(!1)},i.prototype.hasStroke=function(){var t=this.style,n=t.stroke;return!(null==n||"none"===n||!(t.lineWidth>0))},i.prototype.hasFill=function(){var n=this.style.fill;return null!=n&&"none"!==n},i.prototype.getBoundingRect=function(){var t=this._rect,n=this.style,r=!t;if(r){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&$a)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),t=o.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||r){s.copy(t);var l=n.strokeNoScale?this.getLineScale():1,c=n.lineWidth;this.hasFill()||(c=Math.max(c,this.strokeContainThreshold??4)),l>1e-10&&(s.width+=c/l,s.height+=c/l,s.x-=c/l/2,s.y-=c/l/2)}return s}return t},i.prototype.contain=function(t,n){var r=this.transformCoordToLocal(t,n),a=this.getBoundingRect(),o=this.style;if(a.contain(t=r[0],n=r[1])){var s=this.path;if(this.hasStroke()){var l=o.lineWidth,c=o.strokeNoScale?this.getLineScale():1;if(c>1e-10&&(this.hasFill()||(l=Math.max(l,this.strokeContainThreshold)),function bV(e,i,t,n){return tw(e,i,!0,t,n)}(s,l/c,t,n)))return!0}if(this.hasFill())return function xV(e,i,t){return tw(e,0,!1,i,t)}(s,t,n)}return!1},i.prototype.dirtyShape=function(){this.__dirty|=$a,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},i.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},i.prototype.animateShape=function(t){return this.animate("shape",t)},i.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},i.prototype.attrKV=function(t,n){"shape"===t?this.setShape(n):e.prototype.attrKV.call(this,t,n)},i.prototype.setShape=function(t,n){var r=this.shape;return r||(r=this.shape={}),"string"==typeof t?r[t]=n:ft(r,t),this.dirtyShape(),this},i.prototype.shapeChanged=function(){return!!(this.__dirty&$a)},i.prototype.createStyle=function(t){return Ba(fg,t)},i.prototype._innerSaveToNormal=function(t){e.prototype._innerSaveToNormal.call(this,t);var n=this._normalState;t.shape&&!n.shape&&(n.shape=ft({},this.shape))},i.prototype._applyStateObj=function(t,n,r,a,o,s){e.prototype._applyStateObj.call(this,t,n,r,a,o,s);var c,l=!(n&&a);if(n&&n.shape?o?a?c=n.shape:(c=ft({},r.shape),ft(c,n.shape)):(c=ft({},a?this.shape:r.shape),ft(c,n.shape)):l&&(c=r.shape),c)if(o){this.shape=ft({},this.shape);for(var u={},h=he(c),f=0;f<h.length;f++){var p=h[f];"object"==typeof c[p]?this.shape[p]=c[p]:u[p]=c[p]}this._transitionState(t,{shape:u},s)}else this.shape=c,this.dirtyShape()},i.prototype._mergeStates=function(t){for(var r,n=e.prototype._mergeStates.call(this,t),a=0;a<t.length;a++){var o=t[a];o.shape&&this._mergeStyle(r=r||{},o.shape)}return r&&(n.shape=r),n},i.prototype.getAnimationStyleProps=function(){return CV},i.prototype.isZeroArea=function(){return!1},i.extend=function(t){var n=function(a){function o(s){var l=a.call(this,s)||this;return t.init&&t.init.call(l,s),l}return Ye(o,a),o.prototype.getDefaultStyle=function(){return Gt(t.style)},o.prototype.getDefaultShape=function(){return Gt(t.shape)},o}(i);for(var r in t)"function"==typeof t[r]&&(n.prototype[r]=t[r]);return n},i.initDefaultProps=((t=i.prototype).type="path",t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,void(t.__dirty=2|An|$a)),i;var t}(ma);const ge=SV;var wV=Rt({strokeFirst:!0,font:ni,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},fg),ew=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Ye(i,e),i.prototype.hasStroke=function(){var t=this.style,n=t.stroke;return null!=n&&"none"!==n&&t.lineWidth>0},i.prototype.hasFill=function(){var n=this.style.fill;return null!=n&&"none"!==n},i.prototype.createStyle=function(t){return Ba(wV,t)},i.prototype.setBoundingRect=function(t){this._rect=t},i.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var n=t.text;null!=n?n+="":n="";var r=Ud(n,t.font,t.textAlign,t.textBaseline);if(r.x+=t.x||0,r.y+=t.y||0,this.hasStroke()){var a=t.lineWidth;r.x-=a/2,r.y-=a/2,r.width+=a,r.height+=a}this._rect=r}return this._rect},i.initDefaultProps=void(i.prototype.dirtyRectTolerance=10),i}(ma);ew.prototype.type="tspan";const ef=ew;var TV=Rt({x:0,y:0},Ic),MV={style:Rt({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},lg.style)},iw=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Ye(i,e),i.prototype.createStyle=function(t){return Ba(TV,t)},i.prototype._getSize=function(t){var n=this.style,r=n[t];if(null!=r)return r;var a=function AV(e){return!!(e&&"string"!=typeof e&&e.width&&e.height)}(n.image)?n.image:this.__image;if(!a)return 0;var o="width"===t?"height":"width",s=n[o];return null==s?a[t]:a[t]/a[o]*s},i.prototype.getWidth=function(){return this._getSize("width")},i.prototype.getHeight=function(){return this._getSize("height")},i.prototype.getAnimationStyleProps=function(){return MV},i.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new $t(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},i}(ma);iw.prototype.type="image";const Pn=iw;var yh=Math.round;function nw(e,i,t){if(i){var n=i.x1,r=i.x2,a=i.y1,o=i.y2;e.x1=n,e.x2=r,e.y1=a,e.y2=o;var s=t&&t.lineWidth;return s&&(yh(2*n)===yh(2*r)&&(e.x1=e.x2=zc(n,s,!0)),yh(2*a)===yh(2*o)&&(e.y1=e.y2=zc(a,s,!0))),e}}function rw(e,i,t){if(i){var n=i.x,r=i.y,a=i.width,o=i.height;e.x=n,e.y=r,e.width=a,e.height=o;var s=t&&t.lineWidth;return s&&(e.x=zc(n,s,!0),e.y=zc(r,s,!0),e.width=Math.max(zc(n+a,s,!1)-e.x,0===a?0:1),e.height=Math.max(zc(r+o,s,!1)-e.y,0===o?0:1)),e}}function zc(e,i,t){if(!i)return e;var n=yh(2*e);return(n+yh(i))%2==0?n/2:(n+(t?1:-1))/2}var kV=function e(){this.x=0,this.y=0,this.width=0,this.height=0},DV={},aw=function(e){function i(t){return e.call(this,t)||this}return Ye(i,e),i.prototype.getDefaultShape=function(){return new kV},i.prototype.buildPath=function(t,n){var r,a,o,s;if(this.subPixelOptimize){var l=rw(DV,n,this.style);r=l.x,a=l.y,o=l.width,s=l.height,l.r=n.r,n=l}else r=n.x,a=n.y,o=n.width,s=n.height;n.r?function LV(e,i){var s,l,c,u,h,t=i.x,n=i.y,r=i.width,a=i.height,o=i.r;r<0&&(t+=r,r=-r),a<0&&(n+=a,a=-a),"number"==typeof o?s=l=c=u=o:o instanceof Array?1===o.length?s=l=c=u=o[0]:2===o.length?(s=c=o[0],l=u=o[1]):3===o.length?(s=o[0],l=u=o[1],c=o[2]):(s=o[0],l=o[1],c=o[2],u=o[3]):s=l=c=u=0,s+l>r&&(s*=r/(h=s+l),l*=r/h),c+u>r&&(c*=r/(h=c+u),u*=r/h),l+c>a&&(l*=a/(h=l+c),c*=a/h),s+u>a&&(s*=a/(h=s+u),u*=a/h),e.moveTo(t+s,n),e.lineTo(t+r-l,n),0!==l&&e.arc(t+r-l,n+l,l,-Math.PI/2,0),e.lineTo(t+r,n+a-c),0!==c&&e.arc(t+r-c,n+a-c,c,0,Math.PI/2),e.lineTo(t+u,n+a),0!==u&&e.arc(t+u,n+a-u,u,Math.PI/2,Math.PI),e.lineTo(t,n+s),0!==s&&e.arc(t+s,n+s,s,Math.PI,1.5*Math.PI)}(t,n):t.rect(r,a,o,s)},i.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},i}(ge);aw.prototype.type="rect";const De=aw;var ow={fill:"#000"},PV={style:Rt({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},lg.style)},lw=function(e){function i(t){var n=e.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=ow,n.attr(t),n}return Ye(i,e),i.prototype.childrenRef=function(){return this._children},i.prototype.update=function(){e.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var t=0;t<this._children.length;t++){var n=this._children[t];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},i.prototype.updateTransform=function(){var t=this.innerTransformable;t?(t.updateTransform(),t.transform&&(this.transform=t.transform)):e.prototype.updateTransform.call(this)},i.prototype.getLocalTransform=function(t){var n=this.innerTransformable;return n?n.getLocalTransform(t):e.prototype.getLocalTransform.call(this,t)},i.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),e.prototype.getComputedTransform.call(this)},i.prototype._updateSubTexts=function(){this._childCursor=0,function EV(e){fw(e),U(e.rich,fw)}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},i.prototype.addSelfToZr=function(t){e.prototype.addSelfToZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=t},i.prototype.removeSelfFromZr=function(t){e.prototype.removeSelfFromZr.call(this,t);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},i.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new $t(0,0,0,0),n=this._children,r=[],a=null,o=0;o<n.length;o++){var s=n[o],l=s.getBoundingRect(),c=s.getLocalTransform(r);c?(t.copy(l),t.applyTransform(c),(a=a||t.clone()).union(t)):(a=a||l.clone()).union(l)}this._rect=a||t}return this._rect},i.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||ow},i.prototype.setTextContent=function(t){},i.prototype._mergeStyle=function(t,n){if(!n)return t;var r=n.rich,a=t.rich||r&&{};return ft(t,n),r&&a?(this._mergeRich(a,r),t.rich=a):a&&(t.rich=a),t},i.prototype._mergeRich=function(t,n){for(var r=he(n),a=0;a<r.length;a++){var o=r[a];t[o]=t[o]||{},ft(t[o],n[o])}},i.prototype.getAnimationStyleProps=function(){return PV},i.prototype._getOrCreateChild=function(t){var n=this._children[this._childCursor];return(!n||!(n instanceof t))&&(n=new t),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},i.prototype._updatePlainTexts=function(){var t=this.style,n=t.font||ni,r=t.padding,o=function QB(e,i){null!=e&&(e+="");var h,t=i.overflow,n=i.padding,r=i.font,a="truncate"===t,o=ng(r),s=qt(i.lineHeight,o),l=!!i.backgroundColor,c="truncate"===i.lineOverflow,u=i.width,f=(h=null==u||"break"!==t&&"breakAll"!==t?e?e.split("\n"):[]:e?ZS(e,i.font,u,"breakAll"===t,0).lines:[]).length*s,p=qt(i.height,f);if(f>p&&c){var m=Math.floor(p/s);h=h.slice(0,m)}if(e&&a&&null!=u)for(var b=YS(u,r,i.ellipsis,{minChar:i.truncateMinChar,placeholder:i.placeholder}),_=0;_<h.length;_++)h[_]=XS(h[_],b);var w=p,T=0;for(_=0;_<h.length;_++)T=Math.max(Zr(h[_],r),T);null==u&&(u=T);var A=T;return n&&(w+=n[0]+n[2],A+=n[1]+n[3],u+=n[1]+n[3]),l&&(A=u),{lines:h,height:p,outerWidth:A,outerHeight:w,lineHeight:s,calculatedLineHeight:o,contentWidth:T,contentHeight:f,width:u}}(mw(t),t),s=o_(t),l=!!t.backgroundColor,c=o.outerHeight,u=o.outerWidth,h=o.contentWidth,f=o.lines,p=o.lineHeight,m=this._defaultStyle,b=t.x||0,_=t.y||0,w=t.align||m.align||"left",T=t.verticalAlign||m.verticalAlign||"top",A=b,P=gh(_,o.contentHeight,T);if(s||r){var F=Zd(b,u,w),O=gh(_,c,T);s&&this._renderBackground(t,t,F,O,u,c)}P+=p/2,r&&(A=vw(b,w,r),"top"===T?P+=r[0]:"bottom"===T&&(P-=r[2]));for(var V=0,N=!1,G=(gw("fill"in t?t.fill:(N=!0,m.fill))),H=(pw("stroke"in t?t.stroke:l||m.autoStroke&&!N?null:(V=2,m.stroke))),X=t.textShadowBlur>0,q=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),j=o.calculatedLineHeight,J=0;J<f.length;J++){var tt=this._getOrCreateChild(ef),et=tt.createStyle();tt.useStyle(et),et.text=f[J],et.x=A,et.y=P,w&&(et.textAlign=w),et.textBaseline="middle",et.opacity=t.opacity,et.strokeFirst=!0,X&&(et.shadowBlur=t.textShadowBlur||0,et.shadowColor=t.textShadowColor||"transparent",et.shadowOffsetX=t.textShadowOffsetX||0,et.shadowOffsetY=t.textShadowOffsetY||0),et.stroke=H,et.fill=G,H&&(et.lineWidth=t.lineWidth||V,et.lineDash=t.lineDash,et.lineDashOffset=t.lineDashOffset||0),et.font=n,hw(et,t),P+=p,q&&tt.setBoundingRect(new $t(Zd(et.x,t.width,et.textAlign),gh(et.y,j,et.textBaseline),h,j))}},i.prototype._updateRichTexts=function(){var t=this.style,r=function eV(e,i){var t=new tV;if(null!=e&&(e+=""),!e)return t;for(var l,n=i.width,r=i.height,a=i.overflow,o="break"!==a&&"breakAll"!==a||null==n?null:{width:n,accumWidth:0,breakAll:"breakAll"===a},s=Uy.lastIndex=0;null!=(l=Uy.exec(e));){var c=l.index;c>s&&Zy(t,e.substring(s,c),i,o),Zy(t,l[2],i,o,l[1]),s=Uy.lastIndex}s<e.length&&Zy(t,e.substring(s,e.length),i,o);var u=[],h=0,f=0,p=i.padding,m="truncate"===a,b="truncate"===i.lineOverflow;function _(st,ut,vt){st.width=ut,st.lineHeight=vt,h+=vt,f=Math.max(f,ut)}t:for(var w=0;w<t.lines.length;w++){for(var T=t.lines[w],A=0,P=0,F=0;F<T.tokens.length;F++){var V=(O=T.tokens[F]).styleName&&i.rich[O.styleName]||{},N=O.textPadding=V.padding,G=N?N[1]+N[3]:0,H=O.font=V.font||i.font;O.contentHeight=ng(H);var X=qt(V.height,O.contentHeight);if(O.innerHeight=X,N&&(X+=N[0]+N[2]),O.height=X,O.lineHeight=gr(V.lineHeight,i.lineHeight,X),O.align=V&&V.align||i.align,O.verticalAlign=V&&V.verticalAlign||"middle",b&&null!=r&&h+O.lineHeight>r){F>0?(T.tokens=T.tokens.slice(0,F),_(T,P,A),t.lines=t.lines.slice(0,w+1)):t.lines=t.lines.slice(0,w);break t}var q=V.width,j=null==q||"auto"===q;if("string"==typeof q&&"%"===q.charAt(q.length-1))O.percentWidth=q,u.push(O),O.contentWidth=Zr(O.text,H);else{if(j){var J=V.backgroundColor,tt=J&&J.image;tt&&sg(tt=jB(tt))&&(O.width=Math.max(O.width,tt.width*X/tt.height))}var et=m&&null!=n?n-P:null;null!=et&&et<O.width?!j||et<G?(O.text="",O.width=O.contentWidth=0):(O.text=qB(O.text,et-G,H,i.ellipsis,{minChar:i.truncateMinChar}),O.width=O.contentWidth=Zr(O.text,H)):O.contentWidth=Zr(O.text,H)}O.width+=G,P+=O.width,V&&(A=Math.max(A,O.lineHeight))}_(T,P,A)}for(t.outerWidth=t.width=qt(n,f),t.outerHeight=t.height=qt(r,h),t.contentHeight=h,t.contentWidth=f,p&&(t.outerWidth+=p[1]+p[3],t.outerHeight+=p[0]+p[2]),w=0;w<u.length;w++){var O;(O=u[w]).width=parseInt(O.percentWidth,10)/100*t.width}return t}(mw(t),t),a=r.width,o=r.outerWidth,s=r.outerHeight,l=t.padding,u=t.y||0,h=this._defaultStyle,p=t.verticalAlign||h.verticalAlign,m=Zd(t.x||0,o,t.align||h.align),b=gh(u,s,p),_=m,w=b;l&&(_+=l[3],w+=l[0]);var T=_+a;o_(t)&&this._renderBackground(t,t,m,b,o,s);for(var A=!!t.backgroundColor,P=0;P<r.lines.length;P++){for(var F=r.lines[P],O=F.tokens,V=O.length,N=F.lineHeight,G=F.width,H=0,X=_,q=T,j=V-1,J=void 0;H<V&&(!(J=O[H]).align||"left"===J.align);)this._placeToken(J,t,N,w,X,"left",A),G-=J.width,X+=J.width,H++;for(;j>=0&&"right"===(J=O[j]).align;)this._placeToken(J,t,N,w,q,"right",A),G-=J.width,q-=J.width,j--;for(X+=(a-(X-_)-(T-q)-G)/2;H<=j;)this._placeToken(J=O[H],t,N,w,X+J.width/2,"center",A),X+=J.width,H++;w+=N}},i.prototype._placeToken=function(t,n,r,a,o,s,l){var c=n.rich[t.styleName]||{};c.text=t.text;var u=t.verticalAlign,h=a+r/2;"top"===u?h=a+t.height/2:"bottom"===u&&(h=a+r-t.height/2),!t.isLineHolder&&o_(c)&&this._renderBackground(c,n,"right"===s?o-t.width:"center"===s?o-t.width/2:o,h-t.height/2,t.width,t.height);var p=!!c.backgroundColor,m=t.textPadding;m&&(o=vw(o,s,m),h-=t.height/2-m[0]-t.innerHeight/2);var b=this._getOrCreateChild(ef),_=b.createStyle();b.useStyle(_);var w=this._defaultStyle,T=!1,A=0,P=gw("fill"in c?c.fill:"fill"in n?n.fill:(T=!0,w.fill)),F=pw("stroke"in c?c.stroke:"stroke"in n?n.stroke:p||l||w.autoStroke&&!T?null:(A=2,w.stroke)),O=c.textShadowBlur>0||n.textShadowBlur>0;_.text=t.text,_.x=o,_.y=h,O&&(_.shadowBlur=c.textShadowBlur||n.textShadowBlur||0,_.shadowColor=c.textShadowColor||n.textShadowColor||"transparent",_.shadowOffsetX=c.textShadowOffsetX||n.textShadowOffsetX||0,_.shadowOffsetY=c.textShadowOffsetY||n.textShadowOffsetY||0),_.textAlign=s,_.textBaseline="middle",_.font=t.font||ni,_.opacity=gr(c.opacity,n.opacity,1),hw(_,c),F&&(_.lineWidth=gr(c.lineWidth,n.lineWidth,A),_.lineDash=qt(c.lineDash,n.lineDash),_.lineDashOffset=n.lineDashOffset||0,_.stroke=F),P&&(_.fill=P);var V=t.contentWidth,N=t.contentHeight;b.setBoundingRect(new $t(Zd(_.x,V,_.textAlign),gh(_.y,N,_.textBaseline),V,N))},i.prototype._renderBackground=function(t,n,r,a,o,s){var b,_,T,l=t.backgroundColor,c=t.borderWidth,u=t.borderColor,h=l&&l.image,f=l&&!h,p=t.borderRadius,m=this;if(f||t.lineHeight||c&&u){(b=this._getOrCreateChild(De)).useStyle(b.createStyle()),b.style.fill=null;var w=b.shape;w.x=r,w.y=a,w.width=o,w.height=s,w.r=p,b.dirtyShape()}if(f)(T=b.style).fill=l||null,T.fillOpacity=qt(t.fillOpacity,1);else if(h){(_=this._getOrCreateChild(Pn)).onload=function(){m.dirtyStyle()};var A=_.style;A.image=l.image,A.x=r,A.y=a,A.width=o,A.height=s}c&&u&&((T=b.style).lineWidth=c,T.stroke=u,T.strokeOpacity=qt(t.strokeOpacity,1),T.lineDash=t.borderDash,T.lineDashOffset=t.borderDashOffset||0,b.strokeContainThreshold=0,b.hasFill()&&b.hasStroke()&&(T.strokeFirst=!0,T.lineWidth*=2));var P=(b||_).style;P.shadowBlur=t.shadowBlur||0,P.shadowColor=t.shadowColor||"transparent",P.shadowOffsetX=t.shadowOffsetX||0,P.shadowOffsetY=t.shadowOffsetY||0,P.opacity=gr(t.opacity,n.opacity,1)},i.makeFont=function(t){var n="";return dw(t)&&(n=[t.fontStyle,t.fontWeight,uw(t.fontSize),t.fontFamily||"sans-serif"].join(" ")),n&&Ci(n)||t.textFont||t.font},i}(ma),IV={left:!0,right:1,center:1},OV={top:1,bottom:1,middle:1},cw=["fontStyle","fontWeight","fontSize","fontFamily"];function uw(e){return"string"!=typeof e||-1===e.indexOf("px")&&-1===e.indexOf("rem")&&-1===e.indexOf("em")?isNaN(+e)?fr+"px":e+"px":e}function hw(e,i){for(var t=0;t<cw.length;t++){var n=cw[t],r=i[n];null!=r&&(e[n]=r)}}function dw(e){return null!=e.fontSize||e.fontFamily||e.fontWeight}function fw(e){if(e){e.font=lw.makeFont(e);var i=e.align;"middle"===i&&(i="center"),e.align=null==i||IV[i]?i:"left";var t=e.verticalAlign;"center"===t&&(t="middle"),e.verticalAlign=null==t||OV[t]?t:"top",e.padding&&(e.padding=Fa(e.padding))}}function pw(e,i){return null==e||i<=0||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function gw(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function vw(e,i,t){return"right"===i?e-t[1]:"center"===i?e+t[3]/2-t[1]/2:e+t[3]}function mw(e){var i=e.text;return null!=i&&(i+=""),i}function o_(e){return!!(e.backgroundColor||e.lineHeight||e.borderWidth&&e.borderColor)}const Ie=lw;var Jt=Le(),s_=function(e,i,t,n){if(n){var r=Jt(n);r.dataIndex=t,r.dataType=i,r.seriesIndex=e,r.ssrType="chart","group"===n.type&&n.traverse(function(a){var o=Jt(a);o.seriesIndex=e,o.dataIndex=t,o.dataType=i,o.ssrType="chart"})}},yw=1,_w={},xw=Le(),l_=Le(),c_=0,nf=1,pg=2,lr=["emphasis","blur","select"],rf=["normal","emphasis","blur","select"],_h=10,FV=9,Nc="highlight",gg="downplay",af="select",vg="unselect",of="toggleSelect";function xh(e){return null!=e&&"none"!==e}function mg(e,i,t){e.onHoverStateChange&&(e.hoverState||0)!==t&&e.onHoverStateChange(i),e.hoverState=t}function bw(e){mg(e,"emphasis",pg)}function Cw(e){e.hoverState===pg&&mg(e,"normal",c_)}function u_(e){mg(e,"blur",nf)}function Sw(e){e.hoverState===nf&&mg(e,"normal",c_)}function RV(e){e.selected=!0}function BV(e){e.selected=!1}function ww(e,i,t){i(e,t)}function Ps(e,i,t){ww(e,i,t),e.isGroup&&e.traverse(function(n){ww(n,i,t)})}function yg(e,i){switch(i){case"emphasis":e.hoverState=pg;break;case"normal":e.hoverState=c_;break;case"blur":e.hoverState=nf;break;case"select":e.selected=!0}}function h_(e,i){var t=this.states[e];if(this.style){if("emphasis"===e)return function zV(e,i,t,n){var r=t&&oe(t,"select")>=0,a=!1;if(e instanceof ge){var o=xw(e),s=r&&o.selectFill||o.normalFill,l=r&&o.selectStroke||o.normalStroke;if(xh(s)||xh(l)){var c=(n=n||{}).style||{};"inherit"===c.fill?(a=!0,n=ft({},n),(c=ft({},c)).fill=s):!xh(c.fill)&&xh(s)?(a=!0,n=ft({},n),(c=ft({},c)).fill=Nd(s)):!xh(c.stroke)&&xh(l)&&(a||(n=ft({},n),c=ft({},c)),c.stroke=Nd(l)),n.style=c}}return n&&null==n.z2&&(a||(n=ft({},n)),n.z2=e.z2+(e.z2EmphasisLift??_h)),n}(this,0,i,t);if("blur"===e)return function GV(e,i,t){var n=oe(e.currentStates,i)>=0,r=e.style.opacity,a=n?null:function VV(e,i,t,n){for(var r=e.style,a={},o=0;o<i.length;o++){var s=i[o];a[s]=r[s]??(n&&n[s])}for(o=0;o<e.animators.length;o++){var c=e.animators[o];c.__fromStateTransition&&c.__fromStateTransition.indexOf(t)<0&&"style"===c.targetName&&c.saveTo(a,i)}return a}(e,["opacity"],i,{opacity:1}),o=(t=t||{}).style||{};return null==o.opacity&&(t=ft({},t),o=ft({opacity:n?r:.1*a.opacity},o),t.style=o),t}(this,e,t);if("select"===e)return function NV(e,i,t){return t&&null==t.z2&&((t=ft({},t)).z2=e.z2+(e.z2SelectLift??FV)),t}(this,0,t)}return t}function Gc(e){e.stateProxy=h_;var i=e.getTextContent(),t=e.getTextGuideLine();i&&(i.stateProxy=h_),t&&(t.stateProxy=h_)}function Tw(e,i){!Dw(e,i)&&!e.__highByOuter&&Ps(e,bw)}function Mw(e,i){!Dw(e,i)&&!e.__highByOuter&&Ps(e,Cw)}function Is(e,i){e.__highByOuter|=1<<(i||0),Ps(e,bw)}function Os(e,i){!(e.__highByOuter&=~(1<<(i||0)))&&Ps(e,Cw)}function Aw(e){Ps(e,u_)}function d_(e){Ps(e,Sw)}function Lw(e){Ps(e,RV)}function kw(e){Ps(e,BV)}function Dw(e,i){return e.__highDownSilentOnTouch&&i.zrByTouch}function Pw(e){var i=e.getModel(),t=[],n=[];i.eachComponent(function(r,a){var o=l_(a),s="series"===r,l=s?e.getViewOfSeriesModel(a):e.getViewOfComponentModel(a);!s&&n.push(l),o.isBlured&&(l.group.traverse(function(c){Sw(c)}),s&&t.push(a)),o.isBlured=!1}),U(n,function(r){r&&r.toggleBlurSeries&&r.toggleBlurSeries(t,!1,i)})}function f_(e,i,t,n){var r=n.getModel();function a(c,u){for(var h=0;h<u.length;h++){var f=c.getItemGraphicEl(u[h]);f&&d_(f)}}if(t=t||"coordinateSystem",null!=e&&i&&"none"!==i){var o=r.getSeriesByIndex(e),s=o.coordinateSystem;s&&s.master&&(s=s.master);var l=[];r.eachSeries(function(c){var u=o===c,h=c.coordinateSystem;if(h&&h.master&&(h=h.master),!("series"===t&&!u||"coordinateSystem"===t&&!(h&&s?h===s:u)||"series"===i&&u)){if(n.getViewOfSeriesModel(c).group.traverse(function(_){_.__highByOuter&&u&&"self"===i||u_(_)}),Li(i))a(c.getData(),i);else if(Bt(i))for(var m=he(i),b=0;b<m.length;b++)a(c.getData(m[b]),i[m[b]]);l.push(c),l_(c).isBlured=!0}}),r.eachComponent(function(c,u){if("series"!==c){var h=n.getViewOfComponentModel(u);h&&h.toggleBlurSeries&&h.toggleBlurSeries(l,!0,r)}})}}function p_(e,i,t){if(null!=e&&null!=i){var n=t.getModel().getComponent(e,i);if(n){l_(n).isBlured=!0;var r=t.getViewOfComponentModel(n);!r||!r.focusBlurEnabled||r.group.traverse(function(a){u_(a)})}}}function g_(e,i,t,n){var r={focusSelf:!1,dispatchers:null};if(null==e||"series"===e||null==i||null==t)return r;var a=n.getModel().getComponent(e,i);if(!a)return r;var o=n.getViewOfComponentModel(a);if(!o||!o.findHighDownDispatchers)return r;for(var l,s=o.findHighDownDispatchers(t),c=0;c<s.length;c++)if("self"===Jt(s[c]).focus){l=!0;break}return{focusSelf:l,dispatchers:s}}function Iw(e){U(e.getAllData(),function(t){var r=t.type;t.data.eachItemGraphicEl(function(a,o){e.isSelected(o,r)?Lw(a):kw(a)})})}function UV(e){var i=[];return e.eachSeries(function(t){U(t.getAllData(),function(r){var o=r.type,s=t.getSelectedDataIndices();if(s.length>0){var l={dataIndex:s,seriesIndex:t.seriesIndex};null!=o&&(l.dataType=o),i.push(l)}})}),i}function Hc(e,i,t){Wc(e,!0),Ps(e,Gc),v_(e,i,t)}function Ti(e,i,t,n){n?function ZV(e){Wc(e,!1)}(e):Hc(e,i,t)}function v_(e,i,t){var n=Jt(e);null!=i?(n.focus=i,n.blurScope=t):n.focus&&(n.focus=null)}var Ow=["emphasis","blur","select"],$V={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function In(e,i,t,n){t=t||"itemStyle";for(var r=0;r<Ow.length;r++){var a=Ow[r],o=i.getModel([a,t]);e.ensureState(a).style=n?n(o):o[$V[t]]()}}function Wc(e,i){var t=!1===i,n=e;e.highDownSilentOnTouch&&(n.__highDownSilentOnTouch=e.highDownSilentOnTouch),(!t||n.__highDownDispatcher)&&(n.__highByOuter=n.__highByOuter||0,n.__highDownDispatcher=!t)}function sf(e){return!(!e||!e.__highDownDispatcher)}function m_(e){var i=e.type;return i===af||i===vg||i===of}function Ew(e){var i=e.type;return i===Nc||i===gg}var Fw=Le();function bh(e,i,t,n,r){var a;if(i&&i.ecModel){var o=i.ecModel.getUpdatePayload();a=o&&o.animation}var l="update"===e;if(i&&i.isAnimationEnabled()){var c=void 0,u=void 0,h=void 0;return n?(c=qt(n.duration,200),u=qt(n.easing,"cubicOut"),h=0):(c=i.getShallow(l?"animationDurationUpdate":"animationDuration"),u=i.getShallow(l?"animationEasingUpdate":"animationEasing"),h=i.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(null!=a.duration&&(c=a.duration),null!=a.easing&&(u=a.easing),null!=a.delay&&(h=a.delay)),Z(h)&&(h=h(t,r)),Z(c)&&(c=c(t)),{duration:c||0,delay:h,easing:u}}return null}function y_(e,i,t,n,r,a,o){var l,s=!1;Z(r)?(o=a,a=r,r=null):Bt(r)&&(a=r.cb,o=r.during,s=r.isFrom,l=r.removeOpt,r=r.dataIndex);var c="leave"===e;c||i.stopAnimation("leave");var u=bh(e,n,r,c?l||{}:null,n&&n.getAnimationDelayParams?n.getAnimationDelayParams(i,r):null);if(u&&u.duration>0){var m={duration:u.duration,delay:u.delay||0,easing:u.easing,done:a,force:!!a||!!o,setToFinal:!c,scope:e,during:o};s?i.animateFrom(t,m):i.animateTo(t,m)}else i.stopAnimation(),!s&&i.attr(t),o&&o(1),a&&a()}function Ve(e,i,t,n,r,a){y_("update",e,i,t,n,r,a)}function pi(e,i,t,n,r,a){y_("enter",e,i,t,n,r,a)}function Ch(e){if(!e.__zr)return!0;for(var i=0;i<e.animators.length;i++)if("leave"===e.animators[i].scope)return!0;return!1}function Ll(e,i,t,n,r,a){Ch(e)||y_("leave",e,i,t,n,r,a)}function Rw(e,i,t,n){e.removeTextContent(),e.removeTextGuideLine(),Ll(e,{style:{opacity:0}},i,t,n)}function lf(e,i,t){function n(){e.parent&&e.parent.remove(e)}e.isGroup?e.traverse(function(r){r.isGroup||Rw(r,i,t,n)}):Rw(e,i,t,n)}function ro(e){Fw(e).oldStyle=e.style}var _g={};function Bw(e,i){for(var t=0;t<lr.length;t++){var n=lr[t],r=i[n],a=e.ensureState(n);a.style=a.style||{},a.style.text=r}var o=e.currentStates.slice();e.clearStates(!0),e.setStyle({text:i.normal}),e.useStates(o,!0)}function __(e,i,t){var s,n=e.labelFetcher,r=e.labelDataIndex,a=e.labelDimIndex,o=i.normal;n&&(s=n.getFormattedLabel(r,"normal",null,a,o&&o.get("formatter"),null!=t?{interpolatedValue:t}:null)),null==s&&(s=Z(e.defaultText)?e.defaultText(r,e,t):e.defaultText);for(var l={normal:s},c=0;c<lr.length;c++){var u=lr[c],h=i[u];l[u]=qt(n?n.getFormattedLabel(r,u,null,a,h&&h.get("formatter")):null,s)}return l}function On(e,i,t,n){t=t||_g;for(var r=e instanceof Ie,a=!1,o=0;o<rf.length;o++)if((s=i[rf[o]])&&s.getShallow("show")){a=!0;break}var l=r?e:e.getTextContent();if(a){r||(l||(l=new Ie,e.setTextContent(l)),e.stateProxy&&(l.stateProxy=e.stateProxy));var c=__(t,i),u=i.normal,h=!!u.getShallow("show"),f=ri(u,n&&n.normal,t,!1,!r);for(f.text=c.normal,r||e.setTextConfig(xg(u,t,!1)),o=0;o<lr.length;o++){var s,p=lr[o];if(s=i[p]){var m=l.ensureState(p),b=!!qt(s.getShallow("show"),h);b!==h&&(m.ignore=!b),m.style=ri(s,n&&n[p],t,!0,!r),m.style.text=c[p],r||(e.ensureState(p).textConfig=xg(s,t,!0))}}l.silent=!!u.getShallow("silent"),null!=l.style.x&&(f.x=l.style.x),null!=l.style.y&&(f.y=l.style.y),l.ignore=!h,l.useStyle(f),l.dirty(),t.enableTextSetter&&(Sh(l).setLabelText=function(w){var T=__(t,i,w);Bw(l,T)})}else l&&(l.ignore=!0);e.dirty()}function cn(e,i){for(var t={normal:e.getModel(i=i||"label")},n=0;n<lr.length;n++){var r=lr[n];t[r]=e.getModel([r,i])}return t}function ri(e,i,t,n,r){var a={};return function JV(e,i,t,n,r){t=t||_g;var l,a=i.ecModel,o=a&&a.option.textStyle,s=function t3(e){for(var i;e&&e!==e.ecModel;){var t=(e.option||_g).rich;if(t){i=i||{};for(var n=he(t),r=0;r<n.length;r++)i[n[r]]=1}e=e.parentModel}return i}(i);if(s)for(var c in l={},s)if(s.hasOwnProperty(c)){var u=i.getModel(["rich",c]);Gw(l[c]={},u,o,t,n,r,!1,!0)}l&&(e.rich=l);var h=i.get("overflow");h&&(e.overflow=h);var f=i.get("minMargin");null!=f&&(e.margin=f),Gw(e,i,o,t,n,r,!0,!1)}(a,e,t,n,r),i&&ft(a,i),a}function xg(e,i,t){i=i||{};var r,n={},a=e.getShallow("rotate"),o=qt(e.getShallow("distance"),t?null:5),s=e.getShallow("offset");return"outside"===(r=e.getShallow("position")||(t?null:"inside"))&&(r=i.defaultOutsidePosition||"top"),null!=r&&(n.position=r),null!=s&&(n.offset=s),null!=a&&(a*=Math.PI/180,n.rotation=a),null!=o&&(n.distance=o),n.outsideFill="inherit"===e.get("color")?i.inheritColor||null:"auto",n}var Vw=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],zw=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],Nw=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function Gw(e,i,t,n,r,a,o,s){t=!r&&t||_g;var l=n&&n.inheritColor,c=i.getShallow("color"),u=i.getShallow("textBorderColor"),h=qt(i.getShallow("opacity"),t.opacity);("inherit"===c||"auto"===c)&&(c=l||null),("inherit"===u||"auto"===u)&&(u=l||null),a||(c=c||t.color,u=u||t.textBorderColor),null!=c&&(e.fill=c),null!=u&&(e.stroke=u);var f=qt(i.getShallow("textBorderWidth"),t.textBorderWidth);null!=f&&(e.lineWidth=f);var p=qt(i.getShallow("textBorderType"),t.textBorderType);null!=p&&(e.lineDash=p);var m=qt(i.getShallow("textBorderDashOffset"),t.textBorderDashOffset);null!=m&&(e.lineDashOffset=m),!r&&null==h&&!s&&(h=n&&n.defaultOpacity),null!=h&&(e.opacity=h),!r&&!a&&null==e.fill&&n.inheritColor&&(e.fill=n.inheritColor);for(var b=0;b<Vw.length;b++)null!=(w=qt(i.getShallow(_=Vw[b]),t[_]))&&(e[_]=w);for(b=0;b<zw.length;b++)null!=(w=i.getShallow(_=zw[b]))&&(e[_]=w);if(null==e.verticalAlign){var T=i.getShallow("baseline");null!=T&&(e.verticalAlign=T)}if(!o||!n.disableBox){for(b=0;b<Nw.length;b++){var _,w;null!=(w=i.getShallow(_=Nw[b]))&&(e[_]=w)}var A=i.getShallow("borderType");null!=A&&(e.borderDash=A),("auto"===e.backgroundColor||"inherit"===e.backgroundColor)&&l&&(e.backgroundColor=l),("auto"===e.borderColor||"inherit"===e.borderColor)&&l&&(e.borderColor=l)}}function x_(e,i){var t=i&&i.getModel("textStyle");return Ci([e.fontStyle||t&&t.getShallow("fontStyle")||"",e.fontWeight||t&&t.getShallow("fontWeight")||"",(e.fontSize||t&&t.getShallow("fontSize")||12)+"px",e.fontFamily||t&&t.getShallow("fontFamily")||"sans-serif"].join(" "))}var Sh=Le();function Hw(e,i,t,n){if(e){var r=Sh(e);r.prevValue=r.value,r.value=t;var a=i.normal;r.valueAnimation=a.get("valueAnimation"),r.valueAnimation&&(r.precision=a.get("precision"),r.defaultInterpolatedText=n,r.statesModels=i)}}function Ww(e,i,t,n,r){var a=Sh(e);if(a.valueAnimation&&a.prevValue!==a.value){var o=a.defaultInterpolatedText,s=qt(a.interpolatedValue,a.prevValue),l=a.value;e.percent=0,(null==a.prevValue?pi:Ve)(e,{percent:1},n,i,null,function c(u){var h=NS(t,a.precision,s,l,u);a.interpolatedValue=1===u?null:h;var f=__({labelDataIndex:i,labelFetcher:r,defaultText:o?o(h):h+""},a.statesModels,h);Bw(e,f)})}}var e3=["textStyle","color"],b_=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],C_=new Ie,i3=function(){function e(){}return e.prototype.getTextColor=function(i){var t=this.ecModel;return this.getShallow("color")||(!i&&t?t.get(e3):null)},e.prototype.getFont=function(){return x_({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},e.prototype.getTextRect=function(i){for(var t={text:i,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<b_.length;n++)t[b_[n]]=this.getShallow(b_[n]);return C_.useStyle(t),C_.update(),C_.getBoundingRect()},e}();const n3=i3;var Yw=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],r3=Pc(Yw),a3=function(){function e(){}return e.prototype.getLineStyle=function(i){return r3(this,i)},e}(),Xw=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],o3=Pc(Xw),s3=function(){function e(){}return e.prototype.getItemStyle=function(i,t){return o3(this,i,t)},e}(),Yc=function(){function e(i,t,n){this.parentModel=t,this.ecModel=n,this.option=i}return e.prototype.init=function(i,t,n){for(var r=[],a=3;a<arguments.length;a++)r[a-3]=arguments[a]},e.prototype.mergeOption=function(i,t){ie(this.option,i,!0)},e.prototype.get=function(i,t){return null==i?this.option:this._doGet(this.parsePath(i),!t&&this.parentModel)},e.prototype.getShallow=function(i,t){var n=this.option,r=null==n?n:n[i];if(null==r&&!t){var a=this.parentModel;a&&(r=a.getShallow(i))}return r},e.prototype.getModel=function(i,t){var n=null!=i,r=n?this.parsePath(i):null;return new e(n?this._doGet(r):this.option,t=t||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},e.prototype.isEmpty=function(){return null==this.option},e.prototype.restoreData=function(){},e.prototype.clone=function(){return new(0,this.constructor)(Gt(this.option))},e.prototype.parsePath=function(i){return"string"==typeof i?i.split("."):i},e.prototype.resolveParentPath=function(i){return i},e.prototype.isAnimationEnabled=function(){if(!Yt.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},e.prototype._doGet=function(i,t){var n=this.option;if(!i)return n;for(var r=0;r<i.length&&(!i[r]||null!=(n=n&&"object"==typeof n?n[i[r]]:null));r++);return null==n&&t&&(n=t._doGet(this.resolveParentPath(i),t.parentModel)),n},e}();Wy(Yc),function WB(e){var i=["__\0is_clz",HB++].join("_");e.prototype[i]=!0,e.isInstance=function(t){return!(!t||!t[i])}}(Yc),It(Yc,a3),It(Yc,s3),It(Yc,$B),It(Yc,n3);const ai=Yc;var l3=Math.round(10*Math.random());function wh(e){return[e||"",l3++].join("_")}function kl(e,i){return ie(ie({},e,!0),i,!0)}var bg="ZH",S_="EN",Th=S_,Cg={},w_={},Uw=Yt.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage||Th).toUpperCase().indexOf(bg)>-1?bg:Th;function Zw(e,i){e=e.toUpperCase(),w_[e]=new ai(i),Cg[e]=i}function T_(e){return w_[e]}Zw(S_,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),Zw(bg,{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe",custom:"\u81ea\u5b9a\u4e49\u56fe\u8868",chart:"\u56fe\u8868"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var M_=1e3,A_=60*M_,cf=60*A_,_a=24*cf,$w=365*_a,uf={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Sg="{yyyy}-{MM}-{dd}",jw={year:"{yyyy}",month:"{yyyy}-{MM}",day:Sg,hour:Sg+" "+uf.hour,minute:Sg+" "+uf.minute,second:Sg+" "+uf.second,millisecond:uf.none},L_=["year","month","day","hour","minute","second","millisecond"],qw=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Dl(e,i){return"0000".substr(0,i-(e+="").length)+e}function Mh(e){switch(e){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return e}}function g3(e){return e===Mh(e)}function wg(e,i,t,n){var r=zo(e),a=r[k_(t)](),o=r[Ah(t)]()+1,s=Math.floor((o-1)/3)+1,l=r[Tg(t)](),c=r["get"+(t?"UTC":"")+"Day"](),u=r[hf(t)](),h=(u-1)%12+1,f=r[Mg(t)](),p=r[Ag(t)](),m=r[Lg(t)](),b=u>=12?"pm":"am",_=b.toUpperCase(),T=(n instanceof ai?n:T_(n||Uw)||function p3(){return w_[Th]}()).getModel("time"),A=T.get("month"),P=T.get("monthAbbr"),F=T.get("dayOfWeek"),O=T.get("dayOfWeekAbbr");return(i||"").replace(/{a}/g,b+"").replace(/{A}/g,_+"").replace(/{yyyy}/g,a+"").replace(/{yy}/g,Dl(a%100+"",2)).replace(/{Q}/g,s+"").replace(/{MMMM}/g,A[o-1]).replace(/{MMM}/g,P[o-1]).replace(/{MM}/g,Dl(o,2)).replace(/{M}/g,o+"").replace(/{dd}/g,Dl(l,2)).replace(/{d}/g,l+"").replace(/{eeee}/g,F[c]).replace(/{ee}/g,O[c]).replace(/{e}/g,c+"").replace(/{HH}/g,Dl(u,2)).replace(/{H}/g,u+"").replace(/{hh}/g,Dl(h+"",2)).replace(/{h}/g,h+"").replace(/{mm}/g,Dl(f,2)).replace(/{m}/g,f+"").replace(/{ss}/g,Dl(p,2)).replace(/{s}/g,p+"").replace(/{SSS}/g,Dl(m,3)).replace(/{S}/g,m+"")}function Kw(e,i){var t=zo(e),n=t[Ah(i)]()+1,r=t[Tg(i)](),a=t[hf(i)](),o=t[Mg(i)](),s=t[Ag(i)](),c=0===t[Lg(i)](),u=c&&0===s,h=u&&0===o,f=h&&0===a,p=f&&1===r;return p&&1===n?"year":p?"month":f?"day":h?"hour":u?"minute":c?"second":"millisecond"}function Qw(e,i,t){var n=_e(e)?zo(e):e;switch(i=i||Kw(e,t)){case"year":return n[k_(t)]();case"half-year":return n[Ah(t)]()>=6?1:0;case"quarter":return Math.floor((n[Ah(t)]()+1)/4);case"month":return n[Ah(t)]();case"day":return n[Tg(t)]();case"half-day":return n[hf(t)]()/24;case"hour":return n[hf(t)]();case"minute":return n[Mg(t)]();case"second":return n[Ag(t)]();case"millisecond":return n[Lg(t)]()}}function k_(e){return e?"getUTCFullYear":"getFullYear"}function Ah(e){return e?"getUTCMonth":"getMonth"}function Tg(e){return e?"getUTCDate":"getDate"}function hf(e){return e?"getUTCHours":"getHours"}function Mg(e){return e?"getUTCMinutes":"getMinutes"}function Ag(e){return e?"getUTCSeconds":"getSeconds"}function Lg(e){return e?"getUTCMilliseconds":"getMilliseconds"}function y3(e){return e?"setUTCFullYear":"setFullYear"}function Jw(e){return e?"setUTCMonth":"setMonth"}function tT(e){return e?"setUTCDate":"setDate"}function eT(e){return e?"setUTCHours":"setHours"}function iT(e){return e?"setUTCMinutes":"setMinutes"}function nT(e){return e?"setUTCSeconds":"setSeconds"}function rT(e){return e?"setUTCMilliseconds":"setMilliseconds"}function aT(e){if(!kS(e))return Lt(e)?e:"-";var i=(e+"").split(".");return i[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(i.length>1?"."+i[1]:"")}function oT(e,i){return e=(e||"").toLowerCase().replace(/-(.)/g,function(t,n){return n.toUpperCase()}),i&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}var Lh=Fa;function D_(e,i,t){function r(u){return u&&Ci(u)?u:"-"}function a(u){return!(null==u||isNaN(u)||!isFinite(u))}var o="time"===i,s=e instanceof Date;if(o||s){var l=o?zo(e):e;if(!isNaN(+l))return wg(l,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",t);if(s)return"-"}if("ordinal"===i)return us(e)?r(e):_e(e)&&a(e)?e+"":"-";var c=Ls(e);return a(c)?aT(c):us(e)?r(e):"boolean"==typeof e?e+"":"-"}var sT=["a","b","c","d","e","f","g"],P_=function(e,i){return"{"+e+(i??"")+"}"};function lT(e,i,t){yt(i)||(i=[i]);var n=i.length;if(!n)return"";for(var r=i[0].$vars||[],a=0;a<r.length;a++){var o=sT[a];e=e.replace(P_(o),P_(o,0))}for(var s=0;s<n;s++)for(var l=0;l<r.length;l++){var c=i[s][r[l]];e=e.replace(P_(sT[l],s),t?Fi(c):c)}return e}function Xc(e,i){return i=i||"transparent",Lt(e)?e:Bt(e)&&e.colorStops&&(e.colorStops[0]||{}).color||i}function kg(e,i){if("_blank"===i||"blank"===i){var t=window.open();t.opener=null,t.location.href=e}else window.open(e,i)}var Dg=U,cT=["left","right","top","bottom","width","height"],Uc=[["width","left","right"],["height","top","bottom"]];function I_(e,i,t,n,r){var a=0,o=0;null==n&&(n=1/0),null==r&&(r=1/0);var s=0;i.eachChild(function(l,c){var p,m,u=l.getBoundingRect(),h=i.childAt(c+1),f=h&&h.getBoundingRect();if("horizontal"===e){var b=u.width+(f?-f.x+u.x:0);(p=a+b)>n||l.newline?(a=0,p=b,o+=s+t,s=u.height):s=Math.max(s,u.height)}else{var _=u.height+(f?-f.y+u.y:0);(m=o+_)>r||l.newline?(a+=s+t,o=0,m=_,s=u.width):s=Math.max(s,u.width)}l.newline||(l.x=a,l.y=o,l.markRedraw(),"horizontal"===e?a=p+t:o=m+t)})}var Zc=I_;function qi(e,i,t){t=Lh(t||0);var n=i.width,r=i.height,a=At(e.left,n),o=At(e.top,r),s=At(e.right,n),l=At(e.bottom,r),c=At(e.width,n),u=At(e.height,r),h=t[2]+t[0],f=t[1]+t[3],p=e.aspect;switch(isNaN(c)&&(c=n-s-f-a),isNaN(u)&&(u=r-l-h-o),null!=p&&(isNaN(c)&&isNaN(u)&&(p>n/r?c=.8*n:u=.8*r),isNaN(c)&&(c=p*u),isNaN(u)&&(u=c/p)),isNaN(a)&&(a=n-s-c-f),isNaN(o)&&(o=r-l-u-h),e.left||e.right){case"center":a=n/2-c/2-t[3];break;case"right":a=n-c-f}switch(e.top||e.bottom){case"middle":case"center":o=r/2-u/2-t[0];break;case"bottom":o=r-u-h}a=a||0,o=o||0,isNaN(c)&&(c=n-f-a-(s||0)),isNaN(u)&&(u=r-h-o-(l||0));var m=new $t(a+t[3],o+t[0],c,u);return m.margin=t,m}function Pg(e,i,t,n,r,a){var c,o=!r||!r.hv||r.hv[0],s=!r||!r.hv||r.hv[1],l=r&&r.boundingMode||"all";if((a=a||e).x=e.x,a.y=e.y,!o&&!s)return!1;if("raw"===l)c="group"===e.type?new $t(0,0,+i.width||0,+i.height||0):e.getBoundingRect();else if(c=e.getBoundingRect(),e.needLocalTransform()){var u=e.getLocalTransform();(c=c.clone()).applyTransform(u)}var h=qi(Rt({width:c.width,height:c.height},i),t,n),f=o?h.x-c.x:0,p=s?h.y-c.y:0;return"raw"===l?(a.x=f,a.y=p):(a.x+=f,a.y+=p),a===e&&e.markRedraw(),!0}function df(e){var i=e.layoutMode||e.constructor.layoutMode;return Bt(i)?i:i?{type:i}:null}function Pl(e,i,t){var n=t&&t.ignoreSize;!yt(n)&&(n=[n,n]);var r=o(Uc[0],0),a=o(Uc[1],1);function o(u,h){var f={},p=0,m={},b=0;if(Dg(u,function(A){m[A]=e[A]}),Dg(u,function(A){s(i,A)&&(f[A]=m[A]=i[A]),l(f,A)&&p++,l(m,A)&&b++}),n[h])return l(i,u[1])?m[u[2]]=null:l(i,u[2])&&(m[u[1]]=null),m;if(2===b||!p)return m;if(p>=2)return f;for(var w=0;w<u.length;w++){var T=u[w];if(!s(f,T)&&s(e,T)){f[T]=e[T];break}}return f}function s(u,h){return u.hasOwnProperty(h)}function l(u,h){return null!=u[h]&&"auto"!==u[h]}function c(u,h,f){Dg(u,function(p){h[p]=f[p]})}c(Uc[0],e,r),c(Uc[1],e,a)}function kh(e){return uT({},e)}function uT(e,i){return i&&e&&Dg(cT,function(t){i.hasOwnProperty(t)&&(e[t]=i[t])}),e}jt(I_,"vertical"),jt(I_,"horizontal");var S3=Le(),Dh=function(e){function i(t,n,r){var a=e.call(this,t,n,r)||this;return a.uid=wh("ec_cpt_model"),a}return ot(i,e),i.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r)},i.prototype.mergeDefaultAndTheme=function(t,n){var r=df(this),a=r?kh(t):{};ie(t,n.getTheme().get(this.mainType)),ie(t,this.getDefaultOption()),r&&Pl(t,a,r)},i.prototype.mergeOption=function(t,n){ie(this.option,t,!0);var r=df(this);r&&Pl(this.option,t,r)},i.prototype.optionUpdated=function(t,n){},i.prototype.getDefaultOption=function(){var t=this.constructor;if(!function NB(e){return!(!e||!e[GS])}(t))return t.defaultOption;var n=S3(this);if(!n.defaultOption){for(var r=[],a=t;a;){var o=a.prototype.defaultOption;o&&r.push(o),a=a.superClass}for(var s={},l=r.length-1;l>=0;l--)s=ie(s,r[l],!0);n.defaultOption=s}return n.defaultOption},i.prototype.getReferringComponents=function(t,n){var a=t+"Id";return Qd(this.ecModel,t,{index:this.get(t+"Index",!0),id:this.get(a,!0)},n)},i.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},i.prototype.getZLevelKey=function(){return""},i.prototype.setZLevel=function(t){this.option.zlevel=t},i.protoInitialize=((t=i.prototype).type="component",t.id="",t.name="",t.mainType="",t.subType="",void(t.componentIndex=0)),i;var t}(ai);HS(Dh,ai),og(Dh),function c3(e){var i={};e.registerSubTypeDefaulter=function(t,n){var r=No(t);i[r.main]=n},e.determineSubType=function(t,n){var r=n.type;if(!r){var a=No(t).main;e.hasSubTypes(t)&&i[a]&&(r=i[a](n))}return r}}(Dh),function u3(e,i){function n(a,o){return a[o]||(a[o]={predecessor:[],successor:[]}),a[o]}e.topologicalTravel=function(a,o,s,l){if(a.length){var c=function t(a){var o={},s=[];return U(a,function(l){var c=n(o,l),h=function r(a,o){var s=[];return U(a,function(l){oe(o,l)>=0&&s.push(l)}),s}(c.originalDeps=i(l),a);c.entryCount=h.length,0===c.entryCount&&s.push(l),U(h,function(f){oe(c.predecessor,f)<0&&c.predecessor.push(f);var p=n(o,f);oe(p.successor,f)<0&&p.successor.push(l)})}),{graph:o,noEntryList:s}}(o),u=c.graph,h=c.noEntryList,f={};for(U(a,function(T){f[T]=!0});h.length;){var p=h.pop(),m=u[p],b=!!f[p];b&&(s.call(l,p,m.originalDeps.slice()),delete f[p]),U(m.successor,b?w:_)}U(f,function(){throw new Error("")})}function _(T){u[T].entryCount--,0===u[T].entryCount&&h.push(T)}function w(T){f[T]=!0,_(T)}}}(Dh,function w3(e){var i=[];return U(Dh.getClassesByMainType(e),function(t){i=i.concat(t.dependencies||t.prototype.dependencies||[])}),i=mt(i,function(t){return No(t).main}),"dataset"!==e&&oe(i,"dataset")<=0&&i.unshift("dataset"),i});const Oe=Dh;var hT="";typeof navigator<"u"&&(hT=navigator.platform||"");var Ph="rgba(0, 0, 0, 0.2)";const T3={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Ph,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Ph,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Ph,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Ph,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Ph,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Ph,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:hT.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var dT=Mt(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),xa="original",Yn="arrayRows",ba="objectRows",Xo="keyedColumns",Es="typedArray",fT="unknown",Uo="column",Ih="row",En={Must:1,Might:2,Not:3},pT=Le();function gT(e,i,t){var n={},r=E_(i);if(!r||!e)return n;var u,h,a=[],o=[],l=pT(i.ecModel).datasetMap,c=r.uid+"_"+t.seriesLayoutBy;U(e=e.slice(),function(b,_){var w=Bt(b)?b:e[_]={name:b};"ordinal"===w.type&&null==u&&(u=_,h=m(w)),n[w.name]=[]});var f=l.get(c)||l.set(c,{categoryWayDim:h,valueWayDim:0});function p(b,_,w){for(var T=0;T<w;T++)b.push(_+T)}function m(b){var _=b.dimsDef;return _?_.length:1}return U(e,function(b,_){var w=b.name,T=m(b);if(null==u)p(n[w],A=f.valueWayDim,T),p(o,A,T),f.valueWayDim+=T;else if(u===_)p(n[w],0,T),p(a,0,T);else{var A;p(n[w],A=f.categoryWayDim,T),p(o,A,T),f.categoryWayDim+=T}}),a.length&&(n.itemName=a),o.length&&(n.seriesName=o),n}function O_(e,i,t){var n={};if(!E_(e))return n;var s,a=i.sourceFormat,o=i.dimensionsDefine;(a===ba||a===Xo)&&U(o,function(u,h){"name"===(Bt(u)?u.name:u)&&(s=h)});var l=function(){for(var u={},h={},f=[],p=0,m=Math.min(5,t);p<m;p++){var b=mT(i.data,a,i.seriesLayoutBy,o,i.startIndex,p);f.push(b);var _=b===En.Not;if(_&&null==u.v&&p!==s&&(u.v=p),(null==u.n||u.n===u.v||!_&&f[u.n]===En.Not)&&(u.n=p),w(u)&&f[u.n]!==En.Not)return u;_||(b===En.Might&&null==h.v&&p!==s&&(h.v=p),(null==h.n||h.n===h.v)&&(h.n=p))}function w(T){return null!=T.v&&null!=T.n}return w(u)?u:w(h)?h:null}();if(l){n.value=[l.v];var c=s??l.n;n.itemName=[c],n.seriesName=[c]}return n}function E_(e){if(!e.get("data",!0))return Qd(e.ecModel,"dataset",{index:e.get("datasetIndex",!0),id:e.get("datasetId",!0)},zi).models[0]}function vT(e,i){return mT(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,i)}function mT(e,i,t,n,r,a){var o,l,c;if(fn(e))return En.Not;if(n){var u=n[a];Bt(u)?(l=u.name,c=u.type):Lt(u)&&(l=u)}if(null!=c)return"ordinal"===c?En.Must:En.Not;if(i===Yn){var h=e;if(t===Ih){for(var f=h[a],p=0;p<(f||[]).length&&p<5;p++)if(null!=(o=P(f[r+p])))return o}else for(p=0;p<h.length&&p<5;p++){var m=h[r+p];if(m&&null!=(o=P(m[a])))return o}}else if(i===ba){var b=e;if(!l)return En.Not;for(p=0;p<b.length&&p<5;p++)if((_=b[p])&&null!=(o=P(_[l])))return o}else if(i===Xo){if(!l)return En.Not;if(!(f=e[l])||fn(f))return En.Not;for(p=0;p<f.length&&p<5;p++)if(null!=(o=P(f[p])))return o}else if(i===xa){var T=e;for(p=0;p<T.length&&p<5;p++){var _,A=mh(_=T[p]);if(!yt(A))return En.Not;if(null!=(o=P(A[a])))return o}}function P(F){var O=Lt(F);return null!=F&&Number.isFinite(Number(F))&&""!==F?O?En.Might:En.Not:O&&"-"!==F?En.Must:void 0}return En.Not}var F_=Mt(),yT=Le(),D3=Le(),R_=function(){function e(){}return e.prototype.getColorFromPalette=function(i,t,n){var r=je(this.get("color",!0)),a=this.get("colorLayer",!0);return _T(this,yT,r,a,i,t,n)},e.prototype.clearColorPalette=function(){!function I3(e,i){i(e).paletteIdx=0,i(e).paletteNameMap={}}(this,yT)},e}();function B_(e,i,t,n){var r=je(e.get(["aria","decal","decals"]));return _T(e,D3,r,null,i,t,n)}function _T(e,i,t,n,r,a,o){var s=i(a=a||e),l=s.paletteIdx||0,c=s.paletteNameMap=s.paletteNameMap||{};if(c.hasOwnProperty(r))return c[r];var u=null!=o&&n?function P3(e,i){for(var t=e.length,n=0;n<t;n++)if(e[n].length>i)return e[n];return e[t-1]}(n,o):t;if((u=u||t)&&u.length){var h=u[l];return r&&(c[r]=h),s.paletteIdx=(l+1)%u.length,h}}var Ig,ff,xT,bT="\0_ec_inner",ST=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ot(i,e),i.prototype.init=function(t,n,r,a,o,s){a=a||{},this.option=null,this._theme=new ai(a),this._locale=new ai(o),this._optionManager=s},i.prototype.setOption=function(t,n,r){var a=MT(n);this._optionManager.setOption(t,r,a),this._resetOption(null,a)},i.prototype.resetOption=function(t,n){return this._resetOption(t,MT(n))},i.prototype._resetOption=function(t,n){var r=!1,a=this._optionManager;if(!t||"recreate"===t){var o=a.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(o,n)):xT(this,o),r=!0}if(("timeline"===t||"media"===t)&&this.restoreData(),!t||"recreate"===t||"timeline"===t){var s=a.getTimelineOption(this);s&&(r=!0,this._mergeOption(s,n))}if(!t||"recreate"===t||"media"===t){var l=a.getMediaOption(this);l.length&&U(l,function(c){r=!0,this._mergeOption(c,n)},this)}return r},i.prototype.mergeOption=function(t){this._mergeOption(t,null)},i.prototype._mergeOption=function(t,n){var r=this.option,a=this._componentsMap,o=this._componentsCount,s=[],l=Mt(),c=n&&n.replaceMergeMainTypeMap;(function M3(e){pT(e).datasetMap=Mt()})(this),U(t,function(h,f){null!=h&&(Oe.hasClass(f)?f&&(s.push(f),l.set(f,!0)):r[f]=null==r[f]?Gt(h):ie(r[f],h,!0))}),c&&c.each(function(h,f){Oe.hasClass(f)&&!l.get(f)&&(s.push(f),l.set(f,!0))}),Oe.topologicalTravel(s,Oe.getAllClassMainTypes(),function u(h){var f=function k3(e,i,t){var n=F_.get(i);if(!n)return t;var r=n(e);return r?t.concat(r):t}(this,h,je(t[h])),p=a.get(h),b=BS(p,f,p?c&&c.get(h)?"replaceMerge":"normalMerge":"replaceAll");(function PB(e,i,t){U(e,function(n){var r=n.newOption;Bt(r)&&(n.keyInfo.mainType=i,n.keyInfo.subType=function IB(e,i,t,n){return i.type?i.type:t?t.subType:n.determineSubType(e,i)}(i,r,n.existing,t))})})(b,h,Oe),r[h]=null,a.set(h,null),o.set(h,0);var A,_=[],w=[],T=0;U(b,function(F,O){var V=F.existing,N=F.newOption;if(N){var H=Oe.getClass(h,F.keyInfo.subType,!("series"===h));if(!H)return;if("tooltip"===h){if(A)return;A=!0}if(V&&V.constructor===H)V.name=F.keyInfo.name,V.mergeOption(N,this),V.optionUpdated(N,!1);else{var j=ft({componentIndex:O},F.keyInfo);ft(V=new H(N,this,this,j),j),F.brandNew&&(V.__requireNewView=!0),V.init(N,this,this),V.optionUpdated(null,!0)}}else V&&(V.mergeOption({},this),V.optionUpdated({},!1));V?(_.push(V.option),w.push(V),T++):(_.push(void 0),w.push(void 0))},this),r[h]=_,a.set(h,w),o.set(h,T),"series"===h&&Ig(this)},this),this._seriesIndices||Ig(this)},i.prototype.getOption=function(){var t=Gt(this.option);return U(t,function(n,r){if(Oe.hasClass(r)){for(var a=je(n),o=a.length,s=!1,l=o-1;l>=0;l--)a[l]&&!qd(a[l])?s=!0:(a[l]=null,!s&&o--);a.length=o,t[r]=a}}),delete t[bT],t},i.prototype.getTheme=function(){return this._theme},i.prototype.getLocaleModel=function(){return this._locale},i.prototype.setUpdatePayload=function(t){this._payload=t},i.prototype.getUpdatePayload=function(){return this._payload},i.prototype.getComponent=function(t,n){var r=this._componentsMap.get(t);if(r){var a=r[n||0];if(a)return a;if(null==n)for(var o=0;o<r.length;o++)if(r[o])return r[o]}},i.prototype.queryComponents=function(t){var n=t.mainType;if(!n)return[];var l,r=t.index,a=t.id,o=t.name,s=this._componentsMap.get(n);return s&&s.length?(null!=r?(l=[],U(je(r),function(c){s[c]&&l.push(s[c])})):l=null!=a?wT("id",a,s):null!=o?wT("name",o,s):ve(s,function(c){return!!c}),TT(l,t)):[]},i.prototype.findComponents=function(t){var r=t.mainType,a=function s(c){var u=r+"Index",h=r+"Id",f=r+"Name";return!c||null==c[u]&&null==c[h]&&null==c[f]?null:{mainType:r,index:c[u],id:c[h],name:c[f]}}(t.query);return function l(c){return t.filter?ve(c,t.filter):c}(TT(a?this.queryComponents(a):ve(this._componentsMap.get(r),function(c){return!!c}),t))},i.prototype.eachComponent=function(t,n,r){var a=this._componentsMap;if(Z(t)){var o=n,s=t;a.each(function(h,f){for(var p=0;h&&p<h.length;p++){var m=h[p];m&&s.call(o,f,m,m.componentIndex)}})}else for(var l=Lt(t)?a.get(t):Bt(t)?this.findComponents(t):null,c=0;l&&c<l.length;c++){var u=l[c];u&&n.call(r,u,u.componentIndex)}},i.prototype.getSeriesByName=function(t){var n=ji(t,null);return ve(this._componentsMap.get("series"),function(r){return!!r&&null!=n&&r.name===n})},i.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},i.prototype.getSeriesByType=function(t){return ve(this._componentsMap.get("series"),function(n){return!!n&&n.subType===t})},i.prototype.getSeries=function(){return ve(this._componentsMap.get("series"),function(t){return!!t})},i.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},i.prototype.eachSeries=function(t,n){ff(this),U(this._seriesIndices,function(r){var a=this._componentsMap.get("series")[r];t.call(n,a,r)},this)},i.prototype.eachRawSeries=function(t,n){U(this._componentsMap.get("series"),function(r){r&&t.call(n,r,r.componentIndex)})},i.prototype.eachSeriesByType=function(t,n,r){ff(this),U(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];o.subType===t&&n.call(r,o,a)},this)},i.prototype.eachRawSeriesByType=function(t,n,r){return U(this.getSeriesByType(t),n,r)},i.prototype.isSeriesFiltered=function(t){return ff(this),null==this._seriesIndicesMap.get(t.componentIndex)},i.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},i.prototype.filterSeries=function(t,n){ff(this);var r=[];U(this._seriesIndices,function(a){var o=this._componentsMap.get("series")[a];t.call(n,o,a)&&r.push(a)},this),this._seriesIndices=r,this._seriesIndicesMap=Mt(r)},i.prototype.restoreData=function(t){Ig(this);var n=this._componentsMap,r=[];n.each(function(a,o){Oe.hasClass(o)&&r.push(o)}),Oe.topologicalTravel(r,Oe.getAllClassMainTypes(),function(a){U(n.get(a),function(o){o&&("series"!==a||!function F3(e,i){if(i){var t=i.seriesIndex,n=i.seriesId,r=i.seriesName;return null!=t&&e.componentIndex!==t||null!=n&&e.id!==n||null!=r&&e.name!==r}}(o,t))&&o.restoreData()})})},i.internalField=(Ig=function(t){var n=t._seriesIndices=[];U(t._componentsMap.get("series"),function(r){r&&n.push(r.componentIndex)}),t._seriesIndicesMap=Mt(n)},ff=function(t){},void(xT=function(t,n){t.option={},t.option[bT]=1,t._componentsMap=Mt({series:[]}),t._componentsCount=Mt();var r=n.aria;Bt(r)&&null==r.enabled&&(r.enabled=!0),function R3(e,i){var t=e.color&&!e.colorLayer;U(i,function(n,r){"colorLayer"===r&&t||Oe.hasClass(r)||("object"==typeof n?e[r]=e[r]?ie(e[r],n,!1):Gt(n):null==e[r]&&(e[r]=n))})}(n,t._theme.option),ie(n,T3,!1),t._mergeOption(n,null)})),i}(ai);function wT(e,i,t){if(yt(i)){var n=Mt();return U(i,function(a){null!=a&&null!=ji(a,null)&&n.set(a,!0)}),ve(t,function(a){return a&&n.get(a[e])})}var r=ji(i,null);return ve(t,function(a){return a&&null!=r&&a[e]===r})}function TT(e,i){return i.hasOwnProperty("subType")?ve(e,function(t){return t&&t.subType===i.subType}):e}function MT(e){var i=Mt();return e&&U(je(e.replaceMerge),function(t){i.set(t,!0)}),{replaceMergeMainTypeMap:i}}It(ST,R_);const AT=ST;var B3=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];const LT=function e(i){U(B3,function(t){this[t]=Dt(i[t],i)},this)};var V_={},z3=function(){function e(){this._coordinateSystems=[]}return e.prototype.create=function(i,t){var n=[];U(V_,function(r,a){var o=r.create(i,t);n=n.concat(o||[])}),this._coordinateSystems=n},e.prototype.update=function(i,t){U(this._coordinateSystems,function(n){n.update&&n.update(i,t)})},e.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},e.register=function(i,t){V_[i]=t},e.get=function(i){return V_[i]},e}();const pf=z3;var N3=/^(min|max)?(.+)$/,G3=function(){function e(i){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=i}return e.prototype.setOption=function(i,t,n){i&&(U(je(i.series),function(o){o&&o.data&&fn(o.data)&&Ra(o.data)}),U(je(i.dataset),function(o){o&&o.source&&fn(o.source)&&Ra(o.source)})),i=Gt(i);var r=this._optionBackup,a=function H3(e,i,t){var r,a,n=[],o=e.baseOption,s=e.timeline,l=e.options,c=e.media,u=!!e.media,h=!!(l||s||o&&o.timeline);function f(p){U(i,function(m){m(p,t)})}return o?(a=o).timeline||(a.timeline=s):((h||u)&&(e.options=e.media=null),a=e),u&&yt(c)&&U(c,function(p){p&&p.option&&(p.query?n.push(p):r||(r=p))}),f(a),U(l,function(p){return f(p)}),U(n,function(p){return f(p.option)}),{baseOption:a,timelineOptions:l||[],mediaDefault:r,mediaList:n}}(i,t,!r);this._newBaseOption=a.baseOption,r?(a.timelineOptions.length&&(r.timelineOptions=a.timelineOptions),a.mediaList.length&&(r.mediaList=a.mediaList),a.mediaDefault&&(r.mediaDefault=a.mediaDefault)):this._optionBackup=a},e.prototype.mountOption=function(i){var t=this._optionBackup;return this._timelineOptions=t.timelineOptions,this._mediaList=t.mediaList,this._mediaDefault=t.mediaDefault,this._currentMediaIndices=[],Gt(i?t.baseOption:this._newBaseOption)},e.prototype.getTimelineOption=function(i){var t,n=this._timelineOptions;if(n.length){var r=i.getComponent("timeline");r&&(t=Gt(n[r.getCurrentIndex()]))}return t},e.prototype.getMediaOption=function(i){var t=this._api.getWidth(),n=this._api.getHeight(),r=this._mediaList,a=this._mediaDefault,o=[],s=[];if(!r.length&&!a)return s;for(var l=0,c=r.length;l<c;l++)W3(r[l].query,t,n)&&o.push(l);return!o.length&&a&&(o=[-1]),o.length&&!function X3(e,i){return e.join(",")===i.join(",")}(o,this._currentMediaIndices)&&(s=mt(o,function(u){return Gt(-1===u?a.option:r[u].option)})),this._currentMediaIndices=o,s},e}();function W3(e,i,t){var n={width:i,height:t,aspectratio:i/t},r=!0;return U(e,function(a,o){var s=o.match(N3);if(s&&s[1]&&s[2]){var l=s[1],c=s[2].toLowerCase();(function Y3(e,i,t){return"min"===t?e>=i:"max"===t?e<=i:e===i})(n[c],a,l)||(r=!1)}}),r}const U3=G3;var ao=U,gf=Bt,kT=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function z_(e){var i=e&&e.itemStyle;if(i)for(var t=0,n=kT.length;t<n;t++){var r=kT[t],a=i.normal,o=i.emphasis;a&&a[r]&&(e[r]=e[r]||{},e[r].normal?ie(e[r].normal,a[r]):e[r].normal=a[r],a[r]=null),o&&o[r]&&(e[r]=e[r]||{},e[r].emphasis?ie(e[r].emphasis,o[r]):e[r].emphasis=o[r],o[r]=null)}}function Xn(e,i,t){if(e&&e[i]&&(e[i].normal||e[i].emphasis)){var n=e[i].normal,r=e[i].emphasis;n&&(t?(e[i].normal=e[i].emphasis=null,Rt(e[i],n)):e[i]=n),r&&(e.emphasis=e.emphasis||{},e.emphasis[i]=r,r.focus&&(e.emphasis.focus=r.focus),r.blurScope&&(e.emphasis.blurScope=r.blurScope))}}function vf(e){Xn(e,"itemStyle"),Xn(e,"lineStyle"),Xn(e,"areaStyle"),Xn(e,"label"),Xn(e,"labelLine"),Xn(e,"upperLabel"),Xn(e,"edgeLabel")}function Ni(e,i){var t=gf(e)&&e[i],n=gf(t)&&t.textStyle;if(n)for(var r=0,a=RS.length;r<a;r++){var o=RS[r];n.hasOwnProperty(o)&&(t[o]=n[o])}}function Ca(e){e&&(vf(e),Ni(e,"label"),e.emphasis&&Ni(e.emphasis,"label"))}function Fs(e){return yt(e)?e:e?[e]:[]}function DT(e){return(yt(e)?e[0]:e)||{}}function PT(e){e&&U(K3,function(i){i[0]in e&&!(i[1]in e)&&(e[i[1]]=e[i[0]])})}var K3=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Q3=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],N_=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function mf(e){var i=e&&e.itemStyle;if(i)for(var t=0;t<N_.length;t++){var n=N_[t][1];null!=i[n]&&(i[N_[t][0]]=i[n])}}function IT(e){e&&"edge"===e.alignTo&&null!=e.margin&&null==e.edgeDistance&&(e.edgeDistance=e.margin)}function OT(e){e&&e.downplay&&!e.blur&&(e.blur=e.downplay)}function ET(e,i){if(e)for(var t=0;t<e.length;t++)i(e[t]),e[t]&&ET(e[t].children,i)}function FT(e,i){(function $3(e,i){ao(Fs(e.series),function(n){gf(n)&&function Z3(e){if(gf(e)){z_(e),vf(e),Ni(e,"label"),Ni(e,"upperLabel"),Ni(e,"edgeLabel"),e.emphasis&&(Ni(e.emphasis,"label"),Ni(e.emphasis,"upperLabel"),Ni(e.emphasis,"edgeLabel"));var i=e.markPoint;i&&(z_(i),Ca(i));var t=e.markLine;t&&(z_(t),Ca(t));var n=e.markArea;n&&Ca(n);var r=e.data;if("graph"===e.type){r=r||e.nodes;var a=e.links||e.edges;if(a&&!fn(a))for(var o=0;o<a.length;o++)Ca(a[o]);U(e.categories,function(c){vf(c)})}if(r&&!fn(r))for(o=0;o<r.length;o++)Ca(r[o]);if((i=e.markPoint)&&i.data){var s=i.data;for(o=0;o<s.length;o++)Ca(s[o])}if((t=e.markLine)&&t.data){var l=t.data;for(o=0;o<l.length;o++)yt(l[o])?(Ca(l[o][0]),Ca(l[o][1])):Ca(l[o])}"gauge"===e.type?(Ni(e,"axisLabel"),Ni(e,"title"),Ni(e,"detail")):"treemap"===e.type?(Xn(e.breadcrumb,"itemStyle"),U(e.levels,function(c){vf(c)})):"tree"===e.type&&vf(e.leaves)}}(n)});var t=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];i&&t.push("valueAxis","categoryAxis","logAxis","timeAxis"),ao(t,function(n){ao(Fs(e[n]),function(r){r&&(Ni(r,"axisLabel"),Ni(r.axisPointer,"label"))})}),ao(Fs(e.parallel),function(n){var r=n&&n.parallelAxisDefault;Ni(r,"axisLabel"),Ni(r&&r.axisPointer,"label")}),ao(Fs(e.calendar),function(n){Xn(n,"itemStyle"),Ni(n,"dayLabel"),Ni(n,"monthLabel"),Ni(n,"yearLabel")}),ao(Fs(e.radar),function(n){Ni(n,"name"),n.name&&null==n.axisName&&(n.axisName=n.name,delete n.name),null!=n.nameGap&&null==n.axisNameGap&&(n.axisNameGap=n.nameGap,delete n.nameGap)}),ao(Fs(e.geo),function(n){gf(n)&&(Ca(n),ao(Fs(n.regions),function(r){Ca(r)}))}),ao(Fs(e.timeline),function(n){Ca(n),Xn(n,"label"),Xn(n,"itemStyle"),Xn(n,"controlStyle",!0);var r=n.data;yt(r)&&U(r,function(a){Bt(a)&&(Xn(a,"label"),Xn(a,"itemStyle"))})}),ao(Fs(e.toolbox),function(n){Xn(n,"iconStyle"),ao(n.feature,function(r){Xn(r,"iconStyle")})}),Ni(DT(e.axisPointer),"label"),Ni(DT(e.tooltip).axisPointer,"label")})(e,i),e.series=je(e.series),U(e.series,function(t){if(Bt(t)){var n=t.type;if("line"===n)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===n||"gauge"===n){if(null!=t.clockWise&&(t.clockwise=t.clockWise),IT(t.label),(r=t.data)&&!fn(r))for(var a=0;a<r.length;a++)IT(r[a]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===n){var o=function j3(e,i){for(var t=i.split(","),n=e,r=0;r<t.length&&null!=(n=n&&n[t[r]]);r++);return n}(t,"pointer.color");null!=o&&function q3(e,i,t,n){for(var o,r=i.split(","),a=e,s=0;s<r.length-1;s++)null==a[o=r[s]]&&(a[o]={}),a=a[o];(n||null==a[r[s]])&&(a[r[s]]=t)}(t,"itemStyle.color",o)}else if("bar"===n){var r;if(mf(t),mf(t.backgroundStyle),mf(t.emphasis),(r=t.data)&&!fn(r))for(a=0;a<r.length;a++)"object"==typeof r[a]&&(mf(r[a]),mf(r[a]&&r[a].emphasis))}else if("sunburst"===n){var s=t.highlightPolicy;s&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=s)),OT(t),ET(t.data,OT)}else"graph"===n||"sankey"===n?function J3(e){e&&null!=e.focusNodeAdjacency&&(e.emphasis=e.emphasis||{},null==e.emphasis.focus&&(e.emphasis.focus="adjacency"))}(t):"map"===n&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&Rt(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),PT(t)}}),e.dataRange&&(e.visualMap=e.dataRange),U(Q3,function(t){var n=e[t];n&&(yt(n)||(n=[n]),U(n,function(r){PT(r)}))})}function ez(e){U(e,function(i,t){var n=[],r=[NaN,NaN],a=[i.stackResultDimension,i.stackedOverDimension],o=i.data,s=i.isStackedByIndex,l=i.seriesModel.get("stackStrategy")||"samesign";o.modify(a,function(c,u,h){var p,m,f=o.get(i.stackedDimension,h);if(isNaN(f))return r;s?m=o.getRawIndex(h):p=o.get(i.stackedByDimension,h);for(var b=NaN,_=t-1;_>=0;_--){var w=e[_];if(s||(m=w.data.rawIndexOf(w.stackedByDimension,p)),m>=0){var T=w.data.getByRawIndex(w.stackResultDimension,m);if("all"===l||"positive"===l&&T>0||"negative"===l&&T<0||"samesign"===l&&f>=0&&T>0||"samesign"===l&&f<=0&&T<0){f=xB(f,T),b=T;break}}}return n[0]=f,n[1]=b,n})})}var Og=function e(i){this.data=i.data||(i.sourceFormat===Xo?{}:[]),this.sourceFormat=i.sourceFormat||fT,this.seriesLayoutBy=i.seriesLayoutBy||Uo,this.startIndex=i.startIndex||0,this.dimensionsDetectedCount=i.dimensionsDetectedCount,this.metaRawOption=i.metaRawOption;var t=this.dimensionsDefine=i.dimensionsDefine;if(t)for(var n=0;n<t.length;n++){var r=t[n];null==r.type&&vT(this,n)===En.Must&&(r.type="ordinal")}};function G_(e){return e instanceof Og}function H_(e,i,t){t=t||RT(e);var n=i.seriesLayoutBy,r=function nz(e,i,t,n,r){var a,o;if(!e)return{dimensionsDefine:BT(r),startIndex:o,dimensionsDetectedCount:a};if(i===Yn){var s=e;"auto"===n||null==n?VT(function(c){null!=c&&"-"!==c&&(Lt(c)?null==o&&(o=1):o=0)},t,s,10):o=_e(n)?n:n?1:0,!r&&1===o&&(r=[],VT(function(c,u){r[u]=null!=c?c+"":""},t,s,1/0)),a=r?r.length:t===Ih?s.length:s[0]?s[0].length:null}else if(i===ba)r||(r=function rz(e){for(var t,i=0;i<e.length&&!(t=e[i++]););if(t)return he(t)}(e));else if(i===Xo)r||(r=[],U(e,function(c,u){r.push(u)}));else if(i===xa){var l=mh(e[0]);a=yt(l)&&l.length||1}return{startIndex:o,dimensionsDefine:BT(r),dimensionsDetectedCount:a}}(e,t,n,i.sourceHeader,i.dimensions);return new Og({data:e,sourceFormat:t,seriesLayoutBy:n,dimensionsDefine:r.dimensionsDefine,startIndex:r.startIndex,dimensionsDetectedCount:r.dimensionsDetectedCount,metaRawOption:Gt(i)})}function W_(e){return new Og({data:e,sourceFormat:fn(e)?Es:xa})}function iz(e){return new Og({data:e.data,sourceFormat:e.sourceFormat,seriesLayoutBy:e.seriesLayoutBy,dimensionsDefine:Gt(e.dimensionsDefine),startIndex:e.startIndex,dimensionsDetectedCount:e.dimensionsDetectedCount})}function RT(e){var i=fT;if(fn(e))i=Es;else if(yt(e)){0===e.length&&(i=Yn);for(var t=0,n=e.length;t<n;t++){var r=e[t];if(null!=r){if(yt(r)||fn(r)){i=Yn;break}if(Bt(r)){i=ba;break}}}}else if(Bt(e))for(var a in e)if(Pt(e,a)&&Li(e[a])){i=Xo;break}return i}function BT(e){if(e){var i=Mt();return mt(e,function(t,n){var r={name:(t=Bt(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var a=i.get(r.name);return a?r.name+="-"+a.count++:i.set(r.name,{count:1}),r})}}function VT(e,i,t,n){if(i===Ih)for(var r=0;r<t.length&&r<n;r++)e(t[r]?t[r][0]:null,r);else{var a=t[0]||[];for(r=0;r<a.length&&r<n;r++)e(a[r],r)}}function zT(e){var i=e.sourceFormat;return i===ba||i===Xo}var $c,jc,qc,NT,GT,HT=function(){function e(i,t){var n=G_(i)?i:W_(i);this._source=n;var r=this._data=n.data;n.sourceFormat===Es&&(this._offset=0,this._dimSize=t,this._data=r),GT(this,r,n)}return e.prototype.getSource=function(){return this._source},e.prototype.count=function(){return 0},e.prototype.getItem=function(i,t){},e.prototype.appendData=function(i){},e.prototype.clean=function(){},e.protoInitialize=function(){var i=e.prototype;i.pure=!1,i.persistent=!0}(),e.internalField=function(){var i;GT=function(o,s,l){var c=l.sourceFormat,u=l.seriesLayoutBy,h=l.startIndex,f=l.dimensionsDefine;if(ft(o,NT[X_(c,u)]),c===Es)o.getItem=t,o.count=r,o.fillStorage=n;else{var m=YT(c,u);o.getItem=Dt(m,null,s,h,f);var b=UT(c,u);o.count=Dt(b,null,s,h,f)}};var t=function(o,s){s=s||[];for(var l=this._data,c=this._dimSize,u=c*(o-=this._offset),h=0;h<c;h++)s[h]=l[u+h];return s},n=function(o,s,l,c){for(var u=this._data,h=this._dimSize,f=0;f<h;f++){for(var p=c[f],m=null==p[0]?1/0:p[0],b=null==p[1]?-1/0:p[1],_=s-o,w=l[f],T=0;T<_;T++){var A=u[T*h+f];w[o+T]=A,A<m&&(m=A),A>b&&(b=A)}p[0]=m,p[1]=b}},r=function(){return this._data?this._data.length/this._dimSize:0};function a(o){for(var s=0;s<o.length;s++)this._data.push(o[s])}(i={})[Yn+"_"+Uo]={pure:!0,appendData:a},i[Yn+"_"+Ih]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},i[ba]={pure:!0,appendData:a},i[Xo]={pure:!0,appendData:function(o){var s=this._data;U(o,function(l,c){for(var u=s[c]||(s[c]=[]),h=0;h<(l||[]).length;h++)u.push(l[h])})}},i[xa]={appendData:a},i[Es]={persistent:!1,pure:!0,appendData:function(o){this._data=o},clean:function(){this._offset+=this.count(),this._data=null}},NT=i}(),e}(),WT=function(e,i,t,n){return e[n]},az=(($c={})[Yn+"_"+Uo]=function(e,i,t,n){return e[n+i]},$c[Yn+"_"+Ih]=function(e,i,t,n,r){n+=i;for(var a=r||[],o=e,s=0;s<o.length;s++){var l=o[s];a[s]=l?l[n]:null}return a},$c[ba]=WT,$c[Xo]=function(e,i,t,n,r){for(var a=r||[],o=0;o<t.length;o++){var l=e[t[o].name];a[o]=l?l[n]:null}return a},$c[xa]=WT,$c);function YT(e,i){return az[X_(e,i)]}var XT=function(e,i,t){return e.length},oz=((jc={})[Yn+"_"+Uo]=function(e,i,t){return Math.max(0,e.length-i)},jc[Yn+"_"+Ih]=function(e,i,t){var n=e[0];return n?Math.max(0,n.length-i):0},jc[ba]=XT,jc[Xo]=function(e,i,t){var r=e[t[0].name];return r?r.length:0},jc[xa]=XT,jc);function UT(e,i){return oz[X_(e,i)]}var Y_=function(e,i,t){return e[i]},sz=((qc={})[Yn]=Y_,qc[ba]=function(e,i,t){return e[t]},qc[Xo]=Y_,qc[xa]=function(e,i,t){var n=mh(e);return n instanceof Array?n[i]:n},qc[Es]=Y_,qc);function ZT(e){return sz[e]}function X_(e,i){return e===Yn?e+"_"+i:e}function Oh(e,i,t){if(e){var n=e.getRawDataItem(i);if(null!=n){var r=e.getStore(),a=r.getSource().sourceFormat;if(null!=t){var o=e.getDimensionIndex(t),s=r.getDimensionProperty(o);return ZT(a)(n,o,s)}var l=n;return a===xa&&(l=mh(n)),l}}}var lz=/\{@(.+?)\}/g,Eg=function(){function e(){}return e.prototype.getDataParams=function(i,t){var n=this.getData(t),r=this.getRawValue(i,t),a=n.getRawIndex(i),o=n.getName(i),s=n.getRawDataItem(i),l=n.getItemVisual(i,"style"),c=l&&l[n.getItemVisual(i,"drawType")||"fill"],u=l&&l.stroke,h=this.mainType,f="series"===h,p=n.userOutput&&n.userOutput.get();return{componentType:h,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:f?this.subType:null,seriesIndex:this.seriesIndex,seriesId:f?this.id:null,seriesName:f?this.name:null,name:o,dataIndex:a,data:s,dataType:t,value:r,color:c,borderColor:u,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},e.prototype.getFormattedLabel=function(i,t,n,r,a,o){t=t||"normal";var s=this.getData(n),l=this.getDataParams(i,n);return o&&(l.value=o.interpolatedValue),null!=r&&yt(l.value)&&(l.value=l.value[r]),a||(a=s.getItemModel(i).get("normal"===t?["label","formatter"]:[t,"label","formatter"])),Z(a)?(l.status=t,l.dimensionIndex=r,a(l)):Lt(a)?lT(a,l).replace(lz,function(h,f){var p=f.length,m=f;"["===m.charAt(0)&&"]"===m.charAt(p-1)&&(m=+m.slice(1,p-1));var b=Oh(s,i,m);if(o&&yt(o.interpolatedValue)){var _=s.getDimensionIndex(m);_>=0&&(b=o.interpolatedValue[_])}return null!=b?b+"":""}):void 0},e.prototype.getRawValue=function(i,t){return Oh(this.getData(t),i)},e.prototype.formatTooltip=function(i,t,n){},e}();function $T(e){var i,t;return Bt(e)?e.type&&(t=e):i=e,{text:i,frag:t}}function yf(e){return new cz(e)}var cz=function(){function e(i){this._reset=(i=i||{}).reset,this._plan=i.plan,this._count=i.count,this._onDirty=i.onDirty,this._dirty=!0}return e.prototype.perform=function(i){var a,t=this._upstream,n=i&&i.skip;if(this._dirty&&t){var r=this.context;r.data=r.outputData=t.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!n&&(a=this._plan(this.context));var h,o=u(this._modBy),s=this._modDataCount||0,l=u(i&&i.modBy),c=i&&i.modDataCount||0;function u(T){return!(T>=1)&&(T=1),T}(o!==l||s!==c)&&(a="reset"),(this._dirty||"reset"===a)&&(this._dirty=!1,h=this._doReset(n)),this._modBy=l,this._modDataCount=c;var f=i&&i.step;if(this._dueEnd=t?t._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var p=this._dueIndex,m=Math.min(null!=f?this._dueIndex+f:1/0,this._dueEnd);if(!n&&(h||p<m)){var b=this._progress;if(yt(b))for(var _=0;_<b.length;_++)this._doProgress(b[_],p,m,l,c);else this._doProgress(b,p,m,l,c)}this._dueIndex=m,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},e.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},e.prototype._doProgress=function(i,t,n,r,a){jT.reset(t,n,r,a),this._callingProgress=i,this._callingProgress({start:t,end:n,count:n-t,next:jT.next},this.context)},e.prototype._doReset=function(i){var t,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!i&&this._reset&&((t=this._reset(this.context))&&t.progress&&(n=t.forceFirstProgress,t=t.progress),yt(t)&&!t.length&&(t=null)),this._progress=t,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),n},e.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},e.prototype.pipe=function(i){(this._downstream!==i||this._dirty)&&(this._downstream=i,i._upstream=this,i.dirty())},e.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},e.prototype.getUpstream=function(){return this._upstream},e.prototype.getDownstream=function(){return this._downstream},e.prototype.setOutputEnd=function(i){this._outputDueEnd=this._settedOutputEnd=i},e}(),jT=function(){var e,i,t,n,r,a={reset:function(l,c,u,h){i=l,e=c,t=u,n=h,r=Math.ceil(n/t),a.next=t>1&&n>0?s:o}};return a;function o(){return i<e?i++:null}function s(){var l=i%r*t+Math.ceil(i/r),c=i>=e?null:l<n?l:i;return i++,c}}();function He(e){throw new Error(e)}function Il(e,i){var t=i&&i.type;return"ordinal"===t?e:("time"===t&&!_e(e)&&null!=e&&"-"!==e&&(e=+zo(e)),null==e||""===e?NaN:Number(e))}typeof console<"u"&&console.warn&&console;var fz=Mt({number:function(e){return parseFloat(e)},time:function(e){return+zo(e)},trim:function(e){return Lt(e)?Ci(e):e}});function KT(e){return fz.get(e)}var QT={lt:function(e,i){return e<i},lte:function(e,i){return e<=i},gt:function(e,i){return e>i},gte:function(e,i){return e>=i}},pz=function(){function e(i,t){_e(t)||He(""),this._opFn=QT[i],this._rvalFloat=Ls(t)}return e.prototype.evaluate=function(i){return _e(i)?this._opFn(i,this._rvalFloat):this._opFn(Ls(i),this._rvalFloat)},e}(),JT=function(){function e(i,t){var n="desc"===i;this._resultLT=n?1:-1,null==t&&(t=n?"min":"max"),this._incomparable="min"===t?-1/0:1/0}return e.prototype.evaluate=function(i,t){var n=_e(i)?i:Ls(i),r=_e(t)?t:Ls(t),a=isNaN(n),o=isNaN(r);if(a&&(n=this._incomparable),o&&(r=this._incomparable),a&&o){var s=Lt(i),l=Lt(t);s&&(n=l?i:0),l&&(r=s?t:0)}return n<r?this._resultLT:n>r?-this._resultLT:0},e}(),gz=function(){function e(i,t){this._rval=t,this._isEQ=i,this._rvalTypeof=typeof t,this._rvalFloat=Ls(t)}return e.prototype.evaluate=function(i){var t=i===this._rval;if(!t){var n=typeof i;n!==this._rvalTypeof&&("number"===n||"number"===this._rvalTypeof)&&(t=Ls(i)===this._rvalFloat)}return this._isEQ?t:!t},e}();function vz(e,i){return"eq"===e||"ne"===e?new gz("eq"===e,i):Pt(QT,e)?new pz(e,i):null}var mz=function(){function e(){}return e.prototype.getRawData=function(){throw new Error("not supported")},e.prototype.getRawDataItem=function(i){throw new Error("not supported")},e.prototype.cloneRawData=function(){},e.prototype.getDimensionInfo=function(i){},e.prototype.cloneAllDimensionInfo=function(){},e.prototype.count=function(){},e.prototype.retrieveValue=function(i,t){},e.prototype.retrieveValueFromItem=function(i,t){},e.prototype.convertValue=function(i,t){return Il(i,t)},e}();function _z(e){return Z_(e.sourceFormat)||He(""),e.data}function xz(e){var i=e.sourceFormat,t=e.data;if(Z_(i)||He(""),i===Yn){for(var r=[],a=0,o=t.length;a<o;a++)r.push(t[a].slice());return r}if(i===ba){for(r=[],a=0,o=t.length;a<o;a++)r.push(ft({},t[a]));return r}}function bz(e,i,t){if(null!=t){if(_e(t)||!isNaN(t)&&!Pt(i,t))return e[t];if(Pt(i,t))return i[t]}}function Cz(e){return Gt(e)}var t2=Mt();function Tz(e,i,t,n){i.length||He(""),Bt(e)||He("");var o=t2.get(e.type);o||He("");var s=mt(i,function(u){return function yz(e,i){var t=new mz,n=e.data,r=t.sourceFormat=e.sourceFormat,a=e.startIndex;e.seriesLayoutBy!==Uo&&He("");var s=[],l={},c=e.dimensionsDefine;if(c)U(c,function(b,_){var w=b.name,T={index:_,name:w,displayName:b.displayName};s.push(T),null!=w&&(Pt(l,w)&&He(""),l[w]=T)});else for(var u=0;u<e.dimensionsDetectedCount;u++)s.push({index:u});var h=YT(r,Uo);i.__isBuiltIn&&(t.getRawDataItem=function(b){return h(n,a,s,b)},t.getRawData=Dt(_z,null,e)),t.cloneRawData=Dt(xz,null,e);var f=UT(r,Uo);t.count=Dt(f,null,n,a,s);var p=ZT(r);t.retrieveValue=function(b,_){var w=h(n,a,s,b);return m(w,_)};var m=t.retrieveValueFromItem=function(b,_){if(null!=b){var w=s[_];if(w)return p(b,_,w.name)}};return t.getDimensionInfo=Dt(bz,null,s,l),t.cloneAllDimensionInfo=Dt(Cz,null,s),t}(u,o)});return mt(je(o.transform({upstream:s[0],upstreamList:s,config:Gt(e.config)})),function(u,h){Bt(u)||He(""),u.data||He(""),Z_(RT(u.data))||He("");var m,b=i[0];if(b&&0===h&&!u.dimensions){var _=b.startIndex;_&&(u.data=b.data.slice(0,_).concat(u.data)),m={seriesLayoutBy:Uo,sourceHeader:_,dimensions:b.metaRawOption.dimensions}}else m={seriesLayoutBy:Uo,sourceHeader:0,dimensions:u.dimensions};return H_(u.data,m,null)})}function Z_(e){return e===Yn||e===ba}var $_,Fg="undefined",Mz=typeof Uint32Array===Fg?Array:Uint32Array,Az=typeof Uint16Array===Fg?Array:Uint16Array,e2=typeof Int32Array===Fg?Array:Int32Array,n2=typeof Float64Array===Fg?Array:Float64Array,r2={float:n2,int:e2,ordinal:Array,number:Array,time:n2};function _f(e){return e>65535?Mz:Az}function Lz(e){var i=e.constructor;return i===Array?e.slice():new i(e)}function a2(e,i,t,n,r){var a=r2[t||"float"];if(r){var o=e[i],s=o&&o.length;if(s!==n){for(var l=new a(n),c=0;c<s;c++)l[c]=o[c];e[i]=l}}else e[i]=new a(n)}var kz=function(){function e(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=Mt()}return e.prototype.initData=function(i,t,n){this._provider=i,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var r=i.getSource(),a=this.defaultDimValueGetter=$_[r.sourceFormat];this._dimValueGetter=n||a,this._rawExtent=[],zT(r),this._dimensions=mt(t,function(s){return{type:s.type,property:s.property}}),this._initDataFromProvider(0,i.count())},e.prototype.getProvider=function(){return this._provider},e.prototype.getSource=function(){return this._provider.getSource()},e.prototype.ensureCalculationDimension=function(i,t){var n=this._calcDimNameToIdx,r=this._dimensions,a=n.get(i);if(null!=a){if(r[a].type===t)return a}else a=r.length;return r[a]={type:t},n.set(i,a),this._chunks[a]=new r2[t||"float"](this._rawCount),this._rawExtent[a]=[1/0,-1/0],a},e.prototype.collectOrdinalMeta=function(i,t){var n=this._chunks[i],r=this._dimensions[i],a=this._rawExtent,o=r.ordinalOffset||0,s=n.length;0===o&&(a[i]=[1/0,-1/0]);for(var l=a[i],c=o;c<s;c++){var u=n[c]=t.parseAndCollect(n[c]);isNaN(u)||(l[0]=Math.min(u,l[0]),l[1]=Math.max(u,l[1]))}r.ordinalMeta=t,r.ordinalOffset=s,r.type="ordinal"},e.prototype.getOrdinalMeta=function(i){return this._dimensions[i].ordinalMeta},e.prototype.getDimensionProperty=function(i){var t=this._dimensions[i];return t&&t.property},e.prototype.appendData=function(i){var t=this._provider,n=this.count();t.appendData(i);var r=t.count();return t.persistent||(r+=n),n<r&&this._initDataFromProvider(n,r,!0),[n,r]},e.prototype.appendValues=function(i,t){for(var n=this._chunks,r=this._dimensions,a=r.length,o=this._rawExtent,s=this.count(),l=s+Math.max(i.length,t||0),c=0;c<a;c++)a2(n,c,r[c].type,l,!0);for(var h=[],f=s;f<l;f++)for(var p=f-s,m=0;m<a;m++){var b=$_.arrayRows.call(this,i[p]||h,r[m].property,p,m);n[m][f]=b;var _=o[m];b<_[0]&&(_[0]=b),b>_[1]&&(_[1]=b)}return this._rawCount=this._count=l,{start:s,end:l}},e.prototype._initDataFromProvider=function(i,t,n){for(var r=this._provider,a=this._chunks,o=this._dimensions,s=o.length,l=this._rawExtent,c=mt(o,function(T){return T.property}),u=0;u<s;u++){var h=o[u];l[u]||(l[u]=[1/0,-1/0]),a2(a,u,h.type,t,n)}if(r.fillStorage)r.fillStorage(i,t,a,l);else for(var f=[],p=i;p<t;p++){f=r.getItem(p,f);for(var m=0;m<s;m++){var b=a[m],_=this._dimValueGetter(f,c[m],p,m);b[p]=_;var w=l[m];_<w[0]&&(w[0]=_),_>w[1]&&(w[1]=_)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=t,this._extent=[]},e.prototype.count=function(){return this._count},e.prototype.get=function(i,t){if(!(t>=0&&t<this._count))return NaN;var n=this._chunks[i];return n?n[this.getRawIndex(t)]:NaN},e.prototype.getValues=function(i,t){var n=[],r=[];if(null==t){t=i,i=[];for(var a=0;a<this._dimensions.length;a++)r.push(a)}else r=i;a=0;for(var o=r.length;a<o;a++)n.push(this.get(r[a],t));return n},e.prototype.getByRawIndex=function(i,t){if(!(t>=0&&t<this._rawCount))return NaN;var n=this._chunks[i];return n?n[t]:NaN},e.prototype.getSum=function(i){var n=0;if(this._chunks[i])for(var r=0,a=this.count();r<a;r++){var o=this.get(i,r);isNaN(o)||(n+=o)}return n},e.prototype.getMedian=function(i){var t=[];this.each([i],function(a){isNaN(a)||t.push(a)});var n=t.sort(function(a,o){return a-o}),r=this.count();return 0===r?0:r%2==1?n[(r-1)/2]:(n[r/2]+n[r/2-1])/2},e.prototype.indexOfRawIndex=function(i){if(i>=this._rawCount||i<0)return-1;if(!this._indices)return i;var t=this._indices,n=t[i];if(null!=n&&n<this._count&&n===i)return i;for(var r=0,a=this._count-1;r<=a;){var o=(r+a)/2|0;if(t[o]<i)r=o+1;else{if(!(t[o]>i))return o;a=o-1}}return-1},e.prototype.indicesOfNearest=function(i,t,n){var a=this._chunks[i],o=[];if(!a)return o;null==n&&(n=1/0);for(var s=1/0,l=-1,c=0,u=0,h=this.count();u<h;u++){var p=t-a[this.getRawIndex(u)],m=Math.abs(p);m<=n&&((m<s||m===s&&p>=0&&l<0)&&(s=m,l=p,c=0),p===l&&(o[c++]=u))}return o.length=c,o},e.prototype.getIndices=function(){var i,t=this._indices;if(t){var r=this._count;if((n=t.constructor)===Array){i=new n(r);for(var a=0;a<r;a++)i[a]=t[a]}else i=new n(t.buffer,0,r)}else{var n;for(i=new(n=_f(this._rawCount))(this.count()),a=0;a<i.length;a++)i[a]=a}return i},e.prototype.filter=function(i,t){if(!this._count)return this;for(var n=this.clone(),r=n.count(),o=new(_f(n._rawCount))(r),s=[],l=i.length,c=0,u=i[0],h=n._chunks,f=0;f<r;f++){var p=void 0,m=n.getRawIndex(f);if(0===l)p=t(f);else if(1===l)p=t(h[u][m],f);else{for(var _=0;_<l;_++)s[_]=h[i[_]][m];s[_]=f,p=t.apply(null,s)}p&&(o[c++]=m)}return c<r&&(n._indices=o),n._count=c,n._extent=[],n._updateGetRawIdx(),n},e.prototype.selectRange=function(i){var t=this.clone(),n=t._count;if(!n)return this;var r=he(i),a=r.length;if(!a)return this;var o=t.count(),l=new(_f(t._rawCount))(o),c=0,u=r[0],h=i[u][0],f=i[u][1],p=t._chunks,m=!1;if(!t._indices){var b=0;if(1===a){for(var _=p[r[0]],w=0;w<n;w++)((T=_[w])>=h&&T<=f||isNaN(T))&&(l[c++]=b),b++;m=!0}else if(2===a){_=p[r[0]];var A=p[r[1]],P=i[r[1]][0],F=i[r[1]][1];for(w=0;w<n;w++){var O=A[w];((T=_[w])>=h&&T<=f||isNaN(T))&&(O>=P&&O<=F||isNaN(O))&&(l[c++]=b),b++}m=!0}}if(!m)if(1===a)for(w=0;w<o;w++){var V=t.getRawIndex(w);((T=p[r[0]][V])>=h&&T<=f||isNaN(T))&&(l[c++]=V)}else for(w=0;w<o;w++){for(var N=!0,G=(V=t.getRawIndex(w),0);G<a;G++){var T,H=r[G];((T=p[H][V])<i[H][0]||T>i[H][1])&&(N=!1)}N&&(l[c++]=t.getRawIndex(w))}return c<o&&(t._indices=l),t._count=c,t._extent=[],t._updateGetRawIdx(),t},e.prototype.map=function(i,t){var n=this.clone(i);return this._updateDims(n,i,t),n},e.prototype.modify=function(i,t){this._updateDims(this,i,t)},e.prototype._updateDims=function(i,t,n){for(var r=i._chunks,a=[],o=t.length,s=i.count(),l=[],c=i._rawExtent,u=0;u<t.length;u++)c[t[u]]=[1/0,-1/0];for(var h=0;h<s;h++){for(var f=i.getRawIndex(h),p=0;p<o;p++)l[p]=r[t[p]][f];l[o]=h;var m=n&&n.apply(null,l);if(null!=m)for("object"!=typeof m&&(a[0]=m,m=a),u=0;u<m.length;u++){var b=t[u],_=m[u],w=c[b],T=r[b];T&&(T[f]=_),_<w[0]&&(w[0]=_),_>w[1]&&(w[1]=_)}}},e.prototype.lttbDownSample=function(i,t){var u,h,f,n=this.clone([i],!0),a=n._chunks[i],o=this.count(),s=0,l=Math.floor(1/t),c=this.getRawIndex(0),p=new(_f(this._rawCount))(Math.min(2*(Math.ceil(o/l)+2),o));p[s++]=c;for(var m=1;m<o-1;m+=l){for(var b=Math.min(m+l,o-1),_=Math.min(m+2*l,o),w=(_+b)/2,T=0,A=b;A<_;A++){var F=a[P=this.getRawIndex(A)];isNaN(F)||(T+=F)}T/=_-b;var O=m,V=Math.min(m+l,o),N=m-1,G=a[c];u=-1,f=O;var H=-1,X=0;for(A=O;A<V;A++){var P;F=a[P=this.getRawIndex(A)],isNaN(F)?(X++,H<0&&(H=P)):(h=Math.abs((N-w)*(F-G)-(N-A)*(T-G)))>u&&(u=h,f=P)}X>0&&X<V-O&&(p[s++]=Math.min(H,f),f=Math.max(H,f)),p[s++]=f,c=f}return p[s++]=this.getRawIndex(o-1),n._count=s,n._indices=p,n.getRawIndex=this._getRawIdx,n},e.prototype.downSample=function(i,t,n,r){for(var a=this.clone([i],!0),o=a._chunks,s=[],l=Math.floor(1/t),c=o[i],u=this.count(),h=a._rawExtent[i]=[1/0,-1/0],f=new(_f(this._rawCount))(Math.ceil(u/l)),p=0,m=0;m<u;m+=l){l>u-m&&(s.length=l=u-m);for(var b=0;b<l;b++){var _=this.getRawIndex(m+b);s[b]=c[_]}var w=n(s),T=this.getRawIndex(Math.min(m+r(s,w)||0,u-1));c[T]=w,w<h[0]&&(h[0]=w),w>h[1]&&(h[1]=w),f[p++]=T}return a._count=p,a._indices=f,a._updateGetRawIdx(),a},e.prototype.each=function(i,t){if(this._count)for(var n=i.length,r=this._chunks,a=0,o=this.count();a<o;a++){var s=this.getRawIndex(a);switch(n){case 0:t(a);break;case 1:t(r[i[0]][s],a);break;case 2:t(r[i[0]][s],r[i[1]][s],a);break;default:for(var l=0,c=[];l<n;l++)c[l]=r[i[l]][s];c[l]=a,t.apply(null,c)}}},e.prototype.getDataExtent=function(i){var t=this._chunks[i],n=[1/0,-1/0];if(!t)return n;var o,r=this.count();if(!this._indices)return this._rawExtent[i].slice();if(o=this._extent[i])return o.slice();for(var s=(o=n)[0],l=o[1],c=0;c<r;c++){var h=t[this.getRawIndex(c)];h<s&&(s=h),h>l&&(l=h)}return this._extent[i]=o=[s,l],o},e.prototype.getRawDataItem=function(i){var t=this.getRawIndex(i);if(this._provider.persistent)return this._provider.getItem(t);for(var n=[],r=this._chunks,a=0;a<r.length;a++)n.push(r[a][t]);return n},e.prototype.clone=function(i,t){var n=new e,r=this._chunks,a=i&&bi(i,function(s,l){return s[l]=!0,s},{});if(a)for(var o=0;o<r.length;o++)n._chunks[o]=a[o]?Lz(r[o]):r[o];else n._chunks=r;return this._copyCommonProps(n),t||(n._indices=this._cloneIndices()),n._updateGetRawIdx(),n},e.prototype._copyCommonProps=function(i){i._count=this._count,i._rawCount=this._rawCount,i._provider=this._provider,i._dimensions=this._dimensions,i._extent=Gt(this._extent),i._rawExtent=Gt(this._rawExtent)},e.prototype._cloneIndices=function(){if(this._indices){var i=this._indices.constructor,t=void 0;if(i===Array){var n=this._indices.length;t=new i(n);for(var r=0;r<n;r++)t[r]=this._indices[r]}else t=new i(this._indices);return t}return null},e.prototype._getRawIdxIdentity=function(i){return i},e.prototype._getRawIdx=function(i){return i<this._count&&i>=0?this._indices[i]:-1},e.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},e.internalField=function(){function i(t,n,r,a){return Il(t[a],this._dimensions[a])}$_={arrayRows:i,objectRows:function(t,n,r,a){return Il(t[n],this._dimensions[a])},keyedColumns:i,original:function(t,n,r,a){var o=t&&(null==t.value?t:t.value);return Il(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(t,n,r,a){return t[a]}}}(),e}();const j_=kz;var o2=function(){function e(i){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=i}return e.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},e.prototype._setLocalSource=function(i,t){this._sourceList=i,this._upstreamSignList=t,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},e.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},e.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},e.prototype._createSource=function(){this._setLocalSource([],[]);var r,a,i=this._sourceHost,t=this._getUpstreamSourceManagers(),n=!!t.length;if(Rg(i)){var o=i,s=void 0,l=void 0,c=void 0;if(n){var u=t[0];u.prepareSource(),s=(c=u.getSource()).data,l=c.sourceFormat,a=[u._getVersionSign()]}else l=fn(s=o.get("data",!0))?Es:xa,a=[];var h=this._getSourceMetaRawOption()||{},f=c&&c.metaRawOption||{},p=qt(h.seriesLayoutBy,f.seriesLayoutBy)||null,m=qt(h.sourceHeader,f.sourceHeader),b=qt(h.dimensions,f.dimensions);r=p!==f.seriesLayoutBy||!!m!=!!f.sourceHeader||b?[H_(s,{seriesLayoutBy:p,sourceHeader:m,dimensions:b},l)]:[]}else{var w=i;if(n){var T=this._applyTransform(t);r=T.sourceList,a=T.upstreamSignList}else r=[H_(w.get("source",!0),this._getSourceMetaRawOption(),null)],a=[]}this._setLocalSource(r,a)},e.prototype._applyTransform=function(i){var t=this._sourceHost,n=t.get("transform",!0),r=t.get("fromTransformResult",!0);null!=r&&1!==i.length&&l2("");var o,s=[],l=[];return U(i,function(c){c.prepareSource();var u=c.getSource(r||0);null!=r&&!u&&l2(""),s.push(u),l.push(c._getVersionSign())}),n?o=function wz(e,i,t){var n=je(e),r=n.length;r||He("");for(var o=0,s=r;o<s;o++)i=Tz(n[o],i),o!==s-1&&(i.length=Math.max(i.length,1));return i}(n,s):null!=r&&(o=[iz(s[0])]),{sourceList:o,upstreamSignList:l}},e.prototype._isDirty=function(){if(this._dirty)return!0;for(var i=this._getUpstreamSourceManagers(),t=0;t<i.length;t++){var n=i[t];if(n._isDirty()||this._upstreamSignList[t]!==n._getVersionSign())return!0}},e.prototype.getSource=function(i){var t=this._sourceList[i=i||0];if(!t){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(i)}return t},e.prototype.getSharedDataStore=function(i){var t=i.makeStoreSchema();return this._innerGetDataStore(t.dimensions,i.source,t.hash)},e.prototype._innerGetDataStore=function(i,t,n){var a=this._storeList,o=a[0];o||(o=a[0]={});var s=o[n];if(!s){var l=this._getUpstreamSourceManagers()[0];Rg(this._sourceHost)&&l?s=l._innerGetDataStore(i,t,n):(s=new j_).initData(new HT(t,i.length),i),o[n]=s}return s},e.prototype._getUpstreamSourceManagers=function(){var i=this._sourceHost;if(Rg(i)){var t=E_(i);return t?[t.getSourceManager()]:[]}return mt(function A3(e){return e.get("transform",!0)||e.get("fromTransformResult",!0)?Qd(e.ecModel,"dataset",{index:e.get("fromDatasetIndex",!0),id:e.get("fromDatasetId",!0)},zi).models:[]}(i),function(n){return n.getSourceManager()})},e.prototype._getSourceMetaRawOption=function(){var t,n,r,i=this._sourceHost;if(Rg(i))t=i.get("seriesLayoutBy",!0),n=i.get("sourceHeader",!0),r=i.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var a=i;t=a.get("seriesLayoutBy",!0),n=a.get("sourceHeader",!0),r=a.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:n,dimensions:r}},e}();function s2(e){e.option.transform&&Ra(e.option.transform)}function Rg(e){return"series"===e.mainType}function l2(e){throw new Error(e)}var c2="line-height:1";function u2(e,i){var t=e.color||"#6e7079",n=e.fontSize||12,r=e.fontWeight||"400",a=e.color||"#464646",o=e.fontSize||14,s=e.fontWeight||"900";return"html"===i?{nameStyle:"font-size:"+Fi(n+"")+"px;color:"+Fi(t)+";font-weight:"+Fi(r+""),valueStyle:"font-size:"+Fi(o+"")+"px;color:"+Fi(a)+";font-weight:"+Fi(s+"")}:{nameStyle:{fontSize:n,fill:t,fontWeight:r},valueStyle:{fontSize:o,fill:a,fontWeight:s}}}var Dz=[0,10,20,30],Pz=["","\n","\n\n","\n\n\n"];function un(e,i){return i.type=e,i}function q_(e){return"section"===e.type}function h2(e){return q_(e)?Iz:Oz}function d2(e){if(q_(e)){var i=0,t=e.blocks.length,n=t>1||t>0&&!e.noHeader;return U(e.blocks,function(r){var a=d2(r);a>=i&&(i=a+ +(n&&(!a||q_(r)&&!r.noHeader)))}),i}return 0}function Iz(e,i,t,n){var r=i.noHeader,a=function Ez(e){return{html:Dz[e],richText:Pz[e]}}(d2(i)),o=[],s=i.blocks||[];ti(!s||yt(s)),s=s||[];var l=e.orderMode;if(i.sortBlocks&&l){s=s.slice();var c={valueAsc:"asc",valueDesc:"desc"};if(Pt(c,l)){var u=new JT(c[l],null);s.sort(function(m,b){return u.evaluate(m.sortParam,b.sortParam)})}else"seriesDesc"===l&&s.reverse()}U(s,function(m,b){var _=i.valueFormatter,w=h2(m)(_?ft(ft({},e),{valueFormatter:_}):e,m,b>0?a.html:0,n);null!=w&&o.push(w)});var h="richText"===e.renderMode?o.join(a.richText):K_(o.join(""),r?t:a.html);if(r)return h;var f=D_(i.header,"ordinal",e.useUTC),p=u2(n,e.renderMode).nameStyle;return"richText"===e.renderMode?p2(e,f,p)+a.richText+h:K_('<div style="'+p+";"+c2+';">'+Fi(f)+"</div>"+h,t)}function Oz(e,i,t,n){var r=e.renderMode,a=i.noName,o=i.noValue,s=!i.markerType,l=i.name,c=e.useUTC,u=i.valueFormatter||e.valueFormatter||function(P){return mt(P=yt(P)?P:[P],function(F,O){return D_(F,yt(p)?p[O]:p,c)})};if(!a||!o){var h=s?"":e.markupStyleCreator.makeTooltipMarker(i.markerType,i.markerColor||"#333",r),f=a?"":D_(l,"ordinal",c),p=i.valueType,m=o?[]:u(i.value,i.dataIndex),b=!s||!a,_=!s&&a,w=u2(n,r),T=w.nameStyle,A=w.valueStyle;return"richText"===r?(s?"":h)+(a?"":p2(e,f,T))+(o?"":function Bz(e,i,t,n,r){var a=[r];return t&&a.push({padding:[0,0,0,n?10:20],align:"right"}),e.markupStyleCreator.wrapRichTextStyle(yt(i)?i.join("  "):i,a)}(e,m,b,_,A)):K_((s?"":h)+(a?"":function Fz(e,i,t){return'<span style="'+t+";"+(i?"margin-left:2px":"")+'">'+Fi(e)+"</span>"}(f,!s,T))+(o?"":function Rz(e,i,t,n){return'<span style="'+(i?"float:right;margin-left:"+(t?"10px":"20px"):"")+";"+n+'">'+mt(e=yt(e)?e:[e],function(o){return Fi(o)}).join("&nbsp;&nbsp;")+"</span>"}(m,b,_,A)),t)}}function f2(e,i,t,n,r,a){if(e)return h2(e)({useUTC:r,renderMode:t,orderMode:n,markupStyleCreator:i,valueFormatter:e.valueFormatter},e,0,a)}function K_(e,i){return'<div style="margin: '+i+"px 0 0;"+c2+';">'+e+'<div style="clear:both"></div></div>'}function p2(e,i,t){return e.markupStyleCreator.wrapRichTextStyle(i,t)}function g2(e,i){return Xc(e.getData().getItemVisual(i,"style")[e.visualDrawType])}function v2(e,i){return e.get("padding")??("richText"===i?[8,10]:10)}var Q_=function(){function e(){this.richTextStyles={},this._nextStyleNameId=DS()}return e.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},e.prototype.makeTooltipMarker=function(i,t,n){var r="richText"===n?this._generateStyleName():null,a=function x3(e,i){var t=Lt(e)?{color:e,extraCssText:i}:e||{},n=t.color,r=t.type;i=t.extraCssText;var a=t.renderMode||"html";return n?"html"===a?"subItem"===r?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Fi(n)+";"+(i||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+Fi(n)+";"+(i||"")+'"></span>':{renderMode:a,content:"{"+(t.markerId||"markerX")+"|}  ",style:"subItem"===r?{width:4,height:4,borderRadius:2,backgroundColor:n}:{width:10,height:10,borderRadius:5,backgroundColor:n}}:""}({color:t,type:i,renderMode:n,markerId:r});return Lt(a)?a:(this.richTextStyles[r]=a.style,a.content)},e.prototype.wrapRichTextStyle=function(i,t){var n={};yt(t)?U(t,function(a){return ft(n,a)}):ft(n,t);var r=this._generateStyleName();return this.richTextStyles[r]=n,"{"+r+"|"+i+"}"},e}();function m2(e){var u,h,f,p,i=e.series,t=e.dataIndex,n=e.multipleSeries,r=i.getData(),a=r.mapDimensionsAll("defaultedTooltip"),o=a.length,s=i.getRawValue(t),l=yt(s),c=g2(i,t);if(o>1||l&&!o){var m=function Vz(e,i,t,n,r){var a=i.getData(),o=bi(e,function(h,f,p){var m=a.getDimensionInfo(p);return h||m&&!1!==m.tooltip&&null!=m.displayName},!1),s=[],l=[],c=[];function u(h,f){var p=a.getDimensionInfo(f);!p||!1===p.otherDims.tooltip||(o?c.push(un("nameValue",{markerType:"subItem",markerColor:r,name:p.displayName,value:h,valueType:p.type})):(s.push(h),l.push(p.type)))}return n.length?U(n,function(h){u(Oh(a,t,h),h)}):U(e,u),{inlineValues:s,inlineValueTypes:l,blocks:c}}(s,i,t,a,c);u=m.inlineValues,h=m.inlineValueTypes,f=m.blocks,p=m.inlineValues[0]}else if(o){var b=r.getDimensionInfo(a[0]);p=u=Oh(r,t,a[0]),h=b.type}else p=u=l?s[0]:s;var _=Ny(i),w=_&&i.name||"",T=r.getName(t),A=n?w:T;return un("section",{header:w,noHeader:n||!_,sortParam:p,blocks:[un("nameValue",{markerType:"item",markerColor:c,name:A,noName:!Ci(A),value:u,valueType:h,dataIndex:t})].concat(f||[])})}var Ol=Le();function Bg(e,i){return e.getName(i)||e.getId(i)}var Vg="__universalTransitionEnabled",zg=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t._selectedDataIndicesMap={},t}return ot(i,e),i.prototype.init=function(t,n,r){this.seriesIndex=this.componentIndex,this.dataTask=yf({count:Nz,reset:Gz}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,r),(Ol(this).sourceManager=new o2(this)).prepareSource();var o=this.getInitialData(t,r);_2(o,this),this.dataTask.context.data=o,Ol(this).dataBeforeProcessed=o,y2(this),this._initSelectedMapFromData(o)},i.prototype.mergeDefaultAndTheme=function(t,n){var r=df(this),a=r?kh(t):{},o=this.subType;Oe.hasClass(o)&&(o+="Series"),ie(t,n.getTheme().get(this.subType)),ie(t,this.getDefaultOption()),Lc(t,"label",["show"]),this.fillDataTextStyle(t.data),r&&Pl(t,a,r)},i.prototype.mergeOption=function(t,n){t=ie(this.option,t,!0),this.fillDataTextStyle(t.data);var r=df(this);r&&Pl(this.option,t,r);var a=Ol(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(t,n);_2(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,Ol(this).dataBeforeProcessed=o,y2(this),this._initSelectedMapFromData(o)},i.prototype.fillDataTextStyle=function(t){if(t&&!fn(t))for(var n=["show"],r=0;r<t.length;r++)t[r]&&t[r].label&&Lc(t[r],"label",n)},i.prototype.getInitialData=function(t,n){},i.prototype.appendData=function(t){this.getRawData().appendData(t.data)},i.prototype.getData=function(t){var n=J_(this);if(n){var r=n.context.data;return null!=t&&r.getLinkedData?r.getLinkedData(t):r}return Ol(this).data},i.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},i.prototype.setData=function(t){var n=J_(this);if(n){var r=n.context;r.outputData=t,n!==this.dataTask&&(r.data=t)}Ol(this).data=t},i.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return Mt(t)},i.prototype.getSourceManager=function(){return Ol(this).sourceManager},i.prototype.getSource=function(){return this.getSourceManager().getSource()},i.prototype.getRawData=function(){return Ol(this).dataBeforeProcessed},i.prototype.getColorBy=function(){return this.get("colorBy")||"series"},i.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},i.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},i.prototype.formatTooltip=function(t,n,r){return m2({series:this,dataIndex:t,multipleSeries:n})},i.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(Yt.node&&(!t||!t.ssr))return!1;var n=this.getShallow("animation");return n&&this.getData().count()>this.getShallow("animationThreshold")&&(n=!1),!!n},i.prototype.restoreData=function(){this.dataTask.dirty()},i.prototype.getColorFromPalette=function(t,n,r){var a=this.ecModel,o=R_.prototype.getColorFromPalette.call(this,t,n,r);return o||(o=a.getColorFromPalette(t,n,r)),o},i.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},i.prototype.getProgressive=function(){return this.get("progressive")},i.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},i.prototype.select=function(t,n){this._innerSelect(this.getData(n),t)},i.prototype.unselect=function(t,n){var r=this.option.selectedMap;if(r){var a=this.option.selectedMode,o=this.getData(n);if("series"===a||"all"===r)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var s=0;s<t.length;s++){var c=Bg(o,t[s]);r[c]=!1,this._selectedDataIndicesMap[c]=-1}}},i.prototype.toggleSelect=function(t,n){for(var r=[],a=0;a<t.length;a++)r[0]=t[a],this.isSelected(t[a],n)?this.unselect(r,n):this.select(r,n)},i.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,n=he(t),r=[],a=0;a<n.length;a++){var o=t[n[a]];o>=0&&r.push(o)}return r},i.prototype.isSelected=function(t,n){var r=this.option.selectedMap;if(!r)return!1;var a=this.getData(n);return("all"===r||r[Bg(a,t)])&&!a.getItemModel(t).get(["select","disabled"])},i.prototype.isUniversalTransitionEnabled=function(){if(this[Vg])return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},i.prototype._innerSelect=function(t,n){var r,a,o=this.option,s=o.selectedMode,l=n.length;if(s&&l)if("series"===s)o.selectedMap="all";else if("multiple"===s){Bt(o.selectedMap)||(o.selectedMap={});for(var c=o.selectedMap,u=0;u<l;u++){var h=n[u];c[f=Bg(t,h)]=!0,this._selectedDataIndicesMap[f]=t.getRawIndex(h)}}else if("single"===s||!0===s){var p=n[l-1],f=Bg(t,p);o.selectedMap=((r={})[f]=!0,r),this._selectedDataIndicesMap=((a={})[f]=t.getRawIndex(p),a)}},i.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var n=[];t.hasItemOption&&t.each(function(r){var a=t.getRawDataItem(r);a&&a.selected&&n.push(r)}),n.length>0&&this._innerSelect(t,n)}},i.registerClass=function(t){return Oe.registerClass(t)},i.protoInitialize=((t=i.prototype).type="series.__base__",t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol="circle",t.visualStyleAccessPath="itemStyle",void(t.visualDrawType="fill")),i;var t}(Oe);function y2(e){var i=e.name;Ny(e)||(e.name=function zz(e){var i=e.getRawData(),t=i.mapDimensionsAll("seriesName"),n=[];return U(t,function(r){var a=i.getDimensionInfo(r);a.displayName&&n.push(a.displayName)}),n.join(" ")}(e)||i)}function Nz(e){return e.model.getRawData().count()}function Gz(e){var i=e.model;return i.setData(i.getRawData().cloneShallow()),Hz}function Hz(e,i){i.outputData&&e.end>i.outputData.count()&&i.model.getRawData().cloneShallow(i.outputData)}function _2(e,i){U(sa(e.CHANGABLE_METHODS,e.DOWNSAMPLE_METHODS),function(t){e.wrapMethod(t,jt(Wz,i))})}function Wz(e,i){var t=J_(e);return t&&t.setOutputEnd((i||this).count()),i}function J_(e){var i=(e.ecModel||{}).scheduler,t=i&&i.getPipeline(e.uid);if(t){var n=t.currentTask;if(n){var r=n.agentStubMap;r&&(n=r.get(e.uid))}return n}}It(zg,Eg),It(zg,R_),HS(zg,Oe);const mi=zg;var t0=function(){function e(){this.group=new Kt,this.uid=wh("viewComponent")}return e.prototype.init=function(i,t){},e.prototype.render=function(i,t,n,r){},e.prototype.dispose=function(i,t){},e.prototype.updateView=function(i,t,n,r){},e.prototype.updateLayout=function(i,t,n,r){},e.prototype.updateVisual=function(i,t,n,r){},e.prototype.toggleBlurSeries=function(i,t,n){},e.prototype.eachRendered=function(i){var t=this.group;t&&t.traverse(i)},e}();Wy(t0),og(t0);const Mi=t0;function Fh(){var e=Le();return function(i){var t=e(i),n=i.pipelineContext,r=!!t.large,a=!!t.progressiveRender,o=t.large=!(!n||!n.large),s=t.progressiveRender=!(!n||!n.progressiveRender);return(r!==o||a!==s)&&"reset"}}var Rh=Yo.CMD,Yz=[[],[],[]],x2=Math.sqrt,Xz=Math.atan2;function b2(e,i){if(i){var r,a,o,s,l,c,t=e.data,n=e.len(),u=Rh.M,h=Rh.C,f=Rh.L,p=Rh.R,m=Rh.A,b=Rh.Q;for(o=0,s=0;o<n;){switch(r=t[o++],s=o,a=0,r){case u:case f:a=1;break;case h:a=3;break;case b:a=2;break;case m:var _=i[4],w=i[5],T=x2(i[0]*i[0]+i[1]*i[1]),A=x2(i[2]*i[2]+i[3]*i[3]),P=Xz(-i[1]/A,i[0]/T);t[o]*=T,t[o++]+=_,t[o]*=A,t[o++]+=w,t[o++]*=T,t[o++]*=A,t[o++]+=P,t[o++]+=P,s=o+=2;break;case p:c[0]=t[o++],c[1]=t[o++],Si(c,c,i),t[s++]=c[0],t[s++]=c[1],c[0]+=t[o++],c[1]+=t[o++],Si(c,c,i),t[s++]=c[0],t[s++]=c[1]}for(l=0;l<a;l++){var F=Yz[l];F[0]=t[o++],F[1]=t[o++],Si(F,F,i),t[s++]=F[0],t[s++]=F[1]}}e.increaseVersion()}}var e0=Math.sqrt,Ng=Math.sin,Gg=Math.cos,xf=Math.PI;function C2(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function n0(e,i){return(e[0]*i[0]+e[1]*i[1])/(C2(e)*C2(i))}function S2(e,i){return(e[0]*i[1]<e[1]*i[0]?-1:1)*Math.acos(n0(e,i))}function w2(e,i,t,n,r,a,o,s,l,c,u){var h=l*(xf/180),f=Gg(h)*(e-t)/2+Ng(h)*(i-n)/2,p=-1*Ng(h)*(e-t)/2+Gg(h)*(i-n)/2,m=f*f/(o*o)+p*p/(s*s);m>1&&(o*=e0(m),s*=e0(m));var b=(r===a?-1:1)*e0((o*o*(s*s)-o*o*(p*p)-s*s*(f*f))/(o*o*(p*p)+s*s*(f*f)))||0,_=b*o*p/s,w=b*-s*f/o,T=(e+t)/2+Gg(h)*_-Ng(h)*w,A=(i+n)/2+Ng(h)*_+Gg(h)*w,P=S2([1,0],[(f-_)/o,(p-w)/s]),F=[(f-_)/o,(p-w)/s],O=[(-1*f-_)/o,(-1*p-w)/s],V=S2(F,O);if(n0(F,O)<=-1&&(V=xf),n0(F,O)>=1&&(V=0),V<0){var N=Math.round(V/xf*1e6)/1e6;V=2*xf+N%2*xf}u.addData(c,T,A,o,s,P,V,h,a)}var Uz=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Zz=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,T2=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return Ye(i,e),i.prototype.applyTransform=function(t){},i}(ge);function M2(e){return null!=e.setData}function A2(e,i){var t=function $z(e){var i=new Yo;if(!e)return i;var o,t=0,n=0,r=t,a=n,s=Yo.CMD,l=e.match(Uz);if(!l)return i;for(var c=0;c<l.length;c++){for(var u=l[c],h=u.charAt(0),f=void 0,p=u.match(Zz)||[],m=p.length,b=0;b<m;b++)p[b]=parseFloat(p[b]);for(var _=0;_<m;){var w=void 0,T=void 0,A=void 0,P=void 0,F=void 0,O=void 0,V=void 0,N=t,G=n,H=void 0,X=void 0;switch(h){case"l":t+=p[_++],n+=p[_++],i.addData(f=s.L,t,n);break;case"L":t=p[_++],n=p[_++],i.addData(f=s.L,t,n);break;case"m":t+=p[_++],n+=p[_++],i.addData(f=s.M,t,n),r=t,a=n,h="l";break;case"M":t=p[_++],n=p[_++],i.addData(f=s.M,t,n),r=t,a=n,h="L";break;case"h":t+=p[_++],i.addData(f=s.L,t,n);break;case"H":t=p[_++],i.addData(f=s.L,t,n);break;case"v":n+=p[_++],i.addData(f=s.L,t,n);break;case"V":n=p[_++],i.addData(f=s.L,t,n);break;case"C":i.addData(f=s.C,p[_++],p[_++],p[_++],p[_++],p[_++],p[_++]),t=p[_-2],n=p[_-1];break;case"c":i.addData(f=s.C,p[_++]+t,p[_++]+n,p[_++]+t,p[_++]+n,p[_++]+t,p[_++]+n),t+=p[_-2],n+=p[_-1];break;case"S":w=t,T=n,H=i.len(),X=i.data,o===s.C&&(w+=t-X[H-4],T+=n-X[H-3]),N=p[_++],G=p[_++],t=p[_++],n=p[_++],i.addData(f=s.C,w,T,N,G,t,n);break;case"s":w=t,T=n,H=i.len(),X=i.data,o===s.C&&(w+=t-X[H-4],T+=n-X[H-3]),N=t+p[_++],G=n+p[_++],t+=p[_++],n+=p[_++],i.addData(f=s.C,w,T,N,G,t,n);break;case"Q":N=p[_++],G=p[_++],t=p[_++],n=p[_++],i.addData(f=s.Q,N,G,t,n);break;case"q":N=p[_++]+t,G=p[_++]+n,t+=p[_++],n+=p[_++],i.addData(f=s.Q,N,G,t,n);break;case"T":w=t,T=n,H=i.len(),X=i.data,o===s.Q&&(w+=t-X[H-4],T+=n-X[H-3]),t=p[_++],n=p[_++],i.addData(f=s.Q,w,T,t,n);break;case"t":w=t,T=n,H=i.len(),X=i.data,o===s.Q&&(w+=t-X[H-4],T+=n-X[H-3]),t+=p[_++],n+=p[_++],i.addData(f=s.Q,w,T,t,n);break;case"A":A=p[_++],P=p[_++],F=p[_++],O=p[_++],V=p[_++],w2(N=t,G=n,t=p[_++],n=p[_++],O,V,A,P,F,f=s.A,i);break;case"a":A=p[_++],P=p[_++],F=p[_++],O=p[_++],V=p[_++],w2(N=t,G=n,t+=p[_++],n+=p[_++],O,V,A,P,F,f=s.A,i)}}("z"===h||"Z"===h)&&(i.addData(f=s.Z),t=r,n=a),o=f}return i.toStatic(),i}(e),n=ft({},i);return n.buildPath=function(r){var a;M2(r)?(r.setData(t.data),(a=r.getContext())&&r.rebuildPath(a,1)):t.rebuildPath(a=r,1)},n.applyTransform=function(r){b2(t,r),this.dirtyShape()},n}function L2(e,i){return new T2(A2(e,i))}function r0(e,i){i=i||{};var t=new ge;return e.shape&&t.setShape(e.shape),t.setStyle(e.style),i.bakeTransform?b2(t.path,e.getComputedTransform()):i.toLocal?t.setLocalTransform(e.getComputedTransform()):t.copyTransform(e),t.buildPath=e.buildPath,t.applyTransform=t.applyTransform,t.z=e.z,t.z2=e.z2,t.zlevel=e.zlevel,t}var Kz=function e(){this.cx=0,this.cy=0,this.r=0},k2=function(e){function i(t){return e.call(this,t)||this}return Ye(i,e),i.prototype.getDefaultShape=function(){return new Kz},i.prototype.buildPath=function(t,n){t.moveTo(n.cx+n.r,n.cy),t.arc(n.cx,n.cy,n.r,0,2*Math.PI)},i}(ge);k2.prototype.type="circle";const El=k2;var Qz=function e(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},D2=function(e){function i(t){return e.call(this,t)||this}return Ye(i,e),i.prototype.getDefaultShape=function(){return new Qz},i.prototype.buildPath=function(t,n){var r=.5522848,a=n.cx,o=n.cy,s=n.rx,l=n.ry,c=s*r,u=l*r;t.moveTo(a-s,o),t.bezierCurveTo(a-s,o-u,a-c,o-l,a,o-l),t.bezierCurveTo(a+c,o-l,a+s,o-u,a+s,o),t.bezierCurveTo(a+s,o+u,a+c,o+l,a,o+l),t.bezierCurveTo(a-c,o+l,a-s,o+u,a-s,o),t.closePath()},i}(ge);D2.prototype.type="ellipse";const a0=D2;var P2=Math.PI,o0=2*P2,Kc=Math.sin,Bh=Math.cos,Jz=Math.acos,Un=Math.atan2,I2=Math.abs,bf=Math.sqrt,Cf=Math.max,Zo=Math.min,oo=1e-4;function Hg(e,i,t,n,r,a,o){var s=e-t,l=i-n,c=(o?a:-a)/bf(s*s+l*l),u=c*l,h=-c*s,f=e+u,p=i+h,m=t+u,b=n+h,_=(f+m)/2,w=(p+b)/2,T=m-f,A=b-p,P=T*T+A*A,F=r-a,O=f*b-m*p,V=(A<0?-1:1)*bf(Cf(0,F*F*P-O*O)),N=(O*A-T*V)/P,G=(-O*T-A*V)/P,H=(O*A+T*V)/P,X=(-O*T+A*V)/P,q=N-_,j=G-w,J=H-_,tt=X-w;return q*q+j*j>J*J+tt*tt&&(N=H,G=X),{cx:N,cy:G,x0:-u,y0:-h,x1:N*(r/F-1),y1:G*(r/F-1)}}var nN=function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},O2=function(e){function i(t){return e.call(this,t)||this}return Ye(i,e),i.prototype.getDefaultShape=function(){return new nN},i.prototype.buildPath=function(t,n){!function iN(e,i){var t,n=Cf(i.r,0),r=Cf(i.r0||0,0),a=n>0;if(a||r>0){if(a||(n=r,r=0),r>n){var s=n;n=r,r=s}var l=i.startAngle,c=i.endAngle;if(!isNaN(l)&&!isNaN(c)){var u=i.cx,h=i.cy,f=!!i.clockwise,p=I2(c-l),m=p>o0&&p%o0;if(m>oo&&(p=m),n>oo)if(p>o0-oo)e.moveTo(u+n*Bh(l),h+n*Kc(l)),e.arc(u,h,n,l,c,!f),r>oo&&(e.moveTo(u+r*Bh(c),h+r*Kc(c)),e.arc(u,h,r,c,l,f));else{var b=void 0,_=void 0,w=void 0,T=void 0,A=void 0,P=void 0,F=void 0,O=void 0,V=void 0,N=void 0,G=void 0,H=void 0,X=void 0,q=void 0,j=void 0,J=void 0,tt=n*Bh(l),et=n*Kc(l),lt=r*Bh(c),st=r*Kc(c),ut=p>oo;if(ut){var vt=i.cornerRadius;vt&&(t=function eN(e){var i;if(yt(e)){var t=e.length;if(!t)return e;i=1===t?[e[0],e[0],0,0]:2===t?[e[0],e[0],e[1],e[1]]:3===t?e.concat(e[2]):e}else i=[e,e,e,e];return i}(vt),b=t[0],_=t[1],w=t[2],T=t[3]);var _t=I2(n-r)/2;if(A=Zo(_t,w),P=Zo(_t,T),F=Zo(_t,b),O=Zo(_t,_),G=V=Cf(A,P),H=N=Cf(F,O),(V>oo||N>oo)&&(X=n*Bh(c),q=n*Kc(c),j=r*Bh(l),J=r*Kc(l),p<P2)){var St=function tN(e,i,t,n,r,a,o,s){var l=t-e,c=n-i,u=o-r,h=s-a,f=h*l-u*c;if(!(f*f<oo))return[e+(f=(u*(i-a)-h*(e-r))/f)*l,i+f*c]}(tt,et,j,J,X,q,lt,st);if(St){var Et=tt-St[0],Ft=et-St[1],ne=X-St[0],le=q-St[1],Ut=1/Kc(Jz((Et*ne+Ft*le)/(bf(Et*Et+Ft*Ft)*bf(ne*ne+le*le)))/2),Vt=bf(St[0]*St[0]+St[1]*St[1]);G=Zo(V,(n-Vt)/(Ut+1)),H=Zo(N,(r-Vt)/(Ut-1))}}}if(ut)if(G>oo){var bt=Zo(w,G),kt=Zo(T,G),Tt=Hg(j,J,tt,et,n,bt,f),gt=Hg(X,q,lt,st,n,kt,f);e.moveTo(u+Tt.cx+Tt.x0,h+Tt.cy+Tt.y0),G<V&&bt===kt?e.arc(u+Tt.cx,h+Tt.cy,G,Un(Tt.y0,Tt.x0),Un(gt.y0,gt.x0),!f):(bt>0&&e.arc(u+Tt.cx,h+Tt.cy,bt,Un(Tt.y0,Tt.x0),Un(Tt.y1,Tt.x1),!f),e.arc(u,h,n,Un(Tt.cy+Tt.y1,Tt.cx+Tt.x1),Un(gt.cy+gt.y1,gt.cx+gt.x1),!f),kt>0&&e.arc(u+gt.cx,h+gt.cy,kt,Un(gt.y1,gt.x1),Un(gt.y0,gt.x0),!f))}else e.moveTo(u+tt,h+et),e.arc(u,h,n,l,c,!f);else e.moveTo(u+tt,h+et);r>oo&&ut?H>oo?(bt=Zo(b,H),Tt=Hg(lt,st,X,q,r,-(kt=Zo(_,H)),f),gt=Hg(tt,et,j,J,r,-bt,f),e.lineTo(u+Tt.cx+Tt.x0,h+Tt.cy+Tt.y0),H<N&&bt===kt?e.arc(u+Tt.cx,h+Tt.cy,H,Un(Tt.y0,Tt.x0),Un(gt.y0,gt.x0),!f):(kt>0&&e.arc(u+Tt.cx,h+Tt.cy,kt,Un(Tt.y0,Tt.x0),Un(Tt.y1,Tt.x1),!f),e.arc(u,h,r,Un(Tt.cy+Tt.y1,Tt.cx+Tt.x1),Un(gt.cy+gt.y1,gt.cx+gt.x1),f),bt>0&&e.arc(u+gt.cx,h+gt.cy,bt,Un(gt.y1,gt.x1),Un(gt.y0,gt.x0),!f))):(e.lineTo(u+lt,h+st),e.arc(u,h,r,c,l,f)):e.lineTo(u+lt,h+st)}else e.moveTo(u,h);e.closePath()}}}(t,n)},i.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},i}(ge);O2.prototype.type="sector";const kr=O2;var rN=function e(){this.cx=0,this.cy=0,this.r=0,this.r0=0},E2=function(e){function i(t){return e.call(this,t)||this}return Ye(i,e),i.prototype.getDefaultShape=function(){return new rN},i.prototype.buildPath=function(t,n){var r=n.cx,a=n.cy,o=2*Math.PI;t.moveTo(r+n.r,a),t.arc(r,a,n.r,0,o,!1),t.moveTo(r+n.r0,a),t.arc(r,a,n.r0,0,o,!0)},i}(ge);E2.prototype.type="ring";const Wg=E2;function F2(e,i,t){var n=i.smooth,r=i.points;if(r&&r.length>=2){if(n){var a=function aN(e,i,t,n){var l,c,u,h,r=[],a=[],o=[],s=[];if(n){u=[1/0,1/0],h=[-1/0,-1/0];for(var f=0,p=e.length;f<p;f++)zn(u,u,e[f]),Tn(h,h,e[f]);zn(u,u,n[0]),Tn(h,h,n[1])}for(f=0,p=e.length;f<p;f++){var m=e[f];if(t)l=e[f?f-1:p-1],c=e[(f+1)%p];else{if(0===f||f===p-1){r.push(Bn(e[f]));continue}l=e[f-1],c=e[f+1]}Kn(a,c,l),Va(a,a,i);var b=za(m,l),_=za(m,c),w=b+_;0!==w&&(b/=w,_/=w),Va(o,a,-b),Va(s,a,_);var T=yi([],m,o),A=yi([],m,s);n&&(Tn(T,T,u),zn(T,T,h),Tn(A,A,u),zn(A,A,h)),r.push(T),r.push(A)}return t&&r.push(r.shift()),r}(r,n,t,i.smoothConstraint);e.moveTo(r[0][0],r[0][1]);for(var o=r.length,s=0;s<(t?o:o-1);s++){var l=a[2*s],c=a[2*s+1],u=r[(s+1)%o];e.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{e.moveTo(r[0][0],r[0][1]),s=1;for(var h=r.length;s<h;s++)e.lineTo(r[s][0],r[s][1])}t&&e.closePath()}}var oN=function e(){this.points=null,this.smooth=0,this.smoothConstraint=null},R2=function(e){function i(t){return e.call(this,t)||this}return Ye(i,e),i.prototype.getDefaultShape=function(){return new oN},i.prototype.buildPath=function(t,n){F2(t,n,!0)},i}(ge);R2.prototype.type="polygon";const Dr=R2;var sN=function e(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},B2=function(e){function i(t){return e.call(this,t)||this}return Ye(i,e),i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new sN},i.prototype.buildPath=function(t,n){F2(t,n,!1)},i}(ge);B2.prototype.type="polyline";const Pr=B2;var lN={},cN=function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},V2=function(e){function i(t){return e.call(this,t)||this}return Ye(i,e),i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new cN},i.prototype.buildPath=function(t,n){var r,a,o,s;if(this.subPixelOptimize){var l=nw(lN,n,this.style);r=l.x1,a=l.y1,o=l.x2,s=l.y2}else r=n.x1,a=n.y1,o=n.x2,s=n.y2;var c=n.percent;0!==c&&(t.moveTo(r,a),c<1&&(o=r*(1-c)+o*c,s=a*(1-c)+s*c),t.lineTo(o,s))},i.prototype.pointAt=function(t){var n=this.shape;return[n.x1*(1-t)+n.x2*t,n.y1*(1-t)+n.y2*t]},i}(ge);V2.prototype.type="line";const yn=V2;var Ir=[],uN=function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function z2(e,i,t){return null!=e.cpx2||null!=e.cpy2?[(t?g:vi)(e.x1,e.cpx1,e.cpx2,e.x2,i),(t?g:vi)(e.y1,e.cpy1,e.cpy2,e.y2,i)]:[(t?pt:rt)(e.x1,e.cpx1,e.x2,i),(t?pt:rt)(e.y1,e.cpy1,e.y2,i)]}var N2=function(e){function i(t){return e.call(this,t)||this}return Ye(i,e),i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new uN},i.prototype.buildPath=function(t,n){var r=n.x1,a=n.y1,o=n.x2,s=n.y2,l=n.cpx1,c=n.cpy1,u=n.cpx2,h=n.cpy2,f=n.percent;0!==f&&(t.moveTo(r,a),null==u||null==h?(f<1&&(Wt(r,l,o,f,Ir),l=Ir[1],o=Ir[2],Wt(a,c,s,f,Ir),c=Ir[1],s=Ir[2]),t.quadraticCurveTo(l,c,o,s)):(f<1&&(R(r,l,u,o,f,Ir),l=Ir[1],u=Ir[2],o=Ir[3],R(a,c,h,s,f,Ir),c=Ir[1],h=Ir[2],s=Ir[3]),t.bezierCurveTo(l,c,u,h,o,s)))},i.prototype.pointAt=function(t){return z2(this.shape,t,!1)},i.prototype.tangentAt=function(t){var n=z2(this.shape,t,!0);return rn(n,n)},i}(ge);N2.prototype.type="bezier-curve";const Yg=N2;var hN=function e(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},G2=function(e){function i(t){return e.call(this,t)||this}return Ye(i,e),i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new hN},i.prototype.buildPath=function(t,n){var r=n.cx,a=n.cy,o=Math.max(n.r,0),s=n.startAngle,l=n.endAngle,c=n.clockwise,u=Math.cos(s),h=Math.sin(s);t.moveTo(u*o+r,h*o+a),t.arc(r,a,o,s,l,!c)},i}(ge);G2.prototype.type="arc";const s0=G2;var dN=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="compound",t}return Ye(i,e),i.prototype._updatePathDirty=function(){for(var t=this.shape.paths,n=this.shapeChanged(),r=0;r<t.length;r++)n=n||t[r].shapeChanged();n&&this.dirtyShape()},i.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],n=this.getGlobalScale(),r=0;r<t.length;r++)t[r].path||t[r].createPathProxy(),t[r].path.setScale(n[0],n[1],t[r].segmentIgnoreThreshold)},i.prototype.buildPath=function(t,n){for(var r=n.paths||[],a=0;a<r.length;a++)r[a].buildPath(t,r[a].shape,!0)},i.prototype.afterBrush=function(){for(var t=this.shape.paths||[],n=0;n<t.length;n++)t[n].pathUpdated()},i.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),ge.prototype.getBoundingRect.call(this)},i}(ge);const l0=dN;var fN=function(){function e(i){this.colorStops=i||[]}return e.prototype.addColorStop=function(i,t){this.colorStops.push({offset:i,color:t})},e}();const H2=fN;var pN=function(e){function i(t,n,r,a,o,s){var l=e.call(this,o)||this;return l.x=t??0,l.y=n??0,l.x2=r??1,l.y2=a??0,l.type="linear",l.global=s||!1,l}return Ye(i,e),i}(H2);const Sf=pN;var gN=function(e){function i(t,n,r,a,o){var s=e.call(this,a)||this;return s.x=t??.5,s.y=n??.5,s.r=r??.5,s.type="radial",s.global=o||!1,s}return Ye(i,e),i}(H2);const W2=gN;var Qc=[0,0],Jc=[0,0],Xg=new ee,Ug=new ee,vN=function(){function e(i,t){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new ee;for(n=0;n<2;n++)this._axes[n]=new ee;i&&this.fromBoundingRect(i,t)}return e.prototype.fromBoundingRect=function(i,t){var n=this._corners,r=this._axes,a=i.x,o=i.y,s=a+i.width,l=o+i.height;if(n[0].set(a,o),n[1].set(s,o),n[2].set(s,l),n[3].set(a,l),t)for(var c=0;c<4;c++)n[c].transform(t);for(ee.sub(r[0],n[1],n[0]),ee.sub(r[1],n[3],n[0]),r[0].normalize(),r[1].normalize(),c=0;c<2;c++)this._origin[c]=r[c].dot(n[0])},e.prototype.intersect=function(i,t){var n=!0,r=!t;return Xg.set(1/0,1/0),Ug.set(0,0),!this._intersectCheckOneSide(this,i,Xg,Ug,r,1)&&(n=!1,r)||!this._intersectCheckOneSide(i,this,Xg,Ug,r,-1)&&(n=!1,r)||r||ee.copy(t,n?Xg:Ug),n},e.prototype._intersectCheckOneSide=function(i,t,n,r,a,o){for(var s=!0,l=0;l<2;l++){var c=this._axes[l];if(this._getProjMinMaxOnAxis(l,i._corners,Qc),this._getProjMinMaxOnAxis(l,t._corners,Jc),Qc[1]<Jc[0]||Qc[0]>Jc[1]){if(s=!1,a)return s;var u=Math.abs(Jc[0]-Qc[1]),h=Math.abs(Qc[0]-Jc[1]);Math.min(u,h)>r.len()&&ee.scale(r,c,u<h?-u*o:h*o)}else n&&(u=Math.abs(Jc[0]-Qc[1]),h=Math.abs(Qc[0]-Jc[1]),Math.min(u,h)<n.len()&&ee.scale(n,c,u<h?u*o:-h*o))}return s},e.prototype._getProjMinMaxOnAxis=function(i,t,n){for(var r=this._axes[i],a=this._origin,o=t[0].dot(r)+a[i],s=o,l=o,c=1;c<t.length;c++){var u=t[c].dot(r)+a[i];s=Math.min(u,s),l=Math.max(u,l)}n[0]=s,n[1]=l},e}();const Zg=vN;var mN=[],yN=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.notClear=!0,t.incremental=!0,t._displayables=[],t._temporaryDisplayables=[],t._cursor=0,t}return Ye(i,e),i.prototype.traverse=function(t,n){t.call(n,this)},i.prototype.useStyle=function(){this.style={}},i.prototype.getCursor=function(){return this._cursor},i.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},i.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},i.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},i.prototype.addDisplayable=function(t,n){n?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},i.prototype.addDisplayables=function(t,n){n=n||!1;for(var r=0;r<t.length;r++)this.addDisplayable(t[r],n)},i.prototype.getDisplayables=function(){return this._displayables},i.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},i.prototype.eachPendingDisplayable=function(t){for(var n=this._cursor;n<this._displayables.length;n++)t&&t(this._displayables[n]);for(n=0;n<this._temporaryDisplayables.length;n++)t&&t(this._temporaryDisplayables[n])},i.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(n=this._displayables[t]).parent=this,n.update(),n.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++){var n;(n=this._temporaryDisplayables[t]).parent=this,n.update(),n.parent=null}},i.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new $t(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var r=this._displayables[n],a=r.getBoundingRect().clone();r.needLocalTransform()&&a.applyTransform(r.getLocalTransform(mN)),t.union(a)}this._rect=t}return this._rect},i.prototype.contain=function(t,n){var r=this.transformCoordToLocal(t,n);if(this.getBoundingRect().contain(r[0],r[1]))for(var o=0;o<this._displayables.length;o++)if(this._displayables[o].contain(t,n))return!0;return!1},i}(ma);const _N=yN;var $g=Math.max,jg=Math.min,c0={};function xN(e){return ge.extend(e)}var bN=function jz(e,i){var t=A2(e,i);return function(r){function a(o){var s=r.call(this,o)||this;return s.applyTransform=t.applyTransform,s.buildPath=t.buildPath,s}return Ye(a,r),a}(T2)};function CN(e,i){return bN(e,i)}function so(e,i){c0[e]=i}function u0(e){if(c0.hasOwnProperty(e))return c0[e]}function qg(e,i,t,n){var r=L2(e,i);return t&&("center"===n&&(t=X2(t,r.getBoundingRect())),U2(r,t)),r}function Y2(e,i,t){var n=new Pn({style:{image:e,x:i.x,y:i.y,width:i.width,height:i.height},onload:function(r){"center"===t&&n.setStyle(X2(i,{width:r.width,height:r.height}))}});return n}function X2(e,i){var r,t=i.width/i.height,n=e.height*t;return r=n<=e.width?e.height:(n=e.width)/t,{x:e.x+e.width/2-n/2,y:e.y+e.height/2-r/2,width:n,height:r}}var Sa=function qz(e,i){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r].getUpdatedPathProxy(!0));var o=new ge(i);return o.createPathProxy(),o.buildPath=function(s){if(M2(s)){s.appendPath(t);var l=s.getContext();l&&s.rebuildPath(l,1)}},o};function U2(e,i){if(e.applyTransform){var n=e.getBoundingRect().calculateTransform(i);e.applyTransform(n)}}function Vh(e,i){return nw(e,e,{lineWidth:i}),e}function SN(e){return rw(e.shape,e.shape,e.style),e}var Kg=zc;function tu(e,i){for(var t=Yr([]);e&&e!==i;)Ui(t,e.getLocalTransform(),t),e=e.parent;return t}function lo(e,i,t){return i&&!Li(i)&&(i=As.getLocalTransform(i)),t&&(i=vn([],i)),Si([],e,i)}function Qg(e,i,t){var n=0===i[4]||0===i[5]||0===i[0]?1:Math.abs(2*i[4]/i[0]),r=0===i[4]||0===i[5]||0===i[2]?1:Math.abs(2*i[4]/i[2]),a=["left"===e?-n:"right"===e?n:0,"top"===e?-r:"bottom"===e?r:0];return a=lo(a,i,t),Math.abs(a[0])>Math.abs(a[1])?a[0]>0?"right":"left":a[1]>0?"bottom":"top"}function Z2(e){return!e.isGroup}function wf(e,i,t){if(e&&i){var a=function n(o){var s={};return o.traverse(function(l){Z2(l)&&l.anid&&(s[l.anid]=l)}),s}(e);i.traverse(function(o){if(Z2(o)&&o.anid){var s=a[o.anid];if(s){var l=r(o);o.attr(r(s)),Ve(o,l,t,Jt(o).dataIndex)}}})}function r(o){var s={x:o.x,y:o.y,rotation:o.rotation};return function wN(e){return null!=e.shape}(o)&&(s.shape=ft({},o.shape)),s}}function $2(e,i){return mt(e,function(t){var n=t[0];n=$g(n,i.x),n=jg(n,i.x+i.width);var r=t[1];return r=$g(r,i.y),[n,r=jg(r,i.y+i.height)]})}function TN(e,i){var t=$g(e.x,i.x),n=jg(e.x+e.width,i.x+i.width),r=$g(e.y,i.y),a=jg(e.y+e.height,i.y+i.height);if(n>=t&&a>=r)return{x:t,y:r,width:n-t,height:a-r}}function Tf(e,i,t){var n=ft({rectHover:!0},i),r=n.style={strokeNoScale:!0};if(t=t||{x:-1,y:-1,width:2,height:2},e)return 0===e.indexOf("image://")?(r.image=e.slice(8),Rt(r,t),new Pn(n)):qg(e.replace("path://",""),n,t,"center")}function Mf(e,i,t,n,r){for(var a=0,o=r[r.length-1];a<r.length;a++){var s=r[a];if(j2(e,i,t,n,s[0],s[1],o[0],o[1]))return!0;o=s}}function j2(e,i,t,n,r,a,o,s){var l=t-e,c=n-i,u=o-r,h=s-a,f=h0(u,h,l,c);if(function MN(e){return e<=1e-6&&e>=-1e-6}(f))return!1;var p=e-r,m=i-a,b=h0(p,m,l,c)/f;if(b<0||b>1)return!1;var _=h0(p,m,u,h)/f;return!(_<0||_>1)}function h0(e,i,t,n){return e*n-t*i}function zh(e){var i=e.itemTooltipOption,t=e.componentModel,n=e.itemName,r=Lt(i)?{formatter:i}:i,a=t.mainType,o=t.componentIndex,s={componentType:a,name:n,$vars:["name"]};s[a+"Index"]=o;var l=e.formatterParamsExtra;l&&U(he(l),function(u){Pt(s,u)||(s[u]=l[u],s.$vars.push(u))});var c=Jt(e.el);c.componentMainType=a,c.componentIndex=o,c.tooltipConfig={name:n,option:Rt({content:n,encodeHTMLContent:!0,formatterParams:s},r)}}function q2(e,i){var t;e.isGroup&&(t=i(e)),t||e.traverse(i)}function Fl(e,i){if(e)if(yt(e))for(var t=0;t<e.length;t++)q2(e[t],i);else q2(e,i)}so("circle",El),so("ellipse",a0),so("sector",kr),so("ring",Wg),so("polygon",Dr),so("polyline",Pr),so("rect",De),so("line",yn),so("bezierCurve",Yg),so("arc",s0);var K2=Le(),AN=Fh(),d0=function(){function e(){this.group=new Kt,this.uid=wh("viewChart"),this.renderTask=yf({plan:LN,reset:kN}),this.renderTask.context={view:this}}return e.prototype.init=function(i,t){},e.prototype.render=function(i,t,n,r){},e.prototype.highlight=function(i,t,n,r){var a=i.getData(r&&r.dataType);a&&J2(a,r,"emphasis")},e.prototype.downplay=function(i,t,n,r){var a=i.getData(r&&r.dataType);a&&J2(a,r,"normal")},e.prototype.remove=function(i,t){this.group.removeAll()},e.prototype.dispose=function(i,t){},e.prototype.updateView=function(i,t,n,r){this.render(i,t,n,r)},e.prototype.updateLayout=function(i,t,n,r){this.render(i,t,n,r)},e.prototype.updateVisual=function(i,t,n,r){this.render(i,t,n,r)},e.prototype.eachRendered=function(i){Fl(this.group,i)},e.markUpdateMethod=function(i,t){K2(i).updateMethod=t},e.protoInitialize=void(e.prototype.type="chart"),e}();function Q2(e,i,t){e&&sf(e)&&("emphasis"===i?Is:Os)(e,t)}function J2(e,i,t){var n=kc(e,i),r=i&&null!=i.highlightKey?function qV(e){var i=_w[e];return null==i&&yw<=32&&(i=_w[e]=yw++),i}(i.highlightKey):null;null!=n?U(je(n),function(a){Q2(e.getItemGraphicEl(a),t,r)}):e.eachItemGraphicEl(function(a){Q2(a,t,r)})}function LN(e){return AN(e.model)}function kN(e){var i=e.model,t=e.ecModel,n=e.api,r=e.payload,a=i.pipelineContext.progressiveRender,o=e.view,s=r&&K2(r).updateMethod,l=a?"incrementalPrepareRender":s&&o[s]?s:"render";return"render"!==l&&o[l](i,t,n,r),DN[l]}Wy(d0),og(d0);var DN={incrementalPrepareRender:{progress:function(e,i){i.view.incrementalRender(e,i.model,i.ecModel,i.api,i.payload)}},render:{forceFirstProgress:!0,progress:function(e,i){i.view.render(i.model,i.ecModel,i.api,i.payload)}}};const oi=d0;var Jg="\0__throttleOriginMethod",tM="\0__throttleRate",eM="\0__throttleType";function f0(e,i,t){var n,s,l,c,u,r=0,a=0,o=null;function h(){a=(new Date).getTime(),o=null,e.apply(l,c||[])}i=i||0;var f=function(){for(var p=[],m=0;m<arguments.length;m++)p[m]=arguments[m];n=(new Date).getTime(),l=this,c=p;var b=u||i,_=u||t;u=null,s=n-(_?r:a)-b,clearTimeout(o),_?o=setTimeout(h,b):s>=0?h():o=setTimeout(h,-s),r=n};return f.clear=function(){o&&(clearTimeout(o),o=null)},f.debounceNextCall=function(p){u=p},f}function Nh(e,i,t,n){var r=e[i];if(r){var a=r[Jg]||r;if(r[tM]!==t||r[eM]!==n){if(null==t||!n)return e[i]=a;(r=e[i]=f0(a,t,"debounce"===n))[Jg]=a,r[eM]=n,r[tM]=t}return r}}function Af(e,i){var t=e[i];t&&t[Jg]&&(t.clear&&t.clear(),e[i]=t[Jg])}var iM=Le(),nM={itemStyle:Pc(Xw,!0),lineStyle:Pc(Yw,!0)},PN={lineStyle:"stroke",itemStyle:"fill"};function rM(e,i){return e.visualStyleMapper||nM[i]||(console.warn("Unknown style type '"+i+"'."),nM.itemStyle)}function aM(e,i){return e.visualDrawType||PN[i]||(console.warn("Unknown style type '"+i+"'."),"fill")}var IN={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,i){var t=e.getData(),n=e.visualStyleAccessPath||"itemStyle",r=e.getModel(n),o=rM(e,n)(r),s=r.getShallow("decal");s&&(t.setVisual("decal",s),s.dirty=!0);var l=aM(e,n),c=o[l],u=Z(c)?c:null;if(!o[l]||u||"auto"===o.fill||"auto"===o.stroke){var f=e.getColorFromPalette(e.name,null,i.getSeriesCount());o[l]||(o[l]=f,t.setVisual("colorFromPalette",!0)),o.fill="auto"===o.fill||Z(o.fill)?f:o.fill,o.stroke="auto"===o.stroke||Z(o.stroke)?f:o.stroke}if(t.setVisual("style",o),t.setVisual("drawType",l),!i.isSeriesFiltered(e)&&u)return t.setVisual("colorFromPalette",!1),{dataEach:function(p,m){var b=e.getDataParams(m),_=ft({},o);_[l]=u(b),p.setItemVisual(m,"style",_)}}}},Lf=new ai,ON={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,i){if(!e.ignoreStyleOnData&&!i.isSeriesFiltered(e)){var t=e.getData(),n=e.visualStyleAccessPath||"itemStyle",r=rM(e,n),a=t.getVisual("drawType");return{dataEach:t.hasItemOption?function(o,s){var l=o.getRawDataItem(s);if(l&&l[n]){Lf.option=l[n];var c=r(Lf);ft(o.ensureUniqueItemVisual(s,"style"),c),Lf.option.decal&&(o.setItemVisual(s,"decal",Lf.option.decal),Lf.option.decal.dirty=!0),a in c&&o.setItemVisual(s,"colorFromPalette",!1)}}:null}}}},EN={performRawSeries:!0,overallReset:function(e){var i=Mt();e.eachSeries(function(t){var n=t.getColorBy();if(!t.isColorBySeries()){var r=t.type+"-"+n,a=i.get(r);a||i.set(r,a={}),iM(t).scope=a}}),e.eachSeries(function(t){if(!t.isColorBySeries()&&!e.isSeriesFiltered(t)){var n=t.getRawData(),r={},a=t.getData(),o=iM(t).scope,l=aM(t,t.visualStyleAccessPath||"itemStyle");a.each(function(c){var u=a.getRawIndex(c);r[u]=c}),n.each(function(c){var u=r[c];if(a.getItemVisual(u,"colorFromPalette")){var f=a.ensureUniqueItemVisual(u,"style"),p=n.getName(c)||c+"",m=n.count();f[l]=t.getColorFromPalette(p,o,m)}})}})}},tv=Math.PI,RN=function(){function e(i,t,n,r){this._stageTaskMap=Mt(),this.ecInstance=i,this.api=t,n=this._dataProcessorHandlers=n.slice(),r=this._visualHandlers=r.slice(),this._allHandlers=n.concat(r)}return e.prototype.restoreData=function(i,t){i.restoreData(t),this._stageTaskMap.each(function(n){var r=n.overallTask;r&&r.dirty()})},e.prototype.getPerformArgs=function(i,t){if(i.__pipeline){var n=this._pipelineMap.get(i.__pipeline.id),r=n.context,o=!t&&n.progressiveEnabled&&(!r||r.progressiveRender)&&i.__idxInPipeline>n.blockIndex?n.step:null,s=r&&r.modDataCount;return{step:o,modBy:null!=s?Math.ceil(s/o):null,modDataCount:s}}},e.prototype.getPipeline=function(i){return this._pipelineMap.get(i)},e.prototype.updateStreamModes=function(i,t){var n=this._pipelineMap.get(i.uid),a=i.getData().count(),o=n.progressiveEnabled&&t.incrementalPrepareRender&&a>=n.threshold,s=i.get("large")&&a>=i.get("largeThreshold"),l="mod"===i.get("progressiveChunkMode")?a:null;i.pipelineContext=n.context={progressiveRender:o,modDataCount:l,large:s}},e.prototype.restorePipelines=function(i){var t=this,n=t._pipelineMap=Mt();i.eachSeries(function(r){var a=r.getProgressive(),o=r.uid;n.set(o,{id:o,head:null,tail:null,threshold:r.getProgressiveThreshold(),progressiveEnabled:a&&!(r.preventIncremental&&r.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),t._pipe(r,r.dataTask)})},e.prototype.prepareStageTasks=function(){var i=this._stageTaskMap,t=this.api.getModel(),n=this.api;U(this._allHandlers,function(r){var a=i.get(r.uid)||i.set(r.uid,{});ti(!(r.reset&&r.overallReset),""),r.reset&&this._createSeriesStageTask(r,a,t,n),r.overallReset&&this._createOverallStageTask(r,a,t,n)},this)},e.prototype.prepareView=function(i,t,n,r){var a=i.renderTask,o=a.context;o.model=t,o.ecModel=n,o.api=r,a.__block=!i.incrementalPrepareRender,this._pipe(t,a)},e.prototype.performDataProcessorTasks=function(i,t){this._performStageTasks(this._dataProcessorHandlers,i,t,{block:!0})},e.prototype.performVisualTasks=function(i,t,n){this._performStageTasks(this._visualHandlers,i,t,n)},e.prototype._performStageTasks=function(i,t,n,r){r=r||{};var a=!1,o=this;function s(l,c){return l.setDirty&&(!l.dirtyMap||l.dirtyMap.get(c.__pipeline.id))}U(i,function(l,c){if(!r.visualType||r.visualType===l.visualType){var u=o._stageTaskMap.get(l.uid),h=u.seriesTaskMap,f=u.overallTask;if(f){var p,m=f.agentStubMap;m.each(function(_){s(r,_)&&(_.dirty(),p=!0)}),p&&f.dirty(),o.updatePayload(f,n);var b=o.getPerformArgs(f,r.block);m.each(function(_){_.perform(b)}),f.perform(b)&&(a=!0)}else h&&h.each(function(_,w){s(r,_)&&_.dirty();var T=o.getPerformArgs(_,r.block);T.skip=!l.performRawSeries&&t.isSeriesFiltered(_.context.model),o.updatePayload(_,n),_.perform(T)&&(a=!0)})}}),this.unfinished=a||this.unfinished},e.prototype.performSeriesTasks=function(i){var t;i.eachSeries(function(n){t=n.dataTask.perform()||t}),this.unfinished=t||this.unfinished},e.prototype.plan=function(){this._pipelineMap.each(function(i){var t=i.tail;do{if(t.__block){i.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)})},e.prototype.updatePayload=function(i,t){"remain"!==t&&(i.context.payload=t)},e.prototype._createSeriesStageTask=function(i,t,n,r){var a=this,o=t.seriesTaskMap,s=t.seriesTaskMap=Mt(),l=i.seriesType,c=i.getTargetSeries;function u(h){var f=h.uid,p=s.set(f,o&&o.get(f)||yf({plan:GN,reset:HN,count:YN}));p.context={model:h,ecModel:n,api:r,useClearVisual:i.isVisual&&!i.isLayout,plan:i.plan,reset:i.reset,scheduler:a},a._pipe(h,p)}i.createOnAllSeries?n.eachRawSeries(u):l?n.eachRawSeriesByType(l,u):c&&c(n,r).each(u)},e.prototype._createOverallStageTask=function(i,t,n,r){var a=this,o=t.overallTask=t.overallTask||yf({reset:BN});o.context={ecModel:n,api:r,overallReset:i.overallReset,scheduler:a};var s=o.agentStubMap,l=o.agentStubMap=Mt(),c=i.seriesType,u=i.getTargetSeries,h=!0,f=!1;function m(b){var _=b.uid,w=l.set(_,s&&s.get(_)||(f=!0,yf({reset:VN,onDirty:NN})));w.context={model:b,overallProgress:h},w.agent=o,w.__block=h,a._pipe(b,w)}ti(!i.createOnAllSeries,""),c?n.eachRawSeriesByType(c,m):u?u(n,r).each(m):(h=!1,U(n.getSeries(),m)),f&&o.dirty()},e.prototype._pipe=function(i,t){var r=this._pipelineMap.get(i.uid);!r.head&&(r.head=t),r.tail&&r.tail.pipe(t),r.tail=t,t.__idxInPipeline=r.count++,t.__pipeline=r},e.wrapStageHandler=function(i,t){return Z(i)&&(i={overallReset:i,seriesType:XN(i)}),i.uid=wh("stageHandler"),t&&(i.visualType=t),i},e}();function BN(e){e.overallReset(e.ecModel,e.api,e.payload)}function VN(e){return e.overallProgress&&zN}function zN(){this.agent.dirty(),this.getDownstream().dirty()}function NN(){this.agent&&this.agent.dirty()}function GN(e){return e.plan?e.plan(e.model,e.ecModel,e.api,e.payload):null}function HN(e){e.useClearVisual&&e.data.clearAllVisual();var i=e.resetDefines=je(e.reset(e.model,e.ecModel,e.api,e.payload));return i.length>1?mt(i,function(t,n){return oM(n)}):WN}var WN=oM(0);function oM(e){return function(i,t){var n=t.data,r=t.resetDefines[e];if(r&&r.dataEach)for(var a=i.start;a<i.end;a++)r.dataEach(n,a);else r&&r.progress&&r.progress(i,n)}}function YN(e){return e.data.count()}function XN(e){ev=null;try{e(kf,sM)}catch{}return ev}var ev,kf={},sM={};function lM(e,i){for(var t in i.prototype)e[t]=Je}lM(kf,AT),lM(sM,LT),kf.eachSeriesByType=kf.eachRawSeriesByType=function(e){ev=e},kf.eachComponent=function(e){"series"===e.mainType&&e.subType&&(ev=e.subType)};const cM=RN;var uM=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const UN={color:uM,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],uM]};var cr="#B9B8CE",hM="#100C2A",iv=function(){return{axisLine:{lineStyle:{color:cr}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},dM=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],fM={darkMode:!0,color:dM,backgroundColor:hM,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:cr}},textStyle:{color:cr},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:cr}},dataZoom:{borderColor:"#71708A",textStyle:{color:cr},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:cr}},timeline:{lineStyle:{color:cr},label:{color:cr},controlStyle:{color:cr,borderColor:cr}},calendar:{itemStyle:{color:hM},dayLabel:{color:cr},monthLabel:{color:cr},yearLabel:{color:cr}},timeAxis:iv(),logAxis:iv(),valueAxis:iv(),categoryAxis:iv(),line:{symbol:"circle"},graph:{color:dM},gauge:{title:{color:cr},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:cr},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};fM.categoryAxis.splitLine.show=!1;const ZN=fM;var $N=function(){function e(){}return e.prototype.normalizeQuery=function(i){var t={},n={},r={};if(Lt(i)){var a=No(i);t.mainType=a.main||null,t.subType=a.sub||null}else{var o=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};U(i,function(l,c){for(var u=!1,h=0;h<o.length;h++){var f=o[h],p=c.lastIndexOf(f);if(p>0&&p===c.length-f.length){var m=c.slice(0,p);"data"!==m&&(t.mainType=m,t[f.toLowerCase()]=l,u=!0)}}s.hasOwnProperty(c)&&(n[c]=l,u=!0),u||(r[c]=l)})}return{cptQuery:t,dataQuery:n,otherQuery:r}},e.prototype.filter=function(i,t){var n=this.eventInfo;if(!n)return!0;var r=n.targetEl,a=n.packedEvent,o=n.model,s=n.view;if(!o||!s)return!0;var l=t.cptQuery,c=t.dataQuery;return u(l,o,"mainType")&&u(l,o,"subType")&&u(l,o,"index","componentIndex")&&u(l,o,"name")&&u(l,o,"id")&&u(c,a,"name")&&u(c,a,"dataIndex")&&u(c,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(i,t.otherQuery,r,a));function u(h,f,p,m){return null==h[p]||f[m||p]===h[p]}},e.prototype.afterTrigger=function(){this.eventInfo=null},e}(),p0=["symbol","symbolSize","symbolRotate","symbolOffset"],pM=p0.concat(["symbolKeepAspect"]),jN={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,i){var t=e.getData();if(e.legendIcon&&t.setVisual("legendIcon",e.legendIcon),e.hasSymbolVisual){for(var n={},r={},a=!1,o=0;o<p0.length;o++){var s=p0[o],l=e.get(s);Z(l)?(a=!0,r[s]=l):n[s]=l}if(n.symbol=n.symbol||e.defaultSymbol,t.setVisual(ft({legendIcon:e.legendIcon||n.symbol,symbolKeepAspect:e.get("symbolKeepAspect")},n)),!i.isSeriesFiltered(e)){var c=he(r);return{dataEach:a?function u(h,f){for(var p=e.getRawValue(f),m=e.getDataParams(f),b=0;b<c.length;b++){var _=c[b];h.setItemVisual(f,_,r[_](p,m))}}:null}}}}},qN={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,i){if(e.hasSymbolVisual&&!i.isSeriesFiltered(e))return{dataEach:e.getData().hasItemOption?function n(r,a){for(var o=r.getItemModel(a),s=0;s<pM.length;s++){var l=pM[s],c=o.getShallow(l,!0);null!=c&&r.setItemVisual(a,l,c)}}:null}}};function g0(e,i,t){switch(t){case"color":return e.getItemVisual(i,"style")[e.getVisual("drawType")];case"opacity":return e.getItemVisual(i,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getItemVisual(i,t)}}function Df(e,i){switch(i){case"color":return e.getVisual("style")[e.getVisual("drawType")];case"opacity":return e.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return e.getVisual(i)}}function gM(e,i,t,n){switch(t){case"color":e.ensureUniqueItemVisual(i,"style")[e.getVisual("drawType")]=n,e.setItemVisual(i,"colorFromPalette",!1);break;case"opacity":e.ensureUniqueItemVisual(i,"style").opacity=n;break;case"symbol":case"symbolSize":case"liftZ":e.setItemVisual(i,t,n)}}function vM(e,i){function t(n,r){var a=[];return n.eachComponent({mainType:"series",subType:e,query:r},function(o){a.push(o.seriesIndex)}),a}U([[e+"ToggleSelect","toggleSelect"],[e+"Select","select"],[e+"UnSelect","unselect"]],function(n){i(n[0],function(r,a,o){r=ft({},r),o.dispatchAction(ft(r,{type:n[1],seriesIndex:t(a,r)}))})})}function Gh(e,i,t,n,r){var a=e+i;t.isSilent(a)||n.eachComponent({mainType:"series",subType:"pie"},function(o){for(var s=o.seriesIndex,l=o.option.selectedMap,c=r.selected,u=0;u<c.length;u++)if(c[u].seriesIndex===s){var h=o.getData(),f=kc(h,r.fromActionPayload);t.trigger(a,{type:a,seriesId:o.id,name:yt(f)?h.getName(f[0]):h.getName(f),selected:Lt(l)?l:ft({},l)})}})}function eu(e,i,t){for(var n;e&&(!i(e)||(n=e,!t));)e=e.__hostTarget||e.parent;return n}var QN=Math.round(9*Math.random()),JN="function"==typeof Object.defineProperty,t4=function(){function e(){this._id="__ec_inner_"+QN++}return e.prototype.get=function(i){return this._guard(i)[this._id]},e.prototype.set=function(i,t){var n=this._guard(i);return JN?Object.defineProperty(n,this._id,{value:t,enumerable:!1,configurable:!0}):n[this._id]=t,this},e.prototype.delete=function(i){return!!this.has(i)&&(delete this._guard(i)[this._id],!0)},e.prototype.has=function(i){return!!this._guard(i)[this._id]},e.prototype._guard=function(i){if(i!==Object(i))throw TypeError("Value of WeakMap is not a non-null object.");return i},e}();const e4=t4;var i4=ge.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,i){var t=i.cx,n=i.cy,r=i.width/2,a=i.height/2;e.moveTo(t,n-a),e.lineTo(t+r,n+a),e.lineTo(t-r,n+a),e.closePath()}}),n4=ge.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,i){var t=i.cx,n=i.cy,r=i.width/2,a=i.height/2;e.moveTo(t,n-a),e.lineTo(t+r,n),e.lineTo(t,n+a),e.lineTo(t-r,n),e.closePath()}}),r4=ge.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,i){var t=i.x,n=i.y,r=i.width/5*3,a=Math.max(r,i.height),o=r/2,s=o*o/(a-o),l=n-a+o+s,c=Math.asin(s/o),u=Math.cos(c)*o,h=Math.sin(c),f=Math.cos(c),p=.6*o,m=.7*o;e.moveTo(t-u,l+s),e.arc(t,l,o,Math.PI-c,2*Math.PI+c),e.bezierCurveTo(t+u-h*p,l+s+f*p,t,n-m,t,n),e.bezierCurveTo(t,n-m,t-u+h*p,l+s+f*p,t-u,l+s),e.closePath()}}),a4=ge.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,i){var t=i.height,r=i.x,a=i.y,o=i.width/3*2;e.moveTo(r,a),e.lineTo(r+o,a+t),e.lineTo(r,a+t/4*3),e.lineTo(r-o,a+t),e.lineTo(r,a),e.closePath()}}),s4={line:function(e,i,t,n,r){r.x1=e,r.y1=i+n/2,r.x2=e+t,r.y2=i+n/2},rect:function(e,i,t,n,r){r.x=e,r.y=i,r.width=t,r.height=n},roundRect:function(e,i,t,n,r){r.x=e,r.y=i,r.width=t,r.height=n,r.r=Math.min(t,n)/4},square:function(e,i,t,n,r){var a=Math.min(t,n);r.x=e,r.y=i,r.width=a,r.height=a},circle:function(e,i,t,n,r){r.cx=e+t/2,r.cy=i+n/2,r.r=Math.min(t,n)/2},diamond:function(e,i,t,n,r){r.cx=e+t/2,r.cy=i+n/2,r.width=t,r.height=n},pin:function(e,i,t,n,r){r.x=e+t/2,r.y=i+n/2,r.width=t,r.height=n},arrow:function(e,i,t,n,r){r.x=e+t/2,r.y=i+n/2,r.width=t,r.height=n},triangle:function(e,i,t,n,r){r.cx=e+t/2,r.cy=i+n/2,r.width=t,r.height=n}},nv={};U({line:yn,rect:De,roundRect:De,square:De,circle:El,diamond:n4,pin:r4,arrow:a4,triangle:i4},function(e,i){nv[i]=new e});var l4=ge.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,i,t){var n=rg(e,i,t),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===i.position&&(n.y=t.y+.4*t.height),n},buildPath:function(e,i,t){var n=i.symbolType;if("none"!==n){var r=nv[n];r||(r=nv[n="rect"]),s4[n](i.x,i.y,i.width,i.height,r.shape),r.buildPath(e,r.shape,t)}}});function c4(e,i){if("image"!==this.type){var t=this.style;this.__isEmptyBrush?(t.stroke=e,t.fill=i||"#fff",t.lineWidth=2):"line"===this.shape.symbolType?t.stroke=e:t.fill=e,this.markRedraw()}}function Gi(e,i,t,n,r,a,o){var l,s=0===e.indexOf("empty");return s&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),(l=0===e.indexOf("image://")?Y2(e.slice(8),new $t(i,t,n,r),o?"center":"cover"):0===e.indexOf("path://")?qg(e.slice(7),{},new $t(i,t,n,r),o?"center":"cover"):new l4({shape:{symbolType:e,x:i,y:t,width:n,height:r}})).__isEmptyBrush=s,l.setColor=c4,a&&l.setColor(a),l}function Hh(e){return yt(e)||(e=[+e,+e]),[e[0]||0,e[1]||0]}function iu(e,i){if(null!=e)return yt(e)||(e=[e,e]),[At(e[0],i[0])||0,At(qt(e[1],e[0]),i[1])||0]}function nu(e){return isFinite(e)}function v0(e,i,t){for(var n="radial"===i.type?function h4(e,i,t){var n=t.width,r=t.height,a=Math.min(n,r),o=null==i.x?.5:i.x,s=null==i.y?.5:i.y,l=null==i.r?.5:i.r;return i.global||(o=o*n+t.x,s=s*r+t.y,l*=a),o=nu(o)?o:.5,s=nu(s)?s:.5,l=l>=0&&nu(l)?l:.5,e.createRadialGradient(o,s,0,o,s,l)}(e,i,t):function u4(e,i,t){var n=null==i.x?0:i.x,r=null==i.x2?1:i.x2,a=null==i.y?0:i.y,o=null==i.y2?0:i.y2;return i.global||(n=n*t.width+t.x,r=r*t.width+t.x,a=a*t.height+t.y,o=o*t.height+t.y),n=nu(n)?n:0,r=nu(r)?r:1,a=nu(a)?a:0,o=nu(o)?o:0,e.createLinearGradient(n,a,r,o)}(e,i,t),r=i.colorStops,a=0;a<r.length;a++)n.addColorStop(r[a].offset,r[a].color);return n}function rv(e){return parseInt(e,10)}function Wh(e,i,t){var n=["width","height"][i],r=["clientWidth","clientHeight"][i],a=["paddingLeft","paddingTop"][i],o=["paddingRight","paddingBottom"][i];if(null!=t[n]&&"auto"!==t[n])return parseFloat(t[n]);var s=document.defaultView.getComputedStyle(e);return(e[r]||rv(s[n])||rv(e.style[n]))-(rv(s[a])||0)-(rv(s[o])||0)|0}function m0(e){var i=e.style,t=i.lineDash&&i.lineWidth>0&&function f4(e,i){return e&&"solid"!==e&&i>0?"dashed"===e?[4*i,2*i]:"dotted"===e?[i]:_e(e)?[e]:yt(e)?e:null:null}(i.lineDash,i.lineWidth),n=i.lineDashOffset;if(t){var r=i.strokeNoScale&&e.getLineScale?e.getLineScale():1;r&&1!==r&&(t=mt(t,function(a){return a/r}),n/=r)}return[t,n]}var p4=new Yo(!0);function av(e){var i=e.stroke;return!(null==i||"none"===i||!(e.lineWidth>0))}function mM(e){return"string"==typeof e&&"none"!==e}function ov(e){var i=e.fill;return null!=i&&"none"!==i}function yM(e,i){if(null!=i.fillOpacity&&1!==i.fillOpacity){var t=e.globalAlpha;e.globalAlpha=i.fillOpacity*i.opacity,e.fill(),e.globalAlpha=t}else e.fill()}function _M(e,i){if(null!=i.strokeOpacity&&1!==i.strokeOpacity){var t=e.globalAlpha;e.globalAlpha=i.strokeOpacity*i.opacity,e.stroke(),e.globalAlpha=t}else e.stroke()}function y0(e,i,t){var n=Xy(i.image,i.__image,t);if(sg(n)){var r=e.createPattern(n,i.repeat||"repeat");if("function"==typeof DOMMatrix&&r&&r.setTransform){var a=new DOMMatrix;a.translateSelf(i.x||0,i.y||0),a.rotateSelf(0,0,(i.rotation||0)*Ii),a.scaleSelf(i.scaleX||1,i.scaleY||1),r.setTransform(a)}return r}}var xM=["shadowBlur","shadowOffsetX","shadowOffsetY"],bM=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function CM(e,i,t,n,r){var a=!1;if(!n&&i===(t=t||{}))return!1;if(n||i.opacity!==t.opacity){Or(e,r),a=!0;var o=Math.max(Math.min(i.opacity,1),0);e.globalAlpha=isNaN(o)?Ic.opacity:o}(n||i.blend!==t.blend)&&(a||(Or(e,r),a=!0),e.globalCompositeOperation=i.blend||Ic.blend);for(var s=0;s<xM.length;s++){var l=xM[s];(n||i[l]!==t[l])&&(a||(Or(e,r),a=!0),e[l]=e.dpr*(i[l]||0))}return(n||i.shadowColor!==t.shadowColor)&&(a||(Or(e,r),a=!0),e.shadowColor=i.shadowColor||Ic.shadowColor),a}function SM(e,i,t,n,r){var a=Pf(i,r.inHover),o=n?null:t&&Pf(t,r.inHover)||{};if(a===o)return!1;var s=CM(e,a,o,n,r);if((n||a.fill!==o.fill)&&(s||(Or(e,r),s=!0),mM(a.fill)&&(e.fillStyle=a.fill)),(n||a.stroke!==o.stroke)&&(s||(Or(e,r),s=!0),mM(a.stroke)&&(e.strokeStyle=a.stroke)),(n||a.opacity!==o.opacity)&&(s||(Or(e,r),s=!0),e.globalAlpha=null==a.opacity?1:a.opacity),i.hasStroke()){var c=a.lineWidth/(a.strokeNoScale&&i.getLineScale?i.getLineScale():1);e.lineWidth!==c&&(s||(Or(e,r),s=!0),e.lineWidth=c)}for(var u=0;u<bM.length;u++){var h=bM[u],f=h[0];(n||a[f]!==o[f])&&(s||(Or(e,r),s=!0),e[f]=a[f]||h[1])}return s}function wM(e,i){var t=i.transform,n=e.dpr||1;t?e.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]):e.setTransform(n,0,0,n,0,0)}var TM=1,MM=2,AM=3,LM=4;function Or(e,i){i.batchFill&&e.fill(),i.batchStroke&&e.stroke(),i.batchFill="",i.batchStroke=""}function Pf(e,i){return i&&e.__hoverStyle||e.style}function kM(e,i){ru(e,i,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function ru(e,i,t,n){var r=i.transform;if(!i.shouldBePainted(t.viewWidth,t.viewHeight,!1,!1))return i.__dirty&=~An,void(i.__isRendered=!1);var a=i.__clipPaths,o=t.prevElClipPaths,s=!1,l=!1;if((!o||function d4(e,i){if(e===i||!e&&!i)return!1;if(!e||!i||e.length!==i.length)return!0;for(var t=0;t<e.length;t++)if(e[t]!==i[t])return!0;return!1}(a,o))&&(o&&o.length&&(Or(e,t),e.restore(),l=s=!0,t.prevElClipPaths=null,t.allClipped=!1,t.prevEl=null),a&&a.length&&(Or(e,t),e.save(),function _4(e,i,t){for(var n=!1,r=0;r<e.length;r++){var a=e[r];n=n||a.isZeroArea(),wM(i,a),i.beginPath(),a.buildPath(i,a.shape),i.clip()}t.allClipped=n}(a,e,t),s=!0),t.prevElClipPaths=a),t.allClipped)i.__isRendered=!1;else{i.beforeBrush&&i.beforeBrush(),i.innerBeforeBrush();var c=t.prevEl;c||(l=s=!0);var u=i instanceof ge&&i.autoBatch&&function b4(e){var i=ov(e),t=av(e);return!(e.lineDash||!(+i^+t)||i&&"string"!=typeof e.fill||t&&"string"!=typeof e.stroke||e.strokePercent<1||e.strokeOpacity<1||e.fillOpacity<1)}(i.style);s||function x4(e,i){return e&&i?e[0]!==i[0]||e[1]!==i[1]||e[2]!==i[2]||e[3]!==i[3]||e[4]!==i[4]||e[5]!==i[5]:!(!e&&!i)}(r,c.transform)?(Or(e,t),wM(e,i)):u||Or(e,t);var h=Pf(i,t.inHover);i instanceof ge?(t.lastDrawType!==TM&&(l=!0,t.lastDrawType=TM),SM(e,i,c,l,t),(!u||!t.batchFill&&!t.batchStroke)&&e.beginPath(),function g4(e,i,t,n){var r,a=av(t),o=ov(t),s=t.strokePercent,l=s<1,c=!i.path;(!i.silent||l)&&c&&i.createPathProxy();var u=i.path||p4,h=i.__dirty;if(!n){var f=t.fill,p=t.stroke,m=o&&!!f.colorStops,b=a&&!!p.colorStops,_=o&&!!f.image,w=a&&!!p.image,T=void 0,A=void 0,P=void 0,F=void 0,O=void 0;(m||b)&&(O=i.getBoundingRect()),m&&(T=h?v0(e,f,O):i.__canvasFillGradient,i.__canvasFillGradient=T),b&&(A=h?v0(e,p,O):i.__canvasStrokeGradient,i.__canvasStrokeGradient=A),_&&(P=h||!i.__canvasFillPattern?y0(e,f,i):i.__canvasFillPattern,i.__canvasFillPattern=P),w&&(F=h||!i.__canvasStrokePattern?y0(e,p,i):i.__canvasStrokePattern,i.__canvasStrokePattern=P),m?e.fillStyle=T:_&&(P?e.fillStyle=P:o=!1),b?e.strokeStyle=A:w&&(F?e.strokeStyle=F:a=!1)}var N,G,V=i.getGlobalScale();u.setScale(V[0],V[1],i.segmentIgnoreThreshold),e.setLineDash&&t.lineDash&&(N=(r=m0(i))[0],G=r[1]);var H=!0;(c||h&$a)&&(u.setDPR(e.dpr),l?u.setContext(null):(u.setContext(e),H=!1),u.reset(),i.buildPath(u,i.shape,n),u.toStatic(),i.pathUpdated()),H&&u.rebuildPath(e,l?s:1),N&&(e.setLineDash(N),e.lineDashOffset=G),n||(t.strokeFirst?(a&&_M(e,t),o&&yM(e,t)):(o&&yM(e,t),a&&_M(e,t))),N&&e.setLineDash([])}(e,i,h,u),u&&(t.batchFill=h.fill||"",t.batchStroke=h.stroke||"")):i instanceof ef?(t.lastDrawType!==AM&&(l=!0,t.lastDrawType=AM),SM(e,i,c,l,t),function m4(e,i,t){var n,r=t.text;if(null!=r&&(r+=""),r){e.font=t.font||ni,e.textAlign=t.textAlign,e.textBaseline=t.textBaseline;var a=void 0,o=void 0;e.setLineDash&&t.lineDash&&(a=(n=m0(i))[0],o=n[1]),a&&(e.setLineDash(a),e.lineDashOffset=o),t.strokeFirst?(av(t)&&e.strokeText(r,t.x,t.y),ov(t)&&e.fillText(r,t.x,t.y)):(ov(t)&&e.fillText(r,t.x,t.y),av(t)&&e.strokeText(r,t.x,t.y)),a&&e.setLineDash([])}}(e,i,h)):i instanceof Pn?(t.lastDrawType!==MM&&(l=!0,t.lastDrawType=MM),function y4(e,i,t,n,r){CM(e,Pf(i,r.inHover),t&&Pf(t,r.inHover),n,r)}(e,i,c,l,t),function v4(e,i,t){var n=i.__image=Xy(t.image,i.__image,i,i.onload);if(n&&sg(n)){var r=t.x||0,a=t.y||0,o=i.getWidth(),s=i.getHeight(),l=n.width/n.height;if(null==o&&null!=s?o=s*l:null==s&&null!=o?s=o/l:null==o&&null==s&&(o=n.width,s=n.height),t.sWidth&&t.sHeight)e.drawImage(n,c=t.sx||0,u=t.sy||0,t.sWidth,t.sHeight,r,a,o,s);else if(t.sx&&t.sy){var c,u;e.drawImage(n,c=t.sx,u=t.sy,o-c,s-u,r,a,o,s)}else e.drawImage(n,r,a,o,s)}}(e,i,h)):i.getTemporalDisplayables&&(t.lastDrawType!==LM&&(l=!0,t.lastDrawType=LM),function C4(e,i,t){var n=i.getDisplayables(),r=i.getTemporalDisplayables();e.save();var o,s,a={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:t.viewWidth,viewHeight:t.viewHeight,inHover:t.inHover};for(o=i.getCursor(),s=n.length;o<s;o++)(l=n[o]).beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),ru(e,l,a,o===s-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l;for(var c=0,u=r.length;c<u;c++){var l;(l=r[c]).beforeBrush&&l.beforeBrush(),l.innerBeforeBrush(),ru(e,l,a,c===u-1),l.innerAfterBrush(),l.afterBrush&&l.afterBrush(),a.prevEl=l}i.clearTemporalDisplayables(),i.notClear=!0,e.restore()}(e,i,t)),u&&n&&Or(e,t),i.innerAfterBrush(),i.afterBrush&&i.afterBrush(),t.prevEl=i,i.__dirty=0,i.__isRendered=!0}}var _0=new e4,DM=new Ts(100),PM=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function Yh(e,i){if("none"===e)return null;var t=i.getDevicePixelRatio(),n=i.getZr(),r="svg"===n.painter.type;e.dirty&&_0.delete(e);var a=_0.get(e);if(a)return a;var o=Rt(e,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===o.backgroundColor&&(o.backgroundColor=null);var s={repeat:"repeat"};return function l(c){for(var u=[t],h=!0,f=0;f<PM.length;++f){var p=o[PM[f]];if(null!=p&&!yt(p)&&!Lt(p)&&!_e(p)&&"boolean"!=typeof p){h=!1;break}u.push(p)}var m;if(h){m=u.join(",")+(r?"-svg":"");var b=DM.get(m);b&&(r?c.svgElement=b:c.image=b)}var N,_=OM(o.dashArrayX),w=function S4(e){if(!e||"object"==typeof e&&0===e.length)return[0,0];if(_e(e)){var i=Math.ceil(e);return[i,i]}var t=mt(e,function(n){return Math.ceil(n)});return e.length%2?t.concat(t):t}(o.dashArrayY),T=IM(o.symbol),A=function w4(e){return mt(e,function(i){return EM(i)})}(_),P=EM(w),F=!r&&xn.createCanvas(),O=r&&{tag:"g",attrs:{},key:"dcl",children:[]},V=function G(){for(var X=1,q=0,j=A.length;q<j;++q)X=IS(X,A[q]);var J=1;for(q=0,j=T.length;q<j;++q)J=IS(J,T[q].length);X*=J;var tt=P*A.length*T.length;return{width:Math.max(1,Math.min(X,o.maxTileWidth)),height:Math.max(1,Math.min(tt,o.maxTileHeight))}}();F&&(F.width=V.width*t,F.height=V.height*t,N=F.getContext("2d")),function H(){N&&(N.clearRect(0,0,F.width,F.height),o.backgroundColor&&(N.fillStyle=o.backgroundColor,N.fillRect(0,0,F.width,F.height)));for(var X=0,q=0;q<w.length;++q)X+=w[q];if(!(X<=0))for(var j=-P,J=0,tt=0,et=0;j<V.height;){if(J%2==0){for(var lt=tt/2%T.length,st=0,ut=0,vt=0;st<2*V.width;){var _t=0;for(q=0;q<_[et].length;++q)_t+=_[et][q];if(_t<=0)break;if(ut%2==0){var St=.5*(1-o.symbolSize);Vt(st+_[et][ut]*St,j+w[J]*St,_[et][ut]*o.symbolSize,w[J]*o.symbolSize,T[lt][vt/2%T[lt].length])}st+=_[et][ut],++vt,++ut===_[et].length&&(ut=0)}++et===_.length&&(et=0)}j+=w[J],++tt,++J===w.length&&(J=0)}function Vt(bt,kt,Tt,gt,fe){var Ht=r?1:t,Ne=Gi(fe,bt*Ht,kt*Ht,Tt*Ht,gt*Ht,o.color,o.symbolKeepAspect);if(r){var Ee=n.painter.renderOneToVNode(Ne);Ee&&O.children.push(Ee)}else kM(N,Ne)}}(),h&&DM.put(m,F||O),c.image=F,c.svgElement=O,c.svgWidth=V.width,c.svgHeight=V.height}(s),s.rotation=o.rotation,s.scaleX=s.scaleY=r?1:1/t,_0.set(e,s),e.dirty=!1,s}function IM(e){if(!e||0===e.length)return[["rect"]];if(Lt(e))return[[e]];for(var i=!0,t=0;t<e.length;++t)if(!Lt(e[t])){i=!1;break}if(i)return IM([e]);var n=[];for(t=0;t<e.length;++t)Lt(e[t])?n.push([e[t]]):n.push(e[t]);return n}function OM(e){if(!e||0===e.length)return[[0,0]];if(_e(e))return[[i=Math.ceil(e),i]];for(var t=!0,n=0;n<e.length;++n)if(!_e(e[n])){t=!1;break}if(t)return OM([e]);var r=[];for(n=0;n<e.length;++n)if(_e(e[n])){var i=Math.ceil(e[n]);r.push([i,i])}else i=mt(e[n],function(s){return Math.ceil(s)}),r.push(i.length%2==1?i.concat(i):i);return r}function EM(e){for(var i=0,t=0;t<e.length;++t)i+=e[t];return e.length%2==1?2*i:i}const co=new Nn;var FM={},O4=2e3,BM=3e3,N4={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:BM,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},Zn="__flagInMainProcess",Er="__pendingUpdate",b0="__needsUpdateStatus",zM=/^[a-zA-Z0-9_]+$/,C0="__connectUpdateStatus";function GM(e){return function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];if(!this.isDisposed())return WM(this,e,i)}}function HM(e){return function(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];return WM(this,e,i)}}function WM(e,i,t){return t[0]=t[0]&&t[0].toLowerCase(),Nn.prototype[i].apply(e,t)}var YM=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ot(i,e),i}(Nn),XM=YM.prototype;XM.on=HM("on"),XM.off=HM("off");var Xh,S0,lv,Rl,w0,T0,M0,If,Of,UM,ZM,A0,$M,cv,jM,qM,wa,KM,uv=function(e){function i(t,n,r){var a=e.call(this,new $N)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],r=r||{},Lt(n)&&(n=QM[n]),a._dom=t,r.ssr&&function mB(e){By=e}(function(p){var m=Jt(p),b=m.dataIndex;if(null!=b){var _=Mt();return _.set("series_index",m.seriesIndex),_.set("data_index",b),m.ssrType&&_.set("ssr_type",m.ssrType),_}});var u=a._zr=xS(t,{renderer:r.renderer||"canvas",devicePixelRatio:r.devicePixelRatio,width:r.width,height:r.height,ssr:r.ssr,useDirtyRect:qt(r.useDirtyRect,!1),useCoarsePointer:qt(r.useCoarsePointer,"auto"),pointerSize:r.pointerSize});a._ssr=r.ssr,a._throttledZrFlush=f0(Dt(u.flush,u),17),(n=Gt(n))&&FT(n,!0),a._theme=n,a._locale=function f3(e){if(Lt(e)){var i=Cg[e.toUpperCase()]||{};return e===bg||e===S_?Gt(i):ie(Gt(i),Gt(Cg[Th]),!1)}return ie(Gt(e),Gt(Cg[Th]),!1)}(r.locale||Uw),a._coordSysMgr=new pf;var h=a._api=jM(a);function f(p,m){return p.__prio-m.__prio}return rr(dv,f),rr(k0,f),a._scheduler=new cM(a,h,k0,dv),a._messageCenter=new YM,a._initEvents(),a.resize=Dt(a.resize,a),u.animation.on("frame",a._onframe,a),UM(u,a),ZM(u,a),Ra(a),a}return ot(i,e),i.prototype._onframe=function(){if(!this._disposed){KM(this);var t=this._scheduler;if(this[Er]){var n=this[Er].silent;this[Zn]=!0;try{Xh(this),Rl.update.call(this,null,this[Er].updateParams)}catch(l){throw this[Zn]=!1,this[Er]=null,l}this._zr.flush(),this[Zn]=!1,this[Er]=null,If.call(this,n),Of.call(this,n)}else if(t.unfinished){var r=1,a=this._model,o=this._api;t.unfinished=!1;do{var s=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),T0(this,a),t.performVisualTasks(a),cv(this,this._model,o,"remain",{}),r-=+new Date-s}while(r>0&&t.unfinished);t.unfinished||this._zr.flush()}}},i.prototype.getDom=function(){return this._dom},i.prototype.getId=function(){return this.id},i.prototype.getZr=function(){return this._zr},i.prototype.isSSR=function(){return this._ssr},i.prototype.setOption=function(t,n,r){if(!this[Zn]){if(this._disposed)return;var a,o,s;if(Bt(n)&&(r=n.lazyUpdate,a=n.silent,o=n.replaceMerge,s=n.transition,n=n.notMerge),this[Zn]=!0,!this._model||n){var l=new U3(this._api),c=this._theme,u=this._model=new AT;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,c,this._locale,l)}this._model.setOption(t,{replaceMerge:o},D0);var h={seriesTransition:s,optionChanged:!0};if(r)this[Er]={silent:a,updateParams:h},this[Zn]=!1,this.getZr().wakeUp();else{try{Xh(this),Rl.update.call(this,null,h)}catch(f){throw this[Er]=null,this[Zn]=!1,f}this._ssr||this._zr.flush(),this[Er]=null,this[Zn]=!1,If.call(this,a),Of.call(this,a)}}},i.prototype.setTheme=function(){},i.prototype.getModel=function(){return this._model},i.prototype.getOption=function(){return this._model&&this._model.getOption()},i.prototype.getWidth=function(){return this._zr.getWidth()},i.prototype.getHeight=function(){return this._zr.getHeight()},i.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Yt.hasGlobalWindow&&window.devicePixelRatio||1},i.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},i.prototype.renderToCanvas=function(t){return this._zr.painter.getRenderedCanvas({backgroundColor:(t=t||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},i.prototype.renderToSVGString=function(t){return this._zr.painter.renderToString({useViewBox:(t=t||{}).useViewBox})},i.prototype.getSvgDataURL=function(){if(Yt.svgSupported){var t=this._zr;return U(t.storage.getDisplayList(),function(r){r.stopAnimation(null,!0)}),t.painter.toDataURL()}},i.prototype.getDataURL=function(t){if(!this._disposed){var r=this._model,a=[],o=this;U((t=t||{}).excludeComponents,function(l){r.eachComponent({mainType:l},function(c){var u=o._componentsMap[c.__viewId];u.group.ignore||(a.push(u),u.group.ignore=!0)})});var s="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return U(a,function(l){l.group.ignore=!1}),s}},i.prototype.getConnectedDataURL=function(t){if(!this._disposed){var n="svg"===t.type,r=this.group,a=Math.min,o=Math.max,s=1/0;if(fv[r]){var l=s,c=s,u=-s,h=-s,f=[],p=t&&t.pixelRatio||this.getDevicePixelRatio();U(au,function(A,P){if(A.group===r){var F=n?A.getZr().painter.getSvgDom().innerHTML:A.renderToCanvas(Gt(t)),O=A.getDom().getBoundingClientRect();l=a(O.left,l),c=a(O.top,c),u=o(O.right,u),h=o(O.bottom,h),f.push({dom:F,left:O.left,top:O.top})}});var m=(u*=p)-(l*=p),b=(h*=p)-(c*=p),_=xn.createCanvas(),w=xS(_,{renderer:n?"svg":"canvas"});if(w.resize({width:m,height:b}),n){var T="";return U(f,function(A){T+='<g transform="translate('+(A.left-l)+","+(A.top-c)+')">'+A.dom+"</g>"}),w.painter.getSvgRoot().innerHTML=T,t.connectedBackgroundColor&&w.painter.setBackgroundColor(t.connectedBackgroundColor),w.refreshImmediately(),w.painter.toDataURL()}return t.connectedBackgroundColor&&w.add(new De({shape:{x:0,y:0,width:m,height:b},style:{fill:t.connectedBackgroundColor}})),U(f,function(A){var P=new Pn({style:{x:A.left*p-l,y:A.top*p-c,image:A.dom}});w.add(P)}),w.refreshImmediately(),_.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},i.prototype.convertToPixel=function(t,n){return w0(this,"convertToPixel",t,n)},i.prototype.convertFromPixel=function(t,n){return w0(this,"convertFromPixel",t,n)},i.prototype.containPixel=function(t,n){var a;if(!this._disposed)return U(Kd(this._model,t),function(s,l){l.indexOf("Models")>=0&&U(s,function(c){var u=c.coordinateSystem;if(u&&u.containPoint)a=a||!!u.containPoint(n);else if("seriesModels"===l){var h=this._chartsMap[c.__viewId];h&&h.containPoint&&(a=a||h.containPoint(n,c))}},this)},this),!!a},i.prototype.getVisual=function(t,n){var a=Kd(this._model,t,{defaultMainType:"series"}),s=a.seriesModel.getData(),l=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?s.indexOfRawIndex(a.dataIndex):null;return null!=l?g0(s,l,n):Df(s,n)},i.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},i.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},i.prototype._initEvents=function(){var t=this;U(W4,function(n){var r=function(a){var l,o=t.getModel(),s=a.target;if("globalout"===n?l={}:s&&eu(s,function(m){var b=Jt(m);if(b&&null!=b.dataIndex){var _=b.dataModel||o.getSeriesByIndex(b.seriesIndex);return l=_&&_.getDataParams(b.dataIndex,b.dataType,s)||{},!0}if(b.eventData)return l=ft({},b.eventData),!0},!0),l){var u=l.componentType,h=l.componentIndex;("markLine"===u||"markPoint"===u||"markArea"===u)&&(u="series",h=l.seriesIndex);var f=u&&null!=h&&o.getComponent(u,h),p=f&&t["series"===f.mainType?"_chartsMap":"_componentsMap"][f.__viewId];l.event=a,l.type=n,t._$eventProcessor.eventInfo={targetEl:s,packedEvent:l,model:f,view:p},t.trigger(n,l)}};r.zrEventfulCallAtLast=!0,t._zr.on(n,r,t)}),U(Ef,function(n,r){t._messageCenter.on(r,function(a){this.trigger(r,a)},t)}),U(["selectchanged"],function(n){t._messageCenter.on(n,function(r){this.trigger(n,r)},t)}),function KN(e,i,t){e.on("selectchanged",function(n){var r=t.getModel();n.isFromClick?(Gh("map","selectchanged",i,r,n),Gh("pie","selectchanged",i,r,n)):"select"===n.fromAction?(Gh("map","selected",i,r,n),Gh("pie","selected",i,r,n)):"unselect"===n.fromAction&&(Gh("map","unselected",i,r,n),Gh("pie","unselected",i,r,n))})}(this._messageCenter,this,this._api)},i.prototype.isDisposed=function(){return this._disposed},i.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},i.prototype.dispose=function(){if(!this._disposed){this._disposed=!0,this.getDom()&&zS(this.getDom(),I0,"");var n=this,r=n._api,a=n._model;U(n._componentsViews,function(o){o.dispose(a,r)}),U(n._chartsViews,function(o){o.dispose(a,r)}),n._zr.dispose(),n._dom=n._model=n._chartsMap=n._componentsMap=n._chartsViews=n._componentsViews=n._scheduler=n._api=n._zr=n._throttledZrFlush=n._theme=n._coordSysMgr=n._messageCenter=null,delete au[n.id]}},i.prototype.resize=function(t){if(!this[Zn]){if(this._disposed)return;this._zr.resize(t);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),n){var r=n.resetOption("media"),a=t&&t.silent;this[Er]&&(null==a&&(a=this[Er].silent),r=!0,this[Er]=null),this[Zn]=!0;try{r&&Xh(this),Rl.update.call(this,{type:"resize",animation:ft({duration:0},t&&t.animation)})}catch(o){throw this[Zn]=!1,o}this[Zn]=!1,If.call(this,a),Of.call(this,a)}}},i.prototype.showLoading=function(t,n){if(!this._disposed&&(Bt(t)&&(n=t,t=""),t=t||"default",this.hideLoading(),P0[t])){var r=P0[t](this._api,n),a=this._zr;this._loadingFX=r,a.add(r)}},i.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},i.prototype.makeActionFromEvent=function(t){var n=ft({},t);return n.type=Ef[t.type],n},i.prototype.dispatchAction=function(t,n){if(!this._disposed&&(Bt(n)||(n={silent:!!n}),hv[t.type]&&this._model)){if(this[Zn])return void this._pendingActions.push(t);var r=n.silent;M0.call(this,t,r);var a=n.flush;a?this._zr.flush():!1!==a&&Yt.browser.weChat&&this._throttledZrFlush(),If.call(this,r),Of.call(this,r)}},i.prototype.updateLabelLayout=function(){co.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},i.prototype.appendData=function(t){if(!this._disposed){var n=t.seriesIndex;this.getModel().getSeriesByIndex(n).appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},i.internalField=function(){function t(h){h.clearColorPalette(),h.eachSeries(function(f){f.clearColorPalette()})}function r(h){for(var f=[],p=h.currentStates,m=0;m<p.length;m++){var b=p[m];"emphasis"===b||"blur"===b||"select"===b||f.push(b)}h.selected&&h.states.select&&f.push("select"),h.hoverState===pg&&h.states.emphasis?f.push("emphasis"):h.hoverState===nf&&h.states.blur&&f.push("blur"),h.useStates(f)}function s(h,f){if(!h.preventAutoZ){var p=h.get("z")||0,m=h.get("zlevel")||0;f.eachRendered(function(b){return l(b,p,m,-1/0),!0})}}function l(h,f,p,m){var b=h.getTextContent(),_=h.getTextGuideLine();if(h.isGroup)for(var T=h.childrenRef(),A=0;A<T.length;A++)m=Math.max(l(T[A],f,p,m),m);else h.z=f,h.zlevel=p,m=Math.max(h.z2,m);if(b&&(b.z=f,b.zlevel=p,isFinite(m)&&(b.z2=m+2)),_){var P=h.textGuideLineConfig;_.z=f,_.zlevel=p,isFinite(m)&&(_.z2=m+(P&&P.showAbove?1:-1))}return m}function c(h,f){f.eachRendered(function(p){if(!Ch(p)){var m=p.getTextContent(),b=p.getTextGuideLine();p.stateTransition&&(p.stateTransition=null),m&&m.stateTransition&&(m.stateTransition=null),b&&b.stateTransition&&(b.stateTransition=null),p.hasState()?(p.prevStates=p.currentStates,p.clearStates()):p.prevStates&&(p.prevStates=null)}})}function u(h,f){var p=h.getModel("stateAnimation"),m=h.isAnimationEnabled(),b=p.get("duration"),_=b>0?{duration:b,delay:p.get("delay"),easing:p.get("easing")}:null;f.eachRendered(function(w){if(w.states&&w.states.emphasis){if(Ch(w))return;if(w instanceof ge&&function KV(e){var i=xw(e);i.normalFill=e.style.fill,i.normalStroke=e.style.stroke;var t=e.states.select||{};i.selectFill=t.style&&t.style.fill||null,i.selectStroke=t.style&&t.style.stroke||null}(w),w.__dirty){var T=w.prevStates;T&&w.useStates(T)}if(m){w.stateTransition=_;var A=w.getTextContent(),P=w.getTextGuideLine();A&&(A.stateTransition=_),P&&(P.stateTransition=_)}w.__dirty&&r(w)}})}Xh=function(h){var f=h._scheduler;f.restorePipelines(h._model),f.prepareStageTasks(),S0(h,!0),S0(h,!1),f.plan()},S0=function(h,f){for(var p=h._model,m=h._scheduler,b=f?h._componentsViews:h._chartsViews,_=f?h._componentsMap:h._chartsMap,w=h._zr,T=h._api,A=0;A<b.length;A++)b[A].__alive=!1;function P(O){var V=O.__requireNewView;O.__requireNewView=!1;var N="_ec_"+O.id+"_"+O.type,G=!V&&_[N];if(!G){var H=No(O.type);(G=new(f?Mi.getClass(H.main,H.sub):oi.getClass(H.sub))).init(p,T),_[N]=G,b.push(G),w.add(G.group)}O.__viewId=G.__id=N,G.__alive=!0,G.__model=O,G.group.__ecComponentInfo={mainType:O.mainType,index:O.componentIndex},!f&&m.prepareView(G,O,p,T)}for(f?p.eachComponent(function(O,V){"series"!==O&&P(V)}):p.eachSeries(P),A=0;A<b.length;){var F=b[A];F.__alive?A++:(!f&&F.renderTask.dispose(),w.remove(F.group),F.dispose(p,T),b.splice(A,1),_[F.__id]===F&&delete _[F.__id],F.__id=F.group.__ecComponentInfo=null)}},lv=function(h,f,p,m,b){var _=h._model;if(_.setUpdatePayload(p),m){var w={};w[m+"Id"]=p[m+"Id"],w[m+"Index"]=p[m+"Index"],w[m+"Name"]=p[m+"Name"];var T={mainType:m,query:w};b&&(T.subType=b);var P,A=p.excludeSeriesId;null!=A&&(P=Mt(),U(je(A),function(O){var V=ji(O,null);null!=V&&P.set(V,!0)})),_&&_.eachComponent(T,function(O){if(!P||null==P.get(O.id))if(Ew(p))if(O instanceof mi)p.type===Nc&&!p.notBlur&&!O.get(["emphasis","disabled"])&&function HV(e,i,t){var n=e.seriesIndex,r=e.getData(i.dataType);if(r){var a=kc(r,i);a=(yt(a)?a[0]:a)||0;var o=r.getItemGraphicEl(a);if(!o)for(var s=r.count(),l=0;!o&&l<s;)o=r.getItemGraphicEl(l++);if(o){var c=Jt(o);f_(n,c.focus,c.blurScope,t)}else{var u=e.get(["emphasis","focus"]),h=e.get(["emphasis","blurScope"]);null!=u&&f_(n,u,h,t)}}}(O,p,h._api);else{var N=g_(O.mainType,O.componentIndex,p.name,h._api),H=N.dispatchers;p.type===Nc&&N.focusSelf&&!p.notBlur&&p_(O.mainType,O.componentIndex,h._api),H&&U(H,function(X){p.type===Nc?Is(X):Os(X)})}else m_(p)&&O instanceof mi&&(function XV(e,i,t){if(m_(i)){var n=i.dataType,a=kc(e.getData(n),i);yt(a)||(a=[a]),e[i.type===of?"toggleSelect":i.type===af?"select":"unselect"](a,n)}}(O,p),Iw(O),wa(h))},h),_&&_.eachComponent(T,function(O){P&&null!=P.get(O.id)||F(h["series"===m?"_chartsMap":"_componentsMap"][O.__viewId])},h)}else U([].concat(h._componentsViews).concat(h._chartsViews),F);function F(O){O&&O.__alive&&O[f]&&O[f](O.__model,_,h._api,p)}},Rl={prepareAndUpdate:function(h){Xh(this),Rl.update.call(this,h,{optionChanged:null!=h.newOption})},update:function(h,f){var p=this._model,m=this._api,b=this._zr,_=this._coordSysMgr,w=this._scheduler;if(p){p.setUpdatePayload(h),w.restoreData(p,h),w.performSeriesTasks(p),_.create(p,m),w.performDataProcessorTasks(p,h),T0(this,p),_.update(p,m),t(p),w.performVisualTasks(p,h),A0(this,p,m,h,f);var T=p.get("backgroundColor")||"transparent",A=p.get("darkMode");b.setBackgroundColor(T),null!=A&&"auto"!==A&&b.setDarkMode(A),co.trigger("afterupdate",p,m)}},updateTransform:function(h){var f=this,p=this._model,m=this._api;if(p){p.setUpdatePayload(h);var b=[];p.eachComponent(function(w,T){if("series"!==w){var A=f.getViewOfComponentModel(T);if(A&&A.__alive)if(A.updateTransform){var P=A.updateTransform(T,p,m,h);P&&P.update&&b.push(A)}else b.push(A)}});var _=Mt();p.eachSeries(function(w){var T=f._chartsMap[w.__viewId];if(T.updateTransform){var A=T.updateTransform(w,p,m,h);A&&A.update&&_.set(w.uid,1)}else _.set(w.uid,1)}),t(p),this._scheduler.performVisualTasks(p,h,{setDirty:!0,dirtyMap:_}),cv(this,p,m,h,{},_),co.trigger("afterupdate",p,m)}},updateView:function(h){var f=this._model;f&&(f.setUpdatePayload(h),oi.markUpdateMethod(h,"updateView"),t(f),this._scheduler.performVisualTasks(f,h,{setDirty:!0}),A0(this,f,this._api,h,{}),co.trigger("afterupdate",f,this._api))},updateVisual:function(h){var f=this,p=this._model;p&&(p.setUpdatePayload(h),p.eachSeries(function(m){m.getData().clearAllVisual()}),oi.markUpdateMethod(h,"updateVisual"),t(p),this._scheduler.performVisualTasks(p,h,{visualType:"visual",setDirty:!0}),p.eachComponent(function(m,b){if("series"!==m){var _=f.getViewOfComponentModel(b);_&&_.__alive&&_.updateVisual(b,p,f._api,h)}}),p.eachSeries(function(m){f._chartsMap[m.__viewId].updateVisual(m,p,f._api,h)}),co.trigger("afterupdate",p,this._api))},updateLayout:function(h){Rl.update.call(this,h)}},w0=function(h,f,p,m){if(!h._disposed)for(var w,b=h._model,_=h._coordSysMgr.getCoordinateSystems(),T=Kd(b,p),A=0;A<_.length;A++){var P=_[A];if(P[f]&&null!=(w=P[f](b,T,m)))return w}},T0=function(h,f){var p=h._chartsMap,m=h._scheduler;f.eachSeries(function(b){m.updateStreamModes(b,p[b.__viewId])})},M0=function(h,f){var p=this,m=this.getModel(),b=h.type,_=h.escapeConnect,w=hv[b],T=w.actionInfo,A=(T.update||"update").split(":"),P=A.pop(),F=null!=A[0]&&No(A[0]);this[Zn]=!0;var O=[h],V=!1;h.batch&&(V=!0,O=mt(h.batch,function(J){return(J=Rt(ft({},J),h)).batch=null,J}));var G,N=[],H=m_(h),X=Ew(h);if(X&&Pw(this._api),U(O,function(J){if((G=(G=w.action(J,p._model,p._api))||ft({},J)).type=T.event||G.type,N.push(G),X){var tt=Gy(h),st=tt.mainTypeSpecified?tt.queryOptionMap.keys()[0]:"series";lv(p,P,J,st),wa(p)}else H?(lv(p,P,J,"series"),wa(p)):F&&lv(p,P,J,F.main,F.sub)}),"none"!==P&&!X&&!H&&!F)try{this[Er]?(Xh(this),Rl.update.call(this,h),this[Er]=null):Rl[P].call(this,h)}catch(J){throw this[Zn]=!1,J}if(G=V?{type:T.event||b,escapeConnect:_,batch:N}:N[0],this[Zn]=!1,!f){var q=this._messageCenter;if(q.trigger(G.type,G),H){var j={type:"selectchanged",escapeConnect:_,selected:UV(m),isFromClick:h.isFromClick||!1,fromAction:h.type,fromActionPayload:h};q.trigger(j.type,j)}}},If=function(h){for(var f=this._pendingActions;f.length;){var p=f.shift();M0.call(this,p,h)}},Of=function(h){!h&&this.trigger("updated")},UM=function(h,f){h.on("rendered",function(p){f.trigger("rendered",p),h.animation.isFinished()&&!f[Er]&&!f._scheduler.unfinished&&!f._pendingActions.length&&f.trigger("finished")})},ZM=function(h,f){h.on("mouseover",function(p){var b=eu(p.target,sf);b&&(function WV(e,i,t){var n=Jt(e),r=g_(n.componentMainType,n.componentIndex,n.componentHighDownName,t),a=r.dispatchers;a?(r.focusSelf&&p_(n.componentMainType,n.componentIndex,t),U(a,function(s){return Tw(s,i)})):(f_(n.seriesIndex,n.focus,n.blurScope,t),"self"===n.focus&&p_(n.componentMainType,n.componentIndex,t),Tw(e,i))}(b,p,f._api),wa(f))}).on("mouseout",function(p){var b=eu(p.target,sf);b&&(function YV(e,i,t){Pw(t);var n=Jt(e),r=g_(n.componentMainType,n.componentIndex,n.componentHighDownName,t).dispatchers;r?U(r,function(a){return Mw(a,i)}):Mw(e,i)}(b,p,f._api),wa(f))}).on("click",function(p){var b=eu(p.target,function(T){return null!=Jt(T).dataIndex},!0);if(b){var _=b.selected?"unselect":"select",w=Jt(b);f._api.dispatchAction({type:_,dataType:w.dataType,dataIndexInside:w.dataIndex,seriesIndex:w.seriesIndex,isFromClick:!0})}})},A0=function(h,f,p,m,b){(function n(h){var f=[],p=[],m=!1;if(h.eachComponent(function(T,A){var P=A.get("zlevel")||0,F=A.get("z")||0,O=A.getZLevelKey();m=m||!!O,("series"===T?p:f).push({zlevel:P,z:F,idx:A.componentIndex,type:T,key:O})}),m){var _,w,b=f.concat(p);rr(b,function(T,A){return T.zlevel===A.zlevel?T.z-A.z:T.zlevel-A.zlevel}),U(b,function(T){var A=h.getComponent(T.type,T.idx),P=T.zlevel,F=T.key;null!=_&&(P=Math.max(_,P)),F?(P===_&&F!==w&&P++,w=F):w&&(P===_&&P++,w=""),_=P,A.setZLevel(P)})}})(f),$M(h,f,p,m,b),U(h._chartsViews,function(_){_.__alive=!1}),cv(h,f,p,m,b),U(h._chartsViews,function(_){_.__alive||_.remove(f,p)})},$M=function(h,f,p,m,b,_){U(_||h._componentsViews,function(w){var T=w.__model;c(0,w),w.render(T,f,p,m),s(T,w),u(T,w)})},cv=function(h,f,p,m,b,_){var w=h._scheduler;b=ft(b||{},{updatedSeries:f.getSeries()}),co.trigger("series:beforeupdate",f,p,b);var T=!1;f.eachSeries(function(A){var P=h._chartsMap[A.__viewId];P.__alive=!0;var F=P.renderTask;w.updatePayload(F,m),c(0,P),_&&_.get(A.uid)&&F.dirty(),F.perform(w.getPerformArgs(F))&&(T=!0),P.group.silent=!!A.get("silent"),function o(h,f){var p=h.get("blendMode")||null;f.eachRendered(function(m){m.isGroup||(m.style.blend=p)})}(A,P),Iw(A)}),w.unfinished=T||w.unfinished,co.trigger("series:layoutlabels",f,p,b),co.trigger("series:transition",f,p,b),f.eachSeries(function(A){var P=h._chartsMap[A.__viewId];s(A,P),u(A,P)}),function a(h,f){var b=0;h._zr.storage.traverse(function(_){_.isGroup||b++}),b>f.get("hoverLayerThreshold")&&!Yt.node&&!Yt.worker&&f.eachSeries(function(_){if(!_.preventUsingHoverLayer){var w=h._chartsMap[_.__viewId];w.__alive&&w.eachRendered(function(T){T.states.emphasis&&(T.states.emphasis.hoverLayer=!0)})}})}(h,f),co.trigger("series:afterupdate",f,p,b)},wa=function(h){h[b0]=!0,h.getZr().wakeUp()},KM=function(h){h[b0]&&(h.getZr().storage.traverse(function(f){Ch(f)||r(f)}),h[b0]=!1)},jM=function(h){return new(function(f){function p(){return null!==f&&f.apply(this,arguments)||this}return ot(p,f),p.prototype.getCoordinateSystems=function(){return h._coordSysMgr.getCoordinateSystems()},p.prototype.getComponentByElement=function(m){for(;m;){var b=m.__ecComponentInfo;if(null!=b)return h._model.getComponent(b.mainType,b.index);m=m.parent}},p.prototype.enterEmphasis=function(m,b){Is(m,b),wa(h)},p.prototype.leaveEmphasis=function(m,b){Os(m,b),wa(h)},p.prototype.enterBlur=function(m){Aw(m),wa(h)},p.prototype.leaveBlur=function(m){d_(m),wa(h)},p.prototype.enterSelect=function(m){Lw(m),wa(h)},p.prototype.leaveSelect=function(m){kw(m),wa(h)},p.prototype.getModel=function(){return h.getModel()},p.prototype.getViewOfComponentModel=function(m){return h.getViewOfComponentModel(m)},p.prototype.getViewOfSeriesModel=function(m){return h.getViewOfSeriesModel(m)},p}(LT))(h)},qM=function(h){function f(p,m){for(var b=0;b<p.length;b++)p[b][C0]=m}U(Ef,function(p,m){h._messageCenter.on(m,function(b){if(fv[h.group]&&0!==h[C0]){if(b&&b.escapeConnect)return;var _=h.makeActionFromEvent(b),w=[];U(au,function(T){T!==h&&T.group===h.group&&w.push(T)}),f(w,0),U(w,function(T){1!==T[C0]&&T.dispatchAction(_)}),f(w,2)}})})}}(),i}(Nn),L0=uv.prototype;L0.on=GM("on"),L0.off=GM("off"),L0.one=function(e,i,t){var n=this;this.on.call(this,e,function r(){for(var a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];i&&i.apply&&i.apply(this,a),n.off(e,r)},t)};var W4=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],hv={},Ef={},k0=[],D0=[],dv=[],QM={},P0={},au={},fv={},Y4=+new Date-0,I0="_echarts_instance_";function tA(e,i){QM[e]=i}function eA(e){oe(D0,e)<0&&D0.push(e)}function iA(e,i){E0(k0,e,i,O4)}function O0(e,i){co.on(e,i)}function $o(e,i,t){Z(i)&&(t=i,i="");var n=Bt(e)?e.type:[e,e={event:i}][0];e.event=(e.event||n).toLowerCase(),!Ef[i=e.event]&&(ti(zM.test(n)&&zM.test(i)),hv[n]||(hv[n]={action:t,actionInfo:e}),Ef[i]=n)}function ou(e,i){E0(dv,e,i,BM,"visual")}var nA=[];function E0(e,i,t,n,r){if((Z(i)||Bt(i))&&(t=i,i=n),!(oe(nA,t)>=0)){nA.push(t);var a=cM.wrapStageHandler(t,r);a.__prio=i,a.__raw=t,e.push(a)}}function rA(e,i){P0[e]=i}ou(2e3,IN),ou(4500,ON),ou(4500,EN),ou(2e3,jN),ou(4500,qN),ou(7e3,function T4(e,i){e.eachRawSeries(function(t){if(!e.isSeriesFiltered(t)){var n=t.getData();n.hasItemVisual()&&n.each(function(o){var s=n.getItemVisual(o,"decal");s&&(n.ensureUniqueItemVisual(o,"style").decal=Yh(s,i))});var r=n.getVisual("decal");r&&(n.getVisual("style").decal=Yh(r,i))}})}),eA(FT),iA(900,function tz(e){var i=Mt();e.eachSeries(function(t){var n=t.get("stack");if(n){var r=i.get(n)||i.set(n,[]),a=t.getData(),o={stackResultDimension:a.getCalculationInfo("stackResultDimension"),stackedOverDimension:a.getCalculationInfo("stackedOverDimension"),stackedDimension:a.getCalculationInfo("stackedDimension"),stackedByDimension:a.getCalculationInfo("stackedByDimension"),isStackedByIndex:a.getCalculationInfo("isStackedByIndex"),data:a,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;r.length&&a.setCalculationInfo("stackedOnSeries",r[r.length-1].seriesModel),r.push(o)}}),i.each(ez)}),rA("default",function FN(e,i){Rt(i=i||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new Kt,n=new De({style:{fill:i.maskColor},zlevel:i.zlevel,z:1e4});t.add(n);var o,r=new Ie({style:{text:i.text,fill:i.textColor,fontSize:i.fontSize,fontWeight:i.fontWeight,fontStyle:i.fontStyle,fontFamily:i.fontFamily},zlevel:i.zlevel,z:10001}),a=new De({style:{fill:"none"},textContent:r,textConfig:{position:"right",distance:10},zlevel:i.zlevel,z:10001});return t.add(a),i.showSpinner&&((o=new s0({shape:{startAngle:-tv/2,endAngle:-tv/2+.1,r:i.spinnerRadius},style:{stroke:i.color,lineCap:"round",lineWidth:i.lineWidth},zlevel:i.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*tv/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*tv/2}).delay(300).start("circularInOut"),t.add(o)),t.resize=function(){var s=r.getBoundingRect().width,l=i.showSpinner?i.spinnerRadius:0,c=(e.getWidth()-2*l-(i.showSpinner&&s?10:0)-s)/2-(i.showSpinner&&s?0:5+s/2)+(i.showSpinner?0:s/2)+(s?0:l),u=e.getHeight()/2;i.showSpinner&&o.setShape({cx:c,cy:u}),a.setShape({x:c-l,y:u-l,width:2*l,height:2*l}),n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},t.resize(),t}),$o({type:Nc,event:Nc,update:Nc},Je),$o({type:gg,event:gg,update:gg},Je),$o({type:af,event:af,update:af},Je),$o({type:vg,event:vg,update:vg},Je),$o({type:of,event:of,update:of},Je),tA("light",UN),tA("dark",ZN);var aA=[],J4={registerPreprocessor:eA,registerProcessor:iA,registerPostInit:function Z4(e){O0("afterinit",e)},registerPostUpdate:function $4(e){O0("afterupdate",e)},registerUpdateLifecycle:O0,registerAction:$o,registerCoordinateSystem:function j4(e,i){pf.register(e,i)},registerLayout:function q4(e,i){E0(dv,e,i,1e3,"layout")},registerVisual:ou,registerTransform:function Sz(e){var i=(e=Gt(e)).type;i||He("");var n=i.split(":");2!==n.length&&He("");var r=!1;"echarts"===n[0]&&(i=n[1],r=!0),e.__isBuiltIn=r,t2.set(i,e)},registerLoading:rA,registerMap:function K4(e,i,t){var n=function L4(e){return FM[e]}("registerMap");n&&n(e,i,t)},registerImpl:function A4(e,i){FM[e]=i},PRIORITY:N4,ComponentModel:Oe,ComponentView:Mi,SeriesModel:mi,ChartView:oi,registerComponentModel:function(e){Oe.registerClass(e)},registerComponentView:function(e){Mi.registerClass(e)},registerSeriesModel:function(e){mi.registerClass(e)},registerChartView:function(e){oi.registerClass(e)},registerSubTypeDefaulter:function(e,i){Oe.registerSubTypeDefaulter(e,i)},registerPainter:function(e,i){!function gB(e,i){ag[e]=i}(e,i)}};function ue(e){yt(e)?U(e,function(i){ue(i)}):oe(aA,e)>=0||(aA.push(e),Z(e)&&(e={install:e}),e.install(J4))}var Ff=2*Math.PI,su=Yo.CMD,tG=["top","right","bottom","left"];function eG(e,i,t,n,r){var a=t.width,o=t.height;switch(e){case"top":n.set(t.x+a/2,t.y-i),r.set(0,-1);break;case"bottom":n.set(t.x+a/2,t.y+o+i),r.set(0,1);break;case"left":n.set(t.x-i,t.y+o/2),r.set(-1,0);break;case"right":n.set(t.x+a+i,t.y+o/2),r.set(1,0)}}function iG(e,i,t,n,r,a,o,s,l){o-=e,s-=i;var c=Math.sqrt(o*o+s*s),u=(o/=c)*t+e,h=(s/=c)*t+i;if(Math.abs(n-r)%Ff<1e-4)return l[0]=u,l[1]=h,c-t;if(a){var f=n;n=$r(r),r=$r(f)}else n=$r(n),r=$r(r);n>r&&(r+=Ff);var p=Math.atan2(s,o);if(p<0&&(p+=Ff),p>=n&&p<=r||p+Ff>=n&&p+Ff<=r)return l[0]=u,l[1]=h,c-t;var m=t*Math.cos(n)+e,b=t*Math.sin(n)+i,_=t*Math.cos(r)+e,w=t*Math.sin(r)+i,T=(m-o)*(m-o)+(b-s)*(b-s),A=(_-o)*(_-o)+(w-s)*(w-s);return T<A?(l[0]=m,l[1]=b,Math.sqrt(T)):(l[0]=_,l[1]=w,Math.sqrt(A))}function pv(e,i,t,n,r,a,o,s){var l=r-e,c=a-i,u=t-e,h=n-i,f=Math.sqrt(u*u+h*h),m=(l*(u/=f)+c*(h/=f))/f;s&&(m=Math.min(Math.max(m,0),1));var b=o[0]=e+(m*=f)*u,_=o[1]=i+m*h;return Math.sqrt((b-r)*(b-r)+(_-a)*(_-a))}function oA(e,i,t,n,r,a,o){t<0&&(e+=t,t=-t),n<0&&(i+=n,n=-n);var s=e+t,l=i+n,c=o[0]=Math.min(Math.max(r,e),s),u=o[1]=Math.min(Math.max(a,i),l);return Math.sqrt((c-r)*(c-r)+(u-a)*(u-a))}var uo=[];function nG(e,i,t){var n=oA(i.x,i.y,i.width,i.height,e.x,e.y,uo);return t.set(uo[0],uo[1]),n}function rG(e,i,t){for(var s,l,n=0,r=0,a=0,o=0,c=1/0,u=i.data,h=e.x,f=e.y,p=0;p<u.length;){var m=u[p++];1===p&&(a=n=u[p],o=r=u[p+1]);var b=c;switch(m){case su.M:n=a=u[p++],r=o=u[p++];break;case su.L:b=pv(n,r,u[p],u[p+1],h,f,uo,!0),n=u[p++],r=u[p++];break;case su.C:b=Y(n,r,u[p++],u[p++],u[p++],u[p++],u[p],u[p+1],h,f,uo),n=u[p++],r=u[p++];break;case su.Q:b=ce(n,r,u[p++],u[p++],u[p],u[p+1],h,f,uo),n=u[p++],r=u[p++];break;case su.A:var _=u[p++],w=u[p++],T=u[p++],A=u[p++],P=u[p++],F=u[p++];p+=1;var O=!!(1-u[p++]);s=Math.cos(P)*T+_,l=Math.sin(P)*A+w,p<=1&&(a=s,o=l),b=iG(_,w,A,P,P+F,O,(h-_)*A/T+_,f,uo),n=Math.cos(P+F)*T+_,r=Math.sin(P+F)*A+w;break;case su.R:b=oA(a=n=u[p++],o=r=u[p++],u[p++],u[p++],h,f,uo);break;case su.Z:b=pv(n,r,a,o,h,f,uo,!0),n=a,r=o}b<c&&(c=b,t.set(uo[0],uo[1]))}return c}var ho=new ee,si=new ee,Ei=new ee,jo=new ee,qo=new ee;function sA(e,i){if(e){var t=e.getTextGuideLine(),n=e.getTextContent();if(n&&t){var r=e.textGuideLineConfig||{},a=[[0,0],[0,0],[0,0]],o=r.candidates||tG,s=n.getBoundingRect().clone();s.applyTransform(n.getComputedTransform());var l=1/0,c=r.anchor,u=e.getComputedTransform(),h=u&&vn([],u),f=i.get("length2")||0;c&&Ei.copy(c);for(var p=0;p<o.length;p++){eG(o[p],0,s,ho,jo),ee.scaleAndAdd(si,ho,jo,f),si.transform(h);var b=e.getBoundingRect(),_=c?c.distance(si):e instanceof ge?rG(si,e.path,Ei):nG(si,b,Ei);_<l&&(l=_,si.transform(u),Ei.transform(u),Ei.toArray(a[0]),si.toArray(a[1]),ho.toArray(a[2]))}lA(a,i.get("minTurnAngle")),t.setShape({points:a})}}}var gv=[],ur=new ee;function lA(e,i){if(i<=180&&i>0){i=i/180*Math.PI,ho.fromArray(e[0]),si.fromArray(e[1]),Ei.fromArray(e[2]),ee.sub(jo,ho,si),ee.sub(qo,Ei,si);var t=jo.len(),n=qo.len();if(!(t<.001||n<.001)){jo.scale(1/t),qo.scale(1/n);var r=jo.dot(qo);if(Math.cos(i)<r){var o=pv(si.x,si.y,Ei.x,Ei.y,ho.x,ho.y,gv,!1);ur.fromArray(gv),ur.scaleAndAdd(qo,o/Math.tan(Math.PI-i));var s=Ei.x!==si.x?(ur.x-si.x)/(Ei.x-si.x):(ur.y-si.y)/(Ei.y-si.y);if(isNaN(s))return;s<0?ee.copy(ur,si):s>1&&ee.copy(ur,Ei),ur.toArray(e[1])}}}}function aG(e,i,t){if(t<=180&&t>0){t=t/180*Math.PI,ho.fromArray(e[0]),si.fromArray(e[1]),Ei.fromArray(e[2]),ee.sub(jo,si,ho),ee.sub(qo,Ei,si);var n=jo.len(),r=qo.len();if(!(n<.001||r<.001)&&(jo.scale(1/n),qo.scale(1/r),jo.dot(i)<Math.cos(t))){var s=pv(si.x,si.y,Ei.x,Ei.y,ho.x,ho.y,gv,!1);ur.fromArray(gv);var l=Math.PI/2,u=l+Math.acos(qo.dot(i))-t;if(u>=l)ee.copy(ur,Ei);else{ur.scaleAndAdd(qo,s/Math.tan(Math.PI/2-u));var h=Ei.x!==si.x?(ur.x-si.x)/(Ei.x-si.x):(ur.y-si.y)/(Ei.y-si.y);if(isNaN(h))return;h<0?ee.copy(ur,si):h>1&&ee.copy(ur,Ei)}ur.toArray(e[1])}}}function F0(e,i,t,n){var r="normal"===t,a=r?e:e.ensureState(t);a.ignore=i;var o=n.get("smooth");o&&!0===o&&(o=.3),a.shape=a.shape||{},o>0&&(a.shape.smooth=o);var s=n.getModel("lineStyle").getLineStyle();r?e.useStyle(s):a.style=s}function oG(e,i){var t=i.smooth,n=i.points;if(n)if(e.moveTo(n[0][0],n[0][1]),t>0&&n.length>=3){var r=Qn(n[0],n[1]),a=Qn(n[1],n[2]);if(!r||!a)return e.lineTo(n[1][0],n[1][1]),void e.lineTo(n[2][0],n[2][1]);var o=Math.min(r,a)*t,s=wn([],n[1],n[0],o/r),l=wn([],n[1],n[2],o/a),c=wn([],s,l,.5);e.bezierCurveTo(s[0],s[1],s[0],s[1],c[0],c[1]),e.bezierCurveTo(l[0],l[1],l[0],l[1],n[2][0],n[2][1])}else for(var u=1;u<n.length;u++)e.lineTo(n[u][0],n[u][1])}function R0(e,i,t){var n=e.getTextGuideLine(),r=e.getTextContent();if(r){for(var a=i.normal,o=a.get("show"),s=r.ignore,l=0;l<rf.length;l++){var c=rf[l],u=i[c],h="normal"===c;if(u){var f=u.get("show");if((h?s:qt(r.states[c]&&r.states[c].ignore,s))||!qt(f,o)){var m=h?n:n&&n.states[c];m&&(m.ignore=!0),n&&F0(n,!0,c,u);continue}n||(n=new Pr,e.setTextGuideLine(n),!h&&(s||!o)&&F0(n,!0,"normal",i.normal),e.stateProxy&&(n.stateProxy=e.stateProxy)),F0(n,!1,c,u)}}if(n){Rt(n.style,t),n.style.fill=null;var b=a.get("showAbove");(e.textGuideLineConfig=e.textGuideLineConfig||{}).showAbove=b||!1,n.buildPath=oG}}else n&&e.removeTextGuideLine()}function B0(e,i){for(var t={normal:e.getModel(i=i||"labelLine")},n=0;n<lr.length;n++){var r=lr[n];t[r]=e.getModel([r,i])}return t}function cA(e){for(var i=[],t=0;t<e.length;t++){var n=e[t];if(!n.defaultAttr.ignore){var r=n.label,a=r.getComputedTransform(),o=r.getBoundingRect(),s=!a||a[1]<1e-5&&a[2]<1e-5,l=r.style.margin||0,c=o.clone();c.applyTransform(a),c.x-=l/2,c.y-=l/2,c.width+=l,c.height+=l;var u=s?new Zg(o,a):null;i.push({label:r,labelLine:n.labelLine,rect:c,localRect:o,obb:u,priority:n.priority,defaultAttr:n.defaultAttr,layoutOption:n.computedLayoutOption,axisAligned:s,transform:a})}}return i}function uA(e,i,t,n,r,a){var o=e.length;if(!(o<2)){e.sort(function(G,H){return G.rect[i]-H.rect[i]});for(var l,s=0,c=!1,u=[],h=0,f=0;f<o;f++){var p=e[f],m=p.rect;(l=m[i]-s)<0&&(m[i]-=l,p.label[i]-=l,c=!0);var b=Math.max(-l,0);u.push(b),h+=b,s=m[i]+m[t]}h>0&&a&&O(-h/o,0,o);var T,A,_=e[0],w=e[o-1];return P(),T<0&&V(-T,.8),A<0&&V(A,.8),P(),F(T,A,1),F(A,T,-1),P(),T<0&&N(-T),A<0&&N(A),c}function P(){T=_.rect[i]-n,A=r-w.rect[i]-w.rect[t]}function F(G,H,X){if(G<0){var q=Math.min(H,-G);if(q>0){O(q*X,0,o);var j=q+G;j<0&&V(-j*X,1)}else V(-G*X,1)}}function O(G,H,X){0!==G&&(c=!0);for(var q=H;q<X;q++){var j=e[q];j.rect[i]+=G,j.label[i]+=G}}function V(G,H){for(var X=[],q=0,j=1;j<o;j++){var J=e[j-1].rect,tt=Math.max(e[j].rect[i]-J[i]-J[t],0);X.push(tt),q+=tt}if(q){var et=Math.min(Math.abs(G)/q,H);if(G>0)for(j=0;j<o-1;j++)O(X[j]*et,0,j+1);else for(j=o-1;j>0;j--)O(-X[j-1]*et,j,o)}}function N(G){var H=G<0?-1:1;G=Math.abs(G);for(var X=Math.ceil(G/(o-1)),q=0;q<o-1;q++)if(H>0?O(X,0,q+1):O(-X,o-q-1,o),(G-=X)<=0)return}}function hA(e,i,t,n){return uA(e,"y","height",i,t,n)}function dA(e){var i=[];e.sort(function(b,_){return _.priority-b.priority});var t=new $t(0,0,0,0);function n(b){if(!b.ignore){var _=b.ensureState("emphasis");null==_.ignore&&(_.ignore=!1)}b.ignore=!0}for(var r=0;r<e.length;r++){var a=e[r],o=a.axisAligned,s=a.localRect,l=a.transform,c=a.label,u=a.labelLine;t.copy(a.rect),t.width-=.1,t.height-=.1,t.x+=.05,t.y+=.05;for(var h=a.obb,f=!1,p=0;p<i.length;p++){var m=i[p];if(t.intersect(m.rect)){if(o&&m.axisAligned){f=!0;break}if(m.obb||(m.obb=new Zg(m.localRect,m.transform)),h||(h=new Zg(s,l)),h.intersect(m.obb)){f=!0;break}}}f?(n(c),u&&n(u)):(c.attr("ignore",a.defaultAttr.ignore),u&&u.attr("ignore",a.defaultAttr.labelGuideIgnore),i.push(a))}}function lG(e){if(e){for(var i=[],t=0;t<e.length;t++)i.push(e[t].slice());return i}}function cG(e,i){var t=e.label,n=i&&i.getTextGuideLine();return{dataIndex:e.dataIndex,dataType:e.dataType,seriesIndex:e.seriesModel.seriesIndex,text:e.label.style.text,rect:e.hostRect,labelRect:e.rect,align:t.style.align,verticalAlign:t.style.verticalAlign,labelLinePoints:lG(n&&n.shape.points)}}var fA=["align","verticalAlign","width","height","fontSize"],hr=new As,V0=Le(),uG=Le();function vv(e,i,t){for(var n=0;n<t.length;n++){var r=t[n];null!=i[r]&&(e[r]=i[r])}}var mv=["x","y","rotation"],hG=function(){function e(){this._labelList=[],this._chartViewList=[]}return e.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},e.prototype._addLabel=function(i,t,n,r,a){var o=r.style,l=r.__hostTarget.textConfig||{},c=r.getComputedTransform(),u=r.getBoundingRect().plain();$t.applyTransform(u,u,c),c?hr.setLocalTransform(c):(hr.x=hr.y=hr.rotation=hr.originX=hr.originY=0,hr.scaleX=hr.scaleY=1),hr.rotation=$r(hr.rotation);var f,h=r.__hostTarget;if(h){f=h.getBoundingRect().plain();var p=h.getComputedTransform();$t.applyTransform(f,f,p)}var m=f&&h.getTextGuideLine();this._labelList.push({label:r,labelLine:m,seriesModel:n,dataIndex:i,dataType:t,layoutOption:a,computedLayoutOption:null,rect:u,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:r.ignore,labelGuideIgnore:m&&m.ignore,x:hr.x,y:hr.y,scaleX:hr.scaleX,scaleY:hr.scaleY,rotation:hr.rotation,style:{x:o.x,y:o.y,align:o.align,verticalAlign:o.verticalAlign,width:o.width,height:o.height,fontSize:o.fontSize},cursor:r.cursor,attachedPos:l.position,attachedRot:l.rotation}})},e.prototype.addLabelsOfSeries=function(i){var t=this;this._chartViewList.push(i);var n=i.__model,r=n.get("labelLayout");(Z(r)||he(r).length)&&i.group.traverse(function(a){if(a.ignore)return!0;var o=a.getTextContent(),s=Jt(a);o&&!o.disableLabelLayout&&t._addLabel(s.dataIndex,s.dataType,n,o,r)})},e.prototype.updateLayoutConfig=function(i){var t=i.getWidth(),n=i.getHeight();function r(A,P){return function(){sA(A,P)}}for(var a=0;a<this._labelList.length;a++){var o=this._labelList[a],s=o.label,l=s.__hostTarget,c=o.defaultAttr,u=void 0;u=Z(o.layoutOption)?o.layoutOption(cG(o,l)):o.layoutOption,o.computedLayoutOption=u=u||{};var h=Math.PI/180;l&&l.setTextConfig({local:!1,position:null!=u.x||null!=u.y?null:c.attachedPos,rotation:null!=u.rotate?u.rotate*h:c.attachedRot,offset:[u.dx||0,u.dy||0]});var f=!1;if(null!=u.x?(s.x=At(u.x,t),s.setStyle("x",0),f=!0):(s.x=c.x,s.setStyle("x",c.style.x)),null!=u.y?(s.y=At(u.y,n),s.setStyle("y",0),f=!0):(s.y=c.y,s.setStyle("y",c.style.y)),u.labelLinePoints){var p=l.getTextGuideLine();p&&(p.setShape({points:u.labelLinePoints}),f=!1)}V0(s).needsUpdateLabelLine=f,s.rotation=null!=u.rotate?u.rotate*h:c.rotation,s.scaleX=c.scaleX,s.scaleY=c.scaleY;for(var b=0;b<fA.length;b++){var _=fA[b];s.setStyle(_,null!=u[_]?u[_]:c.style[_])}if(u.draggable){if(s.draggable=!0,s.cursor="move",l){var w=o.seriesModel;null!=o.dataIndex&&(w=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex)),s.on("drag",r(l,w.getModel("labelLine")))}}else s.off("drag"),s.cursor=c.cursor}},e.prototype.layout=function(i){var t=i.getWidth(),n=i.getHeight(),r=cA(this._labelList),a=ve(r,function(l){return"shiftX"===l.layoutOption.moveOverlap}),o=ve(r,function(l){return"shiftY"===l.layoutOption.moveOverlap});(function sG(e,i,t,n){uA(e,"x","width",i,t,n)})(a,0,t),hA(o,0,n),dA(ve(r,function(l){return l.layoutOption.hideOverlap}))},e.prototype.processLabelsOverall=function(){var i=this;U(this._chartViewList,function(t){var n=t.__model,r=t.ignoreLabelLineUpdate,a=n.isAnimationEnabled();t.group.traverse(function(o){if(o.ignore&&!o.forceLabelAnimation)return!0;var s=!r,l=o.getTextContent();!s&&l&&(s=V0(l).needsUpdateLabelLine),s&&i._updateLabelLine(o,n),a&&i._animateLabels(o,n)})})},e.prototype._updateLabelLine=function(i,t){var n=i.getTextContent(),r=Jt(i),a=r.dataIndex;if(n&&null!=a){var o=t.getData(r.dataType),s=o.getItemModel(a),l={},c=o.getItemVisual(a,"style");if(c){var u=o.getVisual("drawType");l.stroke=c[u]}var h=s.getModel("labelLine");R0(i,B0(s),l),sA(i,h)}},e.prototype._animateLabels=function(i,t){var n=i.getTextContent(),r=i.getTextGuideLine();if(n&&(i.forceLabelAnimation||!n.ignore&&!n.invisible&&!i.disableLabelAnimation&&!Ch(i))){var o=(a=V0(n)).oldLayout,s=Jt(i),l=s.dataIndex,c={x:n.x,y:n.y,rotation:n.rotation},u=t.getData(s.dataType);if(o){n.attr(o);var f=i.prevStates;f&&(oe(f,"select")>=0&&n.attr(a.oldLayoutSelect),oe(f,"emphasis")>=0&&n.attr(a.oldLayoutEmphasis)),Ve(n,c,t,l)}else if(n.attr(c),!Sh(n).valueAnimation){var h=qt(n.style.opacity,1);n.style.opacity=0,pi(n,{style:{opacity:h}},t,l)}if(a.oldLayout=c,n.states.select){var p=a.oldLayoutSelect={};vv(p,c,mv),vv(p,n.states.select,mv)}if(n.states.emphasis){var m=a.oldLayoutEmphasis={};vv(m,c,mv),vv(m,n.states.emphasis,mv)}Ww(n,l,u,t,t)}if(r&&!r.ignore&&!r.invisible){var a=uG(r),b={points:r.shape.points};(o=a.oldLayout)?(r.attr({shape:o}),Ve(r,{shape:b},t)):(r.setShape(b),r.style.strokePercent=0,pi(r,{style:{strokePercent:1}},t)),a.oldLayout=b}},e}();const dG=hG;var z0=Le();function pA(e){e.registerUpdateLifecycle("series:beforeupdate",function(i,t,n){var r=z0(t).labelManager;r||(r=z0(t).labelManager=new dG),r.clearLabels()}),e.registerUpdateLifecycle("series:layoutlabels",function(i,t,n){var r=z0(t).labelManager;n.updatedSeries.forEach(function(a){r.addLabelsOfSeries(t.getViewOfSeriesModel(a))}),r.updateLayoutConfig(t),r.layout(t),r.processLabelsOverall()})}function gA(e,i,t){var n=xn.createCanvas(),r=i.getWidth(),a=i.getHeight(),o=n.style;return o&&(o.position="absolute",o.left="0",o.top="0",o.width=r+"px",o.height=a+"px",n.setAttribute("data-zr-dom-id",e)),n.width=r*t,n.height=a*t,n}ue(pA);var fG=function(e){function i(t,n,r){var o,a=e.call(this)||this;a.motionBlur=!1,a.lastFrameAlpha=.7,a.dpr=1,a.virtual=!1,a.config={},a.incremental=!1,a.zlevel=0,a.maxRepaintRectCount=5,a.__dirty=!0,a.__firstTimePaint=!0,a.__used=!1,a.__drawIndex=0,a.__startIndex=0,a.__endIndex=0,a.__prevStartIndex=null,a.__prevEndIndex=null,r=r||ig,"string"==typeof t?o=gA(t,n,r):Bt(t)&&(t=(o=t).id),a.id=t,a.dom=o;var s=o.style;return s&&(la(o),o.onselectstart=function(){return!1},s.padding="0",s.margin="0",s.borderWidth="0"),a.painter=n,a.dpr=r,a}return Ye(i,e),i.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},i.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},i.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},i.prototype.setUnpainted=function(){this.__firstTimePaint=!0},i.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=gA("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},i.prototype.createRepaintRects=function(t,n,r,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var _,o=[],s=this.maxRepaintRectCount,l=!1,c=new $t(0,0,0,0);function u(T){if(T.isFinite()&&!T.isZero())if(0===o.length)(A=new $t(0,0,0,0)).copy(T),o.push(A);else{for(var P=!1,F=1/0,O=0,V=0;V<o.length;++V){var N=o[V];if(N.intersect(T)){var G=new $t(0,0,0,0);G.copy(N),G.union(T),o[V]=G,P=!0;break}if(l){c.copy(T),c.union(N);var j=c.width*c.height-T.width*T.height-N.width*N.height;j<F&&(F=j,O=V)}}var A;l&&(o[O].union(T),P=!0),P||((A=new $t(0,0,0,0)).copy(T),o.push(A)),l||(l=o.length>=s)}}for(var h=this.__startIndex;h<this.__endIndex;++h)if(f=t[h]){var p=f.shouldBePainted(r,a,!0,!0);(m=f.__isRendered&&(f.__dirty&An||!p)?f.getPrevPaintRect():null)&&u(m);var b=p&&(f.__dirty&An||!f.__isRendered)?f.getPaintRect():null;b&&u(b)}for(h=this.__prevStartIndex;h<this.__prevEndIndex;++h){var f,m;p=(f=n[h])&&f.shouldBePainted(r,a,!0,!0),!f||p&&f.__zr||!f.__isRendered||(m=f.getPrevPaintRect())&&u(m)}do{for(_=!1,h=0;h<o.length;)if(o[h].isZero())o.splice(h,1);else{for(var w=h+1;w<o.length;)o[h].intersect(o[w])?(_=!0,o[h].union(o[w]),o.splice(w,1)):w++;h++}}while(_);return this._paintRects=o,o},i.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},i.prototype.resize=function(t,n){var r=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=t+"px",o.height=n+"px"),a.width=t*r,a.height=n*r,s&&(s.width=t*r,s.height=n*r,1!==r&&this.ctxBack.scale(r,r))},i.prototype.clear=function(t,n,r){var a=this.dom,o=this.ctx,s=a.width,l=a.height;n=n||this.clearColor;var c=this.motionBlur&&!t,u=this.lastFrameAlpha,h=this.dpr,f=this;c&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,s/h,l/h));var p=this.domBack;function m(b,_,w,T){if(o.clearRect(b,_,w,T),n&&"transparent"!==n){var A=void 0;pn(n)?(A=(n.global||n.__width===w&&n.__height===T)&&n.__canvasGradient||v0(o,n,{x:0,y:0,width:w,height:T}),n.__canvasGradient=A,n.__width=w,n.__height=T):function hs(e){return null!=e.image}(n)&&(n.scaleX=n.scaleX||h,n.scaleY=n.scaleY||h,A=y0(o,n,{dirty:function(){f.setUnpainted(),f.painter.refresh()}})),o.save(),o.fillStyle=A||n,o.fillRect(b,_,w,T),o.restore()}c&&(o.save(),o.globalAlpha=u,o.drawImage(p,b,_,w,T),o.restore())}!r||c?m(0,0,s,l):r.length&&U(r,function(b){m(b.x*h,b.y*h,b.width*h,b.height*h)})},i}(Nn);const N0=fG;var lu=314159,mG=function(){function e(i,t,n,r){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!i.nodeName||"CANVAS"===i.nodeName.toUpperCase();this._opts=n=ft({},n||{}),this.dpr=n.devicePixelRatio||ig,this._singleCanvas=a,this.root=i,i.style&&(la(i),i.innerHTML=""),this.storage=t;var s=this._zlevelList;this._prevDisplayList=[];var l=this._layers;if(a){var u=i,h=u.width,f=u.height;null!=n.width&&(h=n.width),null!=n.height&&(f=n.height),this.dpr=n.devicePixelRatio||1,u.width=h*this.dpr,u.height=f*this.dpr,this._width=h,this._height=f;var p=new N0(u,this,this.dpr);p.__builtin__=!0,p.initContext(),l[lu]=p,p.zlevel=lu,s.push(lu),this._domRoot=i}else{this._width=Wh(i,0,n),this._height=Wh(i,1,n);var c=this._domRoot=function vG(e,i){var t=document.createElement("div");return t.style.cssText=["position:relative","width:"+e+"px","height:"+i+"px","padding:0","margin:0","border-width:0"].join(";")+";",t}(this._width,this._height);i.appendChild(c)}}return e.prototype.getType=function(){return"canvas"},e.prototype.isSingleCanvas=function(){return this._singleCanvas},e.prototype.getViewportRoot=function(){return this._domRoot},e.prototype.getViewportRootOffset=function(){var i=this.getViewportRoot();if(i)return{offsetLeft:i.offsetLeft||0,offsetTop:i.offsetTop||0}},e.prototype.refresh=function(i){var t=this.storage.getDisplayList(!0),n=this._prevDisplayList,r=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,n,i,this._redrawId);for(var a=0;a<r.length;a++){var s=this._layers[r[a]];!s.__builtin__&&s.refresh&&s.refresh(0===a?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=t.slice()),this},e.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},e.prototype._paintHoverList=function(i){var t=i.length,n=this._hoverlayer;if(n&&n.clear(),t){for(var a,r={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<t;o++){var s=i[o];s.__inHover&&(n||(n=this._hoverlayer=this.getLayer(1e5)),a||(a=n.ctx).save(),ru(a,s,r,o===t-1))}a&&a.restore()}},e.prototype.getHoverLayer=function(){return this.getLayer(1e5)},e.prototype.paintOne=function(i,t){kM(i,t)},e.prototype._paintList=function(i,t,n,r){if(this._redrawId===r){n=n||!1,this._updateLayerStatus(i);var a=this._doPaintList(i,t,n),o=a.finished,s=a.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),s&&this._paintHoverList(i),o)this.eachLayer(function(c){c.afterBrush&&c.afterBrush()});else{var l=this;pc(function(){l._paintList(i,t,n,r)})}}},e.prototype._compositeManually=function(){var i=this.getLayer(lu).ctx,t=this._domRoot.width,n=this._domRoot.height;i.clearRect(0,0,t,n),this.eachBuiltinLayer(function(r){r.virtual&&i.drawImage(r.dom,0,0,t,n)})},e.prototype._doPaintList=function(i,t,n){for(var r=this,a=[],o=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var c=this._layers[this._zlevelList[s]];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||n)&&a.push(c)}for(var u=!0,h=!1,f=function(b){var _=a[b],w=_.ctx,T=o&&_.createRepaintRects(i,t,p._width,p._height),A=n?_.__startIndex:_.__drawIndex,P=!n&&_.incremental&&Date.now,F=P&&Date.now(),O=_.zlevel===p._zlevelList[0]?p._backgroundColor:null;if(_.__startIndex===_.__endIndex)_.clear(!1,O,T);else if(A===_.__startIndex){var V=i[A];(!V.incremental||!V.notClear||n)&&_.clear(!1,O,T)}-1===A&&(console.error("For some unknown reason. drawIndex is -1"),A=_.__startIndex);var N,G=function(j){var J={inHover:!1,allClipped:!1,prevEl:null,viewWidth:r._width,viewHeight:r._height};for(N=A;N<_.__endIndex;N++){var tt=i[N];if(tt.__inHover&&(h=!0),r._doPaintEl(tt,_,o,j,J,N===_.__endIndex-1),P&&Date.now()-F>15)break}J.prevElClipPaths&&w.restore()};if(T)if(0===T.length)N=_.__endIndex;else for(var H=p.dpr,X=0;X<T.length;++X){var q=T[X];w.save(),w.beginPath(),w.rect(q.x*H,q.y*H,q.width*H,q.height*H),w.clip(),G(q),w.restore()}else w.save(),G(),w.restore();_.__drawIndex=N,_.__drawIndex<_.__endIndex&&(u=!1)},p=this,m=0;m<a.length;m++)f(m);return Yt.wxa&&U(this._layers,function(b){b&&b.ctx&&b.ctx.draw&&b.ctx.draw()}),{finished:u,needsRefreshHover:h}},e.prototype._doPaintEl=function(i,t,n,r,a,o){var s=t.ctx;if(n){var l=i.getPaintRect();(!r||l&&l.intersect(r))&&(ru(s,i,a,o),i.setPrevPaintRect(l))}else ru(s,i,a,o)},e.prototype.getLayer=function(i,t){this._singleCanvas&&!this._needsManuallyCompositing&&(i=lu);var n=this._layers[i];return n||((n=new N0("zr_"+i,this,this.dpr)).zlevel=i,n.__builtin__=!0,this._layerConfig[i]?ie(n,this._layerConfig[i],!0):this._layerConfig[i-.01]&&ie(n,this._layerConfig[i-.01],!0),t&&(n.virtual=t),this.insertLayer(i,n),n.initContext()),n},e.prototype.insertLayer=function(i,t){var n=this._layers,r=this._zlevelList,a=r.length,o=this._domRoot,s=null,l=-1;if(!n[i]&&function gG(e){return!(!e||!e.__builtin__&&("function"!=typeof e.resize||"function"!=typeof e.refresh))}(t)){if(a>0&&i>r[0]){for(l=0;l<a-1&&!(r[l]<i&&r[l+1]>i);l++);s=n[r[l]]}if(r.splice(l+1,0,i),n[i]=t,!t.virtual)if(s){var c=s.dom;c.nextSibling?o.insertBefore(t.dom,c.nextSibling):o.appendChild(t.dom)}else o.firstChild?o.insertBefore(t.dom,o.firstChild):o.appendChild(t.dom);t.painter||(t.painter=this)}},e.prototype.eachLayer=function(i,t){for(var n=this._zlevelList,r=0;r<n.length;r++){var a=n[r];i.call(t,this._layers[a],a)}},e.prototype.eachBuiltinLayer=function(i,t){for(var n=this._zlevelList,r=0;r<n.length;r++){var a=n[r],o=this._layers[a];o.__builtin__&&i.call(t,o,a)}},e.prototype.eachOtherLayer=function(i,t){for(var n=this._zlevelList,r=0;r<n.length;r++){var a=n[r],o=this._layers[a];o.__builtin__||i.call(t,o,a)}},e.prototype.getLayers=function(){return this._layers},e.prototype._updateLayerStatus=function(i){function t(h){a&&(a.__endIndex!==h&&(a.__dirty=!0),a.__endIndex=h)}if(this.eachBuiltinLayer(function(h,f){h.__dirty=h.__used=!1}),this._singleCanvas)for(var n=1;n<i.length;n++)if((r=i[n]).zlevel!==i[n-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}var s,l,a=null,o=0;for(l=0;l<i.length;l++){var r,c=(r=i[l]).zlevel,u=void 0;s!==c&&(s=c,o=0),r.incremental?((u=this.getLayer(c+.001,this._needsManuallyCompositing)).incremental=!0,o=1):u=this.getLayer(c+(o>0?.01:0),this._needsManuallyCompositing),u.__builtin__||Pi("ZLevel "+c+" has been used by unkown layer "+u.id),u!==a&&(u.__used=!0,u.__startIndex!==l&&(u.__dirty=!0),u.__startIndex=l,u.__drawIndex=u.incremental?-1:l,t(l),a=u),r.__dirty&An&&!r.__inHover&&(u.__dirty=!0,u.incremental&&u.__drawIndex<0&&(u.__drawIndex=l))}t(l),this.eachBuiltinLayer(function(h,f){!h.__used&&h.getElementCount()>0&&(h.__dirty=!0,h.__startIndex=h.__endIndex=h.__drawIndex=0),h.__dirty&&h.__drawIndex<0&&(h.__drawIndex=h.__startIndex)})},e.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},e.prototype._clearLayer=function(i){i.clear()},e.prototype.setBackgroundColor=function(i){this._backgroundColor=i,U(this._layers,function(t){t.setUnpainted()})},e.prototype.configLayer=function(i,t){if(t){var n=this._layerConfig;n[i]?ie(n[i],t,!0):n[i]=t;for(var r=0;r<this._zlevelList.length;r++){var a=this._zlevelList[r];a!==i&&a!==i+.01||ie(this._layers[a],n[i],!0)}}},e.prototype.delLayer=function(i){var t=this._layers,n=this._zlevelList,r=t[i];r&&(r.dom.parentNode.removeChild(r.dom),delete t[i],n.splice(oe(n,i),1))},e.prototype.resize=function(i,t){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts,a=this.root;if(null!=i&&(r.width=i),null!=t&&(r.height=t),i=Wh(a,0,r),t=Wh(a,1,r),n.style.display="",this._width!==i||t!==this._height){for(var o in n.style.width=i+"px",n.style.height=t+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(i,t);this.refresh(!0)}this._width=i,this._height=t}else{if(null==i||null==t)return;this._width=i,this._height=t,this.getLayer(lu).resize(i,t)}return this},e.prototype.clearLayer=function(i){var t=this._layers[i];t&&t.clear()},e.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},e.prototype.getRenderedCanvas=function(i){if(this._singleCanvas&&!this._compositeManually)return this._layers[lu].dom;var t=new N0("image",this,(i=i||{}).pixelRatio||this.dpr);t.initContext(),t.clear(!1,i.backgroundColor||this._backgroundColor);var n=t.ctx;if(i.pixelRatio<=this.dpr){this.refresh();var r=t.dom.width,a=t.dom.height;this.eachLayer(function(h){h.__builtin__?n.drawImage(h.dom,0,0,r,a):h.renderToCanvas&&(n.save(),h.renderToCanvas(n),n.restore())})}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},s=this.storage.getDisplayList(!0),l=0,c=s.length;l<c;l++)ru(n,s[l],o,l===c-1);return t.dom},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e}();const yG=mG;var G0=Math.sin,H0=Math.cos,mA=Math.PI,cu=2*Math.PI,xG=180/mA,bG=function(){function e(){}return e.prototype.reset=function(i){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,i||4)},e.prototype.moveTo=function(i,t){this._add("M",i,t)},e.prototype.lineTo=function(i,t){this._add("L",i,t)},e.prototype.bezierCurveTo=function(i,t,n,r,a,o){this._add("C",i,t,n,r,a,o)},e.prototype.quadraticCurveTo=function(i,t,n,r){this._add("Q",i,t,n,r)},e.prototype.arc=function(i,t,n,r,a,o){this.ellipse(i,t,n,n,0,r,a,o)},e.prototype.ellipse=function(i,t,n,r,a,o,s,l){var m,c=s-o,u=!l,h=Math.abs(c),f=eo(h-cu)||(u?c>=cu:-c>=cu),p=c>0?c%cu:c%cu+cu;m=!!f||!eo(h)&&p>=mA==!!u;var b=i+n*H0(o),_=t+r*G0(o);this._start&&this._add("M",b,_);var w=Math.round(a*xG);if(f){var T=1/this._p,A=(u?1:-1)*(cu-T);this._add("A",n,r,w,1,+u,i+n*H0(o+A),t+r*G0(o+A)),T>.01&&this._add("A",n,r,w,0,+u,b,_)}else{var P=i+n*H0(s),F=t+r*G0(s);this._add("A",n,r,w,+m,+u,P,F)}},e.prototype.rect=function(i,t,n,r){this._add("M",i,t),this._add("l",n,0),this._add("l",0,r),this._add("l",-n,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(i,t,n,r,a,o,s,l,c){for(var u=[],h=this._p,f=1;f<arguments.length;f++){var p=arguments[f];if(isNaN(p))return void(this._invalid=!0);u.push(Math.round(p*h)/h)}this._d.push(i+u.join(" ")),this._start="Z"===i},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}();const yA=bG;var Rf="none",CG=Math.round,W0=["lineCap","miterLimit","lineJoin"],TG=mt(W0,function(e){return"stroke-"+e.toLowerCase()});var _A="http://www.w3.org/2000/svg",xA="http://www.w3.org/1999/xlink",AG="http://www.w3.org/2000/xmlns/",LG="http://www.w3.org/XML/1998/namespace",bA="ecmeta_";function CA(e){return document.createElementNS(_A,e)}function hn(e,i,t,n,r){return{tag:e,attrs:t||{},children:n,text:r,key:i}}function Y0(e,i){var t=(i=i||{}).newline?"\n":"";return function n(r){var a=r.children,o=r.tag,l=r.text;return function kG(e,i){var t=[];if(i)for(var n in i){var r=i[n],a=n;!1!==r&&(!0!==r&&null!=r&&(a+='="'+r+'"'),t.push(a))}return"<"+e+" "+t.join(" ")+">"}(o,r.attrs)+("style"!==o?Fi(l):l||"")+(a?""+t+mt(a,function(c){return n(c)}).join(t)+t:"")+function DG(e){return"</"+e+">"}(o)}(e)}function X0(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function SA(e,i,t,n){return hn("svg","root",{width:e,height:i,xmlns:_A,"xmlns:xlink":xA,version:"1.1",baseProfile:"full",viewBox:!!n&&"0 0 "+e+" "+i},t)}var IG=0;function wA(){return IG++}var TA={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},uu="transform-origin";function OG(e,i,t){var n=ft({},e.shape);ft(n,i),e.buildPath(t,n);var r=new yA;return r.reset(Qp(e)),t.rebuildPath(r,1),r.generateStr(),r.getStr()}function EG(e,i){var t=i.originX,n=i.originY;(t||n)&&(e[uu]=t+"px "+n+"px")}var FG={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function MA(e,i){var t=i.zrId+"-ani-"+i.cssAnimIdx++;return i.cssAnims[t]=e,t}function AA(e){return Lt(e)?TA[e]?"cubic-bezier("+TA[e]+")":Ur(e)?e:"":""}function _v(e,i,t,n){var r=e.animators,a=r.length,o=[];if(e instanceof l0){var s=function RG(e,i,t){var a,o,r={};if(U(e.shape.paths,function(l){var c=X0(t.zrId);c.animation=!0,_v(l,{},c,!0);var u=c.cssAnims,h=c.cssNodes,f=he(u),p=f.length;if(p){var m=u[o=f[p-1]];for(var b in m){var _=m[b];r[b]=r[b]||{d:""},r[b].d+=_.d||""}for(var w in h){var T=h[w].animation;T.indexOf(o)>=0&&(a=T)}}}),a){i.d=!1;var s=MA(r,t);return a.replace(o,s)}}(e,i,t);if(s)o.push(s);else if(!a)return}else if(!a)return;for(var l={},c=0;c<a;c++){var u=r[c],h=[u.getMaxTime()/1e3+"s"],f=AA(u.getClip().easing),p=u.getDelay();h.push(f||"linear"),p&&h.push(p/1e3+"s"),u.getLoop()&&h.push("infinite");var m=h.join(" ");l[m]=l[m]||[m,[]],l[m][1].push(u)}function b(T){var A=T[1],P=A.length,F={},O={},V={},N="animation-timing-function";function G(Vt,bt,kt){for(var Tt=Vt.getTracks(),gt=Vt.getMaxTime(),fe=0;fe<Tt.length;fe++){var Ht=Tt[fe];if(Ht.needsAnimate()){var Ne=Ht.keyframes,Ee=Ht.propName;if(kt&&(Ee=kt(Ee)),Ee)for(var Zt=0;Zt<Ne.length;Zt++){var Ke=Ne[Zt],Ki=Math.round(Ke.time/gt*100)+"%",ta=AA(Ke.easing),ec=Ke.rawValue;(Lt(ec)||_e(ec))&&(bt[Ki]=bt[Ki]||{},bt[Ki][Ee]=Ke.rawValue,ta&&(bt[Ki][N]=ta))}}}}for(var H=0;H<P;H++)(q=(X=A[H]).targetName)?"shape"===q&&G(X,O):!n&&G(X,F);for(var j in F){var J={};pS(J,e),ft(J,F[j]);var tt=io(J),et=F[j][N];V[j]=tt?{transform:tt}:{},EG(V[j],J),et&&(V[j][N]=et)}var lt,st=!0;for(var j in O){V[j]=V[j]||{};var ut=!lt;et=O[j][N],ut&&(lt=new Yo);var vt=lt.len();lt.reset(),V[j].d=OG(e,O[j],lt);var _t=lt.len();if(!ut&&vt!==_t){st=!1;break}et&&(V[j][N]=et)}if(!st)for(var j in V)delete V[j].d;if(!n)for(H=0;H<P;H++){var X,q;"style"===(q=(X=A[H]).targetName)&&G(X,V,function(Tt){return FG[Tt]})}var Ft,St=he(V),Et=!0;for(H=1;H<St.length;H++){var ne=St[H-1];if(V[ne][uu]!==V[St[H]][uu]){Et=!1;break}Ft=V[ne][uu]}if(Et&&Ft){for(var j in V)V[j][uu]&&delete V[j][uu];i[uu]=Ft}if(ve(St,function(Vt){return he(V[Vt]).length>0}).length)return MA(V,t)+" "+T[0]+" both"}for(var _ in l)(s=b(l[_]))&&o.push(s);if(o.length){var w=t.zrId+"-cls-"+wA();t.cssNodes["."+w]={animation:o.join(",")},i.class=w}}function LA(e,i,t,n){var r=JSON.stringify(e),a=t.cssStyleCache[r];a||(a=t.zrId+"-cls-"+wA(),t.cssStyleCache[r]=a,t.cssNodes["."+a+(n?":hover":"")]=e),i.class=i.class?i.class+" "+a:a}var Bf=Math.round;function kA(e){return e&&Lt(e.src)}function DA(e){return e&&Z(e.toDataURL)}function U0(e,i,t,n){(function MG(e,i,t,n){var r=null==i.opacity?1:i.opacity;if(t instanceof Pn)e("opacity",r);else{if(function SG(e){var i=e.fill;return null!=i&&i!==Rf}(i)){var a=Cc(i.fill);e("fill",a.color);var o=null!=i.fillOpacity?i.fillOpacity*a.opacity*r:a.opacity*r;(n||o<1)&&e("fill-opacity",o)}else e("fill",Rf);if(function wG(e){var i=e.stroke;return null!=i&&i!==Rf}(i)){var s=Cc(i.stroke);e("stroke",s.color);var l=i.strokeNoScale?t.getLineScale():1,c=l?(i.lineWidth||0)/l:0,u=null!=i.strokeOpacity?i.strokeOpacity*s.opacity*r:s.opacity*r,h=i.strokeFirst;if((n||1!==c)&&e("stroke-width",c),(n||h)&&e("paint-order",h?"stroke":"fill"),(n||u<1)&&e("stroke-opacity",u),i.lineDash){var f=m0(t),p=f[0],m=f[1];p&&(m=CG(m||0),e("stroke-dasharray",p.join(",")),(m||n)&&e("stroke-dashoffset",m))}else n&&e("stroke-dasharray",Rf);for(var b=0;b<W0.length;b++){var _=W0[b];if(n||i[_]!==fg[_]){var w=i[_]||fg[_];w&&e(TG[b],w)}}}else n&&e("stroke",Rf)}})(function(r,a){var o="fill"===r||"stroke"===r;o&&Kp(a)?RA(i,e,r,n):o&&Gd(a)?BA(t,e,r,n):e[r]=o&&"none"===a?"transparent":a},i,t,!1),function YG(e,i,t){var n=e.style;if(function by(e){return e&&(e.shadowBlur||e.shadowOffsetX||e.shadowOffsetY)}(n)){var r=function Cy(e){var i=e.style,t=e.getGlobalScale();return[i.shadowColor,(i.shadowBlur||0).toFixed(2),(i.shadowOffsetX||0).toFixed(2),(i.shadowOffsetY||0).toFixed(2),t[0],t[1]].join(",")}(e),a=t.shadowCache,o=a[r];if(!o){var s=e.getGlobalScale(),l=s[0],c=s[1];if(!l||!c)return;var u=n.shadowOffsetX||0,h=n.shadowOffsetY||0,f=n.shadowBlur,p=Cc(n.shadowColor),m=p.opacity,b=p.color,T=f/2/l+" "+f/2/c;o=t.zrId+"-s"+t.shadowIdx++,t.defs[o]=hn("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[hn("feDropShadow","",{dx:u/l,dy:h/c,stdDeviation:T,"flood-color":b,"flood-opacity":m})]),a[r]=o}i.filter=uh(o)}}(t,e,n)}function Z0(e,i){var t=function vB(e){if("function"==typeof By)return By(e)}(i);t&&(t.each(function(n,r){null!=n&&(e[(bA+r).toLowerCase()]=n+"")}),i.isSilent()&&(e[bA+"silent"]="true"))}function PA(e){return eo(e[0]-1)&&eo(e[1])&&eo(e[2])&&eo(e[3]-1)}function $0(e,i,t){if(i&&(!function VG(e){return eo(e[4])&&eo(e[5])}(i)||!PA(i))){var n=t?10:1e4;e.transform=PA(i)?"translate("+Bf(i[4]*n)/n+" "+Bf(i[5]*n)/n+")":function yy(e){return"matrix("+lh(e[0])+","+lh(e[1])+","+lh(e[2])+","+lh(e[3])+","+ch(e[4])+","+ch(e[5])+")"}(i)}}function IA(e,i,t){for(var n=e.points,r=[],a=0;a<n.length;a++)r.push(Bf(n[a][0]*t)/t),r.push(Bf(n[a][1]*t)/t);i.points=r.join(" ")}function OA(e){return!e.smooth}var NG={circle:[function zG(e){var i=mt(e,function(t){return"string"==typeof t?[t,t]:t});return function(t,n,r){for(var a=0;a<i.length;a++){var o=i[a],s=t[o[0]];null!=s&&(n[o[1]]=Bf(s*r)/r)}}}(["cx","cy","r"])],polyline:[IA,OA],polygon:[IA,OA]};function EA(e,i){var t=e.style,n=e.shape,r=NG[e.type],a={},o=i.animation,s="path",l=e.style.strokePercent,c=i.compress&&Qp(e)||4;if(!r||i.willUpdate||r[1]&&!r[1](n)||o&&function GG(e){for(var i=e.animators,t=0;t<i.length;t++)if("shape"===i[t].targetName)return!0;return!1}(e)||l<1){var h=!e.path||e.shapeChanged();e.path||e.createPathProxy();var f=e.path;h&&(f.beginPath(),e.buildPath(f,e.shape),e.pathUpdated());var p=f.getVersion(),m=e,b=m.__svgPathBuilder;(m.__svgPathVersion!==p||!b||l!==m.__svgPathStrokePercent)&&(b||(b=m.__svgPathBuilder=new yA),b.reset(c),f.rebuildPath(b,l),b.generateStr(),m.__svgPathVersion=p,m.__svgPathStrokePercent=l),a.d=b.getStr()}else{s=e.type;var u=Math.pow(10,c);r[0](n,a,u)}return $0(a,e.transform),U0(a,t,e,i),Z0(a,e),i.animation&&_v(e,a,i),i.emphasis&&function BG(e,i,t){if(!e.ignore)if(e.isSilent())LA(n={"pointer-events":"none"},i,t,!0);else{var r=e.states.emphasis&&e.states.emphasis.style?e.states.emphasis.style:{},a=r.fill;if(!a){var o=e.style&&e.style.fill,s=e.states.select&&e.states.select.style&&e.states.select.style.fill,l=e.currentStates.indexOf("select")>=0&&s||o;l&&(a=Nd(l))}var c=r.lineWidth;c&&(c/=!r.strokeNoScale&&e.transform?e.transform[0]:1);var n={cursor:"pointer"};a&&(n.fill=a),r.stroke&&(n.stroke=r.stroke),c&&(n["stroke-width"]=c),LA(n,i,t,!0)}}(e,a,i),hn(s,e.id+"",a)}function FA(e,i){return e instanceof ge?EA(e,i):e instanceof Pn?function HG(e,i){var t=e.style,n=t.image;if(n&&!Lt(n)&&(kA(n)?n=n.src:DA(n)&&(n=n.toDataURL())),n){var r=t.x||0,a=t.y||0,l={href:n,width:t.width,height:t.height};return r&&(l.x=r),a&&(l.y=a),$0(l,e.transform),U0(l,t,e,i),Z0(l,e),i.animation&&_v(e,l,i),hn("image",e.id+"",l)}}(e,i):e instanceof ef?function WG(e,i){var t=e.style,n=t.text;if(null!=n&&(n+=""),n&&!isNaN(t.x)&&!isNaN(t.y)){var r=t.font||ni,a=t.x||0,o=function xy(e,i,t){return"top"===t?e+=i/2:"bottom"===t&&(e-=i/2),e}(t.y||0,ng(r),t.textBaseline),l={"dominant-baseline":"central","text-anchor":_y[t.textAlign]||t.textAlign};if(dw(t)){var c="",u=t.fontStyle,h=uw(t.fontSize);if(!parseFloat(h))return;var p=t.fontWeight;c+="font-size:"+h+";font-family:"+(t.fontFamily||en)+";",u&&"normal"!==u&&(c+="font-style:"+u+";"),p&&"normal"!==p&&(c+="font-weight:"+p+";"),l.style=c}else l.style="font: "+r;return n.match(/\s/)&&(l["xml:space"]="preserve"),a&&(l.x=a),o&&(l.y=o),$0(l,e.transform),U0(l,t,e,i),Z0(l,e),i.animation&&_v(e,l,i),hn("text",e.id+"",l,void 0,n)}}(e,i):void 0}function RA(e,i,t,n){var a,r=e[t],o={gradientUnits:r.global?"userSpaceOnUse":"objectBoundingBox"};if(Hd(r))a="linearGradient",o.x1=r.x,o.y1=r.y,o.x2=r.x2,o.y2=r.y2;else{if(!Wd(r))return;a="radialGradient",o.cx=qt(r.x,.5),o.cy=qt(r.y,.5),o.r=qt(r.r,.5)}for(var s=r.colorStops,l=[],c=0,u=s.length;c<u;++c){var h=100*ch(s[c].offset)+"%",p=Cc(s[c].color),b=p.opacity,_={offset:h};_["stop-color"]=p.color,b<1&&(_["stop-opacity"]=b),l.push(hn("stop",c+"",_))}var T=Y0(hn(a,"",o,l)),A=n.gradientCache,P=A[T];P||(P=n.zrId+"-g"+n.gradientIdx++,A[T]=P,o.id=P,n.defs[P]=hn(a,P,o,l)),i[t]=uh(P)}function BA(e,i,t,n){var h,r=e.style[t],a=e.getBoundingRect(),o={},s=r.repeat,l="no-repeat"===s,c="repeat-x"===s,u="repeat-y"===s;if(qp(r)){var f=r.imageWidth,p=r.imageHeight,m=void 0,b=r.image;if(Lt(b)?m=b:kA(b)?m=b.src:DA(b)&&(m=b.toDataURL()),typeof Image>"u"){var _="Image width/height must been given explictly in svg-ssr renderer.";ti(f,_),ti(p,_)}else if(null==f||null==p){var w=function(H,X){if(H){var q=H.elm,j=f||X.width,J=p||X.height;"pattern"===H.tag&&(c?(J=1,j/=a.width):u&&(j=1,J/=a.height)),H.attrs.width=j,H.attrs.height=J,q&&(q.setAttribute("width",j),q.setAttribute("height",J))}},T=Xy(m,null,e,function(H){l||w(O,H),w(h,H)});T&&T.width&&T.height&&(f=f||T.width,p=p||T.height)}h=hn("image","img",{href:m,width:f,height:p}),o.width=f,o.height=p}else r.svgElement&&(h=Gt(r.svgElement),o.width=r.svgWidth,o.height=r.svgHeight);if(h){var A,P;l?A=P=1:c?(P=1,A=o.width/a.width):u?(A=1,P=o.height/a.height):o.patternUnits="userSpaceOnUse",null!=A&&!isNaN(A)&&(o.width=A),null!=P&&!isNaN(P)&&(o.height=P);var F=io(r);F&&(o.patternTransform=F);var O=hn("pattern","",o,[h]),V=Y0(O),N=n.patternCache,G=N[V];G||(G=n.zrId+"-p"+n.patternIdx++,N[V]=G,o.id=G,O=n.defs[G]=hn("pattern",G,o,[h])),i[t]=uh(G)}}function XG(e,i,t){var n=t.clipPathCache,r=t.defs,a=n[e.id];if(!a){var o={id:a=t.zrId+"-c"+t.clipPathIdx++};n[e.id]=a,r[a]=hn("clipPath",a,o,[EA(e,t)])}i["clip-path"]=uh(a)}function VA(e){return document.createTextNode(e)}function hu(e,i,t){e.insertBefore(i,t)}function zA(e,i){e.removeChild(i)}function NA(e,i){e.appendChild(i)}function GA(e){return e.parentNode}function HA(e){return e.nextSibling}function j0(e,i){e.textContent=i}var WA=58,UG=120,ZG=hn("","");function q0(e){return void 0===e}function Ko(e){return void 0!==e}function $G(e,i,t){for(var n={},r=i;r<=t;++r){var a=e[r].key;void 0!==a&&(n[a]=r)}return n}function Vf(e,i){return e.tag===i.tag&&e.key===i.key}function zf(e){var i,t=e.children,n=e.tag;if(Ko(n)){var r=e.elm=CA(n);if(K0(ZG,e),yt(t))for(i=0;i<t.length;++i){var a=t[i];null!=a&&NA(r,zf(a))}else Ko(e.text)&&!Bt(e.text)&&NA(r,VA(e.text))}else e.elm=VA(e.text);return e.elm}function YA(e,i,t,n,r){for(;n<=r;++n){var a=t[n];null!=a&&hu(e,zf(a),i)}}function xv(e,i,t,n){for(;t<=n;++t){var r=i[t];null!=r&&(Ko(r.tag)?zA(GA(r.elm),r.elm):zA(e,r.elm))}}function K0(e,i){var t,n=i.elm,r=e&&e.attrs||{},a=i.attrs||{};if(r!==a){for(t in a){var o=a[t];r[t]!==o&&(!0===o?n.setAttribute(t,""):!1===o?n.removeAttribute(t):"style"===t?n.style.cssText=o:t.charCodeAt(0)!==UG?n.setAttribute(t,o):"xmlns:xlink"===t||"xmlns"===t?n.setAttributeNS(AG,t,o):t.charCodeAt(3)===WA?n.setAttributeNS(LG,t,o):t.charCodeAt(5)===WA?n.setAttributeNS(xA,t,o):n.setAttribute(t,o))}for(t in r)t in a||n.removeAttribute(t)}}function Uh(e,i){var t=i.elm=e.elm,n=e.children,r=i.children;e!==i&&(K0(e,i),q0(i.text)?Ko(n)&&Ko(r)?n!==r&&function jG(e,i,t){for(var h,f,p,n=0,r=0,a=i.length-1,o=i[0],s=i[a],l=t.length-1,c=t[0],u=t[l];n<=a&&r<=l;)null==o?o=i[++n]:null==s?s=i[--a]:null==c?c=t[++r]:null==u?u=t[--l]:Vf(o,c)?(Uh(o,c),o=i[++n],c=t[++r]):Vf(s,u)?(Uh(s,u),s=i[--a],u=t[--l]):Vf(o,u)?(Uh(o,u),hu(e,o.elm,HA(s.elm)),o=i[++n],u=t[--l]):Vf(s,c)?(Uh(s,c),hu(e,s.elm,o.elm),s=i[--a],c=t[++r]):(q0(h)&&(h=$G(i,n,a)),q0(f=h[c.key])||(p=i[f]).tag!==c.tag?hu(e,zf(c),o.elm):(Uh(p,c),i[f]=void 0,hu(e,p.elm,o.elm)),c=t[++r]);(n<=a||r<=l)&&(n>a?YA(e,null==t[l+1]?null:t[l+1].elm,t,r,l):xv(e,i,n,a))}(t,n,r):Ko(r)?(Ko(e.text)&&j0(t,""),YA(t,null,r,0,r.length-1)):Ko(n)?xv(t,n,0,n.length-1):Ko(e.text)&&j0(t,""):e.text!==i.text&&(Ko(n)&&xv(t,n,0,n.length-1),j0(t,i.text)))}var KG=0,QG=function(){function e(i,t,n){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=t,this._opts=n=ft({},n),this.root=i,this._id="zr"+KG++,this._oldVNode=SA(n.width,n.height),i&&!n.ssr){var r=this._viewport=document.createElement("div");r.style.cssText="position:relative;overflow:hidden";var a=this._svgDom=this._oldVNode.elm=CA("svg");K0(null,this._oldVNode),r.appendChild(a),i.appendChild(r)}this.resize(n.width,n.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var i=this.getViewportRoot();if(i)return{offsetLeft:i.offsetLeft||0,offsetTop:i.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var i=this.renderToVNode({willUpdate:!0});i.attrs.style="position:absolute;left:0;top:0;user-select:none",function qG(e,i){if(Vf(e,i))Uh(e,i);else{var t=e.elm,n=GA(t);zf(i),null!==n&&(hu(n,i.elm,HA(t)),xv(n,[e],0,0))}}(this._oldVNode,i),this._oldVNode=i}},e.prototype.renderOneToVNode=function(i){return FA(i,X0(this._id))},e.prototype.renderToVNode=function(i){i=i||{};var t=this.storage.getDisplayList(!0),n=this._width,r=this._height,a=X0(this._id);a.animation=i.animation,a.willUpdate=i.willUpdate,a.compress=i.compress,a.emphasis=i.emphasis;var o=[],s=this._bgVNode=function JG(e,i,t,n){var r;if(t&&"none"!==t)if(r=hn("rect","bg",{width:e,height:i,x:"0",y:"0"}),Kp(t))RA({fill:t},r.attrs,"fill",n);else if(Gd(t))BA({style:{fill:t},dirty:Je,getBoundingRect:function(){return{width:e,height:i}}},r.attrs,"fill",n);else{var a=Cc(t),s=a.opacity;r.attrs.fill=a.color,s<1&&(r.attrs["fill-opacity"]=s)}return r}(n,r,this._backgroundColor,a);s&&o.push(s);var l=i.compress?null:this._mainVNode=hn("g","main",{},[]);this._paintList(t,a,l?l.children:o),l&&o.push(l);var c=mt(he(a.defs),function(f){return a.defs[f]});if(c.length&&o.push(hn("defs","defs",{},c)),i.animation){var u=function PG(e,i,t){var n=(t=t||{}).newline?"\n":"",r=" {"+n,a=n+"}",o=mt(he(e),function(l){return l+r+mt(he(e[l]),function(c){return c+":"+e[l][c]+";"}).join(n)+a}).join(n),s=mt(he(i),function(l){return"@keyframes "+l+r+mt(he(i[l]),function(c){return c+r+mt(he(i[l][c]),function(u){var h=i[l][c][u];return"d"===u&&(h='path("'+h+'")'),u+":"+h+";"}).join(n)+a}).join(n)+a}).join(n);return o||s?["<![CDATA[",o,s,"]]>"].join(n):""}(a.cssNodes,a.cssAnims,{newline:!0});if(u){var h=hn("style","stl",{},[],u);o.push(h)}}return SA(n,r,o,i.useViewBox)},e.prototype.renderToString=function(i){return Y0(this.renderToVNode({animation:qt((i=i||{}).cssAnimation,!0),emphasis:qt(i.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:qt(i.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(i){this._backgroundColor=i},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(i,t,n){for(var s,l,r=i.length,a=[],o=0,c=0,u=0;u<r;u++){var h=i[u];if(!h.invisible){var f=h.__clipPaths,p=f&&f.length||0,m=l&&l.length||0,b=void 0;for(b=Math.max(p-1,m-1);b>=0&&(!f||!l||f[b]!==l[b]);b--);for(var _=m-1;_>b;_--)s=a[--o-1];for(var w=b+1;w<p;w++){var T={};XG(f[w],T,t);var A=hn("g","clip-g-"+c++,T,[]);(s?s.children:n).push(A),a[o++]=A,s=A}l=f;var P=FA(h,t);P&&(s?s.children:n).push(P)}}},e.prototype.resize=function(i,t){var n=this._opts,r=this.root,a=this._viewport;if(null!=i&&(n.width=i),null!=t&&(n.height=t),r&&a&&(a.style.display="none",i=Wh(r,0,n),t=Wh(r,1,n),a.style.display=""),this._width!==i||this._height!==t){if(this._width=i,this._height=t,a){var o=a.style;o.width=i+"px",o.height=t+"px"}if(Gd(this._backgroundColor))this.refresh();else{var s=this._svgDom;s&&(s.setAttribute("width",i),s.setAttribute("height",t));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute("width",i),l.setAttribute("height",t))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(i){var t=this.renderToString(),n="data:image/svg+xml;";return i?(t=Ro(t))&&n+"base64,"+t:n+"charset=UTF-8,"+encodeURIComponent(t)},e}();const tH=QG;function Nf(e){return null==e?0:e.length||1}function UA(e){return e}var iH=function(){function e(i,t,n,r,a,o){this._old=i,this._new=t,this._oldKeyGetter=n||UA,this._newKeyGetter=r||UA,this.context=a,this._diffModeMultiple="multiple"===o}return e.prototype.add=function(i){return this._add=i,this},e.prototype.update=function(i){return this._update=i,this},e.prototype.updateManyToOne=function(i){return this._updateManyToOne=i,this},e.prototype.updateOneToMany=function(i){return this._updateOneToMany=i,this},e.prototype.updateManyToMany=function(i){return this._updateManyToMany=i,this},e.prototype.remove=function(i){return this._remove=i,this},e.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},e.prototype._executeOneToOne=function(){var i=this._old,t=this._new,n={},r=new Array(i.length),a=new Array(t.length);this._initIndexMap(i,null,r,"_oldKeyGetter"),this._initIndexMap(t,n,a,"_newKeyGetter");for(var o=0;o<i.length;o++){var s=r[o],l=n[s],c=Nf(l);if(c>1){var u=l.shift();1===l.length&&(n[s]=l[0]),this._update&&this._update(u,o)}else 1===c?(n[s]=null,this._update&&this._update(l,o)):this._remove&&this._remove(o)}this._performRestAdd(a,n)},e.prototype._executeMultiple=function(){var t=this._new,n={},r={},a=[],o=[];this._initIndexMap(this._old,n,a,"_oldKeyGetter"),this._initIndexMap(t,r,o,"_newKeyGetter");for(var s=0;s<a.length;s++){var l=a[s],c=n[l],u=r[l],h=Nf(c),f=Nf(u);if(h>1&&1===f)this._updateManyToOne&&this._updateManyToOne(u,c),r[l]=null;else if(1===h&&f>1)this._updateOneToMany&&this._updateOneToMany(u,c),r[l]=null;else if(1===h&&1===f)this._update&&this._update(u,c),r[l]=null;else if(h>1&&f>1)this._updateManyToMany&&this._updateManyToMany(u,c),r[l]=null;else if(h>1)for(var p=0;p<h;p++)this._remove&&this._remove(c[p]);else this._remove&&this._remove(c)}this._performRestAdd(o,r)},e.prototype._performRestAdd=function(i,t){for(var n=0;n<i.length;n++){var r=i[n],a=t[r],o=Nf(a);if(o>1)for(var s=0;s<o;s++)this._add&&this._add(a[s]);else 1===o&&this._add&&this._add(a);t[r]=null}},e.prototype._initIndexMap=function(i,t,n,r){for(var a=this._diffModeMultiple,o=0;o<i.length;o++){var s="_ec_"+this[r](i[o],o);if(a||(n[o]=s),t){var l=t[s],c=Nf(l);0===c?(t[s]=o,a&&n.push(s)):1===c?t[s]=[l,o]:l.push(o)}}},e}();const Rs=iH;var nH=function(){function e(i,t){this._encode=i,this._schema=t}return e.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},e.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},e}();function Q0(e,i){return e.hasOwnProperty(i)||(e[i]=[]),e[i]}function bv(e){return"category"===e?"ordinal":"time"===e?"time":"float"}const Cv=function e(i){this.otherDims={},null!=i&&ft(this,i)};var sH=Le(),lH={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},ZA=function(){function e(i){this.dimensions=i.dimensions,this._dimOmitted=i.dimensionOmitted,this.source=i.source,this._fullDimCount=i.fullDimensionCount,this._updateDimOmitted(i.dimensionOmitted)}return e.prototype.isDimensionOmitted=function(){return this._dimOmitted},e.prototype._updateDimOmitted=function(i){this._dimOmitted=i,i&&(this._dimNameMap||(this._dimNameMap=qA(this.source)))},e.prototype.getSourceDimensionIndex=function(i){return qt(this._dimNameMap.get(i),-1)},e.prototype.getSourceDimension=function(i){var t=this.source.dimensionsDefine;if(t)return t[i]},e.prototype.makeStoreSchema=function(){for(var i=this._fullDimCount,t=zT(this.source),n=!KA(i),r="",a=[],o=0,s=0;o<i;o++){var l=void 0,c=void 0,u=void 0,h=this.dimensions[s];if(h&&h.storeDimIndex===o)l=t?h.name:null,c=h.type,u=h.ordinalMeta,s++;else{var f=this.getSourceDimension(o);f&&(l=t?f.name:null,c=f.type)}a.push({property:l,type:c,ordinalMeta:u}),t&&null!=l&&(!h||!h.isCalculationCoord)&&(r+=n?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),r+="$",r+=lH[c]||"f",u&&(r+=u.uid),r+="$"}var p=this.source;return{dimensions:a,hash:[p.seriesLayoutBy,p.startIndex,r].join("$$")}},e.prototype.makeOutputDimensionNames=function(){for(var i=[],t=0,n=0;t<this._fullDimCount;t++){var r=void 0,a=this.dimensions[n];if(a&&a.storeDimIndex===t)a.isCalculationCoord||(r=a.name),n++;else{var o=this.getSourceDimension(t);o&&(r=o.name)}i.push(r)}return i},e.prototype.appendCalculationDimension=function(i){this.dimensions.push(i),i.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},e}();function $A(e){return e instanceof ZA}function jA(e){for(var i=Mt(),t=0;t<(e||[]).length;t++){var n=e[t],r=Bt(n)?n.name:n;null!=r&&null==i.get(r)&&i.set(r,t)}return i}function qA(e){var i=sH(e);return i.dimNameMap||(i.dimNameMap=jA(e.dimensionsDefine))}function KA(e){return e>30}var JA,Sv,Hf,Wf,J0,wv,tx,Gf=Bt,Bl=mt,cH=typeof Int32Array>"u"?Array:Int32Array,hH=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],dH=["_approximateExtent"],fH=function(){function e(i,t){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var n,r=!1;$A(i)?(n=i.dimensions,this._dimOmitted=i.isDimensionOmitted(),this._schema=i):(r=!0,n=i),n=n||["x","y"];for(var a={},o=[],s={},l=!1,c={},u=0;u<n.length;u++){var h=n[u],f=Lt(h)?new Cv({name:h}):h instanceof Cv?h:new Cv(h),p=f.name;f.type=f.type||"float",f.coordDim||(f.coordDim=p,f.coordDimIndex=0);var m=f.otherDims=f.otherDims||{};o.push(p),a[p]=f,null!=c[p]&&(l=!0),f.createInvertedIndices&&(s[p]=[]),0===m.itemName&&(this._nameDimIdx=u),0===m.itemId&&(this._idDimIdx=u),r&&(f.storeDimIndex=u)}if(this.dimensions=o,this._dimInfos=a,this._initGetDimensionInfo(l),this.hostModel=t,this._invertedIndicesMap=s,this._dimOmitted){var b=this._dimIdxToName=Mt();U(o,function(_){b.set(a[_].storeDimIndex,_)})}}return e.prototype.getDimension=function(i){var t=this._recognizeDimIndex(i);if(null==t)return i;if(t=i,!this._dimOmitted)return this.dimensions[t];var n=this._dimIdxToName.get(t);if(null!=n)return n;var r=this._schema.getSourceDimension(t);return r?r.name:void 0},e.prototype.getDimensionIndex=function(i){var t=this._recognizeDimIndex(i);if(null!=t)return t;if(null==i)return-1;var n=this._getDimInfo(i);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(i):-1},e.prototype._recognizeDimIndex=function(i){if(_e(i)||null!=i&&!isNaN(i)&&!this._getDimInfo(i)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(i)<0))return+i},e.prototype._getStoreDimIndex=function(i){return this.getDimensionIndex(i)},e.prototype.getDimensionInfo=function(i){return this._getDimInfo(this.getDimension(i))},e.prototype._initGetDimensionInfo=function(i){var t=this._dimInfos;this._getDimInfo=i?function(n){return t.hasOwnProperty(n)?t[n]:void 0}:function(n){return t[n]}},e.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},e.prototype.mapDimension=function(i,t){var n=this._dimSummary;if(null==t)return n.encodeFirstDimNotExtra[i];var r=n.encode[i];return r?r[t]:null},e.prototype.mapDimensionsAll=function(i){return(this._dimSummary.encode[i]||[]).slice()},e.prototype.getStore=function(){return this._store},e.prototype.initData=function(i,t,n){var a,r=this;if(i instanceof j_&&(a=i),!a){var o=this.dimensions,s=G_(i)||Li(i)?new HT(i,o.length):i;a=new j_;var l=Bl(o,function(c){return{type:r._dimInfos[c].type,property:c}});a.initData(s,l,n)}this._store=a,this._nameList=(t||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,a.count()),this._dimSummary=function rH(e,i){var t={},n=t.encode={},r=Mt(),a=[],o=[],s={};U(e.dimensions,function(f){var p=e.getDimensionInfo(f),m=p.coordDim;if(m){var b=p.coordDimIndex;Q0(n,m)[b]=f,p.isExtraCoord||(r.set(m,1),function aH(e){return!("ordinal"===e||"time"===e)}(p.type)&&(a[0]=f),Q0(s,m)[b]=e.getDimensionIndex(p.name)),p.defaultTooltip&&o.push(f)}dT.each(function(_,w){var T=Q0(n,w),A=p.otherDims[w];null!=A&&!1!==A&&(T[A]=p.name)})});var l=[],c={};r.each(function(f,p){var m=n[p];c[p]=m[0],l=l.concat(m)}),t.dataDimsOnCoord=l,t.dataDimIndicesOnCoord=mt(l,function(f){return e.getDimensionInfo(f).storeDimIndex}),t.encodeFirstDimNotExtra=c;var u=n.label;u&&u.length&&(a=u.slice());var h=n.tooltip;return h&&h.length?o=h.slice():o.length||(o=a.slice()),n.defaultedLabel=a,n.defaultedTooltip=o,t.userOutput=new nH(s,i),t}(this,this._schema),this.userOutput=this._dimSummary.userOutput},e.prototype.appendData=function(i){var t=this._store.appendData(i);this._doInit(t[0],t[1])},e.prototype.appendValues=function(i,t){var n=this._store.appendValues(i,t.length),r=n.start,a=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),t)for(var s=r;s<a;s++)this._nameList[s]=t[s-r],o&&tx(this,s)},e.prototype._updateOrdinalMeta=function(){for(var i=this._store,t=this.dimensions,n=0;n<t.length;n++){var r=this._dimInfos[t[n]];r.ordinalMeta&&i.collectOrdinalMeta(r.storeDimIndex,r.ordinalMeta)}},e.prototype._shouldMakeIdFromName=function(){var i=this._store.getProvider();return null==this._idDimIdx&&i.getSource().sourceFormat!==Es&&!i.fillStorage},e.prototype._doInit=function(i,t){if(!(i>=t)){var r=this._store.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList;if(r.getSource().sourceFormat===xa&&!r.pure)for(var c=[],u=i;u<t;u++){var h=r.getItem(u,c);if(!this.hasItemOption&&SB(h)&&(this.hasItemOption=!0),h){var f=h.name;null==a[u]&&null!=f&&(a[u]=ji(f,null));var p=h.id;null==o[u]&&null!=p&&(o[u]=ji(p,null))}}if(this._shouldMakeIdFromName())for(u=i;u<t;u++)tx(this,u);JA(this)}},e.prototype.getApproximateExtent=function(i){return this._approximateExtent[i]||this._store.getDataExtent(this._getStoreDimIndex(i))},e.prototype.setApproximateExtent=function(i,t){t=this.getDimension(t),this._approximateExtent[t]=i.slice()},e.prototype.getCalculationInfo=function(i){return this._calculationInfo[i]},e.prototype.setCalculationInfo=function(i,t){Gf(i)?ft(this._calculationInfo,i):this._calculationInfo[i]=t},e.prototype.getName=function(i){var t=this.getRawIndex(i),n=this._nameList[t];return null==n&&null!=this._nameDimIdx&&(n=Hf(this,this._nameDimIdx,t)),null==n&&(n=""),n},e.prototype._getCategory=function(i,t){var n=this._store.get(i,t),r=this._store.getOrdinalMeta(i);return r?r.categories[n]:n},e.prototype.getId=function(i){return Sv(this,this.getRawIndex(i))},e.prototype.count=function(){return this._store.count()},e.prototype.get=function(i,t){var r=this._dimInfos[i];if(r)return this._store.get(r.storeDimIndex,t)},e.prototype.getByRawIndex=function(i,t){var r=this._dimInfos[i];if(r)return this._store.getByRawIndex(r.storeDimIndex,t)},e.prototype.getIndices=function(){return this._store.getIndices()},e.prototype.getDataExtent=function(i){return this._store.getDataExtent(this._getStoreDimIndex(i))},e.prototype.getSum=function(i){return this._store.getSum(this._getStoreDimIndex(i))},e.prototype.getMedian=function(i){return this._store.getMedian(this._getStoreDimIndex(i))},e.prototype.getValues=function(i,t){var n=this,r=this._store;return yt(i)?r.getValues(Bl(i,function(a){return n._getStoreDimIndex(a)}),t):r.getValues(i)},e.prototype.hasValue=function(i){for(var t=this._dimSummary.dataDimIndicesOnCoord,n=0,r=t.length;n<r;n++)if(isNaN(this._store.get(t[n],i)))return!1;return!0},e.prototype.indexOfName=function(i){for(var t=0,n=this._store.count();t<n;t++)if(this.getName(t)===i)return t;return-1},e.prototype.getRawIndex=function(i){return this._store.getRawIndex(i)},e.prototype.indexOfRawIndex=function(i){return this._store.indexOfRawIndex(i)},e.prototype.rawIndexOf=function(i,t){var r=(i&&this._invertedIndicesMap[i])[t];return null==r||isNaN(r)?-1:r},e.prototype.indicesOfNearest=function(i,t,n){return this._store.indicesOfNearest(this._getStoreDimIndex(i),t,n)},e.prototype.each=function(i,t,n){Z(i)&&(n=t,t=i,i=[]);var r=n||this,a=Bl(Wf(i),this._getStoreDimIndex,this);this._store.each(a,r?Dt(t,r):t)},e.prototype.filterSelf=function(i,t,n){Z(i)&&(n=t,t=i,i=[]);var r=n||this,a=Bl(Wf(i),this._getStoreDimIndex,this);return this._store=this._store.filter(a,r?Dt(t,r):t),this},e.prototype.selectRange=function(i){var t=this,n={},r=he(i),a=[];return U(r,function(o){var s=t._getStoreDimIndex(o);n[s]=i[o],a.push(s)}),this._store=this._store.selectRange(n),this},e.prototype.mapArray=function(i,t,n){Z(i)&&(n=t,t=i,i=[]);var r=[];return this.each(i,function(){r.push(t&&t.apply(this,arguments))},n=n||this),r},e.prototype.map=function(i,t,n,r){var a=n||r||this,o=Bl(Wf(i),this._getStoreDimIndex,this),s=wv(this);return s._store=this._store.map(o,a?Dt(t,a):t),s},e.prototype.modify=function(i,t,n,r){var o=n||r||this,s=Bl(Wf(i),this._getStoreDimIndex,this);this._store.modify(s,o?Dt(t,o):t)},e.prototype.downSample=function(i,t,n,r){var a=wv(this);return a._store=this._store.downSample(this._getStoreDimIndex(i),t,n,r),a},e.prototype.lttbDownSample=function(i,t){var n=wv(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(i),t),n},e.prototype.getRawDataItem=function(i){return this._store.getRawDataItem(i)},e.prototype.getItemModel=function(i){var t=this.hostModel,n=this.getRawDataItem(i);return new ai(n,t,t&&t.ecModel)},e.prototype.diff=function(i){var t=this;return new Rs(i?i.getStore().getIndices():[],this.getStore().getIndices(),function(n){return Sv(i,n)},function(n){return Sv(t,n)})},e.prototype.getVisual=function(i){var t=this._visual;return t&&t[i]},e.prototype.setVisual=function(i,t){this._visual=this._visual||{},Gf(i)?ft(this._visual,i):this._visual[i]=t},e.prototype.getItemVisual=function(i,t){var n=this._itemVisuals[i];return(n&&n[t])??this.getVisual(t)},e.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},e.prototype.ensureUniqueItemVisual=function(i,t){var n=this._itemVisuals,r=n[i];r||(r=n[i]={});var a=r[t];return null==a&&(yt(a=this.getVisual(t))?a=a.slice():Gf(a)&&(a=ft({},a)),r[t]=a),a},e.prototype.setItemVisual=function(i,t,n){var r=this._itemVisuals[i]||{};this._itemVisuals[i]=r,Gf(t)?ft(r,t):r[t]=n},e.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},e.prototype.setLayout=function(i,t){Gf(i)?ft(this._layout,i):this._layout[i]=t},e.prototype.getLayout=function(i){return this._layout[i]},e.prototype.getItemLayout=function(i){return this._itemLayouts[i]},e.prototype.setItemLayout=function(i,t,n){this._itemLayouts[i]=n?ft(this._itemLayouts[i]||{},t):t},e.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},e.prototype.setItemGraphicEl=function(i,t){s_(this.hostModel&&this.hostModel.seriesIndex,this.dataType,i,t),this._graphicEls[i]=t},e.prototype.getItemGraphicEl=function(i){return this._graphicEls[i]},e.prototype.eachItemGraphicEl=function(i,t){U(this._graphicEls,function(n,r){n&&i&&i.call(t,n,r)})},e.prototype.cloneShallow=function(i){return i||(i=new e(this._schema?this._schema:Bl(this.dimensions,this._getDimInfo,this),this.hostModel)),J0(i,this),i._store=this._store,i},e.prototype.wrapMethod=function(i,t){var n=this[i];Z(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(i),this[i]=function(){var r=n.apply(this,arguments);return t.apply(this,[r].concat(ds(arguments)))})},e.internalField=(JA=function(i){var t=i._invertedIndicesMap;U(t,function(n,r){var a=i._dimInfos[r],o=a.ordinalMeta,s=i._store;if(o){n=t[r]=new cH(o.categories.length);for(var l=0;l<n.length;l++)n[l]=-1;for(l=0;l<s.count();l++)n[s.get(a.storeDimIndex,l)]=l}})},Hf=function(i,t,n){return ji(i._getCategory(t,n),null)},Sv=function(i,t){var n=i._idList[t];return null==n&&null!=i._idDimIdx&&(n=Hf(i,i._idDimIdx,t)),null==n&&(n="e\0\0"+t),n},Wf=function(i){return yt(i)||(i=null!=i?[i]:[]),i},wv=function(i){var t=new e(i._schema?i._schema:Bl(i.dimensions,i._getDimInfo,i),i.hostModel);return J0(t,i),t},J0=function(i,t){U(hH.concat(t.__wrappedMethods||[]),function(n){t.hasOwnProperty(n)&&(i[n]=t[n])}),i.__wrappedMethods=t.__wrappedMethods,U(dH,function(n){i[n]=Gt(t[n])}),i._calculationInfo=ft({},t._calculationInfo)},void(tx=function(i,t){var n=i._nameList,r=i._idList,a=i._nameDimIdx,o=i._idDimIdx,s=n[t],l=r[t];if(null==s&&null!=a&&(n[t]=s=Hf(i,a,t)),null==l&&null!=o&&(r[t]=l=Hf(i,o,t)),null==l&&null!=s){var c=i._nameRepeatCount,u=c[s]=(c[s]||0)+1;l=s,u>1&&(l+="__ec__"+u),r[t]=l}})),e}();const dr=fH;function Zh(e,i){G_(e)||(e=W_(e));var t=(i=i||{}).coordDimensions||[],n=i.dimensionsDefine||e.dimensionsDefine||[],r=Mt(),a=[],o=function gH(e,i,t,n){var r=Math.max(e.dimensionsDetectedCount||1,i.length,t.length,n||0);return U(i,function(a){var o;Bt(a)&&(o=a.dimsDef)&&(r=Math.max(r,o.length))}),r}(e,t,n,i.dimensionsCount),s=i.canOmitUnusedDimensions&&KA(o),l=n===e.dimensionsDefine,c=l?qA(e):jA(n),u=i.encodeDefine;!u&&i.encodeDefaulter&&(u=i.encodeDefaulter(e,o));for(var h=Mt(u),f=new e2(o),p=0;p<f.length;p++)f[p]=-1;function m(G){var H=f[G];if(H<0){var X=n[G],q=Bt(X)?X:{name:X},j=new Cv,J=q.name;return null!=J&&null!=c.get(J)&&(j.name=j.displayName=J),null!=q.type&&(j.type=q.type),null!=q.displayName&&(j.displayName=q.displayName),f[G]=a.length,j.storeDimIndex=G,a.push(j),j}return a[H]}if(!s)for(p=0;p<o;p++)m(p);h.each(function(G,H){var X=je(G).slice();if(1===X.length&&!Lt(X[0])&&X[0]<0)h.set(H,!1);else{var q=h.set(H,[]);U(X,function(j,J){var tt=Lt(j)?c.get(j):j;null!=tt&&tt<o&&(q[J]=tt,_(m(tt),H,J))})}});var b=0;function _(G,H,X){null!=dT.get(H)?G.otherDims[H]=X:(G.coordDim=H,G.coordDimIndex=X,r.set(H,!0))}U(t,function(G){var H,X,q,j;if(Lt(G))H=G,j={};else{H=(j=G).name;var J=j.ordinalMeta;j.ordinalMeta=null,(j=ft({},j)).ordinalMeta=J,X=j.dimsDef,q=j.otherDims,j.name=j.coordDim=j.coordDimIndex=j.dimsDef=j.otherDims=null}var tt=h.get(H);if(!1!==tt){if(!(tt=je(tt)).length)for(var et=0;et<(X&&X.length||1);et++){for(;b<o&&null!=m(b).coordDim;)b++;b<o&&tt.push(b++)}U(tt,function(lt,st){var ut=m(lt);if(l&&null!=j.type&&(ut.type=j.type),_(Rt(ut,j),H,st),null==ut.name&&X){var vt=X[st];!Bt(vt)&&(vt={name:vt}),ut.name=ut.displayName=vt.name,ut.defaultTooltip=vt.defaultTooltip}q&&Rt(ut.otherDims,q)})}});var w=i.generateCoord,T=i.generateCoordCount,A=null!=T;T=w?T||1:0;var P=w||"value";function F(G){null==G.name&&(G.name=G.coordDim)}if(s)U(a,function(G){F(G)}),a.sort(function(G,H){return G.storeDimIndex-H.storeDimIndex});else for(var O=0;O<o;O++){var V=m(O);null==V.coordDim&&(V.coordDim=vH(P,r,A),V.coordDimIndex=0,(!w||T<=0)&&(V.isExtraCoord=!0),T--),F(V),null==V.type&&(vT(e,O)===En.Must||V.isExtraCoord&&(null!=V.otherDims.itemName||null!=V.otherDims.seriesName))&&(V.type="ordinal")}return function pH(e){for(var i=Mt(),t=0;t<e.length;t++){var n=e[t],r=n.name,a=i.get(r)||0;a>0&&(n.name=r+(a-1)),a++,i.set(r,a)}}(a),new ZA({source:e,dimensions:a,fullDimensionCount:o,dimensionOmitted:s})}function vH(e,i,t){if(t||i.hasKey(e)){for(var n=0;i.hasKey(e+n);)n++;e+=n}return i.set(e,!0),e}var mH=function e(i){this.coordSysDims=[],this.axisMap=Mt(),this.categoryAxisMap=Mt(),this.coordSysName=i},_H={cartesian2d:function(e,i,t,n){var r=e.getReferringComponents("xAxis",zi).models[0],a=e.getReferringComponents("yAxis",zi).models[0];i.coordSysDims=["x","y"],t.set("x",r),t.set("y",a),$h(r)&&(n.set("x",r),i.firstCategoryDimIndex=0),$h(a)&&(n.set("y",a),null==i.firstCategoryDimIndex&&(i.firstCategoryDimIndex=1))},singleAxis:function(e,i,t,n){var r=e.getReferringComponents("singleAxis",zi).models[0];i.coordSysDims=["single"],t.set("single",r),$h(r)&&(n.set("single",r),i.firstCategoryDimIndex=0)},polar:function(e,i,t,n){var r=e.getReferringComponents("polar",zi).models[0],a=r.findAxisModel("radiusAxis"),o=r.findAxisModel("angleAxis");i.coordSysDims=["radius","angle"],t.set("radius",a),t.set("angle",o),$h(a)&&(n.set("radius",a),i.firstCategoryDimIndex=0),$h(o)&&(n.set("angle",o),null==i.firstCategoryDimIndex&&(i.firstCategoryDimIndex=1))},geo:function(e,i,t,n){i.coordSysDims=["lng","lat"]},parallel:function(e,i,t,n){var r=e.ecModel,a=r.getComponent("parallel",e.get("parallelIndex")),o=i.coordSysDims=a.dimensions.slice();U(a.parallelAxisIndex,function(s,l){var c=r.getComponent("parallelAxis",s),u=o[l];t.set(u,c),$h(c)&&(n.set(u,c),null==i.firstCategoryDimIndex&&(i.firstCategoryDimIndex=l))})}};function $h(e){return"category"===e.get("type")}function Vl(e,i){return!!i&&i===e.getCalculationInfo("stackedDimension")}function tL(e,i){return Vl(e,i)?e.getCalculationInfo("stackResultDimension"):i}const Bs=function wH(e,i,t){t=t||{};var r,n=i.getSourceManager(),a=!1;e?(a=!0,r=W_(e)):a=(r=n.getSource()).sourceFormat===xa;var o=function yH(e){var i=e.get("coordinateSystem"),t=new mH(i),n=_H[i];if(n)return n(e,t,t.axisMap,t.categoryAxisMap),t}(i),s=function CH(e,i){var r,t=e.get("coordinateSystem"),n=pf.get(t);return i&&i.coordSysDims&&(r=mt(i.coordSysDims,function(a){var o={name:a},s=i.axisMap.get(a);if(s){var l=s.get("type");o.type=bv(l)}return o})),r||(r=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]),r}(i,o),l=t.useEncodeDefaulter,c=Z(l)?l:l?jt(gT,s,i):null,h=Zh(r,{coordDimensions:s,generateCoord:t.generateCoord,encodeDefine:i.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!a}),f=function SH(e,i,t){var n,r;return t&&U(e,function(a,o){var l=t.categoryAxisMap.get(a.coordDim);l&&(null==n&&(n=o),a.ordinalMeta=l.getOrdinalMeta(),i&&(a.createInvertedIndices=!0)),null!=a.otherDims.itemName&&(r=!0)}),!r&&null!=n&&(e[n].otherDims.itemName=0),n}(h.dimensions,t.createInvertedIndices,o),p=a?null:n.getSharedDataStore(h),m=function xH(e,i,t){var a,o,s,n=(t=t||{}).byIndex,r=t.stackedCoordDimension;!function bH(e){return!$A(e.schema)}(i)?(a=(o=i.schema).dimensions,s=i.store):a=i;var c,u,h,f,l=!(!e||!e.get("stack"));if(U(a,function(T,A){Lt(T)&&(a[A]=T={name:T}),l&&!T.isExtraCoord&&(!n&&!c&&T.ordinalMeta&&(c=T),!u&&"ordinal"!==T.type&&"time"!==T.type&&(!r||r===T.coordDim)&&(u=T))}),u&&!n&&!c&&(n=!0),u){h="__\0ecstackresult_"+e.id,f="__\0ecstackedover_"+e.id,c&&(c.createInvertedIndices=!0);var p=u.coordDim,m=u.type,b=0;U(a,function(T){T.coordDim===p&&b++});var _={name:h,coordDim:p,coordDimIndex:b,type:m,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length},w={name:f,coordDim:f,coordDimIndex:b+1,type:m,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:a.length+1};o?(s&&(_.storeDimIndex=s.ensureCalculationDimension(f,m),w.storeDimIndex=s.ensureCalculationDimension(h,m)),o.appendCalculationDimension(_),o.appendCalculationDimension(w)):(a.push(_),a.push(w))}return{stackedDimension:u&&u.name,stackedByDimension:c&&c.name,isStackedByIndex:n,stackedOverDimension:f,stackResultDimension:h}}(i,{schema:h,store:p}),b=new dr(h,i);b.setCalculationInfo(m);var _=null!=f&&function TH(e){if(e.sourceFormat===xa){var i=function MH(e){for(var i=0;i<e.length&&null==e[i];)i++;return e[i]}(e.data||[]);return!yt(mh(i))}}(r)?function(w,T,A,P){return P===f?A:this.defaultDimValueGetter(w,T,A,P)}:null;return b.hasItemOption=!1,b.initData(a?r:p,null,_),b};var AH=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.hasSymbolVisual=!0,t}return ot(i,e),i.prototype.getInitialData=function(t){return Bs(null,this,{useEncodeDefaulter:!0})},i.prototype.getLegendIcon=function(t){var n=new Kt,r=Gi("line",0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);n.add(r),r.setStyle(t.lineStyle);var a=this.getData().getVisual("symbol"),o=this.getData().getVisual("symbolRotate"),s="none"===a?"circle":a,l=.8*t.itemHeight,c=Gi(s,(t.itemWidth-l)/2,(t.itemHeight-l)/2,l,l,t.itemStyle.fill);return n.add(c),c.setStyle(t.itemStyle),c.rotation=("inherit"===t.iconRotate?o:t.iconRotate||0)*Math.PI/180,c.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf("empty")>-1&&(c.style.stroke=c.style.fill,c.style.fill="#fff",c.style.lineWidth=2),n},i.type="series.line",i.dependencies=["grid","polar"],i.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},i}(mi);const LH=AH;function jh(e,i){var t=e.mapDimensionsAll("defaultedLabel"),n=t.length;if(1===n){var r=Oh(e,i,t[0]);return null!=r?r+"":null}if(n){for(var a=[],o=0;o<t.length;o++)a.push(Oh(e,i,t[o]));return a.join(" ")}}function eL(e,i){var t=e.mapDimensionsAll("defaultedLabel");if(!yt(i))return i+"";for(var n=[],r=0;r<t.length;r++){var a=e.getDimensionIndex(t[r]);a>=0&&n.push(i[a])}return n.join(" ")}var kH=function(e){function i(t,n,r,a){var o=e.call(this)||this;return o.updateData(t,n,r,a),o}return ot(i,e),i.prototype._createSymbol=function(t,n,r,a,o){this.removeAll();var s=Gi(t,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),s.drift=DH,this._symbolType=t,this.add(s)},i.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},i.prototype.getSymbolType=function(){return this._symbolType},i.prototype.getSymbolPath=function(){return this.childAt(0)},i.prototype.highlight=function(){Is(this.childAt(0))},i.prototype.downplay=function(){Os(this.childAt(0))},i.prototype.setZ=function(t,n){var r=this.childAt(0);r.zlevel=t,r.z=n},i.prototype.setDraggable=function(t,n){var r=this.childAt(0);r.draggable=t,r.cursor=!n&&t?"move":r.cursor},i.prototype.updateData=function(t,n,r,a){this.silent=!1;var o=t.getItemVisual(n,"symbol")||"circle",s=t.hostModel,l=i.getSymbolSize(t,n),c=o!==this._symbolType,u=a&&a.disableAnimation;if(c){var h=t.getItemVisual(n,"symbolKeepAspect");this._createSymbol(o,t,n,l,h)}else{(f=this.childAt(0)).silent=!1;var p={scaleX:l[0]/2,scaleY:l[1]/2};u?f.attr(p):Ve(f,p,s,n),ro(f)}if(this._updateCommon(t,n,l,r,a),c){var f=this.childAt(0);u||(p={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:f.style.opacity}},f.scaleX=f.scaleY=0,f.style.opacity=0,pi(f,p,s,n))}u&&this.childAt(0).stopAnimation("leave")},i.prototype._updateCommon=function(t,n,r,a,o){var c,u,h,f,p,m,b,_,w,s=this.childAt(0),l=t.hostModel;if(a&&(c=a.emphasisItemStyle,u=a.blurItemStyle,h=a.selectItemStyle,f=a.focus,p=a.blurScope,b=a.labelStatesModels,_=a.hoverScale,w=a.cursorStyle,m=a.emphasisDisabled),!a||t.hasItemOption){var T=a&&a.itemModel?a.itemModel:t.getItemModel(n),A=T.getModel("emphasis");c=A.getModel("itemStyle").getItemStyle(),h=T.getModel(["select","itemStyle"]).getItemStyle(),u=T.getModel(["blur","itemStyle"]).getItemStyle(),f=A.get("focus"),p=A.get("blurScope"),m=A.get("disabled"),b=cn(T),_=A.getShallow("scale"),w=T.getShallow("cursor")}var P=t.getItemVisual(n,"symbolRotate");s.attr("rotation",(P||0)*Math.PI/180||0);var F=iu(t.getItemVisual(n,"symbolOffset"),r);F&&(s.x=F[0],s.y=F[1]),w&&s.attr("cursor",w);var O=t.getItemVisual(n,"style"),V=O.fill;if(s instanceof Pn){var N=s.style;s.useStyle(ft({image:N.image,x:N.x,y:N.y,width:N.width,height:N.height},O))}else s.useStyle(s.__isEmptyBrush?ft({},O):O),s.style.decal=null,s.setColor(V,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var G=t.getItemVisual(n,"liftZ"),H=this._z2;null!=G?null==H&&(this._z2=s.z2,s.z2+=G):null!=H&&(s.z2=H,this._z2=null);var X=o&&o.useNameLabel;On(s,b,{labelFetcher:l,labelDataIndex:n,defaultText:function q(tt){return X?t.getName(tt):jh(t,tt)},inheritColor:V,defaultOpacity:O.opacity}),this._sizeX=r[0]/2,this._sizeY=r[1]/2;var j=s.ensureState("emphasis");j.style=c,s.ensureState("select").style=h,s.ensureState("blur").style=u;var J=null==_||!0===_?Math.max(1.1,3/this._sizeY):isFinite(_)&&_>0?+_:1;j.scaleX=this._sizeX*J,j.scaleY=this._sizeY*J,this.setSymbolScale(1),Ti(this,f,p,m)},i.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},i.prototype.fadeOut=function(t,n,r){var a=this.childAt(0),o=Jt(this).dataIndex,s=r&&r.animation;if(this.silent=a.silent=!0,r&&r.fadeLabel){var l=a.getTextContent();l&&Ll(l,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();Ll(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:t,removeOpt:s})},i.getSymbolSize=function(t,n){return Hh(t.getItemVisual(n,"symbolSize"))},i}(Kt);function DH(e,i){this.parent.drift(e,i)}const Yf=kH;function ex(e,i,t,n){return i&&!isNaN(i[0])&&!isNaN(i[1])&&!(n.isIgnore&&n.isIgnore(t))&&!(n.clipShape&&!n.clipShape.contain(i[0],i[1]))&&"none"!==e.getItemVisual(t,"symbol")}function iL(e){return null!=e&&!Bt(e)&&(e={isIgnore:e}),e||{}}function nL(e){var i=e.hostModel,t=i.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:i.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:i.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:cn(i),cursorStyle:i.get("cursor")}}var PH=function(){function e(i){this.group=new Kt,this._SymbolCtor=i||Yf}return e.prototype.updateData=function(i,t){this._progressiveEls=null,t=iL(t);var n=this.group,r=i.hostModel,a=this._data,o=this._SymbolCtor,s=t.disableAnimation,l=nL(i),c={disableAnimation:s},u=t.getSymbolPoint||function(h){return i.getItemLayout(h)};a||n.removeAll(),i.diff(a).add(function(h){var f=u(h);if(ex(i,f,h,t)){var p=new o(i,h,l,c);p.setPosition(f),i.setItemGraphicEl(h,p),n.add(p)}}).update(function(h,f){var p=a.getItemGraphicEl(f),m=u(h);if(ex(i,m,h,t)){var b=i.getItemVisual(h,"symbol")||"circle",_=p&&p.getSymbolType&&p.getSymbolType();if(!p||_&&_!==b)n.remove(p),(p=new o(i,h,l,c)).setPosition(m);else{p.updateData(i,h,l,c);var w={x:m[0],y:m[1]};s?p.attr(w):Ve(p,w,r)}n.add(p),i.setItemGraphicEl(h,p)}else n.remove(p)}).remove(function(h){var f=a.getItemGraphicEl(h);f&&f.fadeOut(function(){n.remove(f)},r)}).execute(),this._getSymbolPoint=u,this._data=i},e.prototype.updateLayout=function(){var i=this,t=this._data;t&&t.eachItemGraphicEl(function(n,r){var a=i._getSymbolPoint(r);n.setPosition(a),n.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(i){this._seriesScope=nL(i),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(i,t,n){function r(l){l.isGroup||(l.incremental=!0,l.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],n=iL(n);for(var a=i.start;a<i.end;a++){var o=t.getItemLayout(a);if(ex(t,o,a,n)){var s=new this._SymbolCtor(t,a,this._seriesScope);s.traverse(r),s.setPosition(o),this.group.add(s),t.setItemGraphicEl(a,s),this._progressiveEls.push(s)}}},e.prototype.eachRendered=function(i){Fl(this._progressiveEls||this.group,i)},e.prototype.remove=function(i){var t=this.group,n=this._data;n&&i?n.eachItemGraphicEl(function(r){r.fadeOut(function(){t.remove(r)},n.hostModel)}):t.removeAll()},e}();const Xf=PH;function rL(e,i,t){var n=e.getBaseAxis(),r=e.getOtherAxis(n),a=function IH(e,i){var t=0,n=e.scale.getExtent();return"start"===i?t=n[0]:"end"===i?t=n[1]:_e(i)&&!isNaN(i)?t=i:n[0]>0?t=n[0]:n[1]<0&&(t=n[1]),t}(r,t),o=n.dim,s=r.dim,l=i.mapDimension(s),c=i.mapDimension(o),u="x"===s||"radius"===s?1:0,h=mt(e.dimensions,function(m){return i.mapDimension(m)}),f=!1,p=i.getCalculationInfo("stackResultDimension");return Vl(i,h[0])&&(f=!0,h[0]=p),Vl(i,h[1])&&(f=!0,h[1]=p),{dataDimsForPoint:h,valueStart:a,valueAxisDim:s,baseAxisDim:o,stacked:!!f,valueDim:l,baseDim:c,baseDataOffset:u,stackedOverDimension:i.getCalculationInfo("stackedOverDimension")}}function aL(e,i,t,n){var r=NaN;e.stacked&&(r=t.get(t.getCalculationInfo("stackedOverDimension"),n)),isNaN(r)&&(r=e.valueStart);var a=e.baseDataOffset,o=[];return o[a]=t.get(e.baseDim,n),o[1-a]=r,i.dataToPoint(o)}var oL=typeof Float32Array<"u",OH=oL?Float32Array:Array;function Qo(e){return yt(e)?oL?new Float32Array(e):e:new OH(e)}var zl=Math.min,Nl=Math.max;function du(e,i){return isNaN(e)||isNaN(i)}function ix(e,i,t,n,r,a,o,s,l){for(var c,u,h,f,p,m,b=t,_=0;_<n;_++){var w=i[2*b],T=i[2*b+1];if(b>=r||b<0)break;if(du(w,T)){if(l){b+=a;continue}break}if(b===t)e[a>0?"moveTo":"lineTo"](w,T),h=w,f=T;else{var A=w-c,P=T-u;if(A*A+P*P<.5){b+=a;continue}if(o>0){for(var F=b+a,O=i[2*F],V=i[2*F+1];O===w&&V===T&&_<n;)_++,O=i[2*(F+=a)],V=i[2*F+1],A=(w=i[2*(b+=a)])-c,P=(T=i[2*b+1])-u;var N=_+1;if(l)for(;du(O,V)&&N<n;)N++,O=i[2*(F+=a)],V=i[2*F+1];var G=.5,H=0,X=0,q=void 0,j=void 0;if(N>=n||du(O,V))p=w,m=T;else{H=O-c,X=V-u;var J=w-c,tt=O-w,et=T-u,lt=V-T,st=void 0,ut=void 0;if("x"===s){var vt=H>0?1:-1;p=w-vt*(st=Math.abs(J))*o,m=T,q=w+vt*(ut=Math.abs(tt))*o,j=T}else if("y"===s){var _t=X>0?1:-1;p=w,m=T-_t*(st=Math.abs(et))*o,q=w,j=T+_t*(ut=Math.abs(lt))*o}else st=Math.sqrt(J*J+et*et),p=w-H*o*(1-(G=(ut=Math.sqrt(tt*tt+lt*lt))/(ut+st))),m=T-X*o*(1-G),j=T+X*o*G,q=zl(q=w+H*o*G,Nl(O,w)),j=zl(j,Nl(V,T)),q=Nl(q,zl(O,w)),m=T-(X=(j=Nl(j,zl(V,T)))-T)*st/ut,p=zl(p=w-(H=q-w)*st/ut,Nl(c,w)),m=zl(m,Nl(u,T)),q=w+(H=w-(p=Nl(p,zl(c,w))))*ut/st,j=T+(X=T-(m=Nl(m,zl(u,T))))*ut/st}e.bezierCurveTo(h,f,p,m,w,T),h=q,f=j}else e.lineTo(w,T)}c=w,u=T,b+=a}return _}var sL=function e(){this.smooth=0,this.smoothConstraint=!0},RH=function(e){function i(t){var n=e.call(this,t)||this;return n.type="ec-polyline",n}return ot(i,e),i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new sL},i.prototype.buildPath=function(t,n){var r=n.points,a=0,o=r.length/2;if(n.connectNulls){for(;o>0&&du(r[2*o-2],r[2*o-1]);o--);for(;a<o&&du(r[2*a],r[2*a+1]);a++);}for(;a<o;)a+=ix(t,r,a,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},i.prototype.getPointOn=function(t,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var s,l,a=this.path.data,o=Yo.CMD,c="x"===n,u=[],h=0;h<a.length;){var p=void 0,m=void 0,b=void 0,_=void 0,w=void 0,T=void 0,A=void 0;switch(a[h++]){case o.M:s=a[h++],l=a[h++];break;case o.L:if(p=a[h++],m=a[h++],(A=c?(t-s)/(p-s):(t-l)/(m-l))<=1&&A>=0){var P=c?(m-l)*A+l:(p-s)*A+s;return c?[t,P]:[P,t]}s=p,l=m;break;case o.C:p=a[h++],m=a[h++],b=a[h++],_=a[h++],w=a[h++],T=a[h++];var F=c?S(s,p,b,w,t,u):S(l,m,_,T,t,u);if(F>0)for(var O=0;O<F;O++){var V=u[O];if(V<=1&&V>=0)return P=c?vi(l,m,_,T,V):vi(s,p,b,w,V),c?[t,P]:[P,t]}s=w,l=T}}},i}(ge),BH=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ot(i,e),i}(sL),lL=function(e){function i(t){var n=e.call(this,t)||this;return n.type="ec-polygon",n}return ot(i,e),i.prototype.getDefaultShape=function(){return new BH},i.prototype.buildPath=function(t,n){var r=n.points,a=n.stackedOnPoints,o=0,s=r.length/2,l=n.smoothMonotone;if(n.connectNulls){for(;s>0&&du(r[2*s-2],r[2*s-1]);s--);for(;o<s&&du(r[2*o],r[2*o+1]);o++);}for(;o<s;){var c=ix(t,r,o,s,s,1,n.smooth,l,n.connectNulls);ix(t,a,o+c-1,c,s,-1,n.stackedOnSmooth,l,n.connectNulls),o+=c+1,t.closePath()}},i}(ge);function cL(e,i,t,n,r){var a=e.getArea(),o=a.x,s=a.y,l=a.width,c=a.height,u=t.get(["lineStyle","width"])||2;o-=u/2,s-=u/2,l+=u,c+=u,l=Math.ceil(l),o!==Math.floor(o)&&(o=Math.floor(o),l++);var h=new De({shape:{x:o,y:s,width:l,height:c}});if(i){var f=e.getBaseAxis(),p=f.isHorizontal(),m=f.inverse;p?(m&&(h.shape.x+=l),h.shape.width=0):(m||(h.shape.y+=c),h.shape.height=0);var b=Z(r)?function(_){r(_,h)}:null;pi(h,{shape:{width:l,height:c,x:o,y:s}},t,null,n,b)}return h}function uL(e,i,t){var n=e.getArea(),r=ki(n.r0,1),a=ki(n.r,1),o=new kr({shape:{cx:ki(e.cx,1),cy:ki(e.cy,1),r0:r,r:a,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});return i&&("angle"===e.getBaseAxis().dim?o.shape.endAngle=n.startAngle:o.shape.r=r,pi(o,{shape:{endAngle:n.endAngle,r:a}},t)),o}function Uf(e,i,t,n,r){return e?"polar"===e.type?uL(e,i,t):"cartesian2d"===e.type?cL(e,i,t,n,r):null:null}function fu(e,i){return e.type===i}function hL(e,i){if(e.length===i.length){for(var t=0;t<e.length;t++)if(e[t]!==i[t])return;return!0}}function dL(e){for(var i=1/0,t=1/0,n=-1/0,r=-1/0,a=0;a<e.length;){var o=e[a++],s=e[a++];isNaN(o)||(i=Math.min(o,i),n=Math.max(o,n)),isNaN(s)||(t=Math.min(s,t),r=Math.max(s,r))}return[[i,t],[n,r]]}function fL(e,i){var t=dL(e),n=t[0],r=t[1],a=dL(i),o=a[0],s=a[1];return Math.max(Math.abs(n[0]-o[0]),Math.abs(n[1]-o[1]),Math.abs(r[0]-s[0]),Math.abs(r[1]-s[1]))}function pL(e){return _e(e)?e:e?.5:0}function Gl(e,i,t,n){var r=i.getBaseAxis(),a="x"===r.dim||"radius"===r.dim?0:1,o=[],s=0,l=[],c=[],u=[],h=[];if(n){for(s=0;s<e.length;s+=2)!isNaN(e[s])&&!isNaN(e[s+1])&&h.push(e[s],e[s+1]);e=h}for(s=0;s<e.length-2;s+=2)switch(u[0]=e[s+2],u[1]=e[s+3],c[0]=e[s],c[1]=e[s+1],o.push(c[0],c[1]),t){case"end":l[a]=u[a],l[1-a]=c[1-a],o.push(l[0],l[1]);break;case"middle":var p=[];l[a]=p[a]=(c[a]+u[a])/2,l[1-a]=c[1-a],p[1-a]=u[1-a],o.push(l[0],l[1]),o.push(p[0],p[1]);break;default:l[a]=c[a],l[1-a]=u[1-a],o.push(l[0],l[1])}return o.push(e[s++],e[s++]),o}function WH(e,i){return isNaN(e)||isNaN(i)}function gL(e,i){return[e[2*i],e[2*i+1]]}function vL(e){if(e.get(["endLabel","show"]))return!0;for(var i=0;i<lr.length;i++)if(e.get([lr[i],"endLabel","show"]))return!0;return!1}function nx(e,i,t,n){if(fu(i,"cartesian2d")){var r=n.getModel("endLabel"),a=r.get("valueAnimation"),o=n.getData(),s={lastFrameIndex:0},l=vL(n)?function(p,m){e._endLabelOnDuring(p,m,o,s,a,r,i)}:null,c=i.getBaseAxis().isHorizontal(),u=cL(i,t,n,function(){var p=e._endLabel;p&&t&&null!=s.originalX&&p.attr({x:s.originalX,y:s.originalY})},l);if(!n.get("clip",!0)){var h=u.shape,f=Math.max(h.width,h.height);c?(h.y-=f,h.height+=2*f):(h.x-=f,h.width+=2*f)}return l&&l(1,u),u}return uL(i,t,n)}var ZH=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ot(i,e),i.prototype.init=function(){var t=new Kt,n=new Xf;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=t},i.prototype.render=function(t,n,r){var a=this,o=t.coordinateSystem,s=this.group,l=t.getData(),c=t.getModel("lineStyle"),u=t.getModel("areaStyle"),h=l.getLayout("points")||[],f="polar"===o.type,p=this._coordSys,m=this._symbolDraw,b=this._polyline,_=this._polygon,w=this._lineGroup,T=!n.ssr&&t.get("animation"),A=!u.isEmpty(),P=u.get("origin"),F=rL(o,l,P),O=A&&function VH(e,i,t){if(!t.valueDim)return[];for(var n=i.count(),r=Qo(2*n),a=0;a<n;a++){var o=aL(t,e,i,a);r[2*a]=o[0],r[2*a+1]=o[1]}return r}(o,l,F),V=t.get("showSymbol"),N=t.get("connectNulls"),G=V&&!f&&function GH(e,i,t){var n=e.get("showAllSymbol"),r="auto"===n;if(!n||r){var a=t.getAxesByScale("ordinal")[0];if(a&&(!r||!function HH(e,i){var t=e.getExtent(),n=Math.abs(t[1]-t[0])/e.scale.count();isNaN(n)&&(n=0);for(var r=i.count(),a=Math.max(1,Math.round(r/5)),o=0;o<r;o+=a)if(1.5*Yf.getSymbolSize(i,o)[e.isHorizontal()?1:0]>n)return!1;return!0}(a,i))){var o=i.mapDimension(a.dim),s={};return U(a.getViewLabels(),function(l){var c=a.scale.getRawOrdinalNumber(l.tickValue);s[c]=1}),function(l){return!s.hasOwnProperty(i.get(o,l))}}}}(t,l,o),H=this._data;H&&H.eachItemGraphicEl(function(le,Ut){le.__temp&&(s.remove(le),H.setItemGraphicEl(Ut,null))}),V||m.remove(),s.add(w);var q,X=!f&&t.get("step");o&&o.getArea&&t.get("clip",!0)&&(null!=(q=o.getArea()).width?(q.x-=.1,q.y-=.1,q.width+=.2,q.height+=.2):q.r0&&(q.r0-=.5,q.r+=.5)),this._clipShapeForSymbol=q;var j=function NH(e,i,t){var n=e.getVisual("visualMeta");if(n&&n.length&&e.count()&&"cartesian2d"===i.type){for(var r,a,o=n.length-1;o>=0;o--){var s=e.getDimensionInfo(n[o].dimension);if("x"===(r=s&&s.coordDim)||"y"===r){a=n[o];break}}if(a){var l=i.getAxis(r),c=mt(a.stops,function(A){return{coord:l.toGlobalCoord(l.dataToCoord(A.value)),color:A.color}}),u=c.length,h=a.outerColors.slice();u&&c[0].coord>c[u-1].coord&&(c.reverse(),h.reverse());var f=function zH(e,i){var r,a,t=[],n=e.length;function o(u,h,f){var p=u.coord,b=function Zp(e,i,t){if(i&&i.length&&e>=0&&e<=1){var n=e*(i.length-1),r=Math.floor(n),a=Math.ceil(n),o=Dn(i[r]),s=Dn(i[a]),l=n-r,c=wr([ar(or(o[0],s[0],l)),ar(or(o[1],s[1],l)),ar(or(o[2],s[2],l)),ui(or(o[3],s[3],l))],"rgba");return t?{color:c,leftIndex:r,rightIndex:a,value:n}:c}}((f-p)/(h.coord-p),[u.color,h.color]);return{coord:f,color:b}}for(var s=0;s<n;s++){var l=e[s],c=l.coord;if(c<0)r=l;else{if(c>i){a?t.push(o(a,l,i)):r&&t.push(o(r,l,0),o(r,l,i));break}r&&(t.push(o(r,l,0)),r=null),t.push(l),a=l}}return t}(c,"x"===r?t.getWidth():t.getHeight()),p=f.length;if(!p&&u)return c[0].coord<0?h[1]?h[1]:c[u-1].color:h[0]?h[0]:c[0].color;var b=f[0].coord-10,_=f[p-1].coord+10,w=_-b;if(w<.001)return"transparent";U(f,function(A){A.offset=(A.coord-b)/w}),f.push({offset:p?f[p-1].offset:.5,color:h[1]||"transparent"}),f.unshift({offset:p?f[0].offset:.5,color:h[0]||"transparent"});var T=new Sf(0,0,0,0,f,!0);return T[r]=b,T[r+"2"]=_,T}}}(l,o,r)||l.getVisual("style")[l.getVisual("drawType")];if(b&&p.type===o.type&&X===this._step){A&&!_?_=this._newPolygon(h,O):_&&!A&&(w.remove(_),_=this._polygon=null),f||this._initOrUpdateEndLabel(t,o,Xc(j));var J=w.getClipPath();J?pi(J,{shape:nx(this,o,!1,t).shape},t):w.setClipPath(nx(this,o,!0,t)),V&&m.updateData(l,{isIgnore:G,clipShape:q,disableAnimation:!0,getSymbolPoint:function(le){return[h[2*le],h[2*le+1]]}}),(!hL(this._stackedOnPoints,O)||!hL(this._points,h))&&(T?this._doUpdateAnimation(l,O,o,r,X,P,N):(X&&(h=Gl(h,o,X,N),O&&(O=Gl(O,o,X,N))),b.setShape({points:h}),_&&_.setShape({points:h,stackedOnPoints:O})))}else V&&m.updateData(l,{isIgnore:G,clipShape:q,disableAnimation:!0,getSymbolPoint:function(le){return[h[2*le],h[2*le+1]]}}),T&&this._initSymbolLabelAnimation(l,o,q),X&&(h=Gl(h,o,X,N),O&&(O=Gl(O,o,X,N))),b=this._newPolyline(h),A?_=this._newPolygon(h,O):_&&(w.remove(_),_=this._polygon=null),f||this._initOrUpdateEndLabel(t,o,Xc(j)),w.setClipPath(nx(this,o,!0,t));var et=t.getModel("emphasis"),lt=et.get("focus"),st=et.get("blurScope"),ut=et.get("disabled");b.useStyle(Rt(c.getLineStyle(),{fill:"none",stroke:j,lineJoin:"bevel"})),In(b,t,"lineStyle"),b.style.lineWidth>0&&"bolder"===t.get(["emphasis","lineStyle","width"])&&(b.getState("emphasis").style.lineWidth=+b.style.lineWidth+1),Jt(b).seriesIndex=t.seriesIndex,Ti(b,lt,st,ut);var _t=pL(t.get("smooth")),St=t.get("smoothMonotone");if(b.setShape({smooth:_t,smoothMonotone:St,connectNulls:N}),_){var Et=l.getCalculationInfo("stackedOnSeries"),Ft=0;_.useStyle(Rt(u.getAreaStyle(),{fill:j,opacity:.7,lineJoin:"bevel",decal:l.getVisual("style").decal})),Et&&(Ft=pL(Et.get("smooth"))),_.setShape({smooth:_t,stackedOnSmooth:Ft,smoothMonotone:St,connectNulls:N}),In(_,t,"areaStyle"),Jt(_).seriesIndex=t.seriesIndex,Ti(_,lt,st,ut)}var ne=function(le){a._changePolyState(le)};l.eachItemGraphicEl(function(le){le&&(le.onHoverStateChange=ne)}),this._polyline.onHoverStateChange=ne,this._data=l,this._coordSys=o,this._stackedOnPoints=O,this._points=h,this._step=X,this._valueOrigin=P,t.get("triggerLineEvent")&&(this.packEventData(t,b),_&&this.packEventData(t,_))},i.prototype.packEventData=function(t,n){Jt(n).eventData={componentType:"series",componentSubType:"line",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"line"}},i.prototype.highlight=function(t,n,r,a){var o=t.getData(),s=kc(o,a);if(this._changePolyState("emphasis"),!(s instanceof Array)&&null!=s&&s>=0){var l=o.getLayout("points"),c=o.getItemGraphicEl(s);if(!c){var u=l[2*s],h=l[2*s+1];if(isNaN(u)||isNaN(h)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(u,h))return;var f=t.get("zlevel")||0,p=t.get("z")||0;(c=new Yf(o,s)).x=u,c.y=h,c.setZ(f,p);var m=c.getSymbolPath().getTextContent();m&&(m.zlevel=f,m.z=p,m.z2=this._polyline.z2+1),c.__temp=!0,o.setItemGraphicEl(s,c),c.stopSymbolAnimation(!0),this.group.add(c)}c.highlight()}else oi.prototype.highlight.call(this,t,n,r,a)},i.prototype.downplay=function(t,n,r,a){var o=t.getData(),s=kc(o,a);if(this._changePolyState("normal"),null!=s&&s>=0){var l=o.getItemGraphicEl(s);l&&(l.__temp?(o.setItemGraphicEl(s,null),this.group.remove(l)):l.downplay())}else oi.prototype.downplay.call(this,t,n,r,a)},i.prototype._changePolyState=function(t){var n=this._polygon;yg(this._polyline,t),n&&yg(n,t)},i.prototype._newPolyline=function(t){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new RH({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},i.prototype._newPolygon=function(t,n){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new lL({shape:{points:t,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},i.prototype._initSymbolLabelAnimation=function(t,n,r){var a,o,s=n.getBaseAxis(),l=s.inverse;"cartesian2d"===n.type?(a=s.isHorizontal(),o=!1):"polar"===n.type&&(a="angle"===s.dim,o=!0);var c=t.hostModel,u=c.get("animationDuration");Z(u)&&(u=u(null));var h=c.get("animationDelay")||0,f=Z(h)?h(null):h;t.eachItemGraphicEl(function(p,m){var b=p;if(b){var w=void 0,T=void 0,A=void 0;if(r)if(o){var P=r,F=n.pointToCoord([p.x,p.y]);a?(w=P.startAngle,T=P.endAngle,A=-F[1]/180*Math.PI):(w=P.r0,T=P.r,A=F[0])}else a?(w=r.x,T=r.x+r.width,A=p.x):(w=r.y+r.height,T=r.y,A=p.y);var V=T===w?0:(A-w)/(T-w);l&&(V=1-V);var N=Z(h)?h(m):u*V+f,G=b.getSymbolPath(),H=G.getTextContent();b.attr({scaleX:0,scaleY:0}),b.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:N}),H&&H.animateFrom({style:{opacity:0}},{duration:300,delay:N}),G.disableLabelAnimation=!0}})},i.prototype._initOrUpdateEndLabel=function(t,n,r){var a=t.getModel("endLabel");if(vL(t)){var o=t.getData(),s=this._polyline,l=o.getLayout("points");if(!l)return s.removeTextContent(),void(this._endLabel=null);var c=this._endLabel;c||((c=this._endLabel=new Ie({z2:200})).ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var u=function YH(e){for(var i=e.length/2;i>0&&WH(e[2*i-2],e[2*i-1]);i--);return i-1}(l);u>=0&&(On(s,cn(t,"endLabel"),{inheritColor:r,labelFetcher:t,labelDataIndex:u,defaultText:function(h,f,p){return null!=p?eL(o,p):jh(o,h)},enableTextSetter:!0},function UH(e,i){var t=i.getBaseAxis(),n=t.isHorizontal(),r=t.inverse,a=n?r?"right":"left":"center",o=n?"middle":r?"top":"bottom";return{normal:{align:e.get("align")||a,verticalAlign:e.get("verticalAlign")||o}}}(a,n)),s.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},i.prototype._endLabelOnDuring=function(t,n,r,a,o,s,l){var c=this._endLabel,u=this._polyline;if(c){t<1&&null==a.originalX&&(a.originalX=c.x,a.originalY=c.y);var h=r.getLayout("points"),f=r.hostModel,p=f.get("connectNulls"),m=s.get("precision"),b=s.get("distance")||0,_=l.getBaseAxis(),w=_.isHorizontal(),T=_.inverse,A=n.shape,P=T?w?A.x:A.y+A.height:w?A.x+A.width:A.y,F=(w?b:0)*(T?-1:1),O=(w?0:-b)*(T?-1:1),V=w?"x":"y",N=function XH(e,i,t){for(var a,o,n=e.length/2,r="x"===t?0:1,s=0,l=-1,c=0;c<n;c++)if(o=e[2*c+r],!isNaN(o)&&!isNaN(e[2*c+1-r])){if(0===c){a=o;continue}if(a<=i&&o>=i||a>=i&&o<=i){l=c;break}s=c,a=o}return{range:[s,l],t:(i-a)/(o-a)}}(h,P,V),G=N.range,H=G[1]-G[0],X=void 0;if(H>=1){if(H>1&&!p){var q=gL(h,G[0]);c.attr({x:q[0]+F,y:q[1]+O}),o&&(X=f.getRawValue(G[0]))}else{(q=u.getPointOn(P,V))&&c.attr({x:q[0]+F,y:q[1]+O});var j=f.getRawValue(G[0]),J=f.getRawValue(G[1]);o&&(X=NS(r,m,j,J,N.t))}a.lastFrameIndex=G[0]}else{var tt=1===t||a.lastFrameIndex>0?G[0]:0;q=gL(h,tt),o&&(X=f.getRawValue(tt)),c.attr({x:q[0]+F,y:q[1]+O})}if(o){var et=Sh(c);"function"==typeof et.setLabelText&&et.setLabelText(X)}}},i.prototype._doUpdateAnimation=function(t,n,r,a,o,s,l){var c=this._polyline,u=this._polygon,h=t.hostModel,f=function FH(e,i,t,n,r,a,o,s){for(var l=function EH(e,i){var t=[];return i.diff(e).add(function(n){t.push({cmd:"+",idx:n})}).update(function(n,r){t.push({cmd:"=",idx:r,idx1:n})}).remove(function(n){t.push({cmd:"-",idx:n})}).execute(),t}(e,i),c=[],u=[],h=[],f=[],p=[],m=[],b=[],_=rL(r,i,o),w=e.getLayout("points")||[],T=i.getLayout("points")||[],A=0;A<l.length;A++){var P=l[A],F=!0,O=void 0,V=void 0;switch(P.cmd){case"=":var N=w[O=2*P.idx],G=w[O+1],H=T[V=2*P.idx1],X=T[V+1];(isNaN(N)||isNaN(G))&&(N=H,G=X),c.push(N,G),u.push(H,X),h.push(t[O],t[O+1]),f.push(n[V],n[V+1]),b.push(i.getRawIndex(P.idx1));break;case"+":var q=P.idx,j=_.dataDimsForPoint,J=r.dataToPoint([i.get(j[0],q),i.get(j[1],q)]);V=2*q,c.push(J[0],J[1]),u.push(T[V],T[V+1]);var tt=aL(_,r,i,q);h.push(tt[0],tt[1]),f.push(n[V],n[V+1]),b.push(i.getRawIndex(q));break;case"-":F=!1}F&&(p.push(P),m.push(m.length))}m.sort(function(ne,le){return b[ne]-b[le]});var et=c.length,lt=Qo(et),st=Qo(et),ut=Qo(et),vt=Qo(et),_t=[];for(A=0;A<m.length;A++){var St=m[A],Et=2*A,Ft=2*St;lt[Et]=c[Ft],lt[Et+1]=c[Ft+1],st[Et]=u[Ft],st[Et+1]=u[Ft+1],ut[Et]=h[Ft],ut[Et+1]=h[Ft+1],vt[Et]=f[Ft],vt[Et+1]=f[Ft+1],_t[A]=p[St]}return{current:lt,next:st,stackedOnCurrent:ut,stackedOnNext:vt,status:_t}}(this._data,t,this._stackedOnPoints,n,this._coordSys,0,this._valueOrigin),p=f.current,m=f.stackedOnCurrent,b=f.next,_=f.stackedOnNext;if(o&&(p=Gl(f.current,r,o,l),m=Gl(f.stackedOnCurrent,r,o,l),b=Gl(f.next,r,o,l),_=Gl(f.stackedOnNext,r,o,l)),fL(p,b)>3e3||u&&fL(m,_)>3e3)return c.stopAnimation(),c.setShape({points:b}),void(u&&(u.stopAnimation(),u.setShape({points:b,stackedOnPoints:_})));c.shape.__points=f.current,c.shape.points=p;var w={shape:{points:b}};f.current!==p&&(w.shape.__points=f.next),c.stopAnimation(),Ve(c,w,h),u&&(u.setShape({points:p,stackedOnPoints:m}),u.stopAnimation(),Ve(u,{shape:{stackedOnPoints:_}},h),c.shape.points!==u.shape.points&&(u.shape.points=c.shape.points));for(var T=[],A=f.status,P=0;P<A.length;P++)if("="===A[P].cmd){var O=t.getItemGraphicEl(A[P].idx1);O&&T.push({el:O,ptIdx:P})}c.animators&&c.animators.length&&c.animators[0].during(function(){u&&u.dirtyShape();for(var V=c.shape.__points,N=0;N<T.length;N++){var G=T[N].el,H=2*T[N].ptIdx;G.x=V[H],G.y=V[H+1],G.markRedraw()}})},i.prototype.remove=function(t){var n=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(a,o){a.__temp&&(n.remove(a),r.setItemGraphicEl(o,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},i.type="line",i}(oi);const $H=ZH;function Zf(e,i){return{seriesType:e,plan:Fh(),reset:function(t){var n=t.getData(),r=t.coordinateSystem,o=i||t.pipelineContext.large;if(r){var s=mt(r.dimensions,function(p){return n.mapDimension(p)}).slice(0,2),l=s.length,c=n.getCalculationInfo("stackResultDimension");Vl(n,s[0])&&(s[0]=c),Vl(n,s[1])&&(s[1]=c);var u=n.getStore(),h=n.getDimensionIndex(s[0]),f=n.getDimensionIndex(s[1]);return l&&{progress:function(p,m){for(var _=o&&Qo((p.end-p.start)*l),w=[],T=[],A=p.start,P=0;A<p.end;A++){var F=void 0;if(1===l){var O=u.get(h,A);F=r.dataToPoint(O,null,T)}else w[0]=u.get(h,A),w[1]=u.get(f,A),F=r.dataToPoint(w,null,T);o?(_[P++]=F[0],_[P++]=F[1]):m.setItemLayout(A,F.slice())}o&&m.setLayout("points",_)}}}}}}var jH={average:function(e){for(var i=0,t=0,n=0;n<e.length;n++)isNaN(e[n])||(i+=e[n],t++);return 0===t?NaN:i/t},sum:function(e){for(var i=0,t=0;t<e.length;t++)i+=e[t]||0;return i},max:function(e){for(var i=-1/0,t=0;t<e.length;t++)e[t]>i&&(i=e[t]);return isFinite(i)?i:NaN},min:function(e){for(var i=1/0,t=0;t<e.length;t++)e[t]<i&&(i=e[t]);return isFinite(i)?i:NaN},minmax:function(e){for(var i=-1/0,t=-1/0,n=0;n<e.length;n++){var r=e[n],a=Math.abs(r);a>i&&(i=a,t=r)}return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},qH=function(e){return Math.round(e.length/2)};function mL(e){return{seriesType:e,reset:function(i,t,n){var r=i.getData(),a=i.get("sampling"),o=i.coordinateSystem,s=r.count();if(s>10&&"cartesian2d"===o.type&&a){var l=o.getBaseAxis(),c=o.getOtherAxis(l),u=l.getExtent(),h=n.getDevicePixelRatio(),f=Math.abs(u[1]-u[0])*(h||1),p=Math.round(s/f);if(isFinite(p)&&p>1){"lttb"===a&&i.setData(r.lttbDownSample(r.mapDimension(c.dim),1/p));var m=void 0;Lt(a)?m=jH[a]:Z(a)&&(m=a),m&&i.setData(r.downSample(r.mapDimension(c.dim),1/p,m,qH))}}}}}var rx="__ec_stack_";function ax(e){return e.get("stack")||rx+e.seriesIndex}function ox(e){return e.dim+e.index}function yL(e,i){var t=[];return i.eachSeriesByType(e,function(n){SL(n)&&t.push(n)}),t}function _L(e){var i=function JH(e){var i={};U(e,function(l){var u=l.coordinateSystem.getBaseAxis();if("time"===u.type||"value"===u.type)for(var h=l.getData(),f=u.dim+"_"+u.index,p=h.getDimensionIndex(h.mapDimension(u.dim)),m=h.getStore(),b=0,_=m.count();b<_;++b){var w=m.get(p,b);i[f]?i[f].push(w):i[f]=[w]}});var t={};for(var n in i)if(i.hasOwnProperty(n)){var r=i[n];if(r){r.sort(function(l,c){return l-c});for(var a=null,o=1;o<r.length;++o){var s=r[o]-r[o-1];s>0&&(a=null===a?s:Math.min(a,s))}t[n]=a}}return t}(e),t=[];return U(e,function(n){var s,a=n.coordinateSystem.getBaseAxis(),o=a.getExtent();if("category"===a.type)s=a.getBandWidth();else if("value"===a.type||"time"===a.type){var c=i[a.dim+"_"+a.index],u=Math.abs(o[1]-o[0]),h=a.scale.getExtent(),f=Math.abs(h[1]-h[0]);s=c?u/f*c:u}else{var p=n.getData();s=Math.abs(o[1]-o[0])/p.count()}var m=At(n.get("barWidth"),s),b=At(n.get("barMaxWidth"),s),_=At(n.get("barMinWidth")||(wL(n)?.5:1),s),w=n.get("barGap"),T=n.get("barCategoryGap");t.push({bandWidth:s,barWidth:m,barMaxWidth:b,barMinWidth:_,barGap:w,barCategoryGap:T,axisKey:ox(a),stackId:ax(n)})}),xL(t)}function xL(e){var i={};U(e,function(n,r){var a=n.axisKey,o=n.bandWidth,s=i[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},l=s.stacks;i[a]=s;var c=n.stackId;l[c]||s.autoWidthCount++,l[c]=l[c]||{width:0,maxWidth:0};var u=n.barWidth;u&&!l[c].width&&(l[c].width=u,u=Math.min(s.remainedWidth,u),s.remainedWidth-=u);var h=n.barMaxWidth;h&&(l[c].maxWidth=h);var f=n.barMinWidth;f&&(l[c].minWidth=f);var p=n.barGap;null!=p&&(s.gap=p);var m=n.barCategoryGap;null!=m&&(s.categoryGap=m)});var t={};return U(i,function(n,r){t[r]={};var a=n.stacks,o=n.bandWidth,s=n.categoryGap;if(null==s){var l=he(a).length;s=Math.max(35-4*l,15)+"%"}var c=At(s,o),u=At(n.gap,1),h=n.remainedWidth,f=n.autoWidthCount,p=(h-c)/(f+(f-1)*u);p=Math.max(p,0),U(a,function(w){var T=w.maxWidth,A=w.minWidth;if(w.width){var P=w.width;T&&(P=Math.min(P,T)),A&&(P=Math.max(P,A)),w.width=P,h-=P+u*P,f--}else P=p,T&&T<P&&(P=Math.min(T,h)),A&&A>P&&(P=A),P!==p&&(w.width=P,h-=P+u*P,f--)}),p=(h-c)/(f+(f-1)*u),p=Math.max(p,0);var b,m=0;U(a,function(w,T){w.width||(w.width=p),b=w,m+=w.width*(1+u)}),b&&(m-=b.width*u);var _=-m/2;U(a,function(w,T){t[r][T]=t[r][T]||{bandWidth:o,offset:_,width:w.width},_+=w.width*(1+u)})}),t}function bL(e,i){var t=yL(e,i),n=_L(t);U(t,function(r){var a=r.getData(),s=r.coordinateSystem.getBaseAxis(),l=ax(r),c=n[ox(s)][l];a.setLayout({bandWidth:c.bandWidth,offset:c.offset,size:c.width})})}function CL(e){return{seriesType:e,plan:Fh(),reset:function(i){if(SL(i)){var t=i.getData(),n=i.coordinateSystem,r=n.getBaseAxis(),a=n.getOtherAxis(r),o=t.getDimensionIndex(t.mapDimension(a.dim)),s=t.getDimensionIndex(t.mapDimension(r.dim)),l=i.get("showBackground",!0),c=t.mapDimension(a.dim),u=t.getCalculationInfo("stackResultDimension"),h=Vl(t,c)&&!!t.getCalculationInfo("stackedOnSeries"),f=a.isHorizontal(),p=function e6(e,i){var t=i.model.get("startValue");return t||(t=0),i.toGlobalCoord(i.dataToCoord("log"===i.type?t>0?t:1:t))}(0,a),m=wL(i),b=i.get("barMinHeight")||0,_=u&&t.getDimensionIndex(u),w=t.getLayout("size"),T=t.getLayout("offset");return{progress:function(A,P){for(var X,F=A.count,O=m&&Qo(3*F),V=m&&l&&Qo(3*F),N=m&&Qo(F),G=n.master.getRect(),H=f?G.width:G.height,q=P.getStore(),j=0;null!=(X=A.next());){var J=q.get(h?_:o,X),tt=q.get(s,X),et=p,lt=void 0;h&&(lt=+J-q.get(o,X));var st=void 0,ut=void 0,vt=void 0,_t=void 0;if(f){var St=n.dataToPoint([J,tt]);h&&(et=n.dataToPoint([lt,tt])[0]),st=et,ut=St[1]+T,vt=St[0]-et,_t=w,Math.abs(vt)<b&&(vt=(vt<0?-1:1)*b)}else St=n.dataToPoint([tt,J]),h&&(et=n.dataToPoint([tt,lt])[1]),st=St[0]+T,ut=et,vt=w,_t=St[1]-et,Math.abs(_t)<b&&(_t=(_t<=0?-1:1)*b);m?(O[j]=st,O[j+1]=ut,O[j+2]=f?vt:_t,V&&(V[j]=f?G.x:st,V[j+1]=f?ut:G.y,V[j+2]=H),N[X]=X):P.setItemLayout(X,{x:st,y:ut,width:vt,height:_t}),j+=3}m&&P.setLayout({largePoints:O,largeDataIndices:N,largeBackgroundPoints:V,valueAxisHorizontal:f})}}}}}}function SL(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function wL(e){return e.pipelineContext&&e.pipelineContext.large}var TL=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.getInitialData=function(t,n){return Bs(null,this,{useEncodeDefaulter:!0})},i.prototype.getMarkerPosition=function(t,n,r){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(t),s=a.dataToPoint(o);if(r)U(a.getAxes(),function(f,p){if("category"===f.type&&null!=n){var m=f.getTicksCoords(),b=f.getTickModel().get("alignWithLabel"),_=o[p],w="x1"===n[p]||"y1"===n[p];if(w&&!b&&(_+=1),m.length<2)return;if(2===m.length)return void(s[p]=f.toGlobalCoord(f.getExtent()[w?1:0]));for(var T=void 0,A=void 0,P=1,F=0;F<m.length;F++){var O=m[F].coord,V=F===m.length-1?m[F-1].tickValue+P:m[F].tickValue;if(V===_){A=O;break}if(V<_)T=O;else if(null!=T&&V>_){A=(O+T)/2;break}1===F&&(P=V-m[0].tickValue)}null==A&&(T?T&&(A=m[m.length-1].coord):A=m[0].coord),s[p]=f.toGlobalCoord(A)}});else{var l=this.getData(),c=l.getLayout("offset"),u=l.getLayout("size"),h=a.getBaseAxis().isHorizontal()?0:1;s[h]+=c+u/2}return s}return[NaN,NaN]},i.type="series.__base_bar__",i.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},i}(mi);mi.registerClass(TL);const Tv=TL;var i6=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.getInitialData=function(){return Bs(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},i.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},i.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),n=this.get("largeThreshold");return n>t&&(t=n),t},i.prototype.brushSelector=function(t,n,r){return r.rect(n.getItemLayout(t))},i.type="series.bar",i.dependencies=["grid","polar"],i.defaultOption=kl(Tv.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),i}(Tv);const n6=i6;var r6=function e(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},a6=function(e){function i(t){var n=e.call(this,t)||this;return n.type="sausage",n}return ot(i,e),i.prototype.getDefaultShape=function(){return new r6},i.prototype.buildPath=function(t,n){var r=n.cx,a=n.cy,o=Math.max(n.r0||0,0),s=Math.max(n.r,0),l=.5*(s-o),c=o+l,u=n.startAngle,h=n.endAngle,f=n.clockwise,p=2*Math.PI,m=f?h-u<p:u-h<p;m||(u=h-(f?p:-p));var b=Math.cos(u),_=Math.sin(u),w=Math.cos(h),T=Math.sin(h);m?(t.moveTo(b*o+r,_*o+a),t.arc(b*c+r,_*c+a,l,-Math.PI+u,u,!f)):t.moveTo(b*s+r,_*s+a),t.arc(r,a,s,u,h,!f),t.arc(w*c+r,T*c+a,l,h-2*Math.PI,h-Math.PI,!f),0!==o&&t.arc(r,a,o,h,u,f)},i}(ge);const Mv=a6;function Av(e,i,t){return i*Math.sin(e)*(t?-1:1)}function Lv(e,i,t){return i*Math.cos(e)*(t?1:-1)}function pu(e,i,t){var n=e.get("borderRadius");if(null==n)return t?{cornerRadius:0}:null;yt(n)||(n=[n,n,n,n]);var r=Math.abs(i.r||0-i.r0||0);return{cornerRadius:mt(n,function(a){return no(a,r)})}}var sx=Math.max,lx=Math.min,c6=function(e){function i(){var t=e.call(this)||this;return t.type=i.type,t._isFirstFrame=!0,t}return ot(i,e),i.prototype.render=function(t,n,r,a){this._model=t,this._removeOnRenderedListener(r),this._updateDrawMode(t);var o=t.get("coordinateSystem");("cartesian2d"===o||"polar"===o)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,n,r):this._renderNormal(t,n,r,a))},i.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},i.prototype.incrementalRender=function(t,n){this._progressiveEls=[],this._incrementalRenderLarge(t,n)},i.prototype.eachRendered=function(t){Fl(this._progressiveEls||this.group,t)},i.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(null==this._isLargeDraw||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},i.prototype._renderNormal=function(t,n,r,a){var h,o=this.group,s=t.getData(),l=this._data,c=t.coordinateSystem,u=c.getBaseAxis();"cartesian2d"===c.type?h=u.isHorizontal():"polar"===c.type&&(h="angle"===u.dim);var f=t.isAnimationEnabled()?t:null,p=function u6(e,i){var t=e.get("realtimeSort",!0),n=i.getBaseAxis();if(t&&"category"===n.type&&"cartesian2d"===i.type)return{baseAxis:n,otherAxis:i.getOtherAxis(n)}}(t,c);p&&this._enableRealtimeSort(p,s,r);var m=t.get("clip",!0)||p,b=function l6(e,i){var t=e.getArea&&e.getArea();if(fu(e,"cartesian2d")){var n=e.getBaseAxis();if("category"!==n.type||!n.onBand){var r=i.getLayout("bandWidth");n.isHorizontal()?(t.x-=r,t.width+=2*r):(t.y-=r,t.height+=2*r)}}return t}(c,s);o.removeClipPath();var _=t.get("roundCap",!0),w=t.get("showBackground",!0),T=t.getModel("backgroundStyle"),A=T.get("borderRadius")||0,P=[],F=this._backgroundEls,O=a&&a.isInitSort,V=a&&"changeAxisOrder"===a.type;function N(X){var q=kv[c.type](s,X),j=function m6(e,i,t){return new("polar"===e.type?kr:De)({shape:RL(i,t,e),silent:!0,z2:0})}(c,h,q);return j.useStyle(T.getItemStyle()),j.setShape("cartesian2d"===c.type?"r":"cornerRadius",A),P[X]=j,j}s.diff(l).add(function(X){var q=s.getItemModel(X),j=kv[c.type](s,X,q);if(w&&N(X),s.hasValue(X)&&DL[c.type](j)){var J=!1;m&&(J=ML[c.type](b,j));var tt=AL[c.type](t,s,X,j,h,f,u.model,!1,_);p&&(tt.forceLabelAnimation=!0),IL(tt,s,X,q,j,t,h,"polar"===c.type),O?tt.attr({shape:j}):p?LL(p,f,tt,j,X,h,!1,!1):pi(tt,{shape:j},t,X),s.setItemGraphicEl(X,tt),o.add(tt),tt.ignore=J}}).update(function(X,q){var j=s.getItemModel(X),J=kv[c.type](s,X,j);if(w){var tt=void 0;0===F.length?tt=N(q):((tt=F[q]).useStyle(T.getItemStyle()),tt.setShape("cartesian2d"===c.type?"r":"cornerRadius",A),P[X]=tt);var et=kv[c.type](s,X);Ve(tt,{shape:RL(h,et,c)},f,X)}var st=l.getItemGraphicEl(q);if(s.hasValue(X)&&DL[c.type](J)){var ut=!1;if(m&&(ut=ML[c.type](b,J))&&o.remove(st),st?ro(st):st=AL[c.type](t,s,X,J,h,f,u.model,!!st,_),p&&(st.forceLabelAnimation=!0),V){var vt=st.getTextContent();if(vt){var _t=Sh(vt);null!=_t.prevValue&&(_t.prevValue=_t.value)}}else IL(st,s,X,j,J,t,h,"polar"===c.type);O?st.attr({shape:J}):p?LL(p,f,st,J,X,h,!0,V):Ve(st,{shape:J},t,X,null),s.setItemGraphicEl(X,st),st.ignore=ut,o.add(st)}else o.remove(st)}).remove(function(X){var q=l.getItemGraphicEl(X);q&&lf(q,t,X)}).execute();var G=this._backgroundGroup||(this._backgroundGroup=new Kt);G.removeAll();for(var H=0;H<P.length;++H)G.add(P[H]);o.add(G),this._backgroundEls=P,this._data=s},i.prototype._renderLarge=function(t,n,r){this._clear(),EL(t,this.group),this._updateLargeClip(t)},i.prototype._incrementalRenderLarge=function(t,n){this._removeBackground(),EL(n,this.group,this._progressiveEls,!0)},i.prototype._updateLargeClip=function(t){var n=t.get("clip",!0)&&Uf(t.coordinateSystem,!1,t),r=this.group;n?r.setClipPath(n):r.removeClipPath()},i.prototype._enableRealtimeSort=function(t,n,r){var a=this;if(n.count()){var o=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,t,r),this._isFirstFrame=!1;else{var s=function(l){var c=n.getItemGraphicEl(l),u=c&&c.shape;return u&&Math.abs(o.isHorizontal()?u.height:u.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,s,o,r)},r.getZr().on("rendered",this._onRendered)}}},i.prototype._dataSort=function(t,n,r){var a=[];return t.each(t.mapDimension(n.dim),function(o,s){var l=r(s);a.push({dataIndex:s,mappedValue:l=l??NaN,ordinalNumber:o})}),a.sort(function(o,s){return s.mappedValue-o.mappedValue}),{ordinalNumbers:mt(a,function(o){return o.ordinalNumber})}},i.prototype._isOrderChangedWithinSameData=function(t,n,r){for(var a=r.scale,o=t.mapDimension(r.dim),s=Number.MAX_VALUE,l=0,c=a.getOrdinalMeta().categories.length;l<c;++l){var u=t.rawIndexOf(o,a.getRawOrdinalNumber(l)),h=u<0?Number.MIN_VALUE:n(t.indexOfRawIndex(u));if(h>s)return!0;s=h}return!1},i.prototype._isOrderDifferentInView=function(t,n){for(var r=n.scale,a=r.getExtent(),o=Math.max(0,a[0]),s=Math.min(a[1],r.getOrdinalMeta().categories.length-1);o<=s;++o)if(t.ordinalNumbers[o]!==r.getRawOrdinalNumber(o))return!0},i.prototype._updateSortWithinSameData=function(t,n,r,a){if(this._isOrderChangedWithinSameData(t,n,r)){var o=this._dataSort(t,r,n);this._isOrderDifferentInView(o,r)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:"changeAxisOrder",componentType:r.dim+"Axis",axisId:r.index,sortInfo:o}))}},i.prototype._dispatchInitSort=function(t,n,r){var a=n.baseAxis,o=this._dataSort(t,a,function(s){return t.get(t.mapDimension(n.otherAxis.dim),s)});r.dispatchAction({type:"changeAxisOrder",componentType:a.dim+"Axis",isInitSort:!0,axisId:a.index,sortInfo:o})},i.prototype.remove=function(t,n){this._clear(this._model),this._removeOnRenderedListener(n)},i.prototype.dispose=function(t,n){this._removeOnRenderedListener(n)},i.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},i.prototype._clear=function(t){var n=this.group,r=this._data;t&&t.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(a){lf(a,t,Jt(a).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},i.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},i.type="bar",i}(oi),ML={cartesian2d:function(e,i){var t=i.width<0?-1:1,n=i.height<0?-1:1;t<0&&(i.x+=i.width,i.width=-i.width),n<0&&(i.y+=i.height,i.height=-i.height);var r=e.x+e.width,a=e.y+e.height,o=sx(i.x,e.x),s=lx(i.x+i.width,r),l=sx(i.y,e.y),c=lx(i.y+i.height,a),u=s<o,h=c<l;return i.x=u&&o>r?s:o,i.y=h&&l>a?c:l,i.width=u?0:s-o,i.height=h?0:c-l,t<0&&(i.x+=i.width,i.width=-i.width),n<0&&(i.y+=i.height,i.height=-i.height),u||h},polar:function(e,i){var t=i.r0<=i.r?1:-1;if(t<0){var n=i.r;i.r=i.r0,i.r0=n}var r=lx(i.r,e.r),a=sx(i.r0,e.r0);i.r=r,i.r0=a;var o=r-a<0;return t<0&&(n=i.r,i.r=i.r0,i.r0=n),o}},AL={cartesian2d:function(e,i,t,n,r,a,o,s,l){var c=new De({shape:ft({},n),z2:1});return c.__dataIndex=t,c.name="item",a&&(c.shape[r?"height":"width"]=0),c},polar:function(e,i,t,n,r,a,o,s,l){var c=!r&&l?Mv:kr,u=new c({shape:n,z2:1});u.name="item";var h=PL(r);if(u.calculateTextPosition=function o6(e,i){var t=(i=i||{}).isRoundCap;return function(n,r,a){var o=r.position;if(!o||o instanceof Array)return rg(n,r,a);var s=e(o),l=null!=r.distance?r.distance:5,c=this.shape,u=c.cx,h=c.cy,f=c.r,p=c.r0,m=(f+p)/2,b=c.startAngle,_=c.endAngle,w=(b+_)/2,T=t?Math.abs(f-p)/2:0,A=Math.cos,P=Math.sin,F=u+f*A(b),O=h+f*P(b),V="left",N="top";switch(s){case"startArc":F=u+(p-l)*A(w),O=h+(p-l)*P(w),V="center",N="top";break;case"insideStartArc":F=u+(p+l)*A(w),O=h+(p+l)*P(w),V="center",N="bottom";break;case"startAngle":F=u+m*A(b)+Av(b,l+T,!1),O=h+m*P(b)+Lv(b,l+T,!1),V="right",N="middle";break;case"insideStartAngle":F=u+m*A(b)+Av(b,-l+T,!1),O=h+m*P(b)+Lv(b,-l+T,!1),V="left",N="middle";break;case"middle":F=u+m*A(w),O=h+m*P(w),V="center",N="middle";break;case"endArc":F=u+(f+l)*A(w),O=h+(f+l)*P(w),V="center",N="bottom";break;case"insideEndArc":F=u+(f-l)*A(w),O=h+(f-l)*P(w),V="center",N="top";break;case"endAngle":F=u+m*A(_)+Av(_,l+T,!0),O=h+m*P(_)+Lv(_,l+T,!0),V="left",N="middle";break;case"insideEndAngle":F=u+m*A(_)+Av(_,-l+T,!0),O=h+m*P(_)+Lv(_,-l+T,!0),V="right",N="middle";break;default:return rg(n,r,a)}return(n=n||{}).x=F,n.y=O,n.align=V,n.verticalAlign=N,n}}(h,{isRoundCap:c===Mv}),a){var p=r?"r":"endAngle",m={};u.shape[p]=r?n.r0:n.startAngle,m[p]=n[p],(s?Ve:pi)(u,{shape:m},a)}return u}};function LL(e,i,t,n,r,a,o,s){var l,c;a?(c={x:n.x,width:n.width},l={y:n.y,height:n.height}):(c={y:n.y,height:n.height},l={x:n.x,width:n.width}),s||(o?Ve:pi)(t,{shape:l},i,r,null),(o?Ve:pi)(t,{shape:c},i?e.baseAxis.model:null,r)}function kL(e,i){for(var t=0;t<i.length;t++)if(!isFinite(e[i[t]]))return!0;return!1}var h6=["x","y","width","height"],d6=["cx","cy","r","startAngle","endAngle"],DL={cartesian2d:function(e){return!kL(e,h6)},polar:function(e){return!kL(e,d6)}},kv={cartesian2d:function(e,i,t){var n=e.getItemLayout(i),r=t?function p6(e,i){var t=e.get(["itemStyle","borderColor"]);if(!t||"none"===t)return 0;var n=e.get(["itemStyle","borderWidth"])||0,r=isNaN(i.width)?Number.MAX_VALUE:Math.abs(i.width),a=isNaN(i.height)?Number.MAX_VALUE:Math.abs(i.height);return Math.min(n,r,a)}(t,n):0,a=n.width>0?1:-1,o=n.height>0?1:-1;return{x:n.x+a*r/2,y:n.y+o*r/2,width:n.width-a*r,height:n.height-o*r}},polar:function(e,i,t){var n=e.getItemLayout(i);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}}};function PL(e){return function(i){var t=i?"Arc":"Angle";return function(n){switch(n){case"start":case"insideStart":case"end":case"insideEnd":return n+t;default:return n}}}(e)}function IL(e,i,t,n,r,a,o,s){var l=i.getItemVisual(t,"style");if(s){if(!a.get("roundCap")){var u=e.shape;ft(u,pu(n.getModel("itemStyle"),u,!0)),e.setShape(u)}}else{var c=n.get(["itemStyle","borderRadius"])||0;e.setShape("r",c)}e.useStyle(l);var f=n.getShallow("cursor");f&&e.attr("cursor",f);var p=s?o?r.r>=r.r0?"endArc":"startArc":r.endAngle>=r.startAngle?"endAngle":"startAngle":o?r.height>=0?"bottom":"top":r.width>=0?"right":"left",m=cn(n);On(e,m,{labelFetcher:a,labelDataIndex:t,defaultText:jh(a.getData(),t),inheritColor:l.fill,defaultOpacity:l.opacity,defaultOutsidePosition:p});var b=e.getTextContent();if(s&&b){var _=n.get(["label","position"]);e.textConfig.inside="middle"===_||null,function s6(e,i,t,n){if(_e(n))e.setTextConfig({rotation:n});else if(yt(i))e.setTextConfig({rotation:0});else{var l,r=e.shape,a=r.clockwise?r.startAngle:r.endAngle,o=r.clockwise?r.endAngle:r.startAngle,s=(a+o)/2,c=t(i);switch(c){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":l=s;break;case"startAngle":case"insideStartAngle":l=a;break;case"endAngle":case"insideEndAngle":l=o;break;default:return void e.setTextConfig({rotation:0})}var u=1.5*Math.PI-l;"middle"===c&&u>Math.PI/2&&u<1.5*Math.PI&&(u-=Math.PI),e.setTextConfig({rotation:u})}}(e,"outside"===_?p:_,PL(o),n.get(["label","rotate"]))}Hw(b,m,a.getRawValue(t),function(T){return eL(i,T)});var w=n.getModel(["emphasis"]);Ti(e,w.get("focus"),w.get("blurScope"),w.get("disabled")),In(e,n),function f6(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}(r)&&(e.style.fill="none",e.style.stroke="none",U(e.states,function(T){T.style&&(T.style.fill=T.style.stroke="none")}))}var g6=function e(){},OL=function(e){function i(t){var n=e.call(this,t)||this;return n.type="largeBar",n}return ot(i,e),i.prototype.getDefaultShape=function(){return new g6},i.prototype.buildPath=function(t,n){for(var r=n.points,a=this.baseDimIdx,o=1-this.baseDimIdx,s=[],l=[],c=this.barWidth,u=0;u<r.length;u+=3)l[a]=c,l[o]=r[u+2],s[a]=r[u+a],s[o]=r[u+o],t.rect(s[0],s[1],l[0],l[1])},i}(ge);function EL(e,i,t,n){var r=e.getData(),a=r.getLayout("valueAxisHorizontal")?1:0,o=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=e.getModel("backgroundStyle"),c=r.getLayout("largeBackgroundPoints");if(c){var u=new OL({shape:{points:c},incremental:!!n,silent:!0,z2:0});u.baseDimIdx=a,u.largeDataIndices=o,u.barWidth=s,u.useStyle(l.getItemStyle()),i.add(u),t&&t.push(u)}var h=new OL({shape:{points:r.getLayout("largePoints")},incremental:!!n,ignoreCoarsePointer:!0,z2:1});h.baseDimIdx=a,h.largeDataIndices=o,h.barWidth=s,i.add(h),h.useStyle(r.getVisual("style")),Jt(h).seriesIndex=e.seriesIndex,e.get("silent")||(h.on("mousedown",FL),h.on("mousemove",FL)),t&&t.push(h)}var FL=f0(function(e){var t=function v6(e,i,t){for(var n=e.baseDimIdx,r=1-n,a=e.shape.points,o=e.largeDataIndices,s=[],l=[],c=e.barWidth,u=0,h=a.length/3;u<h;u++){var f=3*u;if(l[n]=c,l[r]=a[f+2],s[n]=a[f+n],s[r]=a[f+r],l[r]<0&&(s[r]+=l[r],l[r]=-l[r]),i>=s[0]&&i<=s[0]+l[0]&&t>=s[1]&&t<=s[1]+l[1])return o[u]}return-1}(this,e.offsetX,e.offsetY);Jt(this).dataIndex=t>=0?t:null},30,!1);function RL(e,i,t){if(fu(t,"cartesian2d")){var n=i,r=t.getArea();return{x:e?n.x:r.x,y:e?r.y:n.y,width:e?n.width:r.width,height:e?r.height:n.height}}return{cx:(r=t.getArea()).cx,cy:r.cy,r0:e?r.r0:i.r0,r:e?r.r:i.r,startAngle:e?i.startAngle:0,endAngle:e?i.endAngle:2*Math.PI}}const y6=c6;var BL=2*Math.PI,Dv=Math.PI/180;function VL(e,i){return qi(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}function zL(e,i){var t=VL(e,i),n=e.get("center"),r=e.get("radius");yt(r)||(r=[0,r]);var u,h,a=At(t.width,i.getWidth()),o=At(t.height,i.getHeight()),s=Math.min(a,o),l=At(r[0],s/2),c=At(r[1],s/2),f=e.coordinateSystem;if(f){var p=f.dataToPoint(n);u=p[0]||0,h=p[1]||0}else yt(n)||(n=[n,n]),u=At(n[0],a)+t.x,h=At(n[1],o)+t.y;return{cx:u,cy:h,r0:l,r:c}}function x6(e,i,t){i.eachSeriesByType(e,function(n){var r=n.getData(),a=r.mapDimension("value"),o=VL(n,t),s=zL(n,t),l=s.cx,c=s.cy,u=s.r,h=s.r0,f=-n.get("startAngle")*Dv,p=n.get("endAngle"),m=n.get("padAngle")*Dv;p="auto"===p?f-BL:-p*Dv;var _=n.get("minAngle")*Dv+m,w=0;r.each(a,function(lt){!isNaN(lt)&&w++});var T=r.getSum(a),A=Math.PI/(T||w)*2,P=n.get("clockwise"),F=n.get("roseType"),O=n.get("stillShowZeroSum"),V=r.getDataExtent(a);V[0]=0;var N=P?1:-1,G=[f,p],H=N*m/2;r_(G,!P),f=G[0],p=G[1];var X=NL(n);X.startAngle=f,X.endAngle=p,X.clockwise=P;var q=Math.abs(p-f),j=q,J=0,tt=f;if(r.setLayout({viewRect:o,r:u}),r.each(a,function(lt,st){var ut;if(isNaN(lt))r.setItemLayout(st,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:P,cx:l,cy:c,r0:h,r:F?NaN:u});else{(ut="area"!==F?0===T&&O?A:lt*A:q/w)<_?(ut=_,j-=_):J+=lt;var vt=tt+N*ut,_t=0,St=0;m>ut?St=_t=tt+N*ut/2:(_t=tt+H,St=vt-H),r.setItemLayout(st,{angle:ut,startAngle:_t,endAngle:St,clockwise:P,cx:l,cy:c,r0:h,r:F?Xe(lt,V,[h,u]):u}),tt=vt}}),j<BL&&w)if(j<=.001){var et=q/w;r.each(a,function(lt,st){if(!isNaN(lt)){var ut=r.getItemLayout(st);ut.angle=et;var vt=0,_t=0;et<m?_t=vt=f+N*(st+.5)*et:(vt=f+N*st*et+H,_t=f+N*(st+1)*et-H),ut.startAngle=vt,ut.endAngle=_t}})}else A=j/J,tt=f,r.each(a,function(lt,st){if(!isNaN(lt)){var ut=r.getItemLayout(st),vt=ut.angle===_?_:lt*A,_t=0,St=0;vt<m?St=_t=tt+N*vt/2:(_t=tt+H,St=tt+N*vt-H),ut.startAngle=_t,ut.endAngle=St,tt+=N*vt}})})}var NL=Le();function $f(e){return{seriesType:e,reset:function(i,t){var n=t.findComponents({mainType:"legend"});if(n&&n.length){var r=i.getData();r.filterSelf(function(a){for(var o=r.getName(a),s=0;s<n.length;s++)if(!n[s].isSelected(o))return!1;return!0})}}}}var b6=Math.PI/180;function GL(e,i,t,n,r,a,o,s,l,c){if(!(e.length<2)){for(var f=e.length,p=0;p<f;p++)"outer"===e[p].position&&"labelLine"===e[p].labelAlignTo&&(e[p].linePoints[1][0]+=e[p].label.x-c,e[p].label.x=c);hA(e,l,l+o)&&function h(b){for(var _={list:[],maxY:0},w={list:[],maxY:0},T=0;T<b.length;T++)if("none"===b[T].labelAlignTo){var A=b[T],P=A.label.y>t?w:_,F=Math.abs(A.label.y-t);if(F>=P.maxY){var O=A.label.x-i-A.len2*r,V=n+A.len,N=Math.abs(O)<V?Math.sqrt(F*F/(1-O*O/V/V)):V;P.rB=N,P.maxY=F}P.list.push(A)}u(_),u(w)}(e)}function u(b){for(var _=b.rB,w=_*_,T=0;T<b.list.length;T++){var A=b.list[T],P=Math.abs(A.label.y-t),F=n+A.len,O=F*F,V=Math.sqrt((1-Math.abs(P*P/w))*O),N=i+(V+A.len2)*r;HL(A,A.targetTextWidth-(N-A.label.x)*r,!0),A.label.x=N}}}function HL(e,i,t){if(void 0===t&&(t=!1),null==e.labelStyleWidth){var n=e.label,r=n.style,a=e.rect,o=r.backgroundColor,s=r.padding,l=s?s[1]+s[3]:0,c=r.overflow,u=a.width+(o?0:l);if(i<u||t){var h=a.height;if(c&&c.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",i-l);var f=n.getBoundingRect();n.setStyle("width",Math.ceil(f.width)),n.setStyle("backgroundColor",o)}else{var p=i-l;n.setStyle("width",i<u?p:t?p>e.unconstrainedWidth?null:p:null)}var b=n.getBoundingRect();a.width=b.width,a.height=b.height+((n.style.margin||0)+2.1),a.y-=(a.height-h)/2}}}function cx(e){return"center"===e.position}var w6=function(e){function i(t,n,r){var a=e.call(this)||this;a.z2=2;var o=new Ie;return a.setTextContent(o),a.updateData(t,n,r,!0),a}return ot(i,e),i.prototype.updateData=function(t,n,r,a){var o=this,s=t.hostModel,l=t.getItemModel(n),c=l.getModel("emphasis"),u=t.getItemLayout(n),h=ft(pu(l.getModel("itemStyle"),u,!0),u);if(isNaN(h.startAngle))o.setShape(h);else{if(a){o.setShape(h);var f=s.getShallow("animationType");s.ecModel.ssr?(pi(o,{scaleX:0,scaleY:0},s,{dataIndex:n,isFrom:!0}),o.originX=h.cx,o.originY=h.cy):"scale"===f?(o.shape.r=u.r0,pi(o,{shape:{r:u.r}},s,n)):null!=r?(o.setShape({startAngle:r,endAngle:r}),pi(o,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},s,n)):(o.shape.endAngle=u.startAngle,Ve(o,{shape:{endAngle:u.endAngle}},s,n))}else ro(o),Ve(o,{shape:h},s,n);o.useStyle(t.getItemVisual(n,"style")),In(o,l);var p=(u.startAngle+u.endAngle)/2,m=s.get("selectedOffset"),b=Math.cos(p)*m,_=Math.sin(p)*m,w=l.getShallow("cursor");w&&o.attr("cursor",w),this._updateLabel(s,t,n),o.ensureState("emphasis").shape=ft({r:u.r+(c.get("scale")&&c.get("scaleSize")||0)},pu(c.getModel("itemStyle"),u)),ft(o.ensureState("select"),{x:b,y:_,shape:pu(l.getModel(["select","itemStyle"]),u)}),ft(o.ensureState("blur"),{shape:pu(l.getModel(["blur","itemStyle"]),u)});var T=o.getTextGuideLine(),A=o.getTextContent();T&&ft(T.ensureState("select"),{x:b,y:_}),ft(A.ensureState("select"),{x:b,y:_}),Ti(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))}},i.prototype._updateLabel=function(t,n,r){var a=this,o=n.getItemModel(r),s=o.getModel("labelLine"),l=n.getItemVisual(r,"style"),c=l&&l.fill,u=l&&l.opacity;On(a,cn(o),{labelFetcher:n.hostModel,labelDataIndex:r,inheritColor:c,defaultOpacity:u,defaultText:t.getFormattedLabel(r,"normal")||n.getName(r)});var h=a.getTextContent();a.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var f=t.get(["label","position"]);if("outside"!==f&&"outer"!==f)a.removeTextGuideLine();else{var p=this.getTextGuideLine();p||(p=new Pr,this.setTextGuideLine(p)),R0(this,B0(o),{stroke:c,opacity:gr(s.get(["lineStyle","opacity"]),u,1)})}},i}(kr),T6=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return ot(i,e),i.prototype.render=function(t,n,r,a){var c,o=t.getData(),s=this._data,l=this.group;if(!s&&o.count()>0){for(var u=o.getItemLayout(0),h=1;isNaN(u&&u.startAngle)&&h<o.count();++h)u=o.getItemLayout(h);u&&(c=u.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),0===o.count()&&t.get("showEmptyCircle")){var f=NL(t),p=new kr({shape:ft(zL(t,r),f)});p.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=p,l.add(p)}o.diff(s).add(function(m){var b=new w6(o,m,c);o.setItemGraphicEl(m,b),l.add(b)}).update(function(m,b){var _=s.getItemGraphicEl(b);_.updateData(o,m,c),_.off("click"),l.add(_),o.setItemGraphicEl(m,_)}).remove(function(m){lf(s.getItemGraphicEl(m),t,m)}).execute(),function S6(e){var n,r,i=e.getData(),t=[],a=!1,o=(e.get("minShowLabelAngle")||0)*b6,s=i.getLayout("viewRect"),l=i.getLayout("r"),c=s.width,u=s.x,h=s.y,f=s.height;function p(O){O.ignore=!0}i.each(function(O){var V=i.getItemGraphicEl(O),N=V.shape,G=V.getTextContent(),H=V.getTextGuideLine(),X=i.getItemModel(O),q=X.getModel("label"),j=q.get("position")||X.get(["emphasis","label","position"]),J=q.get("distanceToLabelLine"),tt=q.get("alignTo"),et=At(q.get("edgeDistance"),c),lt=q.get("bleedMargin"),st=X.getModel("labelLine"),ut=st.get("length");ut=At(ut,c);var vt=st.get("length2");if(vt=At(vt,c),Math.abs(N.endAngle-N.startAngle)<o)return U(G.states,p),G.ignore=!0,void(H&&(U(H.states,p),H.ignore=!0));if(function m(O){if(!O.ignore)return!0;for(var V in O.states)if(!1===O.states[V].ignore)return!0;return!1}(G)){var Ft,ne,le,Ut,_t=(N.startAngle+N.endAngle)/2,St=Math.cos(_t),Et=Math.sin(_t);n=N.cx,r=N.cy;var Vt="inside"===j||"inner"===j;if("center"===j)Ft=N.cx,ne=N.cy,Ut="center";else{var bt=(Vt?(N.r+N.r0)/2*St:N.r*St)+n,kt=(Vt?(N.r+N.r0)/2*Et:N.r*Et)+r;if(Ft=bt+3*St,ne=kt+3*Et,!Vt){var Tt=bt+St*(ut+l-N.r),gt=kt+Et*(ut+l-N.r),fe=Tt+(St<0?-1:1)*vt;Ft="edge"===tt?St<0?u+et:u+c-et:fe+(St<0?-J:J),ne=gt,le=[[bt,kt],[Tt,gt],[fe,gt]]}Ut=Vt?"center":"edge"===tt?St>0?"right":"left":St>0?"left":"right"}var Ne=Math.PI,Ee=0,Zt=q.get("rotate");if(_e(Zt))Ee=Zt*(Ne/180);else if("center"===j)Ee=0;else if("radial"===Zt||!0===Zt)Ee=St<0?-_t+Ne:-_t;else if("tangential"===Zt&&"outside"!==j&&"outer"!==j){var Ki=Math.atan2(St,Et);Ki<0&&(Ki=2*Ne+Ki),Et>0&&(Ki=Ne+Ki),Ee=Ki-Ne}if(a=!!Ee,G.x=Ft,G.y=ne,G.rotation=Ee,G.setStyle({verticalAlign:"middle"}),Vt){G.setStyle({align:Ut});var lS=G.states.select;lS&&(lS.x+=G.x,lS.y+=G.y)}else{var ec=G.getBoundingRect().clone();ec.applyTransform(G.getComputedTransform());var nB=(G.style.margin||0)+2.1;ec.y-=nB/2,ec.height+=nB,t.push({label:G,labelLine:H,position:j,len:ut,len2:vt,minTurnAngle:st.get("minTurnAngle"),maxSurfaceAngle:st.get("maxSurfaceAngle"),surfaceNormal:new ee(St,Et),linePoints:le,textAlign:Ut,labelDistance:J,labelAlignTo:tt,edgeDistance:et,bleedMargin:lt,rect:ec,unconstrainedWidth:ec.width,labelStyleWidth:G.style.width})}V.setTextConfig({inside:Vt})}}),!a&&e.get("avoidLabelOverlap")&&function C6(e,i,t,n,r,a,o,s){for(var l=[],c=[],u=Number.MAX_VALUE,h=-Number.MAX_VALUE,f=0;f<e.length;f++){var p=e[f].label;cx(e[f])||(p.x<i?(u=Math.min(u,p.x),l.push(e[f])):(h=Math.max(h,p.x),c.push(e[f])))}for(f=0;f<e.length;f++)if(!cx(m=e[f])&&m.linePoints){if(null!=m.labelStyleWidth)continue;p=m.label;var _,b=m.linePoints;m.targetTextWidth=_="edge"===m.labelAlignTo?p.x<i?b[2][0]-m.labelDistance-o-m.edgeDistance:o+r-m.edgeDistance-b[2][0]-m.labelDistance:"labelLine"===m.labelAlignTo?p.x<i?u-o-m.bleedMargin:o+r-h-m.bleedMargin:p.x<i?p.x-o-m.bleedMargin:o+r-p.x-m.bleedMargin,HL(m,_)}for(GL(c,i,t,n,1,0,a,0,s,h),GL(l,i,t,n,-1,0,a,0,s,u),f=0;f<e.length;f++){var m;if(!cx(m=e[f])&&m.linePoints){var T=(p=m.label).style.padding,F=m.rect.width+(p.style.backgroundColor?0:T?T[1]+T[3]:0),O=(b=m.linePoints)[1][0]-b[2][0];"edge"===m.labelAlignTo?b[2][0]=p.x<i?o+m.edgeDistance+F+m.labelDistance:o+r-m.edgeDistance-F-m.labelDistance:(b[2][0]=p.x<i?p.x+m.labelDistance:p.x-m.labelDistance,b[1][0]=b[2][0]+O),b[1][1]=b[2][1]=p.y}}}(t,n,r,l,c,f,u,h);for(var b=0;b<t.length;b++){var _=t[b],w=_.label,T=_.labelLine,A=isNaN(w.x)||isNaN(w.y);if(w){w.setStyle({align:_.textAlign}),A&&(U(w.states,p),w.ignore=!0);var P=w.states.select;P&&(P.x+=w.x,P.y+=w.y)}if(T){var F=_.linePoints;A||!F?(U(T.states,p),T.ignore=!0):(lA(F,_.minTurnAngle),aG(F,_.surfaceNormal,_.maxSurfaceAngle),T.setShape({points:F}),w.__hostTarget.textGuideLineConfig={anchor:new ee(F[0][0],F[0][1])})}}}(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=o)},i.prototype.dispose=function(){},i.prototype.containPoint=function(t,n){var a=n.getData().getItemLayout(0);if(a){var o=t[0]-a.cx,s=t[1]-a.cy,l=Math.sqrt(o*o+s*s);return l<=a.r&&l>=a.r0}},i.type="pie",i}(oi);const M6=T6;function qh(e,i,t){i=yt(i)&&{coordDimensions:i}||ft({encodeDefine:e.getEncode()},i);var n=e.getSource(),r=Zh(n,i).dimensions,a=new dr(r,e);return a.initData(n,t),a}var A6=function(){function e(i,t){this._getDataWithEncodedVisual=i,this._getRawData=t}return e.prototype.getAllNames=function(){var i=this._getRawData();return i.mapArray(i.getName)},e.prototype.containName=function(i){return this._getRawData().indexOfName(i)>=0},e.prototype.indexOfName=function(i){return this._getDataWithEncodedVisual().indexOfName(i)},e.prototype.getItemVisual=function(i,t){return this._getDataWithEncodedVisual().getItemVisual(i,t)},e}();const jf=A6;var L6=Le(),k6=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ot(i,e),i.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new jf(Dt(this.getData,this),Dt(this.getRawData,this)),this._defaultLabelLine(t)},i.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},i.prototype.getInitialData=function(){return qh(this,{coordDimensions:["value"],encodeDefaulter:jt(O_,this)})},i.prototype.getDataParams=function(t){var n=this.getData(),r=L6(n),a=r.seats;if(!a){var o=[];n.each(n.mapDimension("value"),function(l){o.push(l)}),a=r.seats=function wS(e,i){var t=bi(e,function(p,m){return p+(isNaN(m)?0:m)},0);if(0===t)return[];for(var n=Math.pow(10,i),r=mt(e,function(p){return(isNaN(p)?0:p)/t*n*100}),a=100*n,o=mt(r,function(p){return Math.floor(p)}),s=bi(o,function(p,m){return p+m},0),l=mt(r,function(p,m){return p-o[m]});s<a;){for(var c=Number.NEGATIVE_INFINITY,u=null,h=0,f=l.length;h<f;++h)l[h]>c&&(c=l[h],u=h);++o[u],l[u]=0,++s}return mt(o,function(p){return p/n})}(o,n.hostModel.get("percentPrecision"))}var s=e.prototype.getDataParams.call(this,t);return s.percent=a[t]||0,s.$vars.push("percent"),s},i.prototype._defaultLabelLine=function(t){Lc(t,"labelLine",["show"]);var n=t.labelLine,r=t.emphasis.labelLine;n.show=n.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},i.type="series.pie",i.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},i}(mi);const D6=k6;var O6=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.hasSymbolVisual=!0,t}return ot(i,e),i.prototype.getInitialData=function(t,n){return Bs(null,this,{useEncodeDefaulter:!0})},i.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?5e3:this.get("progressive"))},i.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get("progressiveThreshold"))},i.prototype.brushSelector=function(t,n,r){return r.point(n.getItemLayout(t))},i.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},i.type="series.scatter",i.dependencies=["grid","polar","geo","singleAxis","calendar"],i.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},i}(mi);const E6=O6;var F6=function e(){},R6=function(e){function i(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return ot(i,e),i.prototype.getDefaultShape=function(){return new F6},i.prototype.reset=function(){this.notClear=!1,this._off=0},i.prototype.buildPath=function(t,n){var h,r=n.points,a=n.size,o=this.symbolProxy,s=o.shape,l=t.getContext?t.getContext():t,u=this.softClipShape;if(l&&a[0]<4)this._ctx=l;else{for(this._ctx=null,h=this._off;h<r.length;){var f=r[h++],p=r[h++];isNaN(f)||isNaN(p)||u&&!u.contain(f,p)||(s.x=f-a[0]/2,s.y=p-a[1]/2,s.width=a[0],s.height=a[1],o.buildPath(t,s,!0))}this.incremental&&(this._off=h,this.notClear=!0)}},i.prototype.afterBrush=function(){var s,t=this.shape,n=t.points,r=t.size,a=this._ctx,o=this.softClipShape;if(a){for(s=this._off;s<n.length;){var l=n[s++],c=n[s++];isNaN(l)||isNaN(c)||o&&!o.contain(l,c)||a.fillRect(l-r[0]/2,c-r[1]/2,r[0],r[1])}this.incremental&&(this._off=s,this.notClear=!0)}},i.prototype.findDataIndex=function(t,n){for(var r=this.shape,a=r.points,o=r.size,s=Math.max(o[0],4),l=Math.max(o[1],4),c=a.length/2-1;c>=0;c--){var u=2*c,h=a[u]-s/2,f=a[u+1]-l/2;if(t>=h&&n>=f&&t<=h+s&&n<=f+l)return c}return-1},i.prototype.contain=function(t,n){var r=this.transformCoordToLocal(t,n);return this.getBoundingRect().contain(t=r[0],n=r[1])?(this.hoverDataIdx=this.findDataIndex(t,n))>=0:(this.hoverDataIdx=-1,!1)},i.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var n=this.shape,r=n.points,a=n.size,o=a[0],s=a[1],l=1/0,c=1/0,u=-1/0,h=-1/0,f=0;f<r.length;){var p=r[f++],m=r[f++];l=Math.min(p,l),u=Math.max(p,u),c=Math.min(m,c),h=Math.max(m,h)}t=this._rect=new $t(l-o/2,c-s/2,u-l+o,h-c+s)}return t},i}(ge),B6=function(){function e(){this.group=new Kt}return e.prototype.updateData=function(i,t){this._clear();var n=this._create();n.setShape({points:i.getLayout("points")}),this._setCommon(n,i,t)},e.prototype.updateLayout=function(i){var t=i.getLayout("points");this.group.eachChild(function(n){null!=n.startIndex&&(t=new Float32Array(t.buffer,4*n.startIndex*2,2*(n.endIndex-n.startIndex))),n.setShape("points",t),n.reset()})},e.prototype.incrementalPrepareUpdate=function(i){this._clear()},e.prototype.incrementalUpdate=function(i,t,n){var r=this._newAdded[0],a=t.getLayout("points"),o=r&&r.shape.points;if(o&&o.length<2e4){var s=o.length,l=new Float32Array(s+a.length);l.set(o),l.set(a,s),r.endIndex=i.end,r.setShape({points:l})}else{this._newAdded=[];var c=this._create();c.startIndex=i.start,c.endIndex=i.end,c.incremental=!0,c.setShape({points:a}),this._setCommon(c,t,n)}},e.prototype.eachRendered=function(i){this._newAdded[0]&&i(this._newAdded[0])},e.prototype._create=function(){var i=new R6({cursor:"default"});return i.ignoreCoarsePointer=!0,this.group.add(i),this._newAdded.push(i),i},e.prototype._setCommon=function(i,t,n){var r=t.hostModel;n=n||{};var a=t.getVisual("symbolSize");i.setShape("size",a instanceof Array?a:[a,a]),i.softClipShape=n.clipShape||null,i.symbolProxy=Gi(t.getVisual("symbol"),0,0,0,0),i.setColor=i.symbolProxy.setColor;var o=i.shape.size[0]<4;i.useStyle(r.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var s=t.getVisual("style"),l=s&&s.fill;l&&i.setColor(l);var c=Jt(i);c.seriesIndex=r.seriesIndex,i.on("mousemove",function(u){c.dataIndex=null;var h=i.hoverDataIdx;h>=0&&(c.dataIndex=h+(i.startIndex||0))})},e.prototype.remove=function(){this._clear()},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}();const V6=B6;var z6=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.render=function(t,n,r){var a=t.getData();this._updateSymbolDraw(a,t).updateData(a,{clipShape:this._getClipShape(t)}),this._finished=!0},i.prototype.incrementalPrepareRender=function(t,n,r){var a=t.getData();this._updateSymbolDraw(a,t).incrementalPrepareUpdate(a),this._finished=!1},i.prototype.incrementalRender=function(t,n,r){this._symbolDraw.incrementalUpdate(t,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=t.end===n.getData().count()},i.prototype.updateTransform=function(t,n,r){var a=t.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var o=Zf("").reset(t,n,r);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},i.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},i.prototype._getClipShape=function(t){if(t.get("clip",!0)){var n=t.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},i.prototype._updateSymbolDraw=function(t,n){var r=this._symbolDraw,o=n.pipelineContext.large;return(!r||o!==this._isLargeDraw)&&(r&&r.remove(),r=this._symbolDraw=o?new V6:new Xf,this._isLargeDraw=o,this.group.removeAll()),this.group.add(r.group),r},i.prototype.remove=function(t,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},i.prototype.dispose=function(){},i.type="scatter",i}(oi);const N6=z6;var G6=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ot(i,e),i.type="grid",i.dependencies=["xAxis","yAxis"],i.layoutMode="box",i.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},i}(Oe);const H6=G6;var qf=function(){function e(){}return e.prototype.getNeedCrossZero=function(){return!this.option.scale},e.prototype.getCoordSysModel=function(){},e}(),ux=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ot(i,e),i.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",zi).models[0]},i.type="cartesian2dAxis",i}(Oe);It(ux,qf);var YL={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},W6=ie({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},YL),hx=ie({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},YL);const XL={category:W6,value:hx,time:ie({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},hx),log:Rt({logBase:10},hx)};var U6=0,Z6=function(){function e(i){this.categories=i.categories||[],this._needCollect=i.needCollect,this._deduplication=i.deduplication,this.uid=++U6}return e.createByAxisModel=function(i){var t=i.option,n=t.data,r=n&&mt(n,$6);return new e({categories:r,needCollect:!r,deduplication:!1!==t.dedplication})},e.prototype.getOrdinal=function(i){return this._getOrCreateMap().get(i)},e.prototype.parseAndCollect=function(i){var t,n=this._needCollect;if(!Lt(i)&&!n)return i;if(n&&!this._deduplication)return this.categories[t=this.categories.length]=i,t;var r=this._getOrCreateMap();return null==(t=r.get(i))&&(n?(this.categories[t=this.categories.length]=i,r.set(i,t)):t=NaN),t},e.prototype._getOrCreateMap=function(){return this._map||(this._map=Mt(this.categories))},e}();function $6(e){return Bt(e)&&null!=e.value?e.value:e+""}const dx=Z6;var j6={value:1,category:1,time:1,log:1};function Kh(e,i,t,n){U(j6,function(r,a){var o=ie(ie({},XL[a],!0),n,!0),s=function(l){function c(){var u=null!==l&&l.apply(this,arguments)||this;return u.type=i+"Axis."+a,u}return ot(c,l),c.prototype.mergeDefaultAndTheme=function(u,h){var f=df(this),p=f?kh(u):{};ie(u,h.getTheme().get(a+"Axis")),ie(u,this.getDefaultOption()),u.type=UL(u),f&&Pl(u,p,f)},c.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=dx.createByAxisModel(this))},c.prototype.getCategories=function(u){var h=this.option;if("category"===h.type)return u?h.data:this.__ordinalMeta.categories},c.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},c.type=i+"Axis."+a,c.defaultOption=o,c}(t);e.registerComponentModel(s)}),e.registerSubTypeDefaulter(i+"Axis",UL)}function UL(e){return e.type||(e.data?"category":"value")}var ZL=function(){function e(i){this._setting=i||{},this._extent=[1/0,-1/0]}return e.prototype.getSetting=function(i){return this._setting[i]},e.prototype.unionExtent=function(i){var t=this._extent;i[0]<t[0]&&(t[0]=i[0]),i[1]>t[1]&&(t[1]=i[1])},e.prototype.unionExtentFromData=function(i,t){this.unionExtent(i.getApproximateExtent(t))},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.setExtent=function(i,t){var n=this._extent;isNaN(i)||(n[0]=i),isNaN(t)||(n[1]=t)},e.prototype.isInExtentRange=function(i){return this._extent[0]<=i&&this._extent[1]>=i},e.prototype.isBlank=function(){return this._isBlank},e.prototype.setBlank=function(i){this._isBlank=i},e}();og(ZL);const Vs=ZL;function fx(e){return"interval"===e.type||"log"===e.type}function px(e){var i=Math.pow(10,Vy(e)),t=e/i;return t?2===t?t=3:3===t?t=5:t*=2:t=1,ki(t*i)}function $L(e){return Vo(e)+2}function jL(e,i,t){e[i]=Math.max(Math.min(e[i],t[1]),t[0])}function Pv(e,i){return e>=i[0]&&e<=i[1]}function Iv(e,i){return i[1]===i[0]?.5:(e-i[0])/(i[1]-i[0])}function Ov(e,i){return e*(i[1]-i[0])+i[0]}var qL=function(e){function i(t){var n=e.call(this,t)||this;n.type="ordinal";var r=n.getSetting("ordinalMeta");return r||(r=new dx({})),yt(r)&&(r=new dx({categories:mt(r,function(a){return Bt(a)?a.value:a})})),n._ordinalMeta=r,n._extent=n.getSetting("extent")||[0,r.categories.length-1],n}return ot(i,e),i.prototype.parse=function(t){return null==t?NaN:Lt(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},i.prototype.contain=function(t){return Pv(t=this.parse(t),this._extent)&&null!=this._ordinalMeta.categories[t]},i.prototype.normalize=function(t){return Iv(t=this._getTickNumber(this.parse(t)),this._extent)},i.prototype.scale=function(t){return t=Math.round(Ov(t,this._extent)),this.getRawOrdinalNumber(t)},i.prototype.getTicks=function(){for(var t=[],n=this._extent,r=n[0];r<=n[1];)t.push({value:r}),r++;return t},i.prototype.getMinorTicks=function(t){},i.prototype.setSortInfo=function(t){if(null!=t){for(var n=t.ordinalNumbers,r=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,l=Math.min(s,n.length);o<l;++o){var c=n[o];r[o]=c,a[c]=o}for(var u=0;o<s;++o){for(;null!=a[u];)u++;r.push(u),a[u]=o}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},i.prototype._getTickNumber=function(t){var n=this._ticksByOrdinalNumber;return n&&t>=0&&t<n.length?n[t]:t},i.prototype.getRawOrdinalNumber=function(t){var n=this._ordinalNumbersByTick;return n&&t>=0&&t<n.length?n[t]:t},i.prototype.getLabel=function(t){if(!this.isBlank()){var n=this.getRawOrdinalNumber(t.value),r=this._ordinalMeta.categories[n];return null==r?"":r+""}},i.prototype.count=function(){return this._extent[1]-this._extent[0]+1},i.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},i.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},i.prototype.getOrdinalMeta=function(){return this._ordinalMeta},i.prototype.calcNiceTicks=function(){},i.prototype.calcNiceExtent=function(){},i.type="ordinal",i}(Vs);Vs.registerClass(qL);const gx=qL;var gu=ki,KL=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="interval",t._interval=0,t._intervalPrecision=2,t}return ot(i,e),i.prototype.parse=function(t){return t},i.prototype.contain=function(t){return Pv(t,this._extent)},i.prototype.normalize=function(t){return Iv(t,this._extent)},i.prototype.scale=function(t){return Ov(t,this._extent)},i.prototype.setExtent=function(t,n){var r=this._extent;isNaN(t)||(r[0]=parseFloat(t)),isNaN(n)||(r[1]=parseFloat(n))},i.prototype.unionExtent=function(t){var n=this._extent;t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1]),this.setExtent(n[0],n[1])},i.prototype.getInterval=function(){return this._interval},i.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=$L(t)},i.prototype.getTicks=function(t){var n=this._interval,r=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=[];if(!n)return s;r[0]<a[0]&&s.push(t?{value:gu(a[0]-n,o)}:{value:r[0]});for(var c=a[0];c<=a[1]&&(s.push({value:c}),(c=gu(c+n,o))!==s[s.length-1].value);)if(s.length>1e4)return[];var u=s.length?s[s.length-1].value:a[1];return r[1]>u&&s.push(t?{value:gu(u+n,o)}:{value:r[1]}),s},i.prototype.getMinorTicks=function(t){for(var n=this.getTicks(!0),r=[],a=this.getExtent(),o=1;o<n.length;o++){for(var l=n[o-1],c=0,u=[],f=(n[o].value-l.value)/t;c<t-1;){var p=gu(l.value+(c+1)*f);p>a[0]&&p<a[1]&&u.push(p),c++}r.push(u)}return r},i.prototype.getLabel=function(t,n){if(null==t)return"";var r=n&&n.precision;return null==r?r=Vo(t.value)||0:"auto"===r&&(r=this._intervalPrecision),aT(gu(t.value,r,!0))},i.prototype.calcNiceTicks=function(t,n,r){t=t||5;var a=this._extent,o=a[1]-a[0];if(isFinite(o)){o<0&&(o=-o,a.reverse());var s=function q6(e,i,t,n){var r={},o=r.interval=AS((e[1]-e[0])/i,!0);null!=t&&o<t&&(o=r.interval=t),null!=n&&o>n&&(o=r.interval=n);var s=r.intervalPrecision=$L(o);return function K6(e,i){!isFinite(e[0])&&(e[0]=i[0]),!isFinite(e[1])&&(e[1]=i[1]),jL(e,0,i),jL(e,1,i),e[0]>e[1]&&(e[0]=e[1])}(r.niceTickExtent=[ki(Math.ceil(e[0]/o)*o,s),ki(Math.floor(e[1]/o)*o,s)],e),r}(a,t,n,r);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},i.prototype.calcNiceExtent=function(t){var n=this._extent;if(n[0]===n[1])if(0!==n[0]){var r=Math.abs(n[0]);t.fixMax||(n[1]+=r/2),n[0]-=r/2}else n[1]=1;isFinite(n[1]-n[0])||(n[0]=0,n[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(n[0]=gu(Math.floor(n[0]/o)*o)),t.fixMax||(n[1]=gu(Math.ceil(n[1]/o)*o))},i.prototype.setNiceExtent=function(t,n){this._niceExtent=[t,n]},i.type="interval",i}(Vs);Vs.registerClass(KL);const Hl=KL;var QL=function(e){function i(t){var n=e.call(this,t)||this;return n.type="time",n}return ot(i,e),i.prototype.getLabel=function(t){var n=this.getSetting("useUTC");return wg(t.value,jw[function v3(e){switch(e){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(Mh(this._minLevelUnit))]||jw.second,n,this.getSetting("locale"))},i.prototype.getFormattedLabel=function(t,n,r){var a=this.getSetting("useUTC");return function m3(e,i,t,n,r){var a=null;if(Lt(t))a=t;else if(Z(t))a=t(e.value,i,{level:e.level});else{var o=ft({},uf);if(e.level>0)for(var s=0;s<L_.length;++s)o[L_[s]]="{primary|"+o[L_[s]]+"}";var l=t?!1===t.inherit?t:Rt(t,o):o,c=Kw(e.value,r);if(l[c])a=l[c];else if(l.inherit){for(s=qw.indexOf(c)-1;s>=0;--s)if(l[c]){a=l[c];break}a=a||o.none}if(yt(a)){var h=null==e.level?0:e.level>=0?e.level:a.length+e.level;a=a[h=Math.min(h,a.length-1)]}}return wg(new Date(e.value),a,r,n)}(t,n,r,this.getSetting("locale"),a)},i.prototype.getTicks=function(){var n=this._extent,r=[];if(!this._interval)return r;r.push({value:n[0],level:0});var a=this.getSetting("useUTC"),o=function aW(e,i,t,n){var a=qw,o=0;function s(H,X,q,j,J,tt,et){for(var lt=new Date(X),st=X,ut=lt[j]();st<q&&st<=n[1];)et.push({value:st}),lt[J](ut+=H),st=lt.getTime();et.push({value:st,notAdd:!0})}function l(H,X,q){var j=[],J=!X.length;if(!function J6(e,i,t,n){var r=zo(i),a=zo(t),o=function(m){return Qw(r,m,n)===Qw(a,m,n)},s=function(){return o("year")},l=function(){return s()&&o("month")},c=function(){return l()&&o("day")},u=function(){return c()&&o("hour")},h=function(){return u()&&o("minute")},f=function(){return h()&&o("second")};switch(e){case"year":return s();case"month":return l();case"day":return c();case"hour":return u();case"minute":return h();case"second":return f();case"millisecond":return f()&&o("millisecond")}}(Mh(H),n[0],n[1],t)){J&&(X=[{value:rW(new Date(n[0]),H,t)},{value:n[1]}]);for(var tt=0;tt<X.length-1;tt++){var et=X[tt].value,lt=X[tt+1].value;if(et!==lt){var st=void 0,ut=void 0,vt=void 0;switch(H){case"year":st=Math.max(1,Math.round(i/_a/365)),ut=k_(t),vt=y3(t);break;case"half-year":case"quarter":case"month":st=eW(i),ut=Ah(t),vt=Jw(t);break;case"week":case"half-week":case"day":st=tW(i),ut=Tg(t),vt=tT(t),!0;break;case"half-day":case"quarter-day":case"hour":st=iW(i),ut=hf(t),vt=eT(t);break;case"minute":st=JL(i,!0),ut=Mg(t),vt=iT(t);break;case"second":st=JL(i,!1),ut=Ag(t),vt=nT(t);break;case"millisecond":st=nW(i),ut=Lg(t),vt=rT(t)}s(st,et,lt,ut,vt,0,j),"year"===H&&q.length>1&&0===tt&&q.unshift({value:q[0].value-st})}}for(tt=0;tt<j.length;tt++)q.push(j[tt]);return j}}for(var c=[],u=[],h=0,f=0,p=0;p<a.length&&o++<1e4;++p){var m=Mh(a[p]);if(g3(a[p])&&(l(a[p],c[c.length-1]||[],u),m!==(a[p+1]?Mh(a[p+1]):null))){if(u.length){f=h,u.sort(function(H,X){return H.value-X.value});for(var _=[],w=0;w<u.length;++w){var T=u[w].value;(0===w||u[w-1].value!==T)&&(_.push(u[w]),T>=n[0]&&T<=n[1]&&h++)}var A=(n[1]-n[0])/i;if(h>1.5*A&&f>A/1.5||(c.push(_),h>A||e===a[p]))break}u=[]}}var P=ve(mt(c,function(H){return ve(H,function(X){return X.value>=n[0]&&X.value<=n[1]&&!X.notAdd})}),function(H){return H.length>0}),F=[],O=P.length-1;for(p=0;p<P.length;++p)for(var V=P[p],N=0;N<V.length;++N)F.push({value:V[N].value,level:O-p});F.sort(function(H,X){return H.value-X.value});var G=[];for(p=0;p<F.length;++p)(0===p||F[p].value!==F[p-1].value)&&G.push(F[p]);return G}(this._minLevelUnit,this._approxInterval,a,n);return(r=r.concat(o)).push({value:n[1],level:0}),r},i.prototype.calcNiceExtent=function(t){var n=this._extent;if(n[0]===n[1]&&(n[0]-=_a,n[1]+=_a),n[1]===-1/0&&n[0]===1/0){var r=new Date;n[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),n[0]=n[1]-_a}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},i.prototype.calcNiceTicks=function(t,n,r){var a=this._extent;this._approxInterval=(a[1]-a[0])/(t=t||10),null!=n&&this._approxInterval<n&&(this._approxInterval=n),null!=r&&this._approxInterval>r&&(this._approxInterval=r);var s=Ev.length,l=Math.min(function(e,i,t,n){for(;t<n;){var r=t+n>>>1;e[r][1]<i?t=r+1:n=r}return t}(Ev,this._approxInterval,0,s),s-1);this._interval=Ev[l][1],this._minLevelUnit=Ev[Math.max(l-1,0)][0]},i.prototype.parse=function(t){return _e(t)?t:+zo(t)},i.prototype.contain=function(t){return Pv(this.parse(t),this._extent)},i.prototype.normalize=function(t){return Iv(this.parse(t),this._extent)},i.prototype.scale=function(t){return Ov(t,this._extent)},i.type="time",i}(Hl),Ev=[["second",M_],["minute",A_],["hour",cf],["quarter-day",6*cf],["half-day",12*cf],["day",1.2*_a],["half-week",3.5*_a],["week",7*_a],["month",31*_a],["quarter",95*_a],["half-year",$w/2],["year",$w]];function tW(e,i){return(e/=_a)>16?16:e>7.5?7:e>3.5?4:e>1.5?2:1}function eW(e){return(e/=30*_a)>6?6:e>3?3:e>2?2:1}function iW(e){return(e/=cf)>12?12:e>6?6:e>3.5?4:e>2?2:1}function JL(e,i){return(e/=i?A_:M_)>30?30:e>20?20:e>15?15:e>10?10:e>5?5:e>2?2:1}function nW(e){return AS(e,!0)}function rW(e,i,t){var n=new Date(e);switch(Mh(i)){case"year":case"month":n[Jw(t)](0);case"day":n[tT(t)](1);case"hour":n[eT(t)](0);case"minute":n[iT(t)](0);case"second":n[nT(t)](0),n[rT(t)](0)}return n.getTime()}Vs.registerClass(QL);const tk=QL;var ek=Vs.prototype,Kf=Hl.prototype,oW=ki,sW=Math.floor,lW=Math.ceil,Fv=Math.pow,fo=Math.log,vx=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="log",t.base=10,t._originalScale=new Hl,t._interval=0,t}return ot(i,e),i.prototype.getTicks=function(t){var r=this._extent,a=this._originalScale.getExtent();return mt(Kf.getTicks.call(this,t),function(s){var l=s.value,c=ki(Fv(this.base,l));return c=l===r[0]&&this._fixMin?Rv(c,a[0]):c,{value:c=l===r[1]&&this._fixMax?Rv(c,a[1]):c}},this)},i.prototype.setExtent=function(t,n){var r=fo(this.base);t=fo(Math.max(0,t))/r,n=fo(Math.max(0,n))/r,Kf.setExtent.call(this,t,n)},i.prototype.getExtent=function(){var t=this.base,n=ek.getExtent.call(this);n[0]=Fv(t,n[0]),n[1]=Fv(t,n[1]);var a=this._originalScale.getExtent();return this._fixMin&&(n[0]=Rv(n[0],a[0])),this._fixMax&&(n[1]=Rv(n[1],a[1])),n},i.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var n=this.base;t[0]=fo(t[0])/fo(n),t[1]=fo(t[1])/fo(n),ek.unionExtent.call(this,t)},i.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},i.prototype.calcNiceTicks=function(t){t=t||10;var n=this._extent,r=n[1]-n[0];if(!(r===1/0||r<=0)){var a=function CB(e){return Math.pow(10,Vy(e))}(r);for(t/r*a<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var s=[ki(lW(n[0]/a)*a),ki(sW(n[1]/a)*a)];this._interval=a,this._niceExtent=s}},i.prototype.calcNiceExtent=function(t){Kf.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},i.prototype.parse=function(t){return t},i.prototype.contain=function(t){return Pv(t=fo(t)/fo(this.base),this._extent)},i.prototype.normalize=function(t){return Iv(t=fo(t)/fo(this.base),this._extent)},i.prototype.scale=function(t){return t=Ov(t,this._extent),Fv(this.base,t)},i.type="log",i}(Vs),ik=vx.prototype;function Rv(e,i){return oW(e,Vo(i))}ik.getMinorTicks=Kf.getMinorTicks,ik.getLabel=Kf.getLabel,Vs.registerClass(vx);const cW=vx;var uW=function(){function e(i,t,n){this._prepareParams(i,t,n)}return e.prototype._prepareParams=function(i,t,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var r=this._isOrdinal="ordinal"===i.type;this._needCrossZero="interval"===i.type&&t.getNeedCrossZero&&t.getNeedCrossZero();var a=t.get("min",!0);null==a&&(a=t.get("startValue",!0));var o=this._modelMinRaw=a;Z(o)?this._modelMinNum=Bv(i,o({min:n[0],max:n[1]})):"dataMin"!==o&&(this._modelMinNum=Bv(i,o));var s=this._modelMaxRaw=t.get("max",!0);if(Z(s)?this._modelMaxNum=Bv(i,s({min:n[0],max:n[1]})):"dataMax"!==s&&(this._modelMaxNum=Bv(i,s)),r)this._axisDataLen=t.getCategories().length;else{var l=t.get("boundaryGap"),c=yt(l)?l:[l||0,l||0];this._boundaryGapInner="boolean"==typeof c[0]||"boolean"==typeof c[1]?[0,0]:[no(c[0],1),no(c[1],1)]}},e.prototype.calculate=function(){var i=this._isOrdinal,t=this._dataMin,n=this._dataMax,r=this._axisDataLen,a=this._boundaryGapInner,o=i?null:n-t||Math.abs(t),s="dataMin"===this._modelMinRaw?t:this._modelMinNum,l="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,c=null!=s,u=null!=l;null==s&&(s=i?r?0:NaN:t-a[0]*o),null==l&&(l=i?r?r-1:NaN:n+a[1]*o),(null==s||!isFinite(s))&&(s=NaN),(null==l||!isFinite(l))&&(l=NaN);var h=Ea(s)||Ea(l)||i&&!r;this._needCrossZero&&(s>0&&l>0&&!c&&(s=0),s<0&&l<0&&!u&&(l=0));var f=this._determinedMin,p=this._determinedMax;return null!=f&&(s=f,c=!0),null!=p&&(l=p,u=!0),{min:s,max:l,minFixed:c,maxFixed:u,isBlank:h}},e.prototype.modifyDataMinMax=function(i,t){this[dW[i]]=t},e.prototype.setDeterminedMinMax=function(i,t){this[hW[i]]=t},e.prototype.freeze=function(){this.frozen=!0},e}(),hW={min:"_determinedMin",max:"_determinedMax"},dW={min:"_dataMin",max:"_dataMax"};function nk(e,i,t){var n=e.rawExtentInfo;return n||(n=new uW(e,i,t),e.rawExtentInfo=n,n)}function Bv(e,i){return null==i?null:Ea(i)?NaN:e.parse(i)}function rk(e,i){var t=e.type,n=nk(e,i,e.getExtent()).calculate();e.setBlank(n.isBlank);var r=n.min,a=n.max,o=i.ecModel;if(o&&"time"===t){var s=yL("bar",o),l=!1;if(U(s,function(h){l=l||h.getBaseAxis()===i.axis}),l){var c=_L(s),u=function fW(e,i,t,n){var r=t.axis.getExtent(),a=r[1]-r[0],o=function t6(e,i,t){if(e&&i){var n=e[ox(i)];return null!=n&&null!=t?n[ax(t)]:n}}(n,t.axis);if(void 0===o)return{min:e,max:i};var s=1/0;U(o,function(p){s=Math.min(p.offset,s)});var l=-1/0;U(o,function(p){l=Math.max(p.offset+p.width,l)}),s=Math.abs(s),l=Math.abs(l);var c=s+l,u=i-e,f=u/(1-(s+l)/a)-u;return{min:e-=f*(s/c),max:i+=f*(l/c)}}(r,a,i,c);r=u.min,a=u.max}}return{extent:[r,a],fixMin:n.minFixed,fixMax:n.maxFixed}}function Qh(e,i){var t=i,n=rk(e,t),r=n.extent,a=t.get("splitNumber");e instanceof cW&&(e.base=t.get("logBase"));var o=e.type,s=t.get("interval"),l="interval"===o||"time"===o;e.setExtent(r[0],r[1]),e.calcNiceExtent({splitNumber:a,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:l?t.get("minInterval"):null,maxInterval:l?t.get("maxInterval"):null}),null!=s&&e.setInterval&&e.setInterval(s)}function Vv(e,i){if(i=i||e.get("type"))switch(i){case"category":return new gx({ordinalMeta:e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),extent:[1/0,-1/0]});case"time":return new tk({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new(Vs.getClass(i)||Hl)}}function Jh(e){var n,i=e.getLabelModel().get("formatter"),t="category"===e.type?e.scale.getExtent()[0]:null;return"time"===e.scale.type?(n=i,function(r,a){return e.scale.getFormattedLabel(r,a,n)}):Lt(i)?function(n){return function(r){var a=e.scale.getLabel(r);return n.replace("{value}",a??"")}}(i):Z(i)?function(n){return function(r,a){return null!=t&&(a=r.value-t),n(mx(e,r),a,null!=r.level?{level:r.level}:null)}}(i):function(n){return e.scale.getLabel(n)}}function mx(e,i){return"category"===e.type?e.scale.getLabel(i):i.value}function vW(e,i){var t=i*Math.PI/180,n=e.width,r=e.height,a=n*Math.abs(Math.cos(t))+Math.abs(r*Math.sin(t)),o=n*Math.abs(Math.sin(t))+Math.abs(r*Math.cos(t));return new $t(e.x,e.y,a,o)}function yx(e){return e.get("interval")??"auto"}function ak(e){return"category"===e.type&&0===yx(e.getLabelModel())}function zv(e,i){var t={};return U(e.mapDimensionsAll(i),function(n){t[tL(e,n)]=!0}),he(t)}var yW=function(){function e(i){this.type="cartesian",this._dimList=[],this._axes={},this.name=i||""}return e.prototype.getAxis=function(i){return this._axes[i]},e.prototype.getAxes=function(){return mt(this._dimList,function(i){return this._axes[i]},this)},e.prototype.getAxesByScale=function(i){return i=i.toLowerCase(),ve(this.getAxes(),function(t){return t.scale.type===i})},e.prototype.addAxis=function(i){var t=i.dim;this._axes[t]=i,this._dimList.push(t)},e}(),_x=["x","y"];function ok(e){return"interval"===e.type||"time"===e.type}var xW=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=_x,t}return ot(i,e),i.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,n=this.getAxis("y").scale;if(ok(t)&&ok(n)){var r=t.getExtent(),a=n.getExtent(),o=this.dataToPoint([r[0],a[0]]),s=this.dataToPoint([r[1],a[1]]),l=r[1]-r[0],c=a[1]-a[0];if(l&&c){var u=(s[0]-o[0])/l,h=(s[1]-o[1])/c,m=this._transform=[u,0,0,h,o[0]-r[0]*u,o[1]-a[0]*h];this._invTransform=vn([],m)}}},i.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},i.prototype.containPoint=function(t){var n=this.getAxis("x"),r=this.getAxis("y");return n.contain(n.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))},i.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},i.prototype.containZone=function(t,n){var r=this.dataToPoint(t),a=this.dataToPoint(n),o=this.getArea(),s=new $t(r[0],r[1],a[0]-r[0],a[1]-r[1]);return o.intersect(s)},i.prototype.dataToPoint=function(t,n,r){r=r||[];var a=t[0],o=t[1];if(this._transform&&null!=a&&isFinite(a)&&null!=o&&isFinite(o))return Si(r,t,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(a,n)),r[1]=l.toGlobalCoord(l.dataToCoord(o,n)),r},i.prototype.clampData=function(t,n){var r=this.getAxis("x").scale,a=this.getAxis("y").scale,o=r.getExtent(),s=a.getExtent(),l=r.parse(t[0]),c=a.parse(t[1]);return(n=n||[])[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),c),Math.max(s[0],s[1])),n},i.prototype.pointToData=function(t,n){var r=[];if(this._invTransform)return Si(r,t,this._invTransform);var a=this.getAxis("x"),o=this.getAxis("y");return r[0]=a.coordToData(a.toLocalCoord(t[0]),n),r[1]=o.coordToData(o.toLocalCoord(t[1]),n),r},i.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},i.prototype.getArea=function(t){t=t||0;var n=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),a=Math.min(n[0],n[1])-t,o=Math.min(r[0],r[1])-t,s=Math.max(n[0],n[1])-a+t,l=Math.max(r[0],r[1])-o+t;return new $t(a,o,s,l)},i}(yW);const bW=xW;var Qf=Le();function sk(e,i){var t=mt(i,function(n){return e.scale.parse(n)});return"time"===e.type&&t.length>0&&(t.sort(),t.unshift(t[0]),t.push(t[t.length-1])),t}function lk(e,i){var a,o,t=ck(e,"labels"),n=yx(i);return uk(t,n)||(Z(n)?a=fk(e,n):(o="auto"===n?function AW(e){return Qf(e).autoInterval??(Qf(e).autoInterval=e.calculateCategoryInterval())}(e):n,a=dk(e,o)),hk(t,n,{labels:a,labelCategoryInterval:o}))}function ck(e,i){return Qf(e)[i]||(Qf(e)[i]=[])}function uk(e,i){for(var t=0;t<e.length;t++)if(e[t].key===i)return e[t].value}function hk(e,i,t){return e.push({key:i,value:t}),t}function dk(e,i,t){var n=Jh(e),r=e.scale,a=r.getExtent(),o=e.getLabelModel(),s=[],l=Math.max((i||0)+1,1),c=a[0],u=r.count();0!==c&&l>1&&u/l>2&&(c=Math.round(Math.ceil(c/l)*l));var h=ak(e),f=o.get("showMinLabel")||h,p=o.get("showMaxLabel")||h;f&&c!==a[0]&&b(a[0]);for(var m=c;m<=a[1];m+=l)b(m);function b(_){var w={value:_};s.push(t?_:{formattedLabel:n(w),rawLabel:r.getLabel(w),tickValue:_})}return p&&m-l!==a[1]&&b(a[1]),s}function fk(e,i,t){var n=e.scale,r=Jh(e),a=[];return U(n.getTicks(),function(o){var s=n.getLabel(o),l=o.value;i(o.value,s)&&a.push(t?l:{formattedLabel:r(o),rawLabel:s,tickValue:l})}),a}var pk=[0,1],DW=function(){function e(i,t,n){this.onBand=!1,this.inverse=!1,this.dim=i,this.scale=t,this._extent=n||[0,0]}return e.prototype.contain=function(i){var t=this._extent,n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return i>=n&&i<=r},e.prototype.containData=function(i){return this.scale.contain(i)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(i){return SS(i||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(i,t){var n=this._extent;n[0]=i,n[1]=t},e.prototype.dataToCoord=function(i,t){var n=this._extent,r=this.scale;return i=r.normalize(i),this.onBand&&"ordinal"===r.type&&gk(n=n.slice(),r.count()),Xe(i,pk,n,t)},e.prototype.coordToData=function(i,t){var n=this._extent,r=this.scale;this.onBand&&"ordinal"===r.type&&gk(n=n.slice(),r.count());var a=Xe(i,n,pk,t);return this.scale.scale(a)},e.prototype.pointToData=function(i,t){},e.prototype.getTicksCoords=function(i){var t=(i=i||{}).tickModel||this.getTickModel(),a=mt(function SW(e,i){var t=e.getTickModel().get("customValues");return t?{ticks:sk(e,t)}:"category"===e.type?function TW(e,i){var a,o,t=ck(e,"ticks"),n=yx(i),r=uk(t,n);if(r)return r;if((!i.get("show")||e.scale.isBlank())&&(a=[]),Z(n))a=fk(e,n,!0);else if("auto"===n){var s=lk(e,e.getLabelModel());o=s.labelCategoryInterval,a=mt(s.labels,function(l){return l.tickValue})}else a=dk(e,o=n,!0);return hk(t,n,{ticks:a,tickCategoryInterval:o})}(e,i):{ticks:mt(e.scale.getTicks(),function(n){return n.value})}}(this,t).ticks,function(s){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this);return function PW(e,i,t,n){var r=i.length;if(e.onBand&&!t&&r){var o,a=e.getExtent();if(1===r)i[0].coord=a[0],o=i[1]={coord:a[1]};else{var c=(i[r-1].coord-i[0].coord)/(i[r-1].tickValue-i[0].tickValue);U(i,function(p){p.coord-=c/2});var u=e.scale.getExtent();i.push(o={coord:i[r-1].coord+c*(1+u[1]-i[r-1].tickValue)})}var h=a[0]>a[1];f(i[0].coord,a[0])&&(n?i[0].coord=a[0]:i.shift()),n&&f(a[0],i[0].coord)&&i.unshift({coord:a[0]}),f(a[1],o.coord)&&(n?o.coord=a[1]:i.pop()),n&&f(o.coord,a[1])&&i.push({coord:a[1]})}function f(p,m){return p=ki(p),m=ki(m),h?p>m:p<m}}(this,a,t.get("alignWithLabel"),i.clamp),a},e.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return t>0&&t<100||(t=5),mt(this.scale.getMinorTicks(t),function(a){return mt(a,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this)},e.prototype.getViewLabels=function(){return function CW(e){var i=e.getLabelModel().get("customValues");if(i){var t=Jh(e);return{labels:sk(e,i).map(function(n){var r={value:n};return{formattedLabel:t(r),rawLabel:e.scale.getLabel(r),tickValue:n}})}}return"category"===e.type?function wW(e){var i=e.getLabelModel(),t=lk(e,i);return!i.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:t.labelCategoryInterval}:t}(e):function MW(e){var i=e.scale.getTicks(),t=Jh(e);return{labels:mt(i,function(n,r){return{level:n.level,formattedLabel:t(n,r),rawLabel:e.scale.getLabel(n),tickValue:n.value}})}}(e)}(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var i=this._extent,t=this.scale.getExtent(),n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var r=Math.abs(i[1]-i[0]);return Math.abs(r)/n},e.prototype.calculateCategoryInterval=function(){return function LW(e){var i=function kW(e){var i=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:i.get("rotate")||0,font:i.getFont()}}(e),t=Jh(e),n=(i.axisRotate-i.labelRotate)/180*Math.PI,r=e.scale,a=r.getExtent(),o=r.count();if(a[1]-a[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=a[0],c=e.dataToCoord(l+1)-e.dataToCoord(l),u=Math.abs(c*Math.cos(n)),h=Math.abs(c*Math.sin(n)),f=0,p=0;l<=a[1];l+=s){var b,_=Ud(t({value:l}),i.font,"center","top");b=1.3*_.height,f=Math.max(f,1.3*_.width,7),p=Math.max(p,b,7)}var w=f/u,T=p/h;isNaN(w)&&(w=1/0),isNaN(T)&&(T=1/0);var A=Math.max(0,Math.floor(Math.min(w,T))),P=Qf(e.model),F=e.getExtent(),O=P.lastAutoInterval,V=P.lastTickCount;return null!=O&&null!=V&&Math.abs(O-A)<=1&&Math.abs(V-o)<=1&&O>A&&P.axisExtent0===F[0]&&P.axisExtent1===F[1]?A=O:(P.lastTickCount=o,P.lastAutoInterval=A,P.axisExtent0=F[0],P.axisExtent1=F[1]),A}(this)},e}();function gk(e,i){var r=(e[1]-e[0])/i/2;e[0]+=r,e[1]-=r}const po=DW;var IW=function(e){function i(t,n,r,a,o){var s=e.call(this,t,n,r)||this;return s.index=0,s.type=a||"value",s.position=o||"bottom",s}return ot(i,e),i.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},i.prototype.getGlobalExtent=function(t){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),t&&n[0]>n[1]&&n.reverse(),n},i.prototype.pointToData=function(t,n){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),n)},i.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},i}(po);const OW=IW;function xx(e,i,t){t=t||{};var n=e.coordinateSystem,r=i.axis,a={},o=r.getAxesOnZeroOf()[0],s=r.position,l=o?"onZero":s,c=r.dim,u=n.getRect(),h=[u.x,u.x+u.width,u.y,u.y+u.height],f={left:0,right:1,top:0,bottom:1,onZero:2},p=i.get("offset")||0,m="x"===c?[h[2]-p,h[3]+p]:[h[0]-p,h[1]+p];if(o){var b=o.toGlobalCoord(o.dataToCoord(0));m[f.onZero]=Math.max(Math.min(b,m[1]),m[0])}a.position=["y"===c?m[f[l]]:h[0],"x"===c?m[f[l]]:h[3]],a.rotation=Math.PI/2*("x"===c?0:1),a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],a.labelOffset=o?m[f[s]]-m[f.onZero]:0,i.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),hi(t.labelInside,i.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var w=i.get(["axisLabel","rotate"]);return a.labelRotate="top"===l?-w:w,a.z2=1,a}function vk(e){return"cartesian2d"===e.get("coordinateSystem")}function mk(e){var i={xAxisModel:null,yAxisModel:null};return U(i,function(t,n){var r=n.replace(/Model$/,""),a=e.getReferringComponents(r,zi).models[0];i[n]=a}),i}var bx=Math.log;function yk(e,i,t){var n=Hl.prototype,r=n.getTicks.call(t),a=n.getTicks.call(t,!0),o=r.length-1,s=n.getInterval.call(t),l=rk(e,i),c=l.extent,u=l.fixMin,h=l.fixMax;if("log"===e.type){var f=bx(e.base);c=[bx(c[0])/f,bx(c[1])/f]}e.setExtent(c[0],c[1]),e.calcNiceExtent({splitNumber:o,fixMin:u,fixMax:h});var p=n.getExtent.call(e);u&&(c[0]=p[0]),h&&(c[1]=p[1]);var m=n.getInterval.call(e),b=c[0],_=c[1];if(u&&h)m=(_-b)/o;else if(u)for(_=c[0]+m*o;_<c[1]&&isFinite(_)&&isFinite(c[1]);)m=px(m),_=c[0]+m*o;else if(h)for(b=c[1]-m*o;b>c[0]&&isFinite(b)&&isFinite(c[0]);)m=px(m),b=c[1]-m*o;else{e.getTicks().length-1>o&&(m=px(m));var T=m*o;(b=ki((_=Math.ceil(c[1]/m)*m)-T))<0&&c[0]>=0?(b=0,_=ki(T)):_>0&&c[1]<=0&&(_=0,b=-ki(T))}var A=(r[0].value-a[0].value)/s,P=(r[o].value-a[o].value)/s;n.setExtent.call(e,b+m*A,_+m*P),n.setInterval.call(e,m),(A||P)&&n.setNiceExtent.call(e,b+m,_-m)}var EW=function(){function e(i,t,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=_x,this._initCartesian(i,t,n),this.model=i}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(i,t){var n=this._axesMap;function r(o){var s,l=he(o),c=l.length;if(c){for(var u=[],h=c-1;h>=0;h--){var p=o[+l[h]],m=p.model,b=p.scale;fx(b)&&m.get("alignTicks")&&null==m.get("interval")?u.push(p):(Qh(b,m),fx(b)&&(s=p))}u.length&&(s||Qh((s=u.pop()).scale,s.model),U(u,function(_){yk(_.scale,_.model,s.scale)}))}}this._updateScale(i,this.model),r(n.x),r(n.y);var a={};U(n.x,function(o){_k(n,"y",o,a)}),U(n.y,function(o){_k(n,"x",o,a)}),this.resize(this.model,t)},e.prototype.resize=function(i,t,n){var r=i.getBoxLayoutParams(),a=!n&&i.get("containLabel"),o=qi(r,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var s=this._axesList;function l(){U(s,function(c){var u=c.isHorizontal(),h=u?[0,o.width]:[0,o.height],f=c.inverse?1:0;c.setExtent(h[f],h[1-f]),function FW(e,i){var t=e.getExtent(),n=t[0]+t[1];e.toGlobalCoord="x"===e.dim?function(r){return r+i}:function(r){return n-r+i},e.toLocalCoord="x"===e.dim?function(r){return r-i}:function(r){return n-r+i}}(c,u?o.x:o.y)})}l(),a&&(U(s,function(c){if(!c.model.get(["axisLabel","inside"])){var u=function gW(e){var t=e.scale;if(e.model.get(["axisLabel","show"])&&!t.isBlank()){var n,r,a=t.getExtent();r=t instanceof gx?t.count():(n=t.getTicks()).length;var l,o=e.getLabelModel(),s=Jh(e),c=1;r>40&&(c=Math.ceil(r/40));for(var u=0;u<r;u+=c){var f=s(n?n[u]:{value:a[0]+u},u),m=vW(o.getTextRect(f),o.get("rotate")||0);l?l.union(m):l=m}return l}}(c);if(u){var h=c.isHorizontal()?"height":"width",f=c.model.get(["axisLabel","margin"]);o[h]-=u[h]+f,"top"===c.position?o.y+=u.height+f:"left"===c.position&&(o.x+=u.width+f)}}}),l()),U(this._coordsList,function(c){c.calcAffineTransform()})},e.prototype.getAxis=function(i,t){var n=this._axesMap[i];if(null!=n)return n[t||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(i,t){if(null!=i&&null!=t)return this._coordsMap["x"+i+"y"+t];Bt(i)&&(t=i.yAxisIndex,i=i.xAxisIndex);for(var r=0,a=this._coordsList;r<a.length;r++)if(a[r].getAxis("x").index===i||a[r].getAxis("y").index===t)return a[r]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(i,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.dataToPoint(n):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(n)):null},e.prototype.convertFromPixel=function(i,t,n){var r=this._findConvertTarget(t);return r.cartesian?r.cartesian.pointToData(n):r.axis?r.axis.coordToData(r.axis.toLocalCoord(n)):null},e.prototype._findConvertTarget=function(i){var s,l,t=i.seriesModel,n=i.xAxisModel||t&&t.getReferringComponents("xAxis",zi).models[0],r=i.yAxisModel||t&&t.getReferringComponents("yAxis",zi).models[0],a=i.gridModel;return t?oe(this._coordsList,s=t.coordinateSystem)<0&&(s=null):n&&r?s=this.getCartesian(n.componentIndex,r.componentIndex):n?l=this.getAxis("x",n.componentIndex):r?l=this.getAxis("y",r.componentIndex):a&&a.coordinateSystem===this&&(s=this._coordsList[0]),{cartesian:s,axis:l}},e.prototype.containPoint=function(i){var t=this._coordsList[0];if(t)return t.containPoint(i)},e.prototype._initCartesian=function(i,t,n){var r=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",c("x"),this),t.eachComponent("yAxis",c("y"),this),!l.x||!l.y)return this._axesMap={},void(this._axesList=[]);function c(u){return function(h,f){if(Cx(h,i)){var p=h.get("position");"x"===u?"top"!==p&&"bottom"!==p&&(p=o.bottom?"top":"bottom"):"left"!==p&&"right"!==p&&(p=o.left?"right":"left"),o[p]=!0;var m=new OW(u,Vv(h),[0,0],h.get("type"),p);m.onBand="category"===m.type&&h.get("boundaryGap"),m.inverse=h.get("inverse"),h.axis=m,m.model=h,m.grid=a,m.index=f,a._axesList.push(m),s[u][f]=m,l[u]++}}}this._axesMap=s,U(s.x,function(u,h){U(s.y,function(f,p){var m="x"+h+"y"+p,b=new bW(m);b.master=r,b.model=i,r._coordsMap[m]=b,r._coordsList.push(b),b.addAxis(u),b.addAxis(f)})})},e.prototype._updateScale=function(i,t){function n(r,a){U(zv(r,a.dim),function(o){a.scale.unionExtentFromData(r,o)})}U(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),"category"===r.type){var a=r.model.get("categorySortInfo");r.scale.setSortInfo(a)}}),i.eachSeries(function(r){if(vk(r)){var a=mk(r),o=a.xAxisModel,s=a.yAxisModel;if(!Cx(o,t)||!Cx(s,t))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),c=r.getData(),u=l.getAxis("x"),h=l.getAxis("y");n(c,u),n(c,h)}},this)},e.prototype.getTooltipAxes=function(i){var t=[],n=[];return U(this.getCartesians(),function(r){var a=null!=i&&"auto"!==i?r.getAxis(i):r.getBaseAxis(),o=r.getOtherAxis(a);oe(t,a)<0&&t.push(a),oe(n,o)<0&&n.push(o)}),{baseAxes:t,otherAxes:n}},e.create=function(i,t){var n=[];return i.eachComponent("grid",function(r,a){var o=new e(r,i,t);o.name="grid_"+a,o.resize(r,t,!0),r.coordinateSystem=o,n.push(o)}),i.eachSeries(function(r){if(vk(r)){var a=mk(r),o=a.xAxisModel,s=a.yAxisModel,l=o.getCoordSysModel();r.coordinateSystem=l.coordinateSystem.getCartesian(o.componentIndex,s.componentIndex)}}),n},e.dimensions=_x,e}();function Cx(e,i){return e.getCoordSysModel()===i}function _k(e,i,t,n){t.getAxesOnZeroOf=function(){return a?[a]:[]};var a,r=e[i],o=t.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)xk(r[l])&&(a=r[l]);else for(var c in r)if(r.hasOwnProperty(c)&&xk(r[c])&&!n[u(r[c])]){a=r[c];break}a&&(n[u(a)]=!0)}function u(h){return h.dim+"_"+h.index}}function xk(e){return e&&"category"!==e.type&&"time"!==e.type&&function pW(e){var i=e.scale.getExtent(),t=i[0],n=i[1];return!(t>0&&n>0||t<0&&n<0)}(e)}const RW=EW;var Wl=Math.PI,vu=function(){function e(i,t){this.group=new Kt,this.opt=t,this.axisModel=i,Rt(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new Kt({x:t.position[0],y:t.position[1],rotation:t.rotation});n.updateTransform(),this._transformGroup=n}return e.prototype.hasBuilder=function(i){return!!bk[i]},e.prototype.add=function(i){bk[i](this.opt,this.axisModel,this.group,this._transformGroup)},e.prototype.getGroup=function(){return this.group},e.innerTextLayout=function(i,t,n){var a,o,r=MS(t-i);return $d(r)?(o=n>0?"top":"bottom",a="center"):$d(r-Wl)?(o=n>0?"bottom":"top",a="center"):(o="middle",a=r>0&&r<Wl?n>0?"right":"left":n>0?"left":"right"),{rotation:r,textAlign:a,textVerticalAlign:o}},e.makeAxisEventDataBase=function(i){var t={componentType:i.mainType,componentIndex:i.componentIndex};return t[i.mainType+"Index"]=i.componentIndex,t},e.isLabelSilent=function(i){var t=i.get("tooltip");return i.get("silent")||!(i.get("triggerEvent")||t&&t.show)},e}(),bk={axisLine:function(e,i,t,n){var r=i.get(["axisLine","show"]);if("auto"===r&&e.handleAutoShown&&(r=e.handleAutoShown("axisLine")),r){var a=i.axis.getExtent(),o=n.transform,s=[a[0],0],l=[a[1],0],c=s[0]>l[0];o&&(Si(s,s,o),Si(l,l,o));var u=ft({lineCap:"round"},i.getModel(["axisLine","lineStyle"]).getLineStyle()),h=new yn({shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1});Vh(h.shape,h.style.lineWidth),h.anid="line",t.add(h);var f=i.get(["axisLine","symbol"]);if(null!=f){var p=i.get(["axisLine","symbolSize"]);Lt(f)&&(f=[f,f]),(Lt(p)||_e(p))&&(p=[p,p]);var m=iu(i.get(["axisLine","symbolOffset"])||0,p),b=p[0],_=p[1];U([{rotate:e.rotation+Math.PI/2,offset:m[0],r:0},{rotate:e.rotation-Math.PI/2,offset:m[1],r:Math.sqrt((s[0]-l[0])*(s[0]-l[0])+(s[1]-l[1])*(s[1]-l[1]))}],function(w,T){if("none"!==f[T]&&null!=f[T]){var A=Gi(f[T],-b/2,-_/2,b,_,u.stroke,!0),P=w.r+w.offset,F=c?l:s;A.attr({rotation:w.rotate,x:F[0]+P*Math.cos(e.rotation),y:F[1]-P*Math.sin(e.rotation),silent:!0,z2:11}),t.add(A)}})}}},axisTickLabel:function(e,i,t,n){var r=function zW(e,i,t,n){var r=t.axis,a=t.getModel("axisTick"),o=a.get("show");if("auto"===o&&n.handleAutoShown&&(o=n.handleAutoShown("axisTick")),o&&!r.scale.isBlank()){for(var s=a.getModel("lineStyle"),l=n.tickDirection*a.get("length"),u=wk(r.getTicksCoords(),i.transform,l,Rt(s.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<u.length;h++)e.add(u[h]);return u}}(t,n,i,e),a=function GW(e,i,t,n){var r=t.axis;if(hi(n.axisLabelShow,t.get(["axisLabel","show"]))&&!r.scale.isBlank()){var o=t.getModel("axisLabel"),s=o.get("margin"),l=r.getViewLabels(),c=(hi(n.labelRotate,o.get("rotate"))||0)*Wl/180,u=vu.innerTextLayout(n.rotation,c,n.labelDirection),h=t.getCategories&&t.getCategories(!0),f=[],p=vu.isLabelSilent(t),m=t.get("triggerEvent");return U(l,function(b,_){var w="ordinal"===r.scale.type?r.scale.getRawOrdinalNumber(b.tickValue):b.tickValue,T=b.formattedLabel,A=b.rawLabel,P=o;if(h&&h[w]){var F=h[w];Bt(F)&&F.textStyle&&(P=new ai(F.textStyle,o,t.ecModel))}var O=P.getTextColor()||t.get(["axisLine","lineStyle","color"]),V=r.dataToCoord(w),N=P.getShallow("align",!0)||u.textAlign,G=qt(P.getShallow("alignMinLabel",!0),N),H=qt(P.getShallow("alignMaxLabel",!0),N),X=P.getShallow("verticalAlign",!0)||P.getShallow("baseline",!0)||u.textVerticalAlign,q=qt(P.getShallow("verticalAlignMinLabel",!0),X),j=qt(P.getShallow("verticalAlignMaxLabel",!0),X),J=new Ie({x:V,y:n.labelOffset+n.labelDirection*s,rotation:u.rotation,silent:p,z2:10+(b.level||0),style:ri(P,{text:T,align:0===_?G:_===l.length-1?H:N,verticalAlign:0===_?q:_===l.length-1?j:X,fill:Z(O)?O("category"===r.type?A:"value"===r.type?w+"":w,_):O})});if(J.anid="label_"+w,m){var tt=vu.makeAxisEventDataBase(t);tt.targetType="axisLabel",tt.value=A,tt.tickIndex=_,"category"===r.type&&(tt.dataIndex=w),Jt(J).eventData=tt}i.add(J),J.updateTransform(),f.push(J),e.add(J),J.decomposeTransform()}),f}}(t,n,i,e);(function VW(e,i,t){if(!ak(e.axis)){var n=e.get(["axisLabel","showMinLabel"]),r=e.get(["axisLabel","showMaxLabel"]),a=(i=i||[])[0],o=i[1],s=i[i.length-1],l=i[i.length-2],c=(t=t||[])[0],u=t[1],h=t[t.length-1],f=t[t.length-2];!1===n?(Ta(a),Ta(c)):Ck(a,o)&&(n?(Ta(o),Ta(u)):(Ta(a),Ta(c))),!1===r?(Ta(s),Ta(h)):Ck(l,s)&&(r?(Ta(l),Ta(f)):(Ta(s),Ta(h)))}})(i,a,r),function NW(e,i,t,n){var r=t.axis,a=t.getModel("minorTick");if(a.get("show")&&!r.scale.isBlank()){var o=r.getMinorTicksCoords();if(o.length)for(var s=a.getModel("lineStyle"),l=n*a.get("length"),c=Rt(s.getLineStyle(),Rt(t.getModel("axisTick").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})),u=0;u<o.length;u++)for(var h=wk(o[u],i.transform,l,c,"minorticks_"+u),f=0;f<h.length;f++)e.add(h[f])}}(t,n,i,e.tickDirection),i.get(["axisLabel","hideOverlap"])&&dA(cA(mt(a,function(s){return{label:s,priority:s.z2,defaultAttr:{ignore:s.ignore}}})))},axisName:function(e,i,t,n){var r=hi(e.axisName,i.get("name"));if(r){var f,m,a=i.get("nameLocation"),o=e.nameDirection,s=i.getModel("nameTextStyle"),l=i.get("nameGap")||0,c=i.axis.getExtent(),u=c[0]>c[1]?-1:1,h=["start"===a?c[0]-u*l:"end"===a?c[1]+u*l:(c[0]+c[1])/2,Sk(a)?e.labelOffset+o*l:0],p=i.get("nameRotate");null!=p&&(p=p*Wl/180),Sk(a)?f=vu.innerTextLayout(e.rotation,p??e.rotation,o):(f=function BW(e,i,t,n){var a,o,r=MS(t-e),s=n[0]>n[1],l="start"===i&&!s||"start"!==i&&s;return $d(r-Wl/2)?(o=l?"bottom":"top",a="center"):$d(r-1.5*Wl)?(o=l?"top":"bottom",a="center"):(o="middle",a=r<1.5*Wl&&r>Wl/2?l?"left":"right":l?"right":"left"),{rotation:r,textAlign:a,textVerticalAlign:o}}(e.rotation,a,p||0,c),null!=(m=e.axisNameAvailableWidth)&&(m=Math.abs(m/Math.sin(f.rotation)),!isFinite(m)&&(m=null)));var b=s.getFont(),_=i.get("nameTruncate",!0)||{},w=_.ellipsis,T=hi(e.nameTruncateMaxWidth,_.maxWidth,m),A=new Ie({x:h[0],y:h[1],rotation:f.rotation,silent:vu.isLabelSilent(i),style:ri(s,{text:r,font:b,overflow:"truncate",width:T,ellipsis:w,fill:s.getTextColor()||i.get(["axisLine","lineStyle","color"]),align:s.get("align")||f.textAlign,verticalAlign:s.get("verticalAlign")||f.textVerticalAlign}),z2:1});if(zh({el:A,componentModel:i,itemName:r}),A.__fullText=r,A.anid="name",i.get("triggerEvent")){var P=vu.makeAxisEventDataBase(i);P.targetType="axisName",P.name=r,Jt(A).eventData=P}n.add(A),A.updateTransform(),t.add(A),A.decomposeTransform()}}};function Ta(e){e&&(e.ignore=!0)}function Ck(e,i){var t=e&&e.getBoundingRect().clone(),n=i&&i.getBoundingRect().clone();if(t&&n){var r=Yr([]);return Ri(r,r,-e.rotation),t.applyTransform(Ui([],r,e.getLocalTransform())),n.applyTransform(Ui([],r,i.getLocalTransform())),t.intersect(n)}}function Sk(e){return"middle"===e||"center"===e}function wk(e,i,t,n,r){for(var a=[],o=[],s=[],l=0;l<e.length;l++){var c=e[l].coord;o[0]=c,o[1]=0,s[0]=c,s[1]=t,i&&(Si(o,o,i),Si(s,s,i));var u=new yn({shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:n,z2:2,autoBatch:!0,silent:!0});Vh(u.shape,u.style.lineWidth),u.anid=r+"_"+e[l].tickValue,a.push(u)}return a}const zs=vu;function Sx(e,i){return"all"===e||yt(e)&&oe(e,i)>=0||e===i}function Tx(e){var i=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return i&&i.axesInfo[Jf(e)]}function Mx(e){return!!e.get(["handle","show"])}function Jf(e){return e.type+"||"+e.id}var Tk={},jW=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.render=function(t,n,r,a){this.axisPointerClass&&function ZW(e){var i=Tx(e);if(i){var t=i.axisPointerModel,n=i.axis.scale,r=t.option,a=t.get("status"),o=t.get("value");null!=o&&(o=n.parse(o));var s=Mx(t);null==a&&(r.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==o||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),r.value=o,s&&(r.status=i.axis.scale.isBlank()?"hide":"show")}}(t),e.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(t,r,!0)},i.prototype.updateAxisPointer=function(t,n,r,a){this._doUpdateAxisPointerClass(t,r,!1)},i.prototype.remove=function(t,n){var r=this._axisPointer;r&&r.remove(n)},i.prototype.dispose=function(t,n){this._disposeAxisPointer(n),e.prototype.dispose.apply(this,arguments)},i.prototype._doUpdateAxisPointerClass=function(t,n,r){var a=i.getAxisPointerClass(this.axisPointerClass);if(a){var o=function $W(e){var i=Tx(e);return i&&i.axisPointerModel}(t);o?(this._axisPointer||(this._axisPointer=new a)).render(t,o,n,r):this._disposeAxisPointer(n)}},i.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},i.registerAxisPointerClass=function(t,n){Tk[t]=n},i.getAxisPointerClass=function(t){return t&&Tk[t]},i.type="axis",i}(Mi);const mu=jW;var Ax=Le();function Mk(e,i,t,n){var r=t.axis;if(!r.scale.isBlank()){var a=t.getModel("splitArea"),o=a.getModel("areaStyle"),s=o.get("color"),l=n.coordinateSystem.getRect(),c=r.getTicksCoords({tickModel:a,clamp:!0});if(c.length){var u=s.length,h=Ax(e).splitAreaColors,f=Mt(),p=0;if(h)for(var m=0;m<c.length;m++){var b=h.get(c[m].tickValue);if(null!=b){p=(b+(u-1)*m)%u;break}}var _=r.toGlobalCoord(c[0].coord),w=o.getAreaStyle();for(s=yt(s)?s:[s],m=1;m<c.length;m++){var T=r.toGlobalCoord(c[m].coord),A=void 0,P=void 0,F=void 0,O=void 0;r.isHorizontal()?(P=l.y,O=l.height,_=(A=_)+(F=T-A)):(A=l.x,F=l.width,_=(P=_)+(O=T-P));var V=c[m-1].tickValue;null!=V&&f.set(V,p),i.add(new De({anid:null!=V?"area_"+V:null,shape:{x:A,y:P,width:F,height:O},style:Rt({fill:s[p]},w),autoBatch:!0,silent:!0})),p=(p+1)%u}Ax(e).splitAreaColors=f}}}function Ak(e){Ax(e).splitAreaColors=null}var qW=["axisLine","axisTickLabel","axisName"],KW=["splitArea","splitLine","minorSplitLine"],Lk=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.axisPointerClass="CartesianAxisPointer",t}return ot(i,e),i.prototype.render=function(t,n,r,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Kt,this.group.add(this._axisGroup),t.get("show")){var s=t.getCoordSysModel(),l=xx(s,t),c=new zs(t,ft({handleAutoShown:function(h){for(var f=s.coordinateSystem.getCartesians(),p=0;p<f.length;p++)if(fx(f[p].getOtherAxis(t.axis).scale))return!0;return!1}},l));U(qW,c.add,c),this._axisGroup.add(c.getGroup()),U(KW,function(h){t.get([h,"show"])&&QW[h](this,this._axisGroup,t,s)},this),a&&"changeAxisOrder"===a.type&&a.isInitSort||wf(o,this._axisGroup,t),e.prototype.render.call(this,t,n,r,a)}},i.prototype.remove=function(){Ak(this)},i.type="cartesianAxis",i}(mu),QW={splitLine:function(e,i,t,n){var r=t.axis;if(!r.scale.isBlank()){var a=t.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=yt(s)?s:[s];for(var l=n.coordinateSystem.getRect(),c=r.isHorizontal(),u=0,h=r.getTicksCoords({tickModel:a}),f=[],p=[],m=o.getLineStyle(),b=0;b<h.length;b++){var _=r.toGlobalCoord(h[b].coord);c?(f[0]=_,f[1]=l.y,p[0]=_,p[1]=l.y+l.height):(f[0]=l.x,f[1]=_,p[0]=l.x+l.width,p[1]=_);var w=u++%s.length,A=new yn({anid:null!=h[b].tickValue?"line_"+h[b].tickValue:null,autoBatch:!0,shape:{x1:f[0],y1:f[1],x2:p[0],y2:p[1]},style:Rt({stroke:s[w]},m),silent:!0});Vh(A.shape,m.lineWidth),i.add(A)}}},minorSplitLine:function(e,i,t,n){var r=t.axis,o=t.getModel("minorSplitLine").getModel("lineStyle"),s=n.coordinateSystem.getRect(),l=r.isHorizontal(),c=r.getMinorTicksCoords();if(c.length)for(var u=[],h=[],f=o.getLineStyle(),p=0;p<c.length;p++)for(var m=0;m<c[p].length;m++){var b=r.toGlobalCoord(c[p][m].coord);l?(u[0]=b,u[1]=s.y,h[0]=b,h[1]=s.y+s.height):(u[0]=s.x,u[1]=b,h[0]=s.x+s.width,h[1]=b);var _=new yn({anid:"minor_line_"+c[p][m].tickValue,autoBatch:!0,shape:{x1:u[0],y1:u[1],x2:h[0],y2:h[1]},style:f,silent:!0});Vh(_.shape,f.lineWidth),i.add(_)}},splitArea:function(e,i,t,n){Mk(e,i,t,n)}},kk=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.type="xAxis",i}(Lk),JW=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=kk.type,t}return ot(i,e),i.type="yAxis",i}(Lk),t8=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="grid",t}return ot(i,e),i.prototype.render=function(t,n){this.group.removeAll(),t.get("show")&&this.group.add(new De({shape:t.coordinateSystem.getRect(),style:Rt({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},i.type="grid",i}(Mi),Dk={offset:0};function Pk(e){e.registerComponentView(t8),e.registerComponentModel(H6),e.registerCoordinateSystem("cartesian2d",RW),Kh(e,"x",ux,Dk),Kh(e,"y",ux,Dk),e.registerComponentView(kk),e.registerComponentView(JW),e.registerPreprocessor(function(i){i.xAxis&&i.yAxis&&!i.grid&&(i.grid={})})}function i8(e){e.eachSeriesByType("radar",function(i){var t=i.getData(),n=[],r=i.coordinateSystem;if(r){var a=r.getIndicatorAxes();U(a,function(o,s){t.each(t.mapDimension(a[s].dim),function(l,c){n[c]=n[c]||[];var u=r.dataToPoint(l,s);n[c][s]=Ik(u)?u:Ok(r)})}),t.each(function(o){var s=function Wu(e,i,t){if(e&&i)for(var n=0,r=e.length;n<r;n++)if(i.call(t,e[n],n,e))return e[n]}(n[o],function(l){return Ik(l)})||Ok(r);n[o].push(s.slice()),t.setItemLayout(o,n[o])})}})}function Ik(e){return!isNaN(e[0])&&!isNaN(e[1])}function Ok(e){return[e.cx,e.cy]}function n8(e){var i=e.polar;if(i){yt(i)||(i=[i]);var t=[];U(i,function(n,r){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),e.radar=e.radar||[],yt(e.radar)||(e.radar=[e.radar]),e.radar.push(n)):t.push(n)}),e.polar=t}U(e.series,function(n){n&&"radar"===n.type&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}var r8=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.render=function(t,n,r){var a=t.coordinateSystem,o=this.group,s=t.getData(),l=this._data;function c(f,p){var m=f.getItemVisual(p,"symbol")||"circle";if("none"!==m){var b=Hh(f.getItemVisual(p,"symbolSize")),_=Gi(m,-1,-1,2,2),w=f.getItemVisual(p,"symbolRotate")||0;return _.attr({style:{strokeNoScale:!0},z2:100,scaleX:b[0]/2,scaleY:b[1]/2,rotation:w*Math.PI/180||0}),_}}function u(f,p,m,b,_,w){m.removeAll();for(var T=0;T<p.length-1;T++){var A=c(b,_);A&&(A.__dimIdx=T,f[T]?(A.setPosition(f[T]),Te[w?"initProps":"updateProps"](A,{x:p[T][0],y:p[T][1]},t,_)):A.setPosition(p[T]),m.add(A))}}function h(f){return mt(f,function(p){return[a.cx,a.cy]})}s.diff(l).add(function(f){var p=s.getItemLayout(f);if(p){var m=new Dr,b=new Pr,_={shape:{points:p}};m.shape.points=h(p),b.shape.points=h(p),pi(m,_,t,f),pi(b,_,t,f);var w=new Kt,T=new Kt;w.add(b),w.add(m),w.add(T),u(b.shape.points,p,T,s,f,!0),s.setItemGraphicEl(f,w)}}).update(function(f,p){var m=l.getItemGraphicEl(p),b=m.childAt(0),_=m.childAt(1),w=m.childAt(2),T={shape:{points:s.getItemLayout(f)}};T.shape.points&&(u(b.shape.points,T.shape.points,w,s,f,!1),ro(_),ro(b),Ve(b,T,t),Ve(_,T,t),s.setItemGraphicEl(f,m))}).remove(function(f){o.remove(l.getItemGraphicEl(f))}).execute(),s.eachItemGraphicEl(function(f,p){var m=s.getItemModel(p),b=f.childAt(0),_=f.childAt(1),w=f.childAt(2),T=s.getItemVisual(p,"style"),A=T.fill;o.add(f),b.useStyle(Rt(m.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:A})),In(b,m,"lineStyle"),In(_,m,"areaStyle");var P=m.getModel("areaStyle"),F=P.isEmpty()&&P.parentModel.isEmpty();_.ignore=F,U(["emphasis","select","blur"],function(N){var G=m.getModel([N,"areaStyle"]),H=G.isEmpty()&&G.parentModel.isEmpty();_.ensureState(N).ignore=H&&F}),_.useStyle(Rt(P.getAreaStyle(),{fill:A,opacity:.7,decal:T.decal}));var O=m.getModel("emphasis"),V=O.getModel("itemStyle").getItemStyle();w.eachChild(function(N){if(N instanceof Pn){var G=N.style;N.useStyle(ft({image:G.image,x:G.x,y:G.y,width:G.width,height:G.height},T))}else N.useStyle(T),N.setColor(A),N.style.strokeNoScale=!0;N.ensureState("emphasis").style=Gt(V);var X=s.getStore().get(s.getDimensionIndex(N.__dimIdx),p);(null==X||isNaN(X))&&(X=""),On(N,cn(m),{labelFetcher:s.hostModel,labelDataIndex:p,labelDimIndex:N.__dimIdx,defaultText:X,inheritColor:A,defaultOpacity:T.opacity})}),Ti(f,O.get("focus"),O.get("blurScope"),O.get("disabled"))}),this._data=s},i.prototype.remove=function(){this.group.removeAll(),this._data=null},i.type="radar",i}(oi);const a8=r8;var o8=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.hasSymbolVisual=!0,t}return ot(i,e),i.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new jf(Dt(this.getData,this),Dt(this.getRawData,this))},i.prototype.getInitialData=function(t,n){return qh(this,{generateCoord:"indicator_",generateCoordCount:1/0})},i.prototype.formatTooltip=function(t,n,r){var a=this.getData(),s=this.coordinateSystem.getIndicatorAxes(),l=this.getData().getName(t),c=""===l?this.name:l,u=g2(this,t);return un("section",{header:c,sortBlocks:!0,blocks:mt(s,function(h){var f=a.get(a.mapDimension(h.dim),t);return un("nameValue",{markerType:"subItem",markerColor:u,name:h.name,value:f,sortParam:f})})})},i.prototype.getTooltipPosition=function(t){if(null!=t)for(var n=this.getData(),r=this.coordinateSystem,a=n.getValues(mt(r.dimensions,function(c){return n.mapDimension(c)}),t),o=0,s=a.length;o<s;o++)if(!isNaN(a[o])){var l=r.getIndicatorAxes();return r.coordToPoint(l[o].dataToCoord(a[o]),o)}},i.type="series.radar",i.dependencies=["radar"],i.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},i}(mi);const s8=o8;var tp=XL.value;function Nv(e,i){return Rt({show:i},e)}var l8=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),n=this.get("splitNumber"),r=this.get("scale"),a=this.get("axisLine"),o=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("axisName"),c=this.get(["axisName","show"]),u=this.get(["axisName","formatter"]),h=this.get("axisNameGap"),f=this.get("triggerEvent"),p=mt(this.get("indicator")||[],function(m){null!=m.max&&m.max>0&&!m.min?m.min=0:null!=m.min&&m.min<0&&!m.max&&(m.max=0);var b=l;null!=m.color&&(b=Rt({color:m.color},l));var _=ie(Gt(m),{boundaryGap:t,splitNumber:n,scale:r,axisLine:a,axisTick:o,axisLabel:s,name:m.text,showName:c,nameLocation:"end",nameGap:h,nameTextStyle:b,triggerEvent:f},!1);Lt(u)?_.name=u.replace("{value}",_.name??""):Z(u)&&(_.name=u(_.name,_));var T=new ai(_,null,this.ecModel);return It(T,qf.prototype),T.mainType="radar",T.componentIndex=this.componentIndex,T},this);this._indicatorModels=p},i.prototype.getIndicatorModels=function(){return this._indicatorModels},i.type="radar",i.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:ie({lineStyle:{color:"#bbb"}},tp.axisLine),axisLabel:Nv(tp.axisLabel,!1),axisTick:Nv(tp.axisTick,!1),splitLine:Nv(tp.splitLine,!0),splitArea:Nv(tp.splitArea,!0),indicator:[]},i}(Oe);const c8=l8;var u8=["axisLine","axisTickLabel","axisName"],h8=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.render=function(t,n,r){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},i.prototype._buildAxes=function(t){var n=t.coordinateSystem;U(mt(n.getIndicatorAxes(),function(o){var s=o.model.get("showName")?o.name:"";return new zs(o.model,{axisName:s,position:[n.cx,n.cy],rotation:o.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(o){U(u8,o.add,o),this.group.add(o.getGroup())},this)},i.prototype._buildSplitLineAndArea=function(t){var n=t.coordinateSystem,r=n.getIndicatorAxes();if(r.length){var a=t.get("shape"),o=t.getModel("splitLine"),s=t.getModel("splitArea"),l=o.getModel("lineStyle"),c=s.getModel("areaStyle"),u=o.get("show"),h=s.get("show"),f=l.get("color"),p=c.get("color"),m=yt(f)?f:[f],b=yt(p)?p:[p],_=[],w=[];if("circle"===a)for(var A=r[0].getTicksCoords(),P=n.cx,F=n.cy,O=0;O<A.length;O++)u&&_[T(_,m,O)].push(new El({shape:{cx:P,cy:F,r:A[O].coord}})),h&&O<A.length-1&&w[T(w,b,O)].push(new Wg({shape:{cx:P,cy:F,r0:A[O].coord,r:A[O+1].coord}}));else{var N,G=mt(r,function(tt,et){var lt=tt.getTicksCoords();return N=null==N?lt.length-1:Math.min(lt.length-1,N),mt(lt,function(st){return n.coordToPoint(st.coord,et)})}),H=[];for(O=0;O<=N;O++){for(var X=[],q=0;q<r.length;q++)X.push(G[q][O]);X[0]&&X.push(X[0].slice()),u&&_[T(_,m,O)].push(new Pr({shape:{points:X}})),h&&H&&w[T(w,b,O-1)].push(new Dr({shape:{points:X.concat(H)}})),H=X.slice().reverse()}}var j=l.getLineStyle(),J=c.getAreaStyle();U(w,function(tt,et){this.group.add(Sa(tt,{style:Rt({stroke:"none",fill:b[et%b.length]},J),silent:!0}))},this),U(_,function(tt,et){this.group.add(Sa(tt,{style:Rt({fill:"none",stroke:m[et%m.length]},j),silent:!0}))},this)}function T(tt,et,lt){var st=lt%et.length;return tt[st]=tt[st]||[],st}},i.type="radar",i}(Mi);const d8=h8;var f8=function(e){function i(t,n,r){var a=e.call(this,t,n,r)||this;return a.type="value",a.angle=0,a.name="",a}return ot(i,e),i}(po);const p8=f8;var g8=function(){function e(i,t,n){this.dimensions=[],this._model=i,this._indicatorAxes=mt(i.getIndicatorModels(),function(r,a){var o="indicator_"+a,s=new p8(o,new Hl);return s.name=r.get("name"),s.model=r,r.axis=s,this.dimensions.push(o),s},this),this.resize(i,n)}return e.prototype.getIndicatorAxes=function(){return this._indicatorAxes},e.prototype.dataToPoint=function(i,t){return this.coordToPoint(this._indicatorAxes[t].dataToCoord(i),t)},e.prototype.coordToPoint=function(i,t){var r=this._indicatorAxes[t].angle;return[this.cx+i*Math.cos(r),this.cy-i*Math.sin(r)]},e.prototype.pointToData=function(i){var t=i[0]-this.cx,n=i[1]-this.cy,r=Math.sqrt(t*t+n*n);t/=r,n/=r;for(var s,a=Math.atan2(-n,t),o=1/0,l=-1,c=0;c<this._indicatorAxes.length;c++){var u=this._indicatorAxes[c],h=Math.abs(a-u.angle);h<o&&(s=u,l=c,o=h)}return[l,+(s&&s.coordToData(r))]},e.prototype.resize=function(i,t){var n=i.get("center"),r=t.getWidth(),a=t.getHeight(),o=Math.min(r,a)/2;this.cx=At(n[0],r),this.cy=At(n[1],a),this.startAngle=i.get("startAngle")*Math.PI/180;var s=i.get("radius");(Lt(s)||_e(s))&&(s=[0,s]),this.r0=At(s[0],o),this.r=At(s[1],o),U(this._indicatorAxes,function(l,c){l.setExtent(this.r0,this.r);var u=this.startAngle+c*Math.PI*2/this._indicatorAxes.length;u=Math.atan2(Math.sin(u),Math.cos(u)),l.angle=u},this)},e.prototype.update=function(i,t){var n=this._indicatorAxes,r=this._model;U(n,function(s){s.scale.setExtent(1/0,-1/0)}),i.eachSeriesByType("radar",function(s,l){if("radar"===s.get("coordinateSystem")&&i.getComponent("radar",s.get("radarIndex"))===r){var c=s.getData();U(n,function(u){u.scale.unionExtentFromData(c,c.mapDimension(u.dim))})}},this);var a=r.get("splitNumber"),o=new Hl;o.setExtent(0,a),o.setInterval(1),U(n,function(s,l){yk(s.scale,s.model,o)})},e.prototype.convertToPixel=function(i,t,n){return console.warn("Not implemented."),null},e.prototype.convertFromPixel=function(i,t,n){return console.warn("Not implemented."),null},e.prototype.containPoint=function(i){return console.warn("Not implemented."),!1},e.create=function(i,t){var n=[];return i.eachComponent("radar",function(r){var a=new e(r,i,t);n.push(a),r.coordinateSystem=a}),i.eachSeriesByType("radar",function(r){"radar"===r.get("coordinateSystem")&&(r.coordinateSystem=n[r.get("radarIndex")||0])}),n},e.dimensions=[],e}();const v8=g8;function m8(e){e.registerCoordinateSystem("radar",v8),e.registerComponentModel(c8),e.registerComponentView(d8),e.registerVisual({seriesType:"radar",reset:function(i){var t=i.getData();t.each(function(n){t.setItemVisual(n,"legendIcon","roundRect")}),t.setVisual("legendIcon","roundRect")}})}var Ek="\0_ec_interaction_mutex";function Fk(e,i){return!!Lx(e)[i]}function Lx(e){return e[Ek]||(e[Ek]={})}$o({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},Je);var b8=function(e){function i(t){var n=e.call(this)||this;n._zr=t;var r=Dt(n._mousedownHandler,n),a=Dt(n._mousemoveHandler,n),o=Dt(n._mouseupHandler,n),s=Dt(n._mousewheelHandler,n),l=Dt(n._pinchHandler,n);return n.enable=function(c,u){this.disable(),this._opt=Rt(Gt(u)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==c&&(c=!0),(!0===c||"move"===c||"pan"===c)&&(t.on("mousedown",r),t.on("mousemove",a),t.on("mouseup",o)),(!0===c||"scale"===c||"zoom"===c)&&(t.on("mousewheel",s),t.on("pinch",l))},n.disable=function(){t.off("mousedown",r),t.off("mousemove",a),t.off("mouseup",o),t.off("mousewheel",s),t.off("pinch",l)},n}return ot(i,e),i.prototype.isDragging=function(){return this._dragging},i.prototype.isPinching=function(){return this._pinching},i.prototype.setPointerChecker=function(t){this.pointerChecker=t},i.prototype.dispose=function(){this.disable()},i.prototype._mousedownHandler=function(t){if(!gl(t)){for(var n=t.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var r=t.offsetX,a=t.offsetY;this.pointerChecker&&this.pointerChecker(t,r,a)&&(this._x=r,this._y=a,this._dragging=!0)}},i.prototype._mousemoveHandler=function(t){if(this._dragging&&Gv("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!Fk(this._zr,"globalPan")){var n=t.offsetX,r=t.offsetY,a=this._x,o=this._y,s=n-a,l=r-o;this._x=n,this._y=r,this._opt.preventDefaultMouseMove&&tr(t.event),Rk(this,"pan","moveOnMouseMove",t,{dx:s,dy:l,oldX:a,oldY:o,newX:n,newY:r,isAvailableBehavior:null})}},i.prototype._mouseupHandler=function(t){gl(t)||(this._dragging=!1)},i.prototype._mousewheelHandler=function(t){var n=Gv("zoomOnMouseWheel",t,this._opt),r=Gv("moveOnMouseWheel",t,this._opt),a=t.wheelDelta,o=Math.abs(a),s=t.offsetX,l=t.offsetY;if(0!==a&&(n||r)){if(n){var c=o>3?1.4:o>1?1.2:1.1;kx(this,"zoom","zoomOnMouseWheel",t,{scale:a>0?c:1/c,originX:s,originY:l,isAvailableBehavior:null})}if(r){var h=Math.abs(a);kx(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(a>0?1:-1)*(h>3?.4:h>1?.15:.05),originX:s,originY:l,isAvailableBehavior:null})}}},i.prototype._pinchHandler=function(t){Fk(this._zr,"globalPan")||kx(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})},i}(Nn);function kx(e,i,t,n,r){e.pointerChecker&&e.pointerChecker(n,r.originX,r.originY)&&(tr(n.event),Rk(e,i,t,n,r))}function Rk(e,i,t,n,r){r.isAvailableBehavior=Dt(Gv,null,t,n),e.trigger(i,r)}function Gv(e,i,t){var n=t[e];return!e||n&&(!Lt(n)||i.event[n+"Key"])}const ep=b8;function Dx(e,i,t){var n=e.target;n.x+=i,n.y+=t,n.dirty()}function Px(e,i,t,n){var r=e.target,a=e.zoomLimit,o=e.zoom=e.zoom||1;if(o*=i,a){var s=a.min||0;o=Math.max(Math.min(a.max||1/0,o),s)}var c=o/e.zoom;e.zoom=o,r.x-=(t-r.x)*(c-1),r.y-=(n-r.y)*(c-1),r.scaleX*=c,r.scaleY*=c,r.dirty()}var C8={axisPointer:1,tooltip:1,brush:1};function Hv(e,i,t){var n=i.getComponentByElement(e.topTarget),r=n&&n.coordinateSystem;return n&&n!==t&&!C8.hasOwnProperty(n.mainType)&&r&&r.model!==t}function Bk(e){Lt(e)&&(e=(new DOMParser).parseFromString(e,"text/xml"));var t=e;for(9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var Ix,Wv={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},Vk=he(Wv),Yv={"alignment-baseline":"textBaseline","stop-color":"stopColor"},zk=he(Yv),S8=function(){function e(){this._defs={},this._root=null}return e.prototype.parse=function(i,t){t=t||{};var n=Bk(i);this._defsUsePending=[];var r=new Kt;this._root=r;var u,h,a=[],o=n.getAttribute("viewBox")||"",s=parseFloat(n.getAttribute("width")||t.width),l=parseFloat(n.getAttribute("height")||t.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),jr(n,r,null,!0,!1);for(var c=n.firstChild;c;)this._parseNode(c,r,a,null,!1,!1),c=c.nextSibling;if(function M8(e,i){for(var t=0;t<i.length;t++){var n=i[t];n[0].style[n[1]]=e[n[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],o){var f=Xv(o);f.length>=4&&(u={x:parseFloat(f[0]||0),y:parseFloat(f[1]||0),width:parseFloat(f[2]),height:parseFloat(f[3])})}if(u&&null!=s&&null!=l&&(h=Zk(u,{x:0,y:0,width:s,height:l}),!t.ignoreViewBox)){var p=r;(r=new Kt).add(p),p.scaleX=p.scaleY=h.scale,p.x=h.x,p.y=h.y}return!t.ignoreRootClip&&null!=s&&null!=l&&r.setClipPath(new De({shape:{x:0,y:0,width:s,height:l}})),{root:r,width:s,height:l,viewBoxRect:u,viewBoxTransform:h,named:a}},e.prototype._parseNode=function(i,t,n,r,a,o){var l,s=i.nodeName.toLowerCase(),c=r;if("defs"===s&&(a=!0),"text"===s&&(o=!0),"defs"===s||"switch"===s)l=t;else{if(!a){var u=Ix[s];if(u&&Pt(Ix,s)){l=u.call(this,i,t);var h=i.getAttribute("name");if(h){var f={name:h,namedFrom:null,svgNodeTagLower:s,el:l};n.push(f),"g"===s&&(c=f)}else r&&n.push({name:r.name,namedFrom:r,svgNodeTagLower:s,el:l});t.add(l)}}var p=Nk[s];if(p&&Pt(Nk,s)){var m=p.call(this,i),b=i.getAttribute("id");b&&(this._defs[b]=m)}}if(l&&l.isGroup)for(var _=i.firstChild;_;)1===_.nodeType?this._parseNode(_,l,n,c,a,o):3===_.nodeType&&o&&this._parseText(_,l),_=_.nextSibling},e.prototype._parseText=function(i,t){var n=new ef({style:{text:i.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Ma(t,n),jr(i,n,this._defsUsePending,!1,!1),function w8(e,i){var t=i.__selfStyle;if(t){var n=t.textBaseline,r=n;n&&"auto"!==n&&"baseline"!==n?"before-edge"===n||"text-before-edge"===n?r="top":"after-edge"===n||"text-after-edge"===n?r="bottom":("central"===n||"mathematical"===n)&&(r="middle"):r="alphabetic",e.style.textBaseline=r}var a=i.__inheritedStyle;if(a){var o=a.textAlign,s=o;o&&("middle"===o&&(s="center"),e.style.textAlign=s)}}(n,t);var r=n.style,a=r.fontSize;a&&a<9&&(r.fontSize=9,n.scaleX*=a/9,n.scaleY*=a/9);var o=(r.fontSize||r.fontFamily)&&[r.fontStyle,r.fontWeight,(r.fontSize||12)+"px",r.fontFamily||"sans-serif"].join(" ");r.font=o;var s=n.getBoundingRect();return this._textX+=s.width,t.add(n),n},e.internalField=void(Ix={g:function(i,t){var n=new Kt;return Ma(t,n),jr(i,n,this._defsUsePending,!1,!1),n},rect:function(i,t){var n=new De;return Ma(t,n),jr(i,n,this._defsUsePending,!1,!1),n.setShape({x:parseFloat(i.getAttribute("x")||"0"),y:parseFloat(i.getAttribute("y")||"0"),width:parseFloat(i.getAttribute("width")||"0"),height:parseFloat(i.getAttribute("height")||"0")}),n.silent=!0,n},circle:function(i,t){var n=new El;return Ma(t,n),jr(i,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(i.getAttribute("cx")||"0"),cy:parseFloat(i.getAttribute("cy")||"0"),r:parseFloat(i.getAttribute("r")||"0")}),n.silent=!0,n},line:function(i,t){var n=new yn;return Ma(t,n),jr(i,n,this._defsUsePending,!1,!1),n.setShape({x1:parseFloat(i.getAttribute("x1")||"0"),y1:parseFloat(i.getAttribute("y1")||"0"),x2:parseFloat(i.getAttribute("x2")||"0"),y2:parseFloat(i.getAttribute("y2")||"0")}),n.silent=!0,n},ellipse:function(i,t){var n=new a0;return Ma(t,n),jr(i,n,this._defsUsePending,!1,!1),n.setShape({cx:parseFloat(i.getAttribute("cx")||"0"),cy:parseFloat(i.getAttribute("cy")||"0"),rx:parseFloat(i.getAttribute("rx")||"0"),ry:parseFloat(i.getAttribute("ry")||"0")}),n.silent=!0,n},polygon:function(i,t){var r,n=i.getAttribute("points");n&&(r=Wk(n));var a=new Dr({shape:{points:r||[]},silent:!0});return Ma(t,a),jr(i,a,this._defsUsePending,!1,!1),a},polyline:function(i,t){var r,n=i.getAttribute("points");n&&(r=Wk(n));var a=new Pr({shape:{points:r||[]},silent:!0});return Ma(t,a),jr(i,a,this._defsUsePending,!1,!1),a},image:function(i,t){var n=new Pn;return Ma(t,n),jr(i,n,this._defsUsePending,!1,!1),n.setStyle({image:i.getAttribute("xlink:href")||i.getAttribute("href"),x:+i.getAttribute("x"),y:+i.getAttribute("y"),width:+i.getAttribute("width"),height:+i.getAttribute("height")}),n.silent=!0,n},text:function(i,t){var n=i.getAttribute("x")||"0",r=i.getAttribute("y")||"0",a=i.getAttribute("dx")||"0",o=i.getAttribute("dy")||"0";this._textX=parseFloat(n)+parseFloat(a),this._textY=parseFloat(r)+parseFloat(o);var s=new Kt;return Ma(t,s),jr(i,s,this._defsUsePending,!1,!0),s},tspan:function(i,t){var n=i.getAttribute("x"),r=i.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=r&&(this._textY=parseFloat(r));var a=i.getAttribute("dx")||"0",o=i.getAttribute("dy")||"0",s=new Kt;return Ma(t,s),jr(i,s,this._defsUsePending,!1,!0),this._textX+=parseFloat(a),this._textY+=parseFloat(o),s},path:function(i,t){var r=L2(i.getAttribute("d")||"");return Ma(t,r),jr(i,r,this._defsUsePending,!1,!1),r.silent=!0,r}}),e}(),Nk={lineargradient:function(e){var i=parseInt(e.getAttribute("x1")||"0",10),t=parseInt(e.getAttribute("y1")||"0",10),n=parseInt(e.getAttribute("x2")||"10",10),r=parseInt(e.getAttribute("y2")||"0",10),a=new Sf(i,t,n,r);return Gk(e,a),Hk(e,a),a},radialgradient:function(e){var i=parseInt(e.getAttribute("cx")||"0",10),t=parseInt(e.getAttribute("cy")||"0",10),n=parseInt(e.getAttribute("r")||"0",10),r=new W2(i,t,n);return Gk(e,r),Hk(e,r),r}};function Gk(e,i){"userSpaceOnUse"===e.getAttribute("gradientUnits")&&(i.global=!0)}function Hk(e,i){for(var t=e.firstChild;t;){if(1===t.nodeType&&"stop"===t.nodeName.toLocaleLowerCase()){var r,n=t.getAttribute("offset");r=n&&n.indexOf("%")>0?parseInt(n,10)/100:n?parseFloat(n):0;var a={};Uk(t,a,a);var o=a.stopColor||t.getAttribute("stop-color")||"#000000";i.colorStops.push({offset:r,color:o})}t=t.nextSibling}}function Ma(e,i){e&&e.__inheritedStyle&&(i.__inheritedStyle||(i.__inheritedStyle={}),Rt(i.__inheritedStyle,e.__inheritedStyle))}function Wk(e){for(var i=Xv(e),t=[],n=0;n<i.length;n+=2){var r=parseFloat(i[n]),a=parseFloat(i[n+1]);t.push([r,a])}return t}function jr(e,i,t,n,r){var a=i,o=a.__inheritedStyle=a.__inheritedStyle||{},s={};1===e.nodeType&&(function k8(e,i){var t=e.getAttribute("transform");if(t){t=t.replace(/,/g," ");var n=[],r=null;t.replace(L8,function(h,f,p){return n.push(f,p),""});for(var a=n.length-1;a>0;a-=2){var s=n[a-1],l=Xv(n[a]);switch(r=r||[1,0,0,1,0,0],s){case"translate":mr(r,r,[parseFloat(l[0]),parseFloat(l[1]||"0")]);break;case"scale":Ze(r,r,[parseFloat(l[0]),parseFloat(l[1]||l[0])]);break;case"rotate":Ri(r,r,-parseFloat(l[0])*Ox,[parseFloat(l[1]||"0"),parseFloat(l[2]||"0")]);break;case"skewX":Ui(r,[1,0,Math.tan(parseFloat(l[0])*Ox),1,0,0],r);break;case"skewY":Ui(r,[1,Math.tan(parseFloat(l[0])*Ox),0,1,0,0],r);break;case"matrix":r[0]=parseFloat(l[0]),r[1]=parseFloat(l[1]),r[2]=parseFloat(l[2]),r[3]=parseFloat(l[3]),r[4]=parseFloat(l[4]),r[5]=parseFloat(l[5])}}i.setLocalTransform(r)}}(e,i),Uk(e,o,s),n||function D8(e,i,t){for(var n=0;n<Vk.length;n++)null!=(a=e.getAttribute(r=Vk[n]))&&(i[Wv[r]]=a);for(n=0;n<zk.length;n++){var r,a;null!=(a=e.getAttribute(r=zk[n]))&&(t[Yv[r]]=a)}}(e,o,s)),a.style=a.style||{},null!=o.fill&&(a.style.fill=Yk(a,"fill",o.fill,t)),null!=o.stroke&&(a.style.stroke=Yk(a,"stroke",o.stroke,t)),U(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(l){null!=o[l]&&(a.style[l]=parseFloat(o[l]))}),U(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(l){null!=o[l]&&(a.style[l]=o[l])}),r&&(a.__selfStyle=s),o.lineDash&&(a.style.lineDash=mt(Xv(o.lineDash),function(l){return parseFloat(l)})),("hidden"===o.visibility||"collapse"===o.visibility)&&(a.invisible=!0),"none"===o.display&&(a.ignore=!0)}var T8=/^url\(\s*#(.*?)\)/;function Yk(e,i,t,n){var r=t&&t.match(T8);if(!r)return"none"===t&&(t=null),t;var a=Ci(r[1]);n.push([e,i,a])}var A8=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function Xv(e){return e.match(A8)||[]}var L8=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,Ox=Math.PI/180,Xk=/([^\s:;]+)\s*:\s*([^:;]+)/g;function Uk(e,i,t){var n=e.getAttribute("style");if(n){Xk.lastIndex=0;for(var r;null!=(r=Xk.exec(n));){var a=r[1],o=Pt(Wv,a)?Wv[a]:null;o&&(i[o]=r[2]);var s=Pt(Yv,a)?Yv[a]:null;s&&(t[s]=r[2])}}}function Zk(e,i){var r=Math.min(i.width/e.width,i.height/e.height);return{scale:r,x:-(e.x+e.width/2)*r+(i.x+i.width/2),y:-(e.y+e.height/2)*r+(i.y+i.height/2)}}var I8=1e-8;function $k(e,i){return Math.abs(e-i)<I8}function yu(e,i,t){var n=0,r=e[0];if(!r)return!1;for(var a=1;a<e.length;a++){var o=e[a];n+=Ds(r[0],r[1],o[0],o[1],i,t),r=o}var s=e[0];return(!$k(r[0],s[0])||!$k(r[1],s[1]))&&(n+=Ds(r[0],r[1],s[0],s[1],i,t)),0!==n}var O8=[];function Ex(e,i){for(var t=0;t<e.length;t++)Si(e[t],e[t],i)}function jk(e,i,t,n){for(var r=0;r<e.length;r++){var a=e[r];n&&(a=n.project(a)),a&&isFinite(a[0])&&isFinite(a[1])&&(zn(i,i,a),Tn(t,t,a))}}var qk=function(){function e(i){this.name=i}return e.prototype.setCenter=function(i){this._center=i},e.prototype.getCenter=function(){var i=this._center;return i||(i=this._center=this.calcCenter()),i},e}(),Kk=function e(i,t){this.type="polygon",this.exterior=i,this.interiors=t},Qk=function e(i){this.type="linestring",this.points=i},Jk=function(e){function i(t,n,r){var a=e.call(this,t)||this;return a.type="geoJSON",a.geometries=n,a._center=r&&[r[0],r[1]],a}return ot(i,e),i.prototype.calcCenter=function(){for(var n,t=this.geometries,r=0,a=0;a<t.length;a++){var o=t[a],s=o.exterior,l=s&&s.length;l>r&&(n=o,r=l)}if(n)return function E8(e){for(var i=0,t=0,n=0,r=e.length,a=e[r-1][0],o=e[r-1][1],s=0;s<r;s++){var l=e[s][0],c=e[s][1],u=a*c-l*o;i+=u,t+=(a+l)*u,n+=(o+c)*u,a=l,o=c}return i?[t/i/3,n/i/3,i]:[e[0][0]||0,e[0][1]||0]}(n.exterior);var c=this.getBoundingRect();return[c.x+c.width/2,c.y+c.height/2]},i.prototype.getBoundingRect=function(t){var n=this._rect;if(n&&!t)return n;var r=[1/0,1/0],a=[-1/0,-1/0];return U(this.geometries,function(s){"polygon"===s.type?jk(s.exterior,r,a,t):U(s.points,function(l){jk(l,r,a,t)})}),isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])||(r[0]=r[1]=a[0]=a[1]=0),n=new $t(r[0],r[1],a[0]-r[0],a[1]-r[1]),t||(this._rect=n),n},i.prototype.contain=function(t){var n=this.getBoundingRect(),r=this.geometries;if(!n.contain(t[0],t[1]))return!1;t:for(var a=0,o=r.length;a<o;a++){var s=r[a];if("polygon"===s.type){var c=s.interiors;if(yu(s.exterior,t[0],t[1])){for(var u=0;u<(c?c.length:0);u++)if(yu(c[u],t[0],t[1]))continue t;return!0}}}return!1},i.prototype.transformTo=function(t,n,r,a){var o=this.getBoundingRect(),s=o.width/o.height;r?a||(a=r/s):r=s*a;for(var l=new $t(t,n,r,a),c=o.calculateTransform(l),u=this.geometries,h=0;h<u.length;h++){var f=u[h];"polygon"===f.type?(Ex(f.exterior,c),U(f.interiors,function(p){Ex(p,c)})):U(f.points,function(p){Ex(p,c)})}(o=this._rect).copy(l),this._center=[o.x+o.width/2,o.y+o.height/2]},i.prototype.cloneShallow=function(t){null==t&&(t=this.name);var n=new i(t,this.geometries,this._center);return n._rect=this._rect,n.transformTo=null,n},i}(qk),F8=function(e){function i(t,n){var r=e.call(this,t)||this;return r.type="geoSVG",r._elOnlyForCalculate=n,r}return ot(i,e),i.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,n=t.getBoundingRect(),r=[n.x+n.width/2,n.y+n.height/2],a=Yr(O8),o=t;o&&!o.isGeoSVGGraphicRoot;)Ui(a,o.getLocalTransform(),a),o=o.parent;return vn(a,a),Si(r,r,a),r},i}(qk),R8=Mt(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),B8=function(){function e(i,t){this.type="geoSVG",this._usedGraphicMap=Mt(),this._freedGraphics=[],this._mapName=i,this._parsedXML=Bk(t)}return e.prototype.load=function(){var i=this._firstGraphic;if(!i){i=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(i),this._boundingRect=this._firstGraphic.boundingRect.clone();var t=function z8(e){var i=[],t=Mt();return U(e,function(n){if(null==n.namedFrom){var r=new F8(n.name,n.el);i.push(r),t.set(n.name,r)}}),{regions:i,regionsMap:t}}(i.named),r=t.regionsMap;this._regions=t.regions,this._regionsMap=r}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},e.prototype._buildGraphic=function(i){var t,n;try{t=i&&function P8(e,i){return(new S8).parse(e,i)}(i,{ignoreViewBox:!0,ignoreRootClip:!0})||{},ti(null!=(n=t.root))}catch(_){throw new Error("Invalid svg format\n"+_.message)}var r=new Kt;r.add(n),r.isGeoSVGGraphicRoot=!0;var a=t.width,o=t.height,s=t.viewBoxRect,l=this._boundingRect;if(!l){var c=void 0,u=void 0,h=void 0,f=void 0;if(null!=a?(c=0,h=a):s&&(c=s.x,h=s.width),null!=o?(u=0,f=o):s&&(u=s.y,f=s.height),null==c||null==u){var p=n.getBoundingRect();null==c&&(c=p.x,h=p.width),null==u&&(u=p.y,f=p.height)}l=this._boundingRect=new $t(c,u,h,f)}if(s){var m=Zk(s,l);n.scaleX=n.scaleY=m.scale,n.x=m.x,n.y=m.y}r.setClipPath(new De({shape:l.plain()}));var b=[];return U(t.named,function(_){null!=R8.get(_.svgNodeTagLower)&&(b.push(_),function V8(e){e.silent=!1,e.isGroup&&e.traverse(function(i){i.silent=!1})}(_.el))}),{root:r,boundingRect:l,named:b}},e.prototype.useGraphic=function(i){var t=this._usedGraphicMap,n=t.get(i);return n||(n=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),t.set(i,n),n)},e.prototype.freeGraphic=function(i){var t=this._usedGraphicMap,n=t.get(i);n&&(t.removeKey(i),this._freedGraphics.push(n))},e}();function Fx(e,i,t){for(var n=0;n<e.length;n++)e[n]=tD(e[n],i[n],t)}function tD(e,i,t){for(var n=[],r=i[0],a=i[1],o=0;o<e.length;o+=2){var s=e.charCodeAt(o)-64,l=e.charCodeAt(o+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),r=s+=r,a=l+=a,n.push([s/t,l/t])}return n}for(var Rx=[126,25],_u=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],xu=0;xu<_u.length;xu++)for(var td=0;td<_u[xu].length;td++)_u[xu][td][0]/=10.5,_u[xu][td][1]/=-14,_u[xu][td][0]+=Rx[0],_u[xu][td][1]+=Rx[1];var W8={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},X8=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],$8=function(){function e(i,t,n){this.type="geoJSON",this._parsedMap=Mt(),this._mapName=i,this._specialAreas=n,this._geoJSON=function q8(e){return Lt(e)?typeof JSON<"u"&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e}(t)}return e.prototype.load=function(i,t){var n=this._parsedMap.get(t=t||"name");if(!n){var r=this._parseToRegions(t);n=this._parsedMap.set(t,{regions:r,boundingRect:j8(r)})}var a=Mt(),o=[];return U(n.regions,function(s){var l=s.name;i&&Pt(i,l)&&(s=s.cloneShallow(l=i[l])),o.push(s),a.set(l,s)}),{regions:o,boundingRect:n.boundingRect||new $t(0,0,0,0),regionsMap:a}},e.prototype._parseToRegions=function(i){var r,t=this._mapName,n=this._geoJSON;try{r=n?function G8(e,i){return e=function N8(e){if(!e.UTF8Encoding)return e;var i=e,t=i.UTF8Scale;return null==t&&(t=1024),U(i.features,function(r){var a=r.geometry,o=a.encodeOffsets,s=a.coordinates;if(o)switch(a.type){case"LineString":a.coordinates=tD(s,o,t);break;case"Polygon":case"MultiLineString":Fx(s,o,t);break;case"MultiPolygon":U(s,function(l,c){return Fx(l,o[c],t)})}}),i.UTF8Encoding=!1,i}(e),mt(ve(e.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var n=t.properties,r=t.geometry,a=[];switch(r.type){case"Polygon":var o=r.coordinates;a.push(new Kk(o[0],o.slice(1)));break;case"MultiPolygon":U(r.coordinates,function(l){l[0]&&a.push(new Kk(l[0],l.slice(1)))});break;case"LineString":a.push(new Qk([r.coordinates]));break;case"MultiLineString":a.push(new Qk(r.coordinates))}var s=new Jk(n[i||"name"],a,n.cp);return s.properties=n,s})}(n,i):[]}catch(a){throw new Error("Invalid geoJson format\n"+a.message)}return function H8(e,i){if("china"===e){for(var t=0;t<i.length;t++)if("\u5357\u6d77\u8bf8\u5c9b"===i[t].name)return;i.push(new Jk("\u5357\u6d77\u8bf8\u5c9b",mt(_u,function(n){return{type:"polygon",exterior:n}}),Rx))}}(t,r),U(r,function(a){var o=a.name;(function Y8(e,i){if("china"===e){var t=W8[i.name];if(t){var n=i.getCenter();n[0]+=t[0]/10.5,n[1]+=-t[1]/14,i.setCenter(n)}}})(t,a),function U8(e,i){"china"===e&&"\u53f0\u6e7e"===i.name&&i.geometries.push({type:"polygon",exterior:X8[0]})}(t,a);var s=this._specialAreas&&this._specialAreas[o];s&&a.transformTo(s.left,s.top,s.width,s.height)},this),r},e.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},e}();function j8(e){for(var i,t=0;t<e.length;t++){var n=e[t].getBoundingRect();(i=i||n.clone()).union(n)}return i}var ip=Mt();const Ns={registerMap:function(e,i,t){if(i.svg){var n=new B8(e,i.svg);ip.set(e,n)}else{var r=i.geoJson||i.geoJSON;r&&!i.features?t=i.specialAreas:r=i,n=new $8(e,r,t),ip.set(e,n)}},getGeoResource:function(e){return ip.get(e)},getMapForUser:function(e){var i=ip.get(e);return i&&"geoJSON"===i.type&&i.getMapForUser()},load:function(e,i,t){var n=ip.get(e);if(n)return n.load(i,t)}};var Bx=["rect","circle","line","ellipse","polygon","polyline","path"],K8=Mt(Bx),Q8=Mt(Bx.concat(["g"])),J8=Mt(Bx.concat(["g"])),iD=Le();function Uv(e){var i=e.getItemStyle(),t=e.get("areaColor");return null!=t&&(i.fill=t),i}function nD(e){var i=e.style;i&&(i.stroke=i.stroke||i.fill,i.fill=null)}var t7=function(){function e(i){var t=new Kt;this.uid=wh("ec_map_draw"),this._controller=new ep(i.getZr()),this._controllerHost={target:t},this.group=t,t.add(this._regionsGroup=new Kt),t.add(this._svgGroup=new Kt)}return e.prototype.draw=function(i,t,n,r,a){var o="geo"===i.mainType,s=i.getData&&i.getData();o&&t.eachComponent({mainType:"series",subType:"map"},function(w){!s&&w.getHostGeoModel()===i&&(s=w.getData())});var l=i.coordinateSystem,c=this._regionsGroup,u=this.group,h=l.getTransformInfo(),f=h.raw,p=h.roam;!c.childAt(0)||a?(u.x=p.x,u.y=p.y,u.scaleX=p.scaleX,u.scaleY=p.scaleY,u.dirty()):Ve(u,p,i);var b=s&&s.getVisual("visualMeta")&&s.getVisual("visualMeta").length>0,_={api:n,geo:l,mapOrGeoModel:i,data:s,isVisualEncodedByVisualMap:b,isGeo:o,transformInfoRaw:f};"geoJSON"===l.resourceType?this._buildGeoJSON(_):"geoSVG"===l.resourceType&&this._buildSVG(_),this._updateController(i,t,n),this._updateMapSelectHandler(i,c,n,r)},e.prototype._buildGeoJSON=function(i){var t=this._regionsGroupByName=Mt(),n=Mt(),r=this._regionsGroup,a=i.transformInfoRaw,o=i.mapOrGeoModel,s=i.data,l=i.geo.projection,c=l&&l.stream;function u(p,m){return m&&(p=m(p)),p&&[p[0]*a.scaleX+a.x,p[1]*a.scaleY+a.y]}function h(p){for(var m=[],b=!c&&l&&l.project,_=0;_<p.length;++_){var w=u(p[_],b);w&&m.push(w)}return m}function f(p){return{shape:{points:h(p)}}}r.removeAll(),U(i.geo.regions,function(p){var m=p.name,b=t.get(m),_=n.get(m)||{},w=_.dataIdx,T=_.regionModel;b||(b=t.set(m,new Kt),r.add(b),w=s?s.indexOfName(m):null,T=i.isGeo?o.getRegionModel(m):s?s.getItemModel(w):null,n.set(m,{dataIdx:w,regionModel:T}));var A=[],P=[];U(p.geometries,function(V){if("polygon"===V.type){var N=[V.exterior].concat(V.interiors||[]);c&&(N=cD(N,c)),U(N,function(H){A.push(new Dr(f(H)))})}else{var G=V.points;c&&(G=cD(G,c,!0)),U(G,function(H){P.push(new Pr(f(H)))})}});var F=u(p.getCenter(),l&&l.project);function O(V,N){if(V.length){var G=new l0({culling:!0,segmentIgnoreThreshold:1,shape:{paths:V}});b.add(G),rD(i,G,w,T),aD(i,G,m,T,o,w,F),N&&(nD(G),U(G.states,nD))}}O(A),O(P,!0)}),t.each(function(p,m){var b=n.get(m),w=b.regionModel;oD(i,p,m,w,o,b.dataIdx),sD(i,p,m,w,o),lD(i,p,m,w,o)},this)},e.prototype._buildSVG=function(i){var t=i.geo.map,n=i.transformInfoRaw;this._svgGroup.x=n.x,this._svgGroup.y=n.y,this._svgGroup.scaleX=n.scaleX,this._svgGroup.scaleY=n.scaleY,this._svgResourceChanged(t)&&(this._freeSVG(),this._useSVG(t));var r=this._svgDispatcherMap=Mt(),a=!1;U(this._svgGraphicRecord.named,function(o){var s=o.name,l=i.mapOrGeoModel,c=i.data,u=o.svgNodeTagLower,h=o.el,f=c?c.indexOfName(s):null,p=l.getRegionModel(s);null!=K8.get(u)&&h instanceof ma&&rD(i,h,f,p),h instanceof ma&&(h.culling=!0),h.z2EmphasisLift=0,o.namedFrom||(null!=J8.get(u)&&aD(i,h,s,p,l,f,null),oD(i,h,s,p,l,f),sD(i,h,s,p,l),null==Q8.get(u))||("self"===lD(i,h,s,p,l)&&(a=!0),(r.get(s)||r.set(s,[])).push(h))},this),this._enableBlurEntireSVG(a,i)},e.prototype._enableBlurEntireSVG=function(i,t){if(i&&t.isGeo){var r=t.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(a){if(!a.isGroup){Gc(a);var o=a.ensureState("blur").style||{};null==o.opacity&&null!=r&&(o.opacity=r),a.ensureState("emphasis")}})}},e.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},e.prototype.findHighDownDispatchers=function(i,t){if(null==i)return[];var n=t.coordinateSystem;if("geoJSON"===n.resourceType){var r=this._regionsGroupByName;if(r){var a=r.get(i);return a?[a]:[]}}else if("geoSVG"===n.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(i)||[]},e.prototype._svgResourceChanged=function(i){return this._svgMapName!==i},e.prototype._useSVG=function(i){var t=Ns.getGeoResource(i);if(t&&"geoSVG"===t.type){var n=t.useGraphic(this.uid);this._svgGroup.add(n.root),this._svgGraphicRecord=n,this._svgMapName=i}},e.prototype._freeSVG=function(){var i=this._svgMapName;if(null!=i){var t=Ns.getGeoResource(i);t&&"geoSVG"===t.type&&t.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},e.prototype._updateController=function(i,t,n){var r=i.coordinateSystem,a=this._controller,o=this._controllerHost;o.zoomLimit=i.get("scaleLimit"),o.zoom=r.getZoom(),a.enable(i.get("roam")||!1);var s=i.mainType;function l(){var c={type:"geoRoam",componentType:s};return c[s+"Id"]=i.id,c}a.off("pan").on("pan",function(c){this._mouseDownFlag=!1,Dx(o,c.dx,c.dy),n.dispatchAction(ft(l(),{dx:c.dx,dy:c.dy,animation:{duration:0}}))},this),a.off("zoom").on("zoom",function(c){this._mouseDownFlag=!1,Px(o,c.scale,c.originX,c.originY),n.dispatchAction(ft(l(),{totalZoom:o.zoom,zoom:c.scale,originX:c.originX,originY:c.originY,animation:{duration:0}}))},this),a.setPointerChecker(function(c,u,h){return r.containPoint([u,h])&&!Hv(c,n,i)})},e.prototype.resetForLabelLayout=function(){this.group.traverse(function(i){var t=i.getTextContent();t&&(t.ignore=iD(t).ignore)})},e.prototype._updateMapSelectHandler=function(i,t,n,r){var a=this;t.off("mousedown"),t.off("click"),i.get("selectedMode")&&(t.on("mousedown",function(){a._mouseDownFlag=!0}),t.on("click",function(o){a._mouseDownFlag&&(a._mouseDownFlag=!1)}))},e}();function rD(e,i,t,n){var r=n.getModel("itemStyle"),a=n.getModel(["emphasis","itemStyle"]),o=n.getModel(["blur","itemStyle"]),s=n.getModel(["select","itemStyle"]),l=Uv(r),c=Uv(a),u=Uv(s),h=Uv(o),f=e.data;if(f){var p=f.getItemVisual(t,"style"),m=f.getItemVisual(t,"decal");e.isVisualEncodedByVisualMap&&p.fill&&(l.fill=p.fill),m&&(l.decal=Yh(m,e.api))}i.setStyle(l),i.style.strokeNoScale=!0,i.ensureState("emphasis").style=c,i.ensureState("select").style=u,i.ensureState("blur").style=h,Gc(i)}function aD(e,i,t,n,r,a,o){var s=e.data,l=e.isGeo,c=s&&isNaN(s.get(s.mapDimension("value"),a)),u=s&&s.getItemLayout(a);if(l||c||u&&u.showLabel){var h=l?t:a,f=void 0;(!s||a>=0)&&(f=r);var p=o?{normal:{align:"center",verticalAlign:"middle"}}:null;On(i,cn(n),{labelFetcher:f,labelDataIndex:h,defaultText:t},p);var m=i.getTextContent();if(m&&(iD(m).ignore=m.ignore,i.textConfig&&o)){var b=i.getBoundingRect().clone();i.textConfig.layoutRect=b,i.textConfig.position=[(o[0]-b.x)/b.width*100+"%",(o[1]-b.y)/b.height*100+"%"]}i.disableLabelAnimation=!0}else i.removeTextContent(),i.removeTextConfig(),i.disableLabelAnimation=null}function oD(e,i,t,n,r,a){e.data?e.data.setItemGraphicEl(a,i):Jt(i).eventData={componentType:"geo",componentIndex:r.componentIndex,geoIndex:r.componentIndex,name:t,region:n&&n.option||{}}}function sD(e,i,t,n,r){e.data||zh({el:i,componentModel:r,itemName:t,itemTooltipOption:n.get("tooltip")})}function lD(e,i,t,n,r){i.highDownSilentOnTouch=!!r.get("selectedMode");var a=n.getModel("emphasis"),o=a.get("focus");return Ti(i,o,a.get("blurScope"),a.get("disabled")),e.isGeo&&function jV(e,i,t){var n=Jt(e);n.componentMainType=i.mainType,n.componentIndex=i.componentIndex,n.componentHighDownName=t}(i,r,t),o}function cD(e,i,t){var r,n=[];function a(){r=[]}function o(){r.length&&(n.push(r),r=[])}var s=i({polygonStart:a,polygonEnd:o,lineStart:a,lineEnd:o,point:function(l,c){isFinite(l)&&isFinite(c)&&r.push([l,c])},sphere:function(){}});return!t&&s.polygonStart(),U(e,function(l){s.lineStart();for(var c=0;c<l.length;c++)s.point(l[c][0],l[c][1]);s.lineEnd()}),!t&&s.polygonEnd(),n}const uD=t7;var e7=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.render=function(t,n,r,a){if(!a||"mapToggleSelect"!==a.type||a.from!==this.uid){var o=this.group;if(o.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&a&&"geoRoam"===a.type&&this._mapDraw.resetForLabelLayout(),a&&"geoRoam"===a.type&&"series"===a.componentType&&a.seriesId===t.id)(s=this._mapDraw)&&o.add(s.group);else if(t.needsDrawMap){var s=this._mapDraw||new uD(r);o.add(s.group),s.draw(t,n,r,this,a),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get("showLegendSymbol")&&n.getComponent("legend")&&this._renderSymbols(t,n,r)}}},i.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},i.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},i.prototype._renderSymbols=function(t,n,r){var a=t.originalData,o=this.group;a.each(a.mapDimension("value"),function(s,l){if(!isNaN(s)){var c=a.getItemLayout(l);if(c&&c.point){var u=c.point,h=c.offset,f=new El({style:{fill:t.getData().getVisual("style").fill},shape:{cx:u[0]+9*h,cy:u[1],r:3},silent:!0,z2:8+(h?0:_h+1)});if(!h){var p=t.mainSeries.getData(),m=a.getName(l),b=p.indexOfName(m),_=a.getItemModel(l),w=_.getModel("label"),T=p.getItemGraphicEl(b);On(f,cn(_),{labelFetcher:{getFormattedLabel:function(A,P){return t.getFormattedLabel(b,P)}},defaultText:m}),f.disableLabelAnimation=!0,w.get("position")||f.setTextConfig({position:"bottom"}),T.onHoverStateChange=function(A){yg(f,A)}}o.add(f)}}})},i.type="map",i}(oi);const i7=e7;var n7=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.needsDrawMap=!1,t.seriesGroup=[],t.getTooltipPosition=function(n){if(null!=n){var r=this.getData().getName(n),a=this.coordinateSystem,o=a.getRegion(r);return o&&a.dataToPoint(o.getCenter())}},t}return ot(i,e),i.prototype.getInitialData=function(t){for(var n=qh(this,{coordDimensions:["value"],encodeDefaulter:jt(O_,this)}),r=Mt(),a=[],o=0,s=n.count();o<s;o++){var l=n.getName(o);r.set(l,!0)}return U(Ns.load(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(u){var h=u.name;r.get(h)||a.push(h)}),n.appendValues([],a),n},i.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return null!=t?this.ecModel.getComponent("geo",t):null},i.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},i.prototype.getRawValue=function(t){var n=this.getData();return n.get(n.mapDimension("value"),t)},i.prototype.getRegionModel=function(t){var n=this.getData();return n.getItemModel(n.indexOfName(t))},i.prototype.formatTooltip=function(t,n,r){for(var a=this.getData(),o=this.getRawValue(t),s=a.getName(t),l=this.seriesGroup,c=[],u=0;u<l.length;u++){var h=l[u].originalData.indexOfName(s),f=a.mapDimension("value");isNaN(l[u].originalData.get(f,h))||c.push(l[u].name)}return un("section",{header:c.join(", "),noHeader:!c.length,blocks:[un("nameValue",{name:s,value:o})]})},i.prototype.setZoom=function(t){this.option.zoom=t},i.prototype.setCenter=function(t){this.option.center=t},i.prototype.getLegendIcon=function(t){var n=t.icon||"roundRect",r=Gi(n,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return r.setStyle(t.itemStyle),r.style.stroke="none",n.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r},i.type="series.map",i.dependencies=["geo"],i.layoutMode="box",i.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},i}(mi);const r7=n7;function o7(e){var i={};e.eachSeriesByType("map",function(t){var n=t.getHostGeoModel(),r=n?"o"+n.id:"i"+t.getMapType();(i[r]=i[r]||[]).push(t)}),U(i,function(t,n){for(var r=function a7(e,i){var t={};return U(e,function(n){n.each(n.mapDimension("value"),function(r,a){var o="ec-"+n.getName(a);t[o]=t[o]||[],isNaN(r)||t[o].push(r)})}),e[0].map(e[0].mapDimension("value"),function(n,r){for(var a="ec-"+e[0].getName(r),o=0,s=1/0,l=-1/0,c=t[a].length,u=0;u<c;u++)s=Math.min(s,t[a][u]),l=Math.max(l,t[a][u]),o+=t[a][u];return 0===c?NaN:"min"===i?s:"max"===i?l:"average"===i?o/c:o})}(mt(t,function(o){return o.getData()}),t[0].get("mapValueCalculation")),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=0===a&&!t[a].getHostGeoModel(),t[a].setData(r.cloneShallow()),t[a].mainSeries=t[0]})}function s7(e){var i={};e.eachSeriesByType("map",function(t){var n=t.getMapType();if(!t.getHostGeoModel()&&!i[n]){var r={};U(t.seriesGroup,function(o){var s=o.coordinateSystem,l=o.originalData;o.get("showLegendSymbol")&&e.getComponent("legend")&&l.each(l.mapDimension("value"),function(c,u){var h=l.getName(u),f=s.getRegion(h);if(f&&!isNaN(c)){var p=r[h]||0,m=s.dataToPoint(f.getCenter());r[h]=p+1,l.setItemLayout(u,{point:m,offset:p})}})});var a=t.getData();a.each(function(o){var s=a.getName(o),l=a.getItemLayout(o)||{};l.showLabel=!r[s],a.setItemLayout(o,l)}),i[n]=!0}})}var hD=Si,l7=function(e){function i(t){var n=e.call(this)||this;return n.type="view",n.dimensions=["x","y"],n._roamTransformable=new As,n._rawTransformable=new As,n.name=t,n}return ot(i,e),i.prototype.setBoundingRect=function(t,n,r,a){return this._rect=new $t(t,n,r,a),this._rect},i.prototype.getBoundingRect=function(){return this._rect},i.prototype.setViewRect=function(t,n,r,a){this._transformTo(t,n,r,a),this._viewRect=new $t(t,n,r,a)},i.prototype._transformTo=function(t,n,r,a){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new $t(t,n,r,a));var l=s.parent;s.parent=null,s.decomposeTransform(),s.parent=l,this._updateTransform()},i.prototype.setCenter=function(t,n){t&&(this._center=[At(t[0],n.getWidth()),At(t[1],n.getHeight())],this._updateCenterAndZoom())},i.prototype.setZoom=function(t){t=t||1;var n=this.zoomLimit;n&&(null!=n.max&&(t=Math.min(n.max,t)),null!=n.min&&(t=Math.max(n.min,t))),this._zoom=t,this._updateCenterAndZoom()},i.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},i.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},i.prototype.getZoom=function(){return this._zoom||1},i.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},i.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),n=this._roamTransformable,r=this.getDefaultCenter(),a=this.getCenter(),o=this.getZoom();a=Si([],a,t),r=Si([],r,t),n.originX=a[0],n.originY=a[1],n.x=r[0]-a[0],n.y=r[1]-a[1],n.scaleX=n.scaleY=o,this._updateTransform()},i.prototype._updateTransform=function(){var t=this._roamTransformable,n=this._rawTransformable;n.parent=t,t.updateTransform(),n.updateTransform(),lc(this.transform||(this.transform=[]),n.transform||[1,0,0,1,0,0]),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],vn(this.invTransform,this.transform),this.decomposeTransform()},i.prototype.getTransformInfo=function(){var t=this._rawTransformable,n=this._roamTransformable,r=new As;return r.transform=n.transform,r.decomposeTransform(),{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},i.prototype.getViewRect=function(){return this._viewRect},i.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},i.prototype.dataToPoint=function(t,n,r){var a=n?this._rawTransform:this.transform;return r=r||[],a?hD(r,t,a):fi(r,t)},i.prototype.pointToData=function(t){var n=this.invTransform;return n?hD([],t,n):[t[0],t[1]]},i.prototype.convertToPixel=function(t,n,r){var a=dD(n);return a===this?a.dataToPoint(r):null},i.prototype.convertFromPixel=function(t,n,r){var a=dD(n);return a===this?a.pointToData(r):null},i.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},i.dimensions=["x","y"],i}(As);function dD(e){var i=e.seriesModel;return i?i.coordinateSystem:null}const np=l7;var c7={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},fD=["lng","lat"],pD=function(e){function i(t,n,r){var a=e.call(this,t)||this;a.dimensions=fD,a.type="geo",a._nameCoordMap=Mt(),a.map=n;var f,o=r.projection,s=Ns.load(n,r.nameMap,r.nameProperty),l=Ns.getGeoResource(n),u=(a.resourceType=l?l.type:null,a.regions=s.regions),h=c7[l.type];if(a._regionsMap=s.regionsMap,a.regions=s.regions,a.projection=o,o)for(var p=0;p<u.length;p++){var m=u[p].getBoundingRect(o);(f=f||m.clone()).union(m)}else f=s.boundingRect;return a.setBoundingRect(f.x,f.y,f.width,f.height),a.aspectScale=o?1:qt(r.aspectScale,h.aspectScale),a._invertLongitute=!o&&h.invertLongitute,a}return ot(i,e),i.prototype._transformTo=function(t,n,r,a){var o=this.getBoundingRect(),s=this._invertLongitute;o=o.clone(),s&&(o.y=-o.y-o.height);var l=this._rawTransformable;l.transform=o.calculateTransform(new $t(t,n,r,a));var c=l.parent;l.parent=null,l.decomposeTransform(),l.parent=c,s&&(l.scaleY=-l.scaleY),this._updateTransform()},i.prototype.getRegion=function(t){return this._regionsMap.get(t)},i.prototype.getRegionByCoord=function(t){for(var n=this.regions,r=0;r<n.length;r++){var a=n[r];if("geoJSON"===a.type&&a.contain(t))return n[r]}},i.prototype.addGeoCoord=function(t,n){this._nameCoordMap.set(t,n)},i.prototype.getGeoCoord=function(t){var n=this._regionsMap.get(t);return this._nameCoordMap.get(t)||n&&n.getCenter()},i.prototype.dataToPoint=function(t,n,r){if(Lt(t)&&(t=this.getGeoCoord(t)),t){var a=this.projection;return a&&(t=a.project(t)),t&&this.projectedToPoint(t,n,r)}},i.prototype.pointToData=function(t){var n=this.projection;return n&&(t=n.unproject(t)),t&&this.pointToProjected(t)},i.prototype.pointToProjected=function(t){return e.prototype.pointToData.call(this,t)},i.prototype.projectedToPoint=function(t,n,r){return e.prototype.dataToPoint.call(this,t,n,r)},i.prototype.convertToPixel=function(t,n,r){var a=gD(n);return a===this?a.dataToPoint(r):null},i.prototype.convertFromPixel=function(t,n,r){var a=gD(n);return a===this?a.pointToData(r):null},i}(np);function gD(e){var i=e.geoModel,t=e.seriesModel;return i?i.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",zi).models[0]||{}).coordinateSystem:null}It(pD,np);const vD=pD;function mD(e,i){var t=e.get("boundingCoords");if(null!=t){var n=t[0],r=t[1];if(isFinite(n[0])&&isFinite(n[1])&&isFinite(r[0])&&isFinite(r[1])){var a=this.projection;if(a){var o=n[0],s=n[1],l=r[0],c=r[1];n=[1/0,1/0],r=[-1/0,-1/0];var u=function(O,V,N,G){for(var H=N-O,X=G-V,q=0;q<=100;q++){var j=q/100,J=a.project([O+H*j,V+X*j]);zn(n,n,J),Tn(r,r,J)}};u(o,s,l,s),u(l,s,l,c),u(l,c,o,c),u(o,c,l,s)}this.setBoundingRect(n[0],n[1],r[0]-n[0],r[1]-n[1])}}var T,A,P,h=this.getBoundingRect(),f=e.get("layoutCenter"),p=e.get("layoutSize"),m=i.getWidth(),b=i.getHeight(),_=h.width/h.height*this.aspectScale,w=!1;if(f&&p&&(T=[At(f[0],m),At(f[1],b)],A=At(p,Math.min(m,b)),!isNaN(T[0])&&!isNaN(T[1])&&!isNaN(A)&&(w=!0)),w)P={},_>1?(P.width=A,P.height=A/_):(P.height=A,P.width=A*_),P.y=T[1]-P.height/2,P.x=T[0]-P.width/2;else{var F=e.getBoxLayoutParams();F.aspect=_,P=qi(F,{width:m,height:b})}this.setViewRect(P.x,P.y,P.width,P.height),this.setCenter(e.get("center"),i),this.setZoom(e.get("zoom"))}var h7=function(){function e(){this.dimensions=fD}return e.prototype.create=function(i,t){var n=[];function r(o){return{nameProperty:o.get("nameProperty"),aspectScale:o.get("aspectScale"),projection:o.get("projection")}}i.eachComponent("geo",function(o,s){var l=o.get("map"),c=new vD(l+s,l,ft({nameMap:o.get("nameMap")},r(o)));c.zoomLimit=o.get("scaleLimit"),n.push(c),o.coordinateSystem=c,c.model=o,c.resize=mD,c.resize(o,t)}),i.eachSeries(function(o){if("geo"===o.get("coordinateSystem")){var l=o.get("geoIndex")||0;o.coordinateSystem=n[l]}});var a={};return i.eachSeriesByType("map",function(o){if(!o.getHostGeoModel()){var s=o.getMapType();a[s]=a[s]||[],a[s].push(o)}}),U(a,function(o,s){var l=mt(o,function(u){return u.get("nameMap")}),c=new vD(s,s,ft({nameMap:nn(l)},r(o[0])));c.zoomLimit=hi.apply(null,mt(o,function(u){return u.get("scaleLimit")})),n.push(c),c.resize=mD,c.resize(o[0],t),U(o,function(u){u.coordinateSystem=c,function u7(e,i){U(i.get("geoCoord"),function(t,n){e.addGeoCoord(n,t)})}(c,u)})}),n},e.prototype.getFilledRegions=function(i,t,n,r){for(var a=(i||[]).slice(),o=Mt(),s=0;s<a.length;s++)o.set(a[s].name,a[s]);return U(Ns.load(t,n,r).regions,function(c){var u=c.name;!o.get(u)&&a.push({name:u})}),a},e}();const yD=new h7;var f7=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.init=function(t,n,r){var a=Ns.getGeoResource(t.map);if(a&&"geoJSON"===a.type){var o=t.itemStyle=t.itemStyle||{};"color"in o||(o.color="#eee")}this.mergeDefaultAndTheme(t,r),Lc(t,"label",["show"])},i.prototype.optionUpdated=function(){var t=this,n=this.option;n.regions=yD.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var r={};this._optionModelMap=bi(n.regions||[],function(a,o){var s=o.name;return s&&(a.set(s,new ai(o,t,t.ecModel)),o.selected&&(r[s]=!0)),a},Mt()),n.selectedMap||(n.selectedMap=r)},i.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new ai(null,this,this.ecModel)},i.prototype.getFormattedLabel=function(t,n){var a=this.getRegionModel(t).get("normal"===n?["label","formatter"]:["emphasis","label","formatter"]),o={name:t};return Z(a)?(o.status=n,a(o)):Lt(a)?a.replace("{a}",t??""):void 0},i.prototype.setZoom=function(t){this.option.zoom=t},i.prototype.setCenter=function(t){this.option.center=t},i.prototype.select=function(t){var n=this.option,r=n.selectedMode;r&&("multiple"!==r&&(n.selectedMap=null),(n.selectedMap||(n.selectedMap={}))[t]=!0)},i.prototype.unSelect=function(t){var n=this.option.selectedMap;n&&(n[t]=!1)},i.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},i.prototype.isSelected=function(t){var n=this.option.selectedMap;return!(!n||!n[t])},i.type="geo",i.layoutMode="box",i.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},i}(Oe);const p7=f7;function _D(e,i){return e.pointToProjected?e.pointToProjected(i):e.pointToData(i)}function Vx(e,i,t,n){var r=e.getZoom(),a=e.getCenter(),o=i.zoom,s=e.projectedToPoint?e.projectedToPoint(a):e.dataToPoint(a);if(null!=i.dx&&null!=i.dy&&(s[0]-=i.dx,s[1]-=i.dy,e.setCenter(_D(e,s),n)),null!=o){if(t){var l=t.min||0;o=Math.max(Math.min(r*o,t.max||1/0),l)/r}e.scaleX*=o,e.scaleY*=o;var h=(i.originY-e.y)*(o-1);e.x-=(i.originX-e.x)*(o-1),e.y-=h,e.updateTransform(),e.setCenter(_D(e,s),n),e.setZoom(o*r)}return{center:e.getCenter(),zoom:e.getZoom()}}var g7=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.focusBlurEnabled=!0,t}return ot(i,e),i.prototype.init=function(t,n){this._api=n},i.prototype.render=function(t,n,r,a){if(this._model=t,!t.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new uD(r));var o=this._mapDraw;o.draw(t,n,r,this,a),o.group.on("click",this._handleRegionClick,this),o.group.silent=t.get("silent"),this.group.add(o.group),this.updateSelectStatus(t,n,r)},i.prototype._handleRegionClick=function(t){var n;eu(t.target,function(r){return null!=(n=Jt(r).eventData)},!0),n&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:n.name})},i.prototype.updateSelectStatus=function(t,n,r){var a=this;this._mapDraw.group.traverse(function(o){var s=Jt(o).eventData;if(s)return a._model.isSelected(s.name)?r.enterSelect(o):r.leaveSelect(o),!0})},i.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},i.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},i.type="geo",i}(Mi);const v7=g7;function m7(e,i,t){Ns.registerMap(e,i,t)}function xD(e){function i(t,n){n.update="geo:updateSelectStatus",e.registerAction(n,function(r,a){var o={},s=[];return a.eachComponent({mainType:"geo",query:r},function(l){l[t](r.name),U(l.coordinateSystem.regions,function(h){o[h.name]=l.isSelected(h.name)||!1});var u=[];U(o,function(h,f){o[f]&&u.push(f)}),s.push({geoIndex:l.componentIndex,name:u})}),{selected:o,allSelected:s,name:r.name}})}e.registerCoordinateSystem("geo",yD),e.registerComponentModel(p7),e.registerComponentView(v7),e.registerImpl("registerMap",m7),e.registerImpl("getMap",function(t){return Ns.getMapForUser(t)}),i("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),i("select",{type:"geoSelect",event:"geoselected"}),i("unSelect",{type:"geoUnSelect",event:"geounselected"}),e.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,n,r){var a=t.componentType||"series";n.eachComponent({mainType:a,query:t},function(o){var s=o.coordinateSystem;if("geo"===s.type){var l=Vx(s,t,o.get("scaleLimit"),r);o.setCenter&&o.setCenter(l.center),o.setZoom&&o.setZoom(l.zoom),"series"===a&&U(o.seriesGroup,function(c){c.setCenter(l.center),c.setZoom(l.zoom)})}})})}function x7(e,i){var t=e.isExpand?e.children:[],n=e.parentNode.children,r=e.hierNode.i?n[e.hierNode.i-1]:null;if(t.length){!function S7(e){for(var i=e.children,t=i.length,n=0,r=0;--t>=0;){var a=i[t];a.hierNode.prelim+=n,a.hierNode.modifier+=n,n+=a.hierNode.shift+(r+=a.hierNode.change)}}(e);var a=(t[0].hierNode.prelim+t[t.length-1].hierNode.prelim)/2;r?(e.hierNode.prelim=r.hierNode.prelim+i(e,r),e.hierNode.modifier=e.hierNode.prelim-a):e.hierNode.prelim=a}else r&&(e.hierNode.prelim=r.hierNode.prelim+i(e,r));e.parentNode.hierNode.defaultAncestor=function w7(e,i,t,n){if(i){for(var r=e,a=e,o=a.parentNode.children[0],s=i,l=r.hierNode.modifier,c=a.hierNode.modifier,u=o.hierNode.modifier,h=s.hierNode.modifier;s=zx(s),a=Nx(a),s&&a;){r=zx(r),o=Nx(o),r.hierNode.ancestor=e;var f=s.hierNode.prelim+h-a.hierNode.prelim-c+n(s,a);f>0&&(M7(T7(s,e,t),e,f),c+=f,l+=f),h+=s.hierNode.modifier,c+=a.hierNode.modifier,l+=r.hierNode.modifier,u+=o.hierNode.modifier}s&&!zx(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=h-l),a&&!Nx(o)&&(o.hierNode.thread=a,o.hierNode.modifier+=c-u,t=e)}return t}(e,r,e.parentNode.hierNode.defaultAncestor||n[0],i)}function b7(e){e.setLayout({x:e.hierNode.prelim+e.parentNode.hierNode.modifier},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function bD(e){return arguments.length?e:A7}function rp(e,i){return e-=Math.PI/2,{x:i*Math.cos(e),y:i*Math.sin(e)}}function zx(e){var i=e.children;return i.length&&e.isExpand?i[i.length-1]:e.hierNode.thread}function Nx(e){var i=e.children;return i.length&&e.isExpand?i[0]:e.hierNode.thread}function T7(e,i,t){return e.hierNode.ancestor.parentNode===i.parentNode?e.hierNode.ancestor:t}function M7(e,i,t){var n=t/(i.hierNode.i-e.hierNode.i);i.hierNode.change-=n,i.hierNode.shift+=t,i.hierNode.modifier+=t,i.hierNode.prelim+=t,e.hierNode.change+=n}function A7(e,i){return e.parentNode===i.parentNode?1:2}var L7=function e(){this.parentPoint=[],this.childPoints=[]},k7=function(e){function i(t){return e.call(this,t)||this}return ot(i,e),i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new L7},i.prototype.buildPath=function(t,n){var r=n.childPoints,a=r.length,o=n.parentPoint,s=r[0],l=r[a-1];if(1===a)return t.moveTo(o[0],o[1]),void t.lineTo(s[0],s[1]);var c=n.orient,u="TB"===c||"BT"===c?0:1,h=1-u,f=At(n.forkPosition,1),p=[];p[u]=o[u],p[h]=o[h]+(l[h]-o[h])*f,t.moveTo(o[0],o[1]),t.lineTo(p[0],p[1]),t.moveTo(s[0],s[1]),p[u]=s[u],t.lineTo(p[0],p[1]),p[u]=l[u],t.lineTo(p[0],p[1]),t.lineTo(l[0],l[1]);for(var m=1;m<a-1;m++){var b=r[m];t.moveTo(b[0],b[1]),p[u]=b[u],t.lineTo(p[0],p[1])}},i}(ge),D7=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t._mainGroup=new Kt,t}return ot(i,e),i.prototype.init=function(t,n){this._controller=new ep(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},i.prototype.render=function(t,n,r){var a=t.getData(),o=t.layoutInfo,s=this._mainGroup;"radial"===t.get("layout")?(s.x=o.x+o.width/2,s.y=o.y+o.height/2):(s.x=o.x,s.y=o.y),this._updateViewCoordSys(t,r),this._updateController(t,n,r);var c=this._data;a.diff(c).add(function(u){CD(a,u)&&SD(a,u,null,s,t)}).update(function(u,h){var f=c.getItemGraphicEl(h);CD(a,u)?SD(a,u,f,s,t):f&&MD(c,h,f,s,t)}).remove(function(u){var h=c.getItemGraphicEl(u);h&&MD(c,u,h,s,t)}).execute(),this._nodeScaleRatio=t.get("nodeScaleRatio"),this._updateNodeAndLinkScale(t),!0===t.get("expandAndCollapse")&&a.eachItemGraphicEl(function(u,h){u.off("click").on("click",function(){r.dispatchAction({type:"treeExpandAndCollapse",seriesId:t.id,dataIndex:h})})}),this._data=a},i.prototype._updateViewCoordSys=function(t,n){var r=t.getData(),a=[];r.each(function(h){var f=r.getItemLayout(h);f&&!isNaN(f.x)&&!isNaN(f.y)&&a.push([+f.x,+f.y])});var o=[],s=[];dg(a,o,s);var l=this._min,c=this._max;s[0]-o[0]==0&&(o[0]=l?l[0]:o[0]-1,s[0]=c?c[0]:s[0]+1),s[1]-o[1]==0&&(o[1]=l?l[1]:o[1]-1,s[1]=c?c[1]:s[1]+1);var u=t.coordinateSystem=new np;u.zoomLimit=t.get("scaleLimit"),u.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1]),u.setCenter(t.get("center"),n),u.setZoom(t.get("zoom")),this.group.attr({x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY}),this._min=o,this._max=s},i.prototype._updateController=function(t,n,r){var a=this,o=this._controller,s=this._controllerHost,l=this.group;o.setPointerChecker(function(c,u,h){var f=l.getBoundingRect();return f.applyTransform(l.transform),f.contain(u,h)&&!Hv(c,r,t)}),o.enable(t.get("roam")),s.zoomLimit=t.get("scaleLimit"),s.zoom=t.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(c){Dx(s,c.dx,c.dy),r.dispatchAction({seriesId:t.id,type:"treeRoam",dx:c.dx,dy:c.dy})}).on("zoom",function(c){Px(s,c.scale,c.originX,c.originY),r.dispatchAction({seriesId:t.id,type:"treeRoam",zoom:c.scale,originX:c.originX,originY:c.originY}),a._updateNodeAndLinkScale(t),r.updateLabelLayout()})},i.prototype._updateNodeAndLinkScale=function(t){var n=t.getData(),r=this._getNodeGlobalScale(t);n.eachItemGraphicEl(function(a,o){a.setSymbolScale(r)})},i.prototype._getNodeGlobalScale=function(t){var n=t.coordinateSystem;if("view"!==n.type)return 1;var r=this._nodeScaleRatio,a=n.scaleX||1;return((n.getZoom()-1)*r+1)/a},i.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},i.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},i.type="tree",i}(oi);function CD(e,i){var t=e.getItemLayout(i);return t&&!isNaN(t.x)&&!isNaN(t.y)}function SD(e,i,t,n,r){var a=!t,o=e.tree.getNodeByDataIndex(i),s=o.getModel(),l=o.getVisual("style").fill,c=!1===o.isExpand&&0!==o.children.length?l:"#fff",u=e.tree.root,h=o.parentNode===u?o:o.parentNode||o,f=e.getItemGraphicEl(h.dataIndex),p=h.getLayout(),m=f?{x:f.__oldX,y:f.__oldY,rawX:f.__radialOldRawX,rawY:f.__radialOldRawY}:p,b=o.getLayout();a?((t=new Yf(e,i,null,{symbolInnerColor:c,useNameLabel:!0})).x=m.x,t.y=m.y):t.updateData(e,i,null,{symbolInnerColor:c,useNameLabel:!0}),t.__radialOldRawX=t.__radialRawX,t.__radialOldRawY=t.__radialRawY,t.__radialRawX=b.rawX,t.__radialRawY=b.rawY,n.add(t),e.setItemGraphicEl(i,t),t.__oldX=t.x,t.__oldY=t.y,Ve(t,{x:b.x,y:b.y},r);var _=t.getSymbolPath();if("radial"===r.get("layout")){var w=u.children[0],T=w.getLayout(),A=w.children.length,P=void 0,F=void 0;if(b.x===T.x&&!0===o.isExpand&&w.children.length){var O={x:(w.children[0].getLayout().x+w.children[A-1].getLayout().x)/2,y:(w.children[0].getLayout().y+w.children[A-1].getLayout().y)/2};(P=Math.atan2(O.y-T.y,O.x-T.x))<0&&(P=2*Math.PI+P),(F=O.x<T.x)&&(P-=Math.PI)}else(P=Math.atan2(b.y-T.y,b.x-T.x))<0&&(P=2*Math.PI+P),0===o.children.length||0!==o.children.length&&!1===o.isExpand?(F=b.x<T.x)&&(P-=Math.PI):(F=b.x>T.x)||(P-=Math.PI);var V=F?"left":"right",N=s.getModel("label"),G=N.get("rotate"),H=G*(Math.PI/180),X=_.getTextContent();X&&(_.setTextConfig({position:N.get("position")||V,rotation:null==G?-P:H,origin:"center"}),X.setStyle("verticalAlign","middle"))}var q=s.get(["emphasis","focus"]),j="relative"===q?sa(o.getAncestorsIndices(),o.getDescendantIndices()):"ancestor"===q?o.getAncestorsIndices():"descendant"===q?o.getDescendantIndices():null;j&&(Jt(t).focus=j),function P7(e,i,t,n,r,a,o,s){var l=i.getModel(),c=e.get("edgeShape"),u=e.get("layout"),h=e.getOrient(),f=e.get(["lineStyle","curveness"]),p=e.get("edgeForkPosition"),m=l.getModel("lineStyle").getLineStyle(),b=n.__edge;if("curve"===c)i.parentNode&&i.parentNode!==t&&(b||(b=n.__edge=new Yg({shape:Gx(u,h,f,r,r)})),Ve(b,{shape:Gx(u,h,f,a,o)},e));else if("polyline"===c&&"orthogonal"===u&&i!==t&&i.children&&0!==i.children.length&&!0===i.isExpand){for(var _=i.children,w=[],T=0;T<_.length;T++){var A=_[T].getLayout();w.push([A.x,A.y])}b||(b=n.__edge=new k7({shape:{parentPoint:[o.x,o.y],childPoints:[[o.x,o.y]],orient:h,forkPosition:p}})),Ve(b,{shape:{parentPoint:[o.x,o.y],childPoints:w}},e)}b&&("polyline"!==c||i.isExpand)&&(b.useStyle(Rt({strokeNoScale:!0,fill:null},m)),In(b,l,"lineStyle"),Gc(b),s.add(b))}(r,o,u,t,m,p,b,n),t.__edge&&(t.onHoverStateChange=function(J){if("blur"!==J){var tt=o.parentNode&&e.getItemGraphicEl(o.parentNode.dataIndex);tt&&tt.hoverState===nf||yg(t.__edge,J)}})}function wD(e,i,t,n,r){var o=TD(i.tree.root,e),s=o.source,l=o.sourceLayout,c=i.getItemGraphicEl(e.dataIndex);if(c){var u=i.getItemGraphicEl(s.dataIndex),f=c.__edge||(!1===s.isExpand||1===s.children.length?u.__edge:void 0),p=n.get("edgeShape"),m=n.get("layout"),b=n.get("orient"),_=n.get(["lineStyle","curveness"]);f&&("curve"===p?Ll(f,{shape:Gx(m,b,_,l,l),style:{opacity:0}},n,{cb:function(){t.remove(f)},removeOpt:r}):"polyline"===p&&"orthogonal"===n.get("layout")&&Ll(f,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,{cb:function(){t.remove(f)},removeOpt:r}))}}function TD(e,i){for(var n,t=i.parentNode===e?i:i.parentNode||i;null==(n=t.getLayout());)t=t.parentNode===e?t:t.parentNode||t;return{source:t,sourceLayout:n}}function MD(e,i,t,n,r){var a=e.tree.getNodeByDataIndex(i),s=TD(e.tree.root,a).sourceLayout,l={duration:r.get("animationDurationUpdate"),easing:r.get("animationEasingUpdate")};Ll(t,{x:s.x+1,y:s.y+1},r,{cb:function(){n.remove(t),e.setItemGraphicEl(i,null)},removeOpt:l}),t.fadeOut(null,e.hostModel,{fadeLabel:!0,animation:l}),a.children.forEach(function(c){wD(c,e,n,r,l)}),wD(a,e,n,r,l)}function Gx(e,i,t,n,r){var a,o,s,l,c,u,h,f;if("radial"===e){u=r.rawX,f=r.rawY;var p=rp(c=n.rawX,h=n.rawY),m=rp(c,h+(f-h)*t),b=rp(u,f+(h-f)*t),_=rp(u,f);return{x1:p.x||0,y1:p.y||0,x2:_.x||0,y2:_.y||0,cpx1:m.x||0,cpy1:m.y||0,cpx2:b.x||0,cpy2:b.y||0}}return c=n.x,h=n.y,u=r.x,f=r.y,("LR"===i||"RL"===i)&&(a=c+(u-c)*t,o=h,s=u+(c-u)*t,l=f),("TB"===i||"BT"===i)&&(a=c,o=h+(f-h)*t,s=u,l=f+(h-f)*t),{x1:c,y1:h,x2:u,y2:f,cpx1:a,cpy1:o,cpx2:s,cpy2:l}}const I7=D7;var Aa=Le();function E7(e,i){if(function z7(e){return Aa(e).mainData===e}(this)){var t=ft({},Aa(this).datas);t[this.dataType]=i,AD(i,t,e)}else Hx(i,this.dataType,Aa(this).mainData,e);return i}function F7(e,i){return e.struct&&e.struct.update(),i}function R7(e,i){return U(Aa(i).datas,function(t,n){t!==i&&Hx(t.cloneShallow(),n,i,e)}),i}function B7(e){var i=Aa(this).mainData;return null==e||null==i?i:Aa(i).datas[e]}function V7(){var e=Aa(this).mainData;return null==e?[{data:e}]:mt(he(Aa(e).datas),function(i){return{type:i,data:Aa(e).datas[i]}})}function AD(e,i,t){Aa(e).datas={},U(i,function(n,r){Hx(n,r,e,t)})}function Hx(e,i,t,n){Aa(t).datas[i]=e,Aa(e).mainData=t,e.dataType=i,n.struct&&(e[n.structAttr]=n.struct,n.struct[n.datasAttr[i]]=e),e.getLinkedData=B7,e.getLinkedDataAll=V7}const LD=function O7(e){var i=e.mainData,t=e.datas;t||(t={main:i},e.datasAttr={main:"data"}),e.datas=e.mainData=null,AD(i,t,e),U(t,function(n){U(i.TRANSFERABLE_METHODS,function(r){n.wrapMethod(r,jt(E7,e))})}),i.wrapMethod("cloneShallow",jt(R7,e)),U(i.CHANGABLE_METHODS,function(n){i.wrapMethod(n,jt(F7,e))}),ti(t[i.dataType]===i)};var N7=function(){function e(i,t){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=i||"",this.hostTree=t}return e.prototype.isRemoved=function(){return this.dataIndex<0},e.prototype.eachNode=function(i,t,n){Z(i)&&(n=t,t=i,i=null),Lt(i=i||{})&&(i={order:i});var o,r=i.order||"preorder",a=this[i.attr||"children"];"preorder"===r&&(o=t.call(n,this));for(var s=0;!o&&s<a.length;s++)a[s].eachNode(i,t,n);"postorder"===r&&t.call(n,this)},e.prototype.updateDepthAndHeight=function(i){var t=0;this.depth=i;for(var n=0;n<this.children.length;n++){var r=this.children[n];r.updateDepthAndHeight(i+1),r.height>t&&(t=r.height)}this.height=t+1},e.prototype.getNodeById=function(i){if(this.getId()===i)return this;for(var t=0,n=this.children,r=n.length;t<r;t++){var a=n[t].getNodeById(i);if(a)return a}},e.prototype.contains=function(i){if(i===this)return!0;for(var t=0,n=this.children,r=n.length;t<r;t++){var a=n[t].contains(i);if(a)return a}},e.prototype.getAncestors=function(i){for(var t=[],n=i?this:this.parentNode;n;)t.push(n),n=n.parentNode;return t.reverse(),t},e.prototype.getAncestorsIndices=function(){for(var i=[],t=this;t;)i.push(t.dataIndex),t=t.parentNode;return i.reverse(),i},e.prototype.getDescendantIndices=function(){var i=[];return this.eachNode(function(t){i.push(t.dataIndex)}),i},e.prototype.getValue=function(i){var t=this.hostTree.data;return t.getStore().get(t.getDimensionIndex(i||"value"),this.dataIndex)},e.prototype.setLayout=function(i,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,i,t)},e.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},e.prototype.getModel=function(i){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(i)},e.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},e.prototype.setVisual=function(i,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,i,t)},e.prototype.getVisual=function(i){return this.hostTree.data.getItemVisual(this.dataIndex,i)},e.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},e.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},e.prototype.getChildIndex=function(){if(this.parentNode){for(var i=this.parentNode.children,t=0;t<i.length;++t)if(i[t]===this)return t;return-1}return-1},e.prototype.isAncestorOf=function(i){for(var t=i.parentNode;t;){if(t===this)return!0;t=t.parentNode}return!1},e.prototype.isDescendantOf=function(i){return i!==this&&i.isAncestorOf(this)},e}(),G7=function(){function e(i){this.type="tree",this._nodes=[],this.hostModel=i}return e.prototype.eachNode=function(i,t,n){this.root.eachNode(i,t,n)},e.prototype.getNodeByDataIndex=function(i){var t=this.data.getRawIndex(i);return this._nodes[t]},e.prototype.getNodeById=function(i){return this.root.getNodeById(i)},e.prototype.update=function(){for(var i=this.data,t=this._nodes,n=0,r=t.length;n<r;n++)t[n].dataIndex=-1;for(n=0,r=i.count();n<r;n++)t[i.getRawIndex(n)].dataIndex=n},e.prototype.clearLayouts=function(){this.data.clearItemLayouts()},e.createTree=function(i,t,n){var r=new e(t),a=[],o=1;!function s(u,h){var f=u.value;o=Math.max(o,yt(f)?f.length:1),a.push(u);var p=new N7(ji(u.name,""),r);h?function H7(e,i){e.parentNode!==i&&(i.children.push(e),e.parentNode=i)}(p,h):r.root=p,r._nodes.push(p);var m=u.children;if(m)for(var b=0;b<m.length;b++)s(m[b],p)}(i),r.root.updateDepthAndHeight(0);var l=Zh(a,{coordDimensions:["value"],dimensionsCount:o}).dimensions,c=new dr(l,t);return c.initData(a),n&&n(c),LD({mainData:c,struct:r,structAttr:"tree"}),r.update(),r},e}();const Wx=G7;function ap(e,i,t){if(e&&oe(i,e.type)>=0){var n=t.getData().tree.root,r=e.targetNode;if(Lt(r)&&(r=n.getNodeById(r)),r&&n.contains(r))return{node:r};var a=e.targetNodeId;if(null!=a&&(r=n.getNodeById(a)))return{node:r}}}function kD(e){for(var i=[];e;)(e=e.parentNode)&&i.push(e);return i.reverse()}function Yx(e,i){return oe(kD(e),i)>=0}function Zv(e,i){for(var t=[];e;){var n=e.dataIndex;t.push({name:e.name,dataIndex:n,value:i.getRawValue(n)}),e=e.parentNode}return t.reverse(),t}var W7=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasSymbolVisual=!0,t.ignoreStyleOnData=!0,t}return ot(i,e),i.prototype.getInitialData=function(t){var n={name:t.name,children:t.data},a=new ai(t.leaves||{},this,this.ecModel),o=Wx.createTree(n,this,function s(h){h.wrapMethod("getItemModel",function(f,p){var m=o.getNodeByDataIndex(p);return m&&m.children.length&&m.isExpand||(f.parentModel=a),f})}),l=0;o.eachNode("preorder",function(h){h.depth>l&&(l=h.depth)});var u=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:l;return o.root.eachNode("preorder",function(h){var f=h.hostTree.data.getRawDataItem(h.dataIndex);h.isExpand=f&&null!=f.collapsed?!f.collapsed:h.depth<=u}),o.data},i.prototype.getOrient=function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},i.prototype.setZoom=function(t){this.option.zoom=t},i.prototype.setCenter=function(t){this.option.center=t},i.prototype.formatTooltip=function(t,n,r){for(var a=this.getData().tree,o=a.root.children[0],s=a.getNodeByDataIndex(t),l=s.getValue(),c=s.name;s&&s!==o;)c=s.parentNode.name+"."+c,s=s.parentNode;return un("nameValue",{name:c,value:l,noValue:isNaN(l)||null==l})},i.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=Zv(r,this),n.collapsed=!r.isExpand,n},i.type="series.tree",i.layoutMode="box",i.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},i}(mi);const Y7=W7;function op(e,i){for(var n,t=[e];n=t.pop();)if(i(n),n.isExpand){var r=n.children;if(r.length)for(var a=r.length-1;a>=0;a--)t.push(r[a])}}function U7(e,i){e.eachSeriesByType("tree",function(t){!function Z7(e,i){var t=function C7(e,i){return qi(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}(e,i);e.layoutInfo=t;var n=e.get("layout"),r=0,a=0,o=null;"radial"===n?(r=2*Math.PI,a=Math.min(t.height,t.width)/2,o=bD(function(A,P){return(A.parentNode===P.parentNode?1:2)/A.depth})):(r=t.width,a=t.height,o=bD());var s=e.getData().tree.root,l=s.children[0];if(l){(function _7(e){var i=e;i.hierNode={defaultAncestor:null,ancestor:i,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var n,r,t=[i];n=t.pop();)if(r=n.children,n.isExpand&&r.length)for(var o=r.length-1;o>=0;o--){var s=r[o];s.hierNode={defaultAncestor:null,ancestor:s,prelim:0,modifier:0,change:0,shift:0,i:o,thread:null},t.push(s)}})(s),function X7(e,i,t){for(var a,n=[e],r=[];a=n.pop();)if(r.push(a),a.isExpand){var o=a.children;if(o.length)for(var s=0;s<o.length;s++)n.push(o[s])}for(;a=r.pop();)i(a,t)}(l,x7,o),s.hierNode.modifier=-l.hierNode.prelim,op(l,b7);var c=l,u=l,h=l;op(l,function(A){var P=A.getLayout().x;P<c.getLayout().x&&(c=A),P>u.getLayout().x&&(u=A),A.depth>h.depth&&(h=A)});var f=c===u?1:o(c,u)/2,p=f-c.getLayout().x,m=0,b=0,_=0,w=0;if("radial"===n)m=r/(u.getLayout().x+f+p),b=a/(h.depth-1||1),op(l,function(A){var P=rp(_=(A.getLayout().x+p)*m,w=(A.depth-1)*b);A.setLayout({x:P.x,y:P.y,rawX:_,rawY:w},!0)});else{var T=e.getOrient();"RL"===T||"LR"===T?(b=a/(u.getLayout().x+f+p),m=r/(h.depth-1||1),op(l,function(A){w=(A.getLayout().x+p)*b,A.setLayout({x:_="LR"===T?(A.depth-1)*m:r-(A.depth-1)*m,y:w},!0)})):("TB"===T||"BT"===T)&&(m=r/(u.getLayout().x+f+p),b=a/(h.depth-1||1),op(l,function(A){_=(A.getLayout().x+p)*m,A.setLayout({x:_,y:w="TB"===T?(A.depth-1)*b:a-(A.depth-1)*b},!0)}))}}}(t,i)})}function $7(e){e.eachSeriesByType("tree",function(i){var t=i.getData();t.tree.eachNode(function(r){var o=r.getModel().getModel("itemStyle").getItemStyle();ft(t.ensureUniqueItemVisual(r.dataIndex,"style"),o)})})}var DD=["treemapZoomToNode","treemapRender","treemapMove"];function PD(e){var i=e.getData(),n={};i.tree.eachNode(function(r){for(var a=r;a&&a.depth>1;)a=a.parentNode;var o=B_(e.ecModel,a.name||a.dataIndex+"",n);r.setVisual("decal",o)})}var Q7=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.preventUsingHoverLayer=!0,t}return ot(i,e),i.prototype.getInitialData=function(t,n){var r={name:t.name,children:t.data};ID(r);var a=t.levels||[],o=this.designatedVisualItemStyle={},s=new ai({itemStyle:o},this,n);a=t.levels=function J7(e,i){var t=je(i.get("color")),n=je(i.get(["aria","decal","decals"]));if(t){var r,a;U(e=e||[],function(s){var l=new ai(s),c=l.get("color"),u=l.get("decal");(l.get(["itemStyle","color"])||c&&"none"!==c)&&(r=!0),(l.get(["itemStyle","decal"])||u&&"none"!==u)&&(a=!0)});var o=e[0]||(e[0]={});return r||(o.color=t.slice()),!a&&n&&(o.decal=n.slice()),e}}(a,n);var l=mt(a||[],function(h){return new ai(h,s,n)},this),c=Wx.createTree(r,this,function u(h){h.wrapMethod("getItemModel",function(f,p){var m=c.getNodeByDataIndex(p);return f.parentModel=(m?l[m.depth]:null)||s,f})});return c.data},i.prototype.optionUpdated=function(){this.resetViewRoot()},i.prototype.formatTooltip=function(t,n,r){var a=this.getData(),o=this.getRawValue(t);return un("nameValue",{name:a.getName(t),value:o})},i.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return n.treeAncestors=Zv(r,this),n.treePathInfo=n.treeAncestors,n},i.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},ft(this.layoutInfo,t)},i.prototype.mapIdToIndex=function(t){var n=this._idIndexMap;n||(n=this._idIndexMap=Mt(),this._idIndexMapCount=0);var r=n.get(t);return null==r&&n.set(t,r=this._idIndexMapCount++),r},i.prototype.getViewRoot=function(){return this._viewRoot},i.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var n=this.getRawData().tree.root;(!t||t!==n&&!n.contains(t))&&(this._viewRoot=n)},i.prototype.enableAriaDecal=function(){PD(this)},i.type="series.treemap",i.layoutMode="box",i.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},i}(mi);function ID(e){var i=0;U(e.children,function(n){ID(n);var r=n.value;yt(r)&&(r=r[0]),i+=r});var t=e.value;yt(t)&&(t=t[0]),(null==t||isNaN(t))&&(t=i),t<0&&(t=0),yt(e.value)?e.value[0]=t:e.value=t}const t9=Q7;var Xx=5,i9=function(){function e(i){this.group=new Kt,i.add(this.group)}return e.prototype.render=function(i,t,n,r){var a=i.getModel("breadcrumb"),o=this.group;if(o.removeAll(),a.get("show")&&n){var s=a.getModel("itemStyle"),l=a.getModel("emphasis"),c=s.getModel("textStyle"),u=l.getModel(["itemStyle","textStyle"]),h={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(n,h,c),this._renderContent(i,h,s,l,c,u,r),Pg(o,h.pos,h.box)}},e.prototype._prepare=function(i,t,n){for(var r=i;r;r=r.parentNode){var a=ji(r.getModel().get("name"),""),o=n.getTextRect(a),s=Math.max(o.width+16,t.emptyItemWidth);t.totalWidth+=s+8,t.renderList.push({node:r,text:a,width:s})}},e.prototype._renderContent=function(i,t,n,r,a,o,s){for(var l=0,c=t.emptyItemWidth,u=i.get(["breadcrumb","height"]),h=function b3(e,i,t){var n=i.width,r=i.height,a=At(e.left,n),o=At(e.top,r),s=At(e.right,n),l=At(e.bottom,r);return(isNaN(a)||isNaN(parseFloat(e.left)))&&(a=0),(isNaN(s)||isNaN(parseFloat(e.right)))&&(s=n),(isNaN(o)||isNaN(parseFloat(e.top)))&&(o=0),(isNaN(l)||isNaN(parseFloat(e.bottom)))&&(l=r),t=Lh(t||0),{width:Math.max(s-a-t[1]-t[3],0),height:Math.max(l-o-t[0]-t[2],0)}}(t.pos,t.box),f=t.totalWidth,p=t.renderList,m=r.getModel("itemStyle").getItemStyle(),b=p.length-1;b>=0;b--){var _=p[b],w=_.node,T=_.width,A=_.text;f>h.width&&(f-=T-c,T=c,A=null);var P=new Dr({shape:{points:n9(l,0,T,u,b===p.length-1,0===b)},style:Rt(n.getItemStyle(),{lineJoin:"bevel"}),textContent:new Ie({style:ri(a,{text:A})}),textConfig:{position:"inside"},z2:1e4*_h,onclick:jt(s,w)});P.disableLabelAnimation=!0,P.getTextContent().ensureState("emphasis").style=ri(o,{text:A}),P.ensureState("emphasis").style=m,Ti(P,r.get("focus"),r.get("blurScope"),r.get("disabled")),this.group.add(P),r9(P,i,w),l+=T+8}},e.prototype.remove=function(){this.group.removeAll()},e}();function n9(e,i,t,n,r,a){var o=[[r?e:e-Xx,i],[e+t,i],[e+t,i+n],[r?e:e-Xx,i+n]];return!a&&o.splice(2,0,[e+t+Xx,i+n/2]),!r&&o.push([e,i+n/2]),o}function r9(e,i,t){Jt(e).eventData={componentType:"series",componentSubType:"treemap",componentIndex:i.componentIndex,seriesIndex:i.seriesIndex,seriesName:i.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:t&&t.dataIndex,name:t&&t.name},treePathInfo:t&&Zv(t,i)}}const a9=i9;var o9=function(){function e(){this._storage=[],this._elExistsMap={}}return e.prototype.add=function(i,t,n,r,a){return!this._elExistsMap[i.id]&&(this._elExistsMap[i.id]=!0,this._storage.push({el:i,target:t,duration:n,delay:r,easing:a}),!0)},e.prototype.finished=function(i){return this._finishedCallback=i,this},e.prototype.start=function(){for(var i=this,t=this._storage.length,n=function(){--t<=0&&(i._storage.length=0,i._elExistsMap={},i._finishedCallback&&i._finishedCallback())},r=0,a=this._storage.length;r<a;r++){var o=this._storage[r];o.el.animateTo(o.target,{duration:o.duration,delay:o.delay,easing:o.easing,setToFinal:!0,done:n,aborted:n})}return this},e}(),Ux=Kt,ED=De,RD="label",BD="upperLabel",l9=10*_h,c9=2*_h,u9=3*_h,bu=Pc([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),VD=function(e){var i=bu(e);return i.stroke=i.fill=i.lineWidth=null,i},$v=Le(),h9=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t._state="ready",t._storage={nodeGroup:[],background:[],content:[]},t}return ot(i,e),i.prototype.render=function(t,n,r,a){if(!(oe(n.findComponents({mainType:"series",subType:"treemap",query:a}),t)<0)){this.seriesModel=t,this.api=r,this.ecModel=n;var l=ap(a,["treemapZoomToNode","treemapRootToNode"],t),c=a&&a.type,u=t.layoutInfo,h=!this._oldTree,f=this._storage,p="treemapRootToNode"===c&&l&&f?{rootNodeGroup:f.nodeGroup[l.node.getRawIndex()],direction:a.direction}:null,m=this._giveContainerGroup(u),b=t.get("animation"),_=this._doRender(m,t,p);!b||h||c&&"treemapZoomToNode"!==c&&"treemapRootToNode"!==c?_.renderFinally():this._doAnimation(m,_,t,p),this._resetController(r),this._renderBreadcrumb(t,r,l)}},i.prototype._giveContainerGroup=function(t){var n=this._containerGroup;return n||(n=this._containerGroup=new Ux,this._initEvents(n),this.group.add(n)),n.x=t.x,n.y=t.y,n},i.prototype._doRender=function(t,n,r){var a=n.getData().tree,o=this._oldTree,s={nodeGroup:[],background:[],content:[]},l={nodeGroup:[],background:[],content:[]},c=this._storage,u=[];function h(T,A,P,F){return function d9(e,i,t,n,r,a,o,s,l,c){if(o){var u=o.getLayout(),h=e.getData(),f=o.getModel();if(h.setItemGraphicEl(o.dataIndex,null),u&&u.isInView){var p=u.width,m=u.height,b=u.borderWidth,_=u.invisible,w=o.getRawIndex(),T=s&&s.getRawIndex(),A=o.viewChildren,P=u.upperHeight,F=A&&A.length,O=f.getModel("itemStyle"),V=f.getModel(["emphasis","itemStyle"]),N=f.getModel(["blur","itemStyle"]),G=f.getModel(["select","itemStyle"]),H=O.get("borderRadius")||0,X=Ft("nodeGroup",Ux);if(X){if(l.add(X),X.x=u.x||0,X.y=u.y||0,X.markRedraw(),$v(X).nodeWidth=p,$v(X).nodeHeight=m,u.isAboveViewRoot)return X;var q=Ft("background",ED,c,c9);q&&function ut(Ut,Vt,bt){var kt=Jt(Vt);if(kt.dataIndex=o.dataIndex,kt.seriesIndex=e.seriesIndex,Vt.setShape({x:0,y:0,width:p,height:m,r:H}),_)_t(Vt);else{Vt.invisible=!1;var Tt=o.getVisual("style"),gt=Tt.stroke,fe=VD(O);fe.fill=gt;var Ht=bu(V);Ht.fill=V.get("borderColor");var Ne=bu(N);Ne.fill=N.get("borderColor");var Ee=bu(G);Ee.fill=G.get("borderColor"),bt?St(Vt,gt,Tt.opacity,{x:b,y:0,width:p-2*b,height:P}):Vt.removeTextContent(),Vt.setStyle(fe),Vt.ensureState("emphasis").style=Ht,Vt.ensureState("blur").style=Ne,Vt.ensureState("select").style=Ee,Gc(Vt)}Ut.add(Vt)}(X,q,F&&u.upperLabelHeight);var j=f.getModel("emphasis"),J=j.get("focus"),tt=j.get("blurScope"),et=j.get("disabled"),lt="ancestor"===J?o.getAncestorsIndices():"descendant"===J?o.getDescendantIndices():J;if(F)sf(X)&&Wc(X,!1),q&&(Wc(q,!et),h.setItemGraphicEl(o.dataIndex,q),v_(q,lt,tt));else{var st=Ft("content",ED,c,u9);st&&function vt(Ut,Vt){var bt=Jt(Vt);bt.dataIndex=o.dataIndex,bt.seriesIndex=e.seriesIndex;var kt=Math.max(p-2*b,0),Tt=Math.max(m-2*b,0);if(Vt.culling=!0,Vt.setShape({x:b,y:b,width:kt,height:Tt,r:H}),_)_t(Vt);else{Vt.invisible=!1;var gt=o.getVisual("style"),fe=gt.fill,Ht=VD(O);Ht.fill=fe,Ht.decal=gt.decal;var Ne=bu(V),Ee=bu(N),Zt=bu(G);St(Vt,fe,gt.opacity,null),Vt.setStyle(Ht),Vt.ensureState("emphasis").style=Ne,Vt.ensureState("blur").style=Ee,Vt.ensureState("select").style=Zt,Gc(Vt)}Ut.add(Vt)}(X,st),q.disableMorphing=!0,q&&sf(q)&&Wc(q,!1),Wc(X,!et),h.setItemGraphicEl(o.dataIndex,X),v_(X,lt,tt)}return X}}}function _t(Ut){!Ut.invisible&&a.push(Ut)}function St(Ut,Vt,bt,kt){var Tt=f.getModel(kt?BD:RD),gt=ji(f.get("name"),null),fe=Tt.getShallow("show");On(Ut,cn(f,kt?BD:RD),{defaultText:fe?gt:null,inheritColor:Vt,defaultOpacity:bt,labelFetcher:e,labelDataIndex:o.dataIndex});var Ht=Ut.getTextContent();if(Ht){var Ne=Ht.style,Ee=Fa(Ne.padding||0);kt&&(Ut.setTextConfig({layoutRect:kt}),Ht.disableLabelLayout=!0),Ht.beforeUpdate=function(){var Ke=Math.max((kt?kt.width:Ut.shape.width)-Ee[1]-Ee[3],0),Ki=Math.max((kt?kt.height:Ut.shape.height)-Ee[0]-Ee[2],0);(Ne.width!==Ke||Ne.height!==Ki)&&Ht.setStyle({width:Ke,height:Ki})},Ne.truncateMinChar=2,Ne.lineOverflow="truncate",Et(Ne,kt,u);var Zt=Ht.getState("emphasis");Et(Zt?Zt.style:null,kt,u)}}function Et(Ut,Vt,bt){var kt=Ut?Ut.text:null;if(!Vt&&bt.isLeafRoot&&null!=kt){var Tt=e.get("drillDownIcon",!0);Ut.text=Tt?Tt+" "+kt:kt}}function Ft(Ut,Vt,bt,kt){var Tt=null!=T&&t[Ut][T],gt=r[Ut];return Tt?(t[Ut][T]=null,function ne(Ut,Vt){var bt=Ut[w]={};Vt instanceof Ux?(bt.oldX=Vt.x,bt.oldY=Vt.y):bt.oldShape=ft({},Vt.shape)}(gt,Tt)):_||((Tt=new Vt)instanceof ma&&(Tt.z2=function f9(e,i){return e*l9+i}(bt,kt)),function le(Ut,Vt){var bt=Ut[w]={},kt=o.parentNode,Tt=Vt instanceof Kt;if(kt&&(!n||"drillDown"===n.direction)){var gt=0,fe=0,Ht=r.background[kt.getRawIndex()];!n&&Ht&&Ht.oldShape&&(gt=Ht.oldShape.width,fe=Ht.oldShape.height),Tt?(bt.oldX=0,bt.oldY=fe):bt.oldShape={x:gt,y:fe,width:0,height:0}}bt.fadein=!Tt}(gt,Tt)),i[Ut][w]=Tt}}(n,l,c,r,s,u,T,A,P,F)}!function b(T,A,P,F,O){function V(G){return G.getId()}function N(G,H){var X=null!=G?T[G]:null,q=null!=H?A[H]:null,j=h(X,q,P,O);j&&b(X&&X.viewChildren||[],q&&q.viewChildren||[],j,F,O+1)}F?(A=T,U(T,function(G,H){!G.isRemoved()&&N(H,H)})):new Rs(A,T,V,V).add(N).update(N).remove(jt(N,null)).execute()}(a.root?[a.root]:[],o&&o.root?[o.root]:[],t,a===o||!o,0);var f=function _(T){var A={nodeGroup:[],background:[],content:[]};return T&&U(T,function(P,F){var O=A[F];U(P,function(V){V&&(O.push(V),$v(V).willDelete=!0)})}),A}(c);if(this._oldTree=a,this._storage=l,this._controllerHost){var p=this.seriesModel.layoutInfo,m=a.root.getLayout();m.width===p.width&&m.height===p.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:f,renderFinally:function w(){U(f,function(T){U(T,function(A){A.parent&&A.parent.remove(A)})}),U(u,function(T){T.invisible=!0,T.dirty()})}}},i.prototype._doAnimation=function(t,n,r,a){var o=r.get("animationDurationUpdate"),s=r.get("animationEasing"),l=(Z(o)?0:o)||0,c=(Z(s)?null:s)||"cubicOut",u=function s9(){return new o9}();U(n.willDeleteEls,function(h,f){U(h,function(p,m){if(!p.invisible){var _,b=p.parent,w=$v(b);if(a&&"drillDown"===a.direction)_=b===a.rootNodeGroup?{shape:{x:0,y:0,width:w.nodeWidth,height:w.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var T=0,A=0;w.willDelete||(T=w.nodeWidth/2,A=w.nodeHeight/2),_="nodeGroup"===f?{x:T,y:A,style:{opacity:0}}:{shape:{x:T,y:A,width:0,height:0},style:{opacity:0}}}_&&u.add(p,_,l,0,c)}})}),U(this._storage,function(h,f){U(h,function(p,m){var b=n.lastsForAnimation[f][m],_={};b&&(p instanceof Kt?null!=b.oldX&&(_.x=p.x,_.y=p.y,p.x=b.oldX,p.y=b.oldY):(b.oldShape&&(_.shape=ft({},p.shape),p.setShape(b.oldShape)),b.fadein?(p.setStyle("opacity",0),_.style={opacity:1}):1!==p.style.opacity&&(_.style={opacity:1})),u.add(p,_,l,0,c))})},this),this._state="animating",u.finished(Dt(function(){this._state="ready",n.renderFinally()},this)).start()},i.prototype._resetController=function(t){var n=this._controller,r=this._controllerHost;r||(this._controllerHost={target:this.group},r=this._controllerHost),n||((n=this._controller=new ep(t.getZr())).enable(this.seriesModel.get("roam")),r.zoomLimit=this.seriesModel.get("scaleLimit"),r.zoom=this.seriesModel.get("zoom"),n.on("pan",Dt(this._onPan,this)),n.on("zoom",Dt(this._onZoom,this)));var a=new $t(0,0,t.getWidth(),t.getHeight());n.setPointerChecker(function(o,s,l){return a.contain(s,l)})},i.prototype._clearController=function(){var t=this._controller;this._controllerHost=null,t&&(t.dispose(),t=null)},i.prototype._onPan=function(t){if("animating"!==this._state&&(Math.abs(t.dx)>3||Math.abs(t.dy)>3)){var n=this.seriesModel.getData().tree.root;if(!n)return;var r=n.getLayout();if(!r)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+t.dx,y:r.y+t.dy,width:r.width,height:r.height}})}},i.prototype._onZoom=function(t){var n=t.originX,r=t.originY,a=t.scale;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;var c,l=new $t(s.x,s.y,s.width,s.height),u=this._controllerHost;c=u.zoomLimit;var h=u.zoom=u.zoom||1;if(h*=a,c){var f=c.min||0;h=Math.max(Math.min(c.max||1/0,h),f)}var m=h/u.zoom;u.zoom=h;var b=this.seriesModel.layoutInfo,_=[1,0,0,1,0,0];mr(_,_,[-(n-=b.x),-(r-=b.y)]),Ze(_,_,[m,m]),mr(_,_,[n,r]),l.applyTransform(_),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:l.x,y:l.y,width:l.width,height:l.height}})}},i.prototype._initEvents=function(t){var n=this;t.on("click",function(r){if("ready"===n._state){var a=n.seriesModel.get("nodeClick",!0);if(a){var o=n.findTarget(r.offsetX,r.offsetY);if(o){var s=o.node;if(s.getLayout().isLeafRoot)n._rootToNode(o);else if("zoomToNode"===a)n._zoomToNode(o);else if("link"===a){var l=s.hostTree.data.getItemModel(s.dataIndex),c=l.get("link",!0),u=l.get("target",!0)||"blank";c&&kg(c,u)}}}}},this)},i.prototype._renderBreadcrumb=function(t,n,r){var a=this;r||(r=null!=t.get("leafDepth",!0)?{node:t.getViewRoot()}:this.findTarget(n.getWidth()/2,n.getHeight()/2))||(r={node:t.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new a9(this.group))).render(t,n,r.node,function(o){"animating"!==a._state&&(Yx(t.getViewRoot(),o)?a._rootToNode({node:o}):a._zoomToNode({node:o}))})},i.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},i.prototype.dispose=function(){this._clearController()},i.prototype._zoomToNode=function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},i.prototype._rootToNode=function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},i.prototype.findTarget=function(t,n){var r;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(o){var s=this._storage.background[o.getRawIndex()];if(s){var l=s.transformCoordToLocal(t,n),c=s.shape;if(!(c.x<=l[0]&&l[0]<=c.x+c.width&&c.y<=l[1]&&l[1]<=c.y+c.height))return!1;r={node:o,offsetX:l[0],offsetY:l[1]}}},this),r},i.type="treemap",i}(oi);const p9=h9;var lp=U,g9=Bt,jv=-1,Zx=function(){function e(i){var t=i.mappingMethod,n=i.type,r=this.option=Gt(i);this.type=n,this.mappingMethod=t,this._normalizeData=y9[t];var a=e.visualHandlers[n];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[t],"piecewise"===t?($x(r),function v9(e){var i=e.pieceList;e.hasSpecialVisual=!1,U(i,function(t,n){t.originIndex=n,null!=t.visual&&(e.hasSpecialVisual=!0)})}(r)):"category"===t?r.categories?function m9(e){var i=e.categories,t=e.categoryMap={},n=e.visual;if(lp(i,function(o,s){t[o]=s}),!yt(n)){var r=[];Bt(n)?lp(n,function(o,s){r[t[s]??jv]=o}):r[jv]=n,n=ND(e,r)}for(var a=i.length-1;a>=0;a--)null==n[a]&&(delete t[i[a]],i.pop())}(r):$x(r,!0):(ti("linear"!==t||r.dataExtent),$x(r))}return e.prototype.mapValueToVisual=function(i){var t=this._normalizeData(i);return this._normalizedToVisual(t,i)},e.prototype.getNormalizer=function(){return Dt(this._normalizeData,this)},e.listVisualTypes=function(){return he(e.visualHandlers)},e.isValidType=function(i){return e.visualHandlers.hasOwnProperty(i)},e.eachVisual=function(i,t,n){Bt(i)?U(i,t,n):t.call(n,i)},e.mapVisual=function(i,t,n){var r,a=yt(i)?[]:Bt(i)?{}:(r=!0,null);return e.eachVisual(i,function(o,s){var l=t.call(n,o,s);r?a=l:a[s]=l}),a},e.retrieveVisuals=function(i){var n,t={};return i&&lp(e.visualHandlers,function(r,a){i.hasOwnProperty(a)&&(t[a]=i[a],n=!0)}),n?t:null},e.prepareVisualTypes=function(i){if(yt(i))i=i.slice();else{if(!g9(i))return[];var t=[];lp(i,function(n,r){t.push(r)}),i=t}return i.sort(function(n,r){return"color"===r&&"color"!==n&&0===n.indexOf("color")?1:-1}),i},e.dependsOn=function(i,t){return"color"===t?!(!i||0!==i.indexOf(t)):i===t},e.findPieceIndex=function(i,t,n){for(var r,a=1/0,o=0,s=t.length;o<s;o++){var l=t[o].value;if(null!=l){if(l===i||Lt(l)&&l===i+"")return o;n&&f(l,o)}}for(o=0,s=t.length;o<s;o++){var c=t[o],u=c.interval,h=c.close;if(u){if(u[0]===-1/0){if(Kv(h[1],i,u[1]))return o}else if(u[1]===1/0){if(Kv(h[0],u[0],i))return o}else if(Kv(h[0],u[0],i)&&Kv(h[1],i,u[1]))return o;n&&f(u[0],o),n&&f(u[1],o)}}if(n)return i===1/0?t.length-1:i===-1/0?0:r;function f(p,m){var b=Math.abs(p-i);b<a&&(a=b,r=m)}},e.visualHandlers={color:{applyVisual:cp("color"),getColorMapper:function(){var i=this.option;return Dt("category"===i.mappingMethod?function(t,n){return!n&&(t=this._normalizeData(t)),up.call(this,t)}:function(t,n,r){var a=!!r;return!n&&(t=this._normalizeData(t)),r=zd(t,i.parsedVisual,r),a?r:wr(r,"rgba")},this)},_normalizedToVisual:{linear:function(i){return wr(zd(i,this.option.parsedVisual),"rgba")},category:up,piecewise:function(i,t){var n=qx.call(this,t);return null==n&&(n=wr(zd(i,this.option.parsedVisual),"rgba")),n},fixed:Cu}},colorHue:qv(function(i,t){return xc(i,t)}),colorSaturation:qv(function(i,t){return xc(i,null,t)}),colorLightness:qv(function(i,t){return xc(i,null,null,t)}),colorAlpha:qv(function(i,t){return to(i,t)}),decal:{applyVisual:cp("decal"),_normalizedToVisual:{linear:null,category:up,piecewise:null,fixed:null}},opacity:{applyVisual:cp("opacity"),_normalizedToVisual:jx([0,1])},liftZ:{applyVisual:cp("liftZ"),_normalizedToVisual:{linear:Cu,category:Cu,piecewise:Cu,fixed:Cu}},symbol:{applyVisual:function(i,t,n){n("symbol",this.mapValueToVisual(i))},_normalizedToVisual:{linear:zD,category:up,piecewise:function(i,t){var n=qx.call(this,t);return null==n&&(n=zD.call(this,i)),n},fixed:Cu}},symbolSize:{applyVisual:cp("symbolSize"),_normalizedToVisual:jx([0,1])}},e}();function $x(e,i){var t=e.visual,n=[];Bt(t)?lp(t,function(a){n.push(a)}):null!=t&&n.push(t),!i&&1===n.length&&!{color:1,symbol:1}.hasOwnProperty(e.type)&&(n[1]=n[0]),ND(e,n)}function qv(e){return{applyVisual:function(i,t,n){var r=this.mapValueToVisual(i);n("color",e(t("color"),r))},_normalizedToVisual:jx([0,1])}}function zD(e){var i=this.option.visual;return i[Math.round(Xe(e,[0,1],[0,i.length-1],!0))]||{}}function cp(e){return function(i,t,n){n(e,this.mapValueToVisual(i))}}function up(e){var i=this.option.visual;return i[this.option.loop&&e!==jv?e%i.length:e]}function Cu(){return this.option.visual[0]}function jx(e){return{linear:function(i){return Xe(i,e,this.option.visual,!0)},category:up,piecewise:function(i,t){var n=qx.call(this,t);return null==n&&(n=Xe(i,e,this.option.visual,!0)),n},fixed:Cu}}function qx(e){var i=this.option,t=i.pieceList;if(i.hasSpecialVisual){var r=t[Zx.findPieceIndex(e,t)];if(r&&r.visual)return r.visual[this.type]}}function ND(e,i){return e.visual=i,"color"===e.type&&(e.parsedVisual=mt(i,function(t){return Dn(t)||[0,0,0,1]})),i}var y9={linear:function(e){return Xe(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var i=this.option.pieceList,t=Zx.findPieceIndex(e,i,!0);if(null!=t)return Xe(t,[0,i.length-1],[0,1],!0)},category:function(e){return(this.option.categories?this.option.categoryMap[e]:e)??jv},fixed:Je};function Kv(e,i,t){return e?i<=t:i<t}const Fn=Zx;var _9="itemStyle",GD=Le();const x9={seriesType:"treemap",reset:function(e){var t=e.getData().tree.root;t.isRemoved()||HD(t,{},e.getViewRoot().getAncestors(),e)}};function HD(e,i,t,n){var r=e.getModel(),a=e.getLayout(),o=e.hostTree.data;if(a&&!a.invisible&&a.isInView){var f,s=r.getModel(_9),l=function b9(e,i,t){var n=ft({},i),r=t.designatedVisualItemStyle;return U(["color","colorAlpha","colorSaturation"],function(a){r[a]=i[a];var o=e.get(a);r[a]=null,null!=o&&(n[a]=o)}),n}(s,i,n),c=o.ensureUniqueItemVisual(e.dataIndex,"style"),u=s.get("borderColor"),h=s.get("borderColorSaturation");null!=h&&(u=function C9(e,i){return null!=i?xc(i,null,null,e):null}(h,f=WD(l))),c.stroke=u;var p=e.viewChildren;if(p&&p.length){var m=function S9(e,i,t,n,r,a){if(a&&a.length){var o=Qx(i,"color")||null!=r.color&&"none"!==r.color&&(Qx(i,"colorAlpha")||Qx(i,"colorSaturation"));if(o){var s=i.get("visualMin"),l=i.get("visualMax"),c=t.dataExtent.slice();null!=s&&s<c[0]&&(c[0]=s),null!=l&&l>c[1]&&(c[1]=l);var u=i.get("colorMappingBy"),h={type:o.name,dataExtent:c,visual:o.range};"color"!==h.type||"index"!==u&&"id"!==u?h.mappingMethod="linear":(h.mappingMethod="category",h.loop=!0);var f=new Fn(h);return GD(f).drColorMappingBy=u,f}}}(0,r,a,0,l,p);U(p,function(b,_){if(b.depth>=t.length||b===t[b.depth]){var w=function w9(e,i,t,n,r,a){var o=ft({},i);if(r){var s=r.type,l="color"===s&&GD(r).drColorMappingBy,c="index"===l?n:"id"===l?a.mapIdToIndex(t.getId()):t.getValue(e.get("visualDimension"));o[s]=r.mapValueToVisual(c)}return o}(r,l,b,_,m,n);HD(b,w,t,n)}})}else f=WD(l),c.fill=f}}function WD(e){var i=Kx(e,"color");if(i){var t=Kx(e,"colorAlpha"),n=Kx(e,"colorSaturation");return n&&(i=xc(i,null,null,n)),t&&(i=to(i,t)),i}}function Kx(e,i){var t=e[i];if(null!=t&&"none"!==t)return t}function Qx(e,i){var t=e.get(i);return yt(t)&&t.length?{name:i,range:t}:null}var hp=Math.max,Qv=Math.min,YD=hi,Jx=U,XD=["itemStyle","borderWidth"],T9=["itemStyle","gapWidth"],M9=["upperLabel","show"],A9=["upperLabel","height"];const L9={seriesType:"treemap",reset:function(e,i,t,n){var r=t.getWidth(),a=t.getHeight(),o=e.option,s=qi(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),l=o.size||[],c=At(YD(s.width,l[0]),r),u=At(YD(s.height,l[1]),a),h=n&&n.type,p=ap(n,["treemapZoomToNode","treemapRootToNode"],e),m="treemapRender"===h||"treemapMove"===h?n.rootRect:null,b=e.getViewRoot(),_=kD(b);if("treemapMove"!==h){var w="treemapZoomToNode"===h?function E9(e,i,t,n,r){var a=(i||{}).node,o=[n,r];if(!a||a===t)return o;for(var s,l=n*r,c=l*e.option.zoomToNodeRatio;s=a.parentNode;){for(var u=0,h=s.children,f=0,p=h.length;f<p;f++)u+=h[f].getValue();var m=a.getValue();if(0===m)return o;c*=u/m;var b=s.getModel(),_=b.get(XD);(c+=4*_*_+(3*_+Math.max(_,jD(b)))*Math.pow(c,.5))>TS&&(c=TS),a=s}c<l&&(c=l);var T=Math.pow(c/l,.5);return[n*T,r*T]}(e,p,b,c,u):m?[m.width,m.height]:[c,u],T=o.sort;T&&"asc"!==T&&"desc"!==T&&(T="desc");var A={squareRatio:o.squareRatio,sort:T,leafDepth:o.leafDepth};b.hostTree.clearLayouts();var P={x:0,y:0,width:w[0],height:w[1],area:w[0]*w[1]};b.setLayout(P),UD(b,A,!1,0),P=b.getLayout(),Jx(_,function(O,V){var N=(_[V+1]||b).getValue();O.setLayout(ft({dataExtent:[N,N],borderWidth:0,upperHeight:0},P))})}var F=e.getData().tree.root;F.setLayout(function F9(e,i,t){if(i)return{x:i.x,y:i.y};var n={x:0,y:0};if(!t)return n;var r=t.node,a=r.getLayout();if(!a)return n;for(var o=[a.width/2,a.height/2],s=r;s;){var l=s.getLayout();o[0]+=l.x,o[1]+=l.y,s=s.parentNode}return{x:e.width/2-o[0],y:e.height/2-o[1]}}(s,m,p),!0),e.setLayoutInfo(s),$D(F,new $t(-s.x,-s.y,r,a),_,b,0)}};function UD(e,i,t,n){var r,a;if(!e.isRemoved()){var o=e.getLayout();r=o.width,a=o.height;var s=e.getModel(),l=s.get(XD),c=s.get(T9)/2,u=jD(s),h=Math.max(l,u),f=l-c,p=h-c;e.setLayout({borderWidth:l,upperHeight:h,upperLabelHeight:u},!0);var m=(r=hp(r-2*f,0))*(a=hp(a-f-p,0)),b=function k9(e,i,t,n,r,a){var o=e.children||[],s=n.sort;"asc"!==s&&"desc"!==s&&(s=null);var l=null!=n.leafDepth&&n.leafDepth<=a;if(r&&!l)return e.viewChildren=[];o=ve(o,function(p){return!p.isRemoved()}),function P9(e,i){i&&e.sort(function(t,n){var r="asc"===i?t.getValue()-n.getValue():n.getValue()-t.getValue();return 0===r?"asc"===i?t.dataIndex-n.dataIndex:n.dataIndex-t.dataIndex:r})}(o,s);var c=function I9(e,i,t){for(var n=0,r=0,a=i.length;r<a;r++)n+=i[r].getValue();var s,o=e.get("visualDimension");return i&&i.length?"value"===o&&t?(s=[i[i.length-1].getValue(),i[0].getValue()],"asc"===t&&s.reverse()):(s=[1/0,-1/0],Jx(i,function(l){var c=l.getValue(o);c<s[0]&&(s[0]=c),c>s[1]&&(s[1]=c)})):s=[NaN,NaN],{sum:n,dataExtent:s}}(i,o,s);if(0===c.sum)return e.viewChildren=[];if(c.sum=function D9(e,i,t,n,r){if(!n)return t;for(var a=e.get("visibleMin"),o=r.length,s=o,l=o-1;l>=0;l--){var c=r["asc"===n?o-l-1:l].getValue();c/t*i<a&&(s=l,t-=c)}return r.splice("asc"===n?0:s,o-s),t}(i,t,c.sum,s,o),0===c.sum)return e.viewChildren=[];for(var u=0,h=o.length;u<h;u++){var f=o[u].getValue()/c.sum*t;o[u].setLayout({area:f})}return l&&(o.length&&e.setLayout({isLeafRoot:!0},!0),o.length=0),e.viewChildren=o,e.setLayout({dataExtent:c.dataExtent},!0),o}(e,s,m,i,t,n);if(b.length){var _={x:f,y:p,width:r,height:a},w=Qv(r,a),T=1/0,A=[];A.area=0;for(var P=0,F=b.length;P<F;){var O=b[P];A.push(O),A.area+=O.getLayout().area;var V=O9(A,w,i.squareRatio);V<=T?(P++,T=V):(A.area-=A.pop().getLayout().area,ZD(A,w,_,c,!1),w=Qv(_.width,_.height),A.length=A.area=0,T=1/0)}if(A.length&&ZD(A,w,_,c,!0),!t){var N=s.get("childrenVisibleMin");null!=N&&m<N&&(t=!0)}for(P=0,F=b.length;P<F;P++)UD(b[P],i,t,n+1)}}}function O9(e,i,t){for(var n=0,r=1/0,a=0,o=void 0,s=e.length;a<s;a++)(o=e[a].getLayout().area)&&(o<r&&(r=o),o>n&&(n=o));var l=e.area*e.area,c=i*i*t;return l?hp(c*n/l,l/(c*r)):1/0}function ZD(e,i,t,n,r){var a=i===t.width?0:1,o=1-a,s=["x","y"],l=["width","height"],c=t[s[a]],u=i?e.area/i:0;(r||u>t[l[o]])&&(u=t[l[o]]);for(var h=0,f=e.length;h<f;h++){var p=e[h],m={},b=u?p.getLayout().area/u:0,_=m[l[o]]=hp(u-2*n,0),w=t[s[a]]+t[l[a]]-c,T=h===f-1||w<b?w:b,A=m[l[a]]=hp(T-2*n,0);m[s[o]]=t[s[o]]+Qv(n,_/2),m[s[a]]=c+Qv(n,A/2),c+=T,p.setLayout(m,!0)}t[s[o]]+=u,t[l[o]]-=u}function $D(e,i,t,n,r){var a=e.getLayout(),o=t[r],s=o&&o===e;if(!(o&&!s||r===t.length&&e!==n)){e.setLayout({isInView:!0,invisible:!s&&!i.intersect(a),isAboveViewRoot:s},!0);var l=new $t(i.x-a.x,i.y-a.y,i.width,i.height);Jx(e.viewChildren||[],function(c){$D(c,l,t,n,r+1)})}}function jD(e){return e.get(M9)?e.get(A9):0}function B9(e){var i=e.findComponents({mainType:"legend"});!i||!i.length||e.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),a=t.getGraph().data,o=n.mapArray(n.getName);a.filterSelf(function(s){var c=a.getItemModel(s).getShallow("category");if(null!=c){_e(c)&&(c=o[c]);for(var u=0;u<i.length;u++)if(!i[u].isSelected(c))return!1}return!0})})}function V9(e){var i={};e.eachSeriesByType("graph",function(t){var n=t.getCategoriesData(),r=t.getData(),a={};n.each(function(o){var s=n.getName(o);a["ec-"+s]=o;var l=n.getItemModel(o),c=l.getModel("itemStyle").getItemStyle();c.fill||(c.fill=t.getColorFromPalette(s,i)),n.setItemVisual(o,"style",c);for(var u=["symbol","symbolSize","symbolKeepAspect"],h=0;h<u.length;h++){var f=l.getShallow(u[h],!0);null!=f&&n.setItemVisual(o,u[h],f)}}),n.count()&&r.each(function(o){var l=r.getItemModel(o).getShallow("category");if(null!=l){Lt(l)&&(l=a["ec-"+l]);var c=n.getItemVisual(l,"style");ft(r.ensureUniqueItemVisual(o,"style"),c);for(var h=["symbol","symbolSize","symbolKeepAspect"],f=0;f<h.length;f++)r.setItemVisual(o,h[f],n.getItemVisual(l,h[f]))}})})}function Jv(e){return e instanceof Array||(e=[e,e]),e}function z9(e){e.eachSeriesByType("graph",function(i){var t=i.getGraph(),n=i.getEdgeData(),r=Jv(i.get("edgeSymbol")),a=Jv(i.get("edgeSymbolSize"));n.setVisual("fromSymbol",r&&r[0]),n.setVisual("toSymbol",r&&r[1]),n.setVisual("fromSymbolSize",a&&a[0]),n.setVisual("toSymbolSize",a&&a[1]),n.setVisual("style",i.getModel("lineStyle").getLineStyle()),n.each(function(o){var s=n.getItemModel(o),l=t.getEdgeByIndex(o),c=Jv(s.getShallow("symbol",!0)),u=Jv(s.getShallow("symbolSize",!0)),h=s.getModel("lineStyle").getLineStyle(),f=n.ensureUniqueItemVisual(o,"style");switch(ft(f,h),f.stroke){case"source":var p=l.node1.getVisual("style");f.stroke=p&&p.fill;break;case"target":p=l.node2.getVisual("style"),f.stroke=p&&p.fill}c[0]&&l.setVisual("fromSymbol",c[0]),c[1]&&l.setVisual("toSymbol",c[1]),u[0]&&l.setVisual("fromSymbolSize",u[0]),u[1]&&l.setVisual("toSymbolSize",u[1])})})}var tm=function(e){return e.get("autoCurveness")||null},qD=function(e,i){var t=tm(e),n=20,r=[];if(_e(t))n=t;else if(yt(t))return void(e.__curvenessList=t);i>n&&(n=i);var a=n%2?n+2:n+3;r=[];for(var o=0;o<a;o++)r.push((o%2?o+1:o)/10*(o%2?-1:1));e.__curvenessList=r},dp=function(e,i,t){var n=[e.id,e.dataIndex].join("."),r=[i.id,i.dataIndex].join(".");return[t.uid,n,r].join("--\x3e")},KD=function(e){var i=e.split("--\x3e");return[i[0],i[2],i[1]].join("--\x3e")},N9=function(e,i){var t=dp(e.node1,e.node2,i);return i.__edgeMap[t]},G9=function(e,i){return e1(dp(e.node1,e.node2,i),i)+e1(dp(e.node2,e.node1,i),i)},e1=function(e,i){var t=i.__edgeMap;return t[e]?t[e].length:0};function i1(e,i,t,n){var r=tm(i),a=yt(r);if(!r)return null;var o=N9(e,i);if(!o)return null;for(var s=-1,l=0;l<o.length;l++)if(o[l]===t){s=l;break}var c=G9(e,i);qD(i,c),e.lineStyle=e.lineStyle||{};var u=dp(e.node1,e.node2,i),h=i.__curvenessList,f=a||c%2?0:1;if(o.isForward)return h[f+s];var p=KD(u),m=e1(p,i),b=h[s+m+f];return n?a?r&&0===r[0]?(m+f)%2?b:-b:((m%2?0:1)+f)%2?b:-b:(m+f)%2?b:-b:h[s+m+f]}function QD(e){var i=e.coordinateSystem;if(!i||"view"===i.type){var t=e.getGraph();t.eachNode(function(n){var r=n.getModel();n.setLayout([+r.get("x"),+r.get("y")])}),n1(t,e)}}function n1(e,i){e.eachEdge(function(t,n){var r=gr(t.getModel().get(["lineStyle","curveness"]),-i1(t,i,n,!0),0),a=Bn(t.node1.getLayout()),o=Bn(t.node2.getLayout()),s=[a,o];+r&&s.push([(a[0]+o[0])/2-(a[1]-o[1])*r,(a[1]+o[1])/2-(o[0]-a[0])*r]),t.setLayout(s)})}function Y9(e,i){e.eachSeriesByType("graph",function(t){var n=t.get("layout"),r=t.coordinateSystem;if(r&&"view"!==r.type){var a=t.getData(),o=[];U(r.dimensions,function(f){o=o.concat(a.mapDimensionsAll(f))});for(var s=0;s<a.count();s++){for(var l=[],c=!1,u=0;u<o.length;u++){var h=a.get(o[u],s);isNaN(h)||(c=!0),l.push(h)}a.setItemLayout(s,c?r.dataToPoint(l):[NaN,NaN])}n1(a.graph,t)}else(!n||"none"===n)&&QD(t)})}function fp(e){var i=e.coordinateSystem;if("view"!==i.type)return 1;var t=e.option.nodeScaleRatio,n=i.scaleX;return((i.getZoom()-1)*t+1)/n}function pp(e){var i=e.getVisual("symbolSize");return i instanceof Array&&(i=(i[0]+i[1])/2),+i}var JD=Math.PI,r1=[];function a1(e,i,t,n){var r=e.coordinateSystem;if(!r||"view"===r.type){var a=r.getBoundingRect(),o=e.getData(),s=o.graph,l=a.width/2+a.x,c=a.height/2+a.y,u=Math.min(a.width,a.height)/2,h=o.count();if(o.setLayout({cx:l,cy:c}),h){if(t){var f=r.pointToData(n),b=[f[0]-l,f[1]-c];rn(b,b),Va(b,b,u),t.setLayout([l+b[0],c+b[1]],!0),tP(t,e.get(["circular","rotateLabel"]),l,c)}X9[i](e,s,o,u,l,c,h),s.eachEdge(function(w,T){var O,A=gr(w.getModel().get(["lineStyle","curveness"]),i1(w,e,T),0),P=Bn(w.node1.getLayout()),F=Bn(w.node2.getLayout());+A&&(O=[l*(A*=3)+(P[0]+F[0])/2*(1-A),c*A+(P[1]+F[1])/2*(1-A)]),w.setLayout([P,F,O])})}}}var X9={value:function(e,i,t,n,r,a,o){var s=0,l=t.getSum("value"),c=2*Math.PI/(l||o);i.eachNode(function(u){var h=u.getValue("value"),f=c*(l?h:1)/2;s+=f,u.setLayout([n*Math.cos(s)+r,n*Math.sin(s)+a]),s+=f})},symbolSize:function(e,i,t,n,r,a,o){var s=0;r1.length=o;var l=fp(e);i.eachNode(function(h){var f=pp(h);isNaN(f)&&(f=2),f<0&&(f=0),f*=l;var p=Math.asin(f/2/n);isNaN(p)&&(p=JD/2),r1[h.dataIndex]=p,s+=2*p});var c=(2*JD-s)/o/2,u=0;i.eachNode(function(h){var f=c+r1[h.dataIndex];u+=f,(!h.getLayout()||!h.getLayout().fixed)&&h.setLayout([n*Math.cos(u)+r,n*Math.sin(u)+a]),u+=f})}};function tP(e,i,t,n){var r=e.getGraphicEl();if(r){var o=e.getModel().get(["label","rotate"])||0,s=r.getSymbolPath();if(i){var l=e.getLayout(),c=Math.atan2(l[1]-n,l[0]-t);c<0&&(c=2*Math.PI+c);var u=l[0]<t;u&&(c-=Math.PI);var h=u?"left":"right";s.setTextConfig({rotation:-c,position:h,origin:"center"});var f=s.ensureState("emphasis");ft(f.textConfig||(f.textConfig={}),{position:h})}else s.setTextConfig({rotation:o*=Math.PI/180})}}function U9(e){e.eachSeriesByType("graph",function(i){"circular"===i.get("layout")&&a1(i,"symbolSize")})}var ed=Gr;function $9(e){e.eachSeriesByType("graph",function(i){var t=i.coordinateSystem;if(!t||"view"===t.type)if("force"===i.get("layout")){var n=i.preservedPoints||{},r=i.getGraph(),a=r.data,o=r.edgeData,s=i.getModel("force"),l=s.get("initLayout");i.preservedPoints?a.each(function(A){var P=a.getId(A);a.setItemLayout(A,n[P]||[NaN,NaN])}):l&&"none"!==l?"circular"===l&&a1(i,"value"):QD(i);var c=a.getDataExtent("value"),u=o.getDataExtent("value"),h=s.get("repulsion"),f=s.get("edgeLength"),p=yt(h)?h:[h,h],m=yt(f)?f:[f,f];m=[m[1],m[0]];var b=a.mapArray("value",function(A,P){var F=a.getItemLayout(P),O=Xe(A,c,p);return isNaN(O)&&(O=(p[0]+p[1])/2),{w:O,rep:O,fixed:a.getItemModel(P).get("fixed"),p:!F||isNaN(F[0])||isNaN(F[1])?null:F}}),_=o.mapArray("value",function(A,P){var F=r.getEdgeByIndex(P),O=Xe(A,u,m);isNaN(O)&&(O=(m[0]+m[1])/2);var V=F.getModel(),N=gr(F.getModel().get(["lineStyle","curveness"]),-i1(F,i,P,!0),0);return{n1:b[F.node1.dataIndex],n2:b[F.node2.dataIndex],d:O,curveness:N,ignoreForceLayout:V.get("ignoreForceLayout")}}),w=t.getBoundingRect(),T=function Z9(e,i,t){for(var n=e,r=i,a=t.rect,o=a.width,s=a.height,l=[a.x+o/2,a.y+s/2],c=null==t.gravity?.1:t.gravity,u=0;u<n.length;u++){var h=n[u];h.p||(h.p=Oi(o*(Math.random()-.5)+l[0],s*(Math.random()-.5)+l[1])),h.pp=Bn(h.p),h.edges=null}var m,b,f=null==t.friction?.6:t.friction,p=f;return{warmUp:function(){p=.8*f},setFixed:function(_){n[_].fixed=!0},setUnfixed:function(_){n[_].fixed=!1},beforeStep:function(_){m=_},afterStep:function(_){b=_},step:function(_){m&&m(n,r);for(var w=[],T=n.length,A=0;A<r.length;A++){var P=r[A];if(!P.ignoreForceLayout){Kn(w,(O=P.n2).p,(F=P.n1).p);var V=ua(w)-P.d,N=O.w/(F.w+O.w);isNaN(N)&&(N=0),rn(w,w),!F.fixed&&ed(F.p,F.p,w,N*V*p),!O.fixed&&ed(O.p,O.p,w,-(1-N)*V*p)}}for(A=0;A<T;A++)(G=n[A]).fixed||(Kn(w,l,G.p),ed(G.p,G.p,w,c*p));for(A=0;A<T;A++)for(var F=n[A],H=A+1;H<T;H++){var O;Kn(w,(O=n[H]).p,F.p),0===(V=ua(w))&&(Nr(w,Math.random()-.5,Math.random()-.5),V=1);var X=(F.rep+O.rep)/V/V;!F.fixed&&ed(F.pp,F.pp,w,X),!O.fixed&&ed(O.pp,O.pp,w,-X)}var q=[];for(A=0;A<T;A++){var G;(G=n[A]).fixed||(Kn(q,G.p,G.pp),ed(G.p,G.p,q,p),fi(G.pp,G.p))}var j=(p*=.992)<.01;b&&b(n,r,j),_&&_(j)}}}(b,_,{rect:w,gravity:s.get("gravity"),friction:s.get("friction")});T.beforeStep(function(A,P){for(var F=0,O=A.length;F<O;F++)A[F].fixed&&fi(A[F].p,r.getNodeByIndex(F).getLayout())}),T.afterStep(function(A,P,F){for(var O=0,V=A.length;O<V;O++)A[O].fixed||r.getNodeByIndex(O).setLayout(A[O].p),n[a.getId(O)]=A[O].p;for(O=0,V=P.length;O<V;O++){var N=P[O],G=r.getEdgeByIndex(O),H=N.n1.p,X=N.n2.p,q=G.getLayout();(q=q?q.slice():[])[0]=q[0]||[],q[1]=q[1]||[],fi(q[0],H),fi(q[1],X),+N.curveness&&(q[2]=[(H[0]+X[0])/2-(H[1]-X[1])*N.curveness,(H[1]+X[1])/2-(X[0]-H[0])*N.curveness]),G.setLayout(q)}}),i.forceLayout=T,i.preservedPoints=n,T.step()}else i.forceLayout=null})}function q9(e,i){var t=[];return e.eachSeriesByType("graph",function(n){var r=n.get("coordinateSystem");if(!r||"view"===r){var a=n.getData(),s=[],l=[];dg(a.mapArray(function(_){var w=a.getItemModel(_);return[+w.get("x"),+w.get("y")]}),s,l),l[0]-s[0]==0&&(l[0]+=1,s[0]-=1),l[1]-s[1]==0&&(l[1]+=1,s[1]-=1);var c=(l[0]-s[0])/(l[1]-s[1]),u=function j9(e,i,t){return qi(ft(e.getBoxLayoutParams(),{aspect:t}),{width:i.getWidth(),height:i.getHeight()})}(n,i,c);isNaN(c)&&(s=[u.x,u.y],l=[u.x+u.width,u.y+u.height]);var h=l[0]-s[0],f=l[1]-s[1],p=u.width,m=u.height,b=n.coordinateSystem=new np;b.zoomLimit=n.get("scaleLimit"),b.setBoundingRect(s[0],s[1],h,f),b.setViewRect(u.x,u.y,p,m),b.setCenter(n.get("center"),i),b.setZoom(n.get("zoom")),t.push(b)}}),t}var eP=yn.prototype,o1=Yg.prototype,iP=function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function s1(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}!function(e){ot(function i(){return null!==e&&e.apply(this,arguments)||this},e)}(iP);var K9=function(e){function i(t){var n=e.call(this,t)||this;return n.type="ec-line",n}return ot(i,e),i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new iP},i.prototype.buildPath=function(t,n){s1(n)?eP.buildPath.call(this,t,n):o1.buildPath.call(this,t,n)},i.prototype.pointAt=function(t){return s1(this.shape)?eP.pointAt.call(this,t):o1.pointAt.call(this,t)},i.prototype.tangentAt=function(t){var n=this.shape,r=s1(n)?[n.x2-n.x1,n.y2-n.y1]:o1.tangentAt.call(this,t);return rn(r,r)},i}(ge);const Q9=K9;var l1=["fromSymbol","toSymbol"];function nP(e){return"_"+e+"Type"}function rP(e,i,t){var n=i.getItemVisual(t,e);if(!n||"none"===n)return n;var r=i.getItemVisual(t,e+"Size"),a=i.getItemVisual(t,e+"Rotate"),o=i.getItemVisual(t,e+"Offset"),s=i.getItemVisual(t,e+"KeepAspect"),l=Hh(r);return n+l+iu(o||0,l)+(a||"")+(s||"")}function aP(e,i,t){var n=i.getItemVisual(t,e);if(n&&"none"!==n){var r=i.getItemVisual(t,e+"Size"),a=i.getItemVisual(t,e+"Rotate"),o=i.getItemVisual(t,e+"Offset"),s=i.getItemVisual(t,e+"KeepAspect"),l=Hh(r),c=iu(o||0,l),u=Gi(n,-l[0]/2+c[0],-l[1]/2+c[1],l[0],l[1],null,s);return u.__specifiedRotation=null==a||isNaN(a)?void 0:+a*Math.PI/180||0,u.name=e,u}}function c1(e,i){e.x1=i[0][0],e.y1=i[0][1],e.x2=i[1][0],e.y2=i[1][1],e.percent=1;var t=i[2];t?(e.cpx1=t[0],e.cpy1=t[1]):(e.cpx1=NaN,e.cpy1=NaN)}var tY=function(e){function i(t,n,r){var a=e.call(this)||this;return a._createLine(t,n,r),a}return ot(i,e),i.prototype._createLine=function(t,n,r){var a=t.hostModel,s=function J9(e){var i=new Q9({name:"line",subPixelOptimize:!0});return c1(i.shape,e),i}(t.getItemLayout(n));s.shape.percent=0,pi(s,{shape:{percent:1}},a,n),this.add(s),U(l1,function(l){var c=aP(l,t,n);this.add(c),this[nP(l)]=rP(l,t,n)},this),this._updateCommonStl(t,n,r)},i.prototype.updateData=function(t,n,r){var a=t.hostModel,o=this.childOfName("line"),s=t.getItemLayout(n),l={shape:{}};c1(l.shape,s),Ve(o,l,a,n),U(l1,function(c){var u=rP(c,t,n),h=nP(c);if(this[h]!==u){this.remove(this.childOfName(c));var f=aP(c,t,n);this.add(f)}this[h]=u},this),this._updateCommonStl(t,n,r)},i.prototype.getLinePath=function(){return this.childAt(0)},i.prototype._updateCommonStl=function(t,n,r){var a=t.hostModel,o=this.childOfName("line"),s=r&&r.emphasisLineStyle,l=r&&r.blurLineStyle,c=r&&r.selectLineStyle,u=r&&r.labelStatesModels,h=r&&r.emphasisDisabled,f=r&&r.focus,p=r&&r.blurScope;if(!r||t.hasItemOption){var m=t.getItemModel(n),b=m.getModel("emphasis");s=b.getModel("lineStyle").getLineStyle(),l=m.getModel(["blur","lineStyle"]).getLineStyle(),c=m.getModel(["select","lineStyle"]).getLineStyle(),h=b.get("disabled"),f=b.get("focus"),p=b.get("blurScope"),u=cn(m)}var _=t.getItemVisual(n,"style"),w=_.stroke;o.useStyle(_),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=s,o.ensureState("blur").style=l,o.ensureState("select").style=c,U(l1,function(O){var V=this.childOfName(O);if(V){V.setColor(w),V.style.opacity=_.opacity;for(var N=0;N<lr.length;N++){var G=lr[N],H=o.getState(G);if(H){var X=H.style||{},q=V.ensureState(G),j=q.style||(q.style={});null!=X.stroke&&(j[V.__isEmptyBrush?"stroke":"fill"]=X.stroke),null!=X.opacity&&(j.opacity=X.opacity)}}V.markRedraw()}},this);var T=a.getRawValue(n);On(this,u,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(O,V){return a.getFormattedLabel(O,V,t.dataType)}},inheritColor:w||"#000",defaultOpacity:_.opacity,defaultText:(null==T?t.getName(n):isFinite(T)?ki(T):T)+""});var A=this.getTextContent();if(A){var P=u.normal;A.__align=A.style.align,A.__verticalAlign=A.style.verticalAlign,A.__position=P.get("position")||"middle";var F=P.get("distance");yt(F)||(F=[F,F]),A.__labelDistance=F}this.setTextConfig({position:null,local:!0,inside:!1}),Ti(this,f,p,h)},i.prototype.highlight=function(){Is(this)},i.prototype.downplay=function(){Os(this)},i.prototype.updateLayout=function(t,n){this.setLinePoints(t.getItemLayout(n))},i.prototype.setLinePoints=function(t){var n=this.childOfName("line");c1(n.shape,t),n.dirty()},i.prototype.beforeUpdate=function(){var t=this,n=t.childOfName("fromSymbol"),r=t.childOfName("toSymbol"),a=t.getTextContent();if(n||r||a&&!a.ignore){for(var o=1,s=this.parent;s;)s.scaleX&&(o/=s.scaleX),s=s.parent;var l=t.childOfName("line");if(this.__dirty||l.__dirty){var c=l.shape.percent,u=l.pointAt(0),h=l.pointAt(c),f=Kn([],h,u);if(rn(f,f),n&&(n.setPosition(u),p(n,0),n.scaleX=n.scaleY=o*c,n.markRedraw()),r&&(r.setPosition(h),p(r,1),r.scaleX=r.scaleY=o*c,r.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var m=void 0,b=void 0,_=a.__labelDistance,w=_[0]*o,T=_[1]*o,A=c/2,P=l.tangentAt(A),F=[P[1],-P[0]],O=l.pointAt(A);F[1]>0&&(F[0]=-F[0],F[1]=-F[1]);var V=P[0]<0?-1:1;if("start"!==a.__position&&"end"!==a.__position){var N=-Math.atan2(P[1],P[0]);h[0]<u[0]&&(N=Math.PI+N),a.rotation=N}var G=void 0;switch(a.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":G=-T,b="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":G=T,b="top";break;default:G=0,b="middle"}switch(a.__position){case"end":a.x=f[0]*w+h[0],a.y=f[1]*T+h[1],m=f[0]>.8?"left":f[0]<-.8?"right":"center",b=f[1]>.8?"top":f[1]<-.8?"bottom":"middle";break;case"start":a.x=-f[0]*w+u[0],a.y=-f[1]*T+u[1],m=f[0]>.8?"right":f[0]<-.8?"left":"center",b=f[1]>.8?"bottom":f[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":a.x=w*V+u[0],a.y=u[1]+G,m=P[0]<0?"right":"left",a.originX=-w*V,a.originY=-G;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":a.x=O[0],a.y=O[1]+G,m="center",a.originY=-G;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":a.x=-w*V+h[0],a.y=h[1]+G,m=P[0]>=0?"right":"left",a.originX=w*V,a.originY=-G}a.scaleX=a.scaleY=o,a.setStyle({verticalAlign:a.__verticalAlign||b,align:a.__align||m})}}}function p(H,X){var q=H.__specifiedRotation;if(null==q){var j=l.tangentAt(X);H.attr("rotation",(1===X?-1:1)*Math.PI/2-Math.atan2(j[1],j[0]))}else H.attr("rotation",q)}},i}(Kt);const u1=tY;var eY=function(){function e(i){this.group=new Kt,this._LineCtor=i||u1}return e.prototype.updateData=function(i){var t=this;this._progressiveEls=null;var n=this,r=n.group,a=n._lineData;n._lineData=i,a||r.removeAll();var o=oP(i);i.diff(a).add(function(s){t._doAdd(i,s,o)}).update(function(s,l){t._doUpdate(a,i,l,s,o)}).remove(function(s){r.remove(a.getItemGraphicEl(s))}).execute()},e.prototype.updateLayout=function(){var i=this._lineData;i&&i.eachItemGraphicEl(function(t,n){t.updateLayout(i,n)},this)},e.prototype.incrementalPrepareUpdate=function(i){this._seriesScope=oP(i),this._lineData=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(i,t){function n(s){!s.isGroup&&!function iY(e){return e.animators&&e.animators.length>0}(s)&&(s.incremental=!0,s.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var r=i.start;r<i.end;r++)if(h1(t.getItemLayout(r))){var o=new this._LineCtor(t,r,this._seriesScope);o.traverse(n),this.group.add(o),t.setItemGraphicEl(r,o),this._progressiveEls.push(o)}},e.prototype.remove=function(){this.group.removeAll()},e.prototype.eachRendered=function(i){Fl(this._progressiveEls||this.group,i)},e.prototype._doAdd=function(i,t,n){if(h1(i.getItemLayout(t))){var a=new this._LineCtor(i,t,n);i.setItemGraphicEl(t,a),this.group.add(a)}},e.prototype._doUpdate=function(i,t,n,r,a){var o=i.getItemGraphicEl(n);h1(t.getItemLayout(r))?(o?o.updateData(t,r,a):o=new this._LineCtor(t,r,a),t.setItemGraphicEl(r,o),this.group.add(o)):this.group.remove(o)},e}();function oP(e){var i=e.hostModel,t=i.getModel("emphasis");return{lineStyle:i.getModel("lineStyle").getLineStyle(),emphasisLineStyle:t.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:i.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:i.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:t.get("disabled"),blurScope:t.get("blurScope"),focus:t.get("focus"),labelStatesModels:cn(i)}}function sP(e){return isNaN(e[0])||isNaN(e[1])}function h1(e){return e&&!sP(e[0])&&!sP(e[1])}const d1=eY;var f1=[],p1=[],g1=[],id=rt,v1=Hr,lP=Math.abs;function cP(e,i,t){for(var s,n=e[0],r=e[1],a=e[2],o=1/0,l=t*t,c=.1,u=.1;u<=.9;u+=.1)f1[0]=id(n[0],r[0],a[0],u),f1[1]=id(n[1],r[1],a[1],u),(h=lP(v1(f1,i)-l))<o&&(o=h,s=u);for(var f=0;f<32;f++){var p=s+c;p1[0]=id(n[0],r[0],a[0],s),p1[1]=id(n[1],r[1],a[1],s),g1[0]=id(n[0],r[0],a[0],p),g1[1]=id(n[1],r[1],a[1],p);var h=v1(p1,i)-l;if(lP(h)<.01)break;var m=v1(g1,i)-l;c/=2,h<0?m>=0?s+=c:s-=c:m>=0?s-=c:s+=c}return s}function m1(e,i){var t=[],n=Wt,r=[[],[],[]],a=[[],[]],o=[];i/=2,e.eachEdge(function(s,l){var c=s.getLayout(),u=s.getVisual("fromSymbol"),h=s.getVisual("toSymbol");c.__original||(c.__original=[Bn(c[0]),Bn(c[1])],c[2]&&c.__original.push(Bn(c[2])));var f=c.__original;if(null!=c[2]){if(fi(r[0],f[0]),fi(r[1],f[2]),fi(r[2],f[1]),u&&"none"!==u){var p=pp(s.node1),m=cP(r,f[0],p*i);n(r[0][0],r[1][0],r[2][0],m,t),r[0][0]=t[3],r[1][0]=t[4],n(r[0][1],r[1][1],r[2][1],m,t),r[0][1]=t[3],r[1][1]=t[4]}h&&"none"!==h&&(p=pp(s.node2),m=cP(r,f[1],p*i),n(r[0][0],r[1][0],r[2][0],m,t),r[1][0]=t[1],r[2][0]=t[2],n(r[0][1],r[1][1],r[2][1],m,t),r[1][1]=t[1],r[2][1]=t[2]),fi(c[0],r[0]),fi(c[1],r[2]),fi(c[2],r[1])}else fi(a[0],f[0]),fi(a[1],f[1]),Kn(o,a[1],a[0]),rn(o,o),u&&"none"!==u&&(p=pp(s.node1),Gr(a[0],a[0],o,p*i)),h&&"none"!==h&&(p=pp(s.node2),Gr(a[1],a[1],o,-p*i)),fi(c[0],a[0]),fi(c[1],a[1])})}function uP(e){return"view"===e.type}var nY=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.init=function(t,n){var r=new Xf,a=new d1,o=this.group;this._controller=new ep(n.getZr()),this._controllerHost={target:o},o.add(r.group),o.add(a.group),this._symbolDraw=r,this._lineDraw=a,this._firstRender=!0},i.prototype.render=function(t,n,r){var a=this,o=t.coordinateSystem;this._model=t;var s=this._symbolDraw,l=this._lineDraw,c=this.group;if(uP(o)){var u={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?c.attr(u):Ve(c,u,t)}m1(t.getGraph(),fp(t));var h=t.getData();s.updateData(h);var f=t.getEdgeData();l.updateData(f),this._updateNodeAndLinkScale(),this._updateController(t,n,r),clearTimeout(this._layoutTimeout);var p=t.forceLayout,m=t.get(["force","layoutAnimation"]);p&&this._startForceLayoutIteration(p,m);var b=t.get("layout");h.graph.eachNode(function(A){var P=A.dataIndex,F=A.getGraphicEl(),O=A.getModel();if(F){F.off("drag").off("dragend");var V=O.get("draggable");V&&F.on("drag",function(G){switch(b){case"force":p.warmUp(),!a._layouting&&a._startForceLayoutIteration(p,m),p.setFixed(P),h.setItemLayout(P,[F.x,F.y]);break;case"circular":h.setItemLayout(P,[F.x,F.y]),A.setLayout({fixed:!0},!0),a1(t,"symbolSize",A,[G.offsetX,G.offsetY]),a.updateLayout(t);break;default:h.setItemLayout(P,[F.x,F.y]),n1(t.getGraph(),t),a.updateLayout(t)}}).on("dragend",function(){p&&p.setUnfixed(P)}),F.setDraggable(V,!!O.get("cursor")),"adjacency"===O.get(["emphasis","focus"])&&(Jt(F).focus=A.getAdjacentDataIndices())}}),h.graph.eachEdge(function(A){var P=A.getGraphicEl(),F=A.getModel().get(["emphasis","focus"]);P&&"adjacency"===F&&(Jt(P).focus={edge:[A.dataIndex],node:[A.node1.dataIndex,A.node2.dataIndex]})});var _="circular"===t.get("layout")&&t.get(["circular","rotateLabel"]),w=h.getLayout("cx"),T=h.getLayout("cy");h.graph.eachNode(function(A){tP(A,_,w,T)}),this._firstRender=!1},i.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},i.prototype._startForceLayoutIteration=function(t,n){var r=this;!function a(){t.step(function(o){r.updateLayout(r._model),(r._layouting=!o)&&(n?r._layoutTimeout=setTimeout(a,16):a())})}()},i.prototype._updateController=function(t,n,r){var a=this,o=this._controller,s=this._controllerHost,l=this.group;o.setPointerChecker(function(c,u,h){var f=l.getBoundingRect();return f.applyTransform(l.transform),f.contain(u,h)&&!Hv(c,r,t)}),uP(t.coordinateSystem)?(o.enable(t.get("roam")),s.zoomLimit=t.get("scaleLimit"),s.zoom=t.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",function(c){Dx(s,c.dx,c.dy),r.dispatchAction({seriesId:t.id,type:"graphRoam",dx:c.dx,dy:c.dy})}).on("zoom",function(c){Px(s,c.scale,c.originX,c.originY),r.dispatchAction({seriesId:t.id,type:"graphRoam",zoom:c.scale,originX:c.originX,originY:c.originY}),a._updateNodeAndLinkScale(),m1(t.getGraph(),fp(t)),a._lineDraw.updateLayout(),r.updateLabelLayout()})):o.disable()},i.prototype._updateNodeAndLinkScale=function(){var t=this._model,n=t.getData(),r=fp(t);n.eachItemGraphicEl(function(a,o){a&&a.setSymbolScale(r)})},i.prototype.updateLayout=function(t){m1(t.getGraph(),fp(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},i.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},i.type="graph",i}(oi);const rY=nY;function nd(e){return"_EC_"+e}var aY=function(){function e(i){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=i||!1}return e.prototype.isDirected=function(){return this._directed},e.prototype.addNode=function(i,t){var n=this._nodesMap;if(!n[nd(i=null==i?""+t:""+i)]){var r=new Su(i,t);return r.hostGraph=this,this.nodes.push(r),n[nd(i)]=r,r}},e.prototype.getNodeByIndex=function(i){var t=this.data.getRawIndex(i);return this.nodes[t]},e.prototype.getNodeById=function(i){return this._nodesMap[nd(i)]},e.prototype.addEdge=function(i,t,n){var r=this._nodesMap,a=this._edgesMap;if(_e(i)&&(i=this.nodes[i]),_e(t)&&(t=this.nodes[t]),i instanceof Su||(i=r[nd(i)]),t instanceof Su||(t=r[nd(t)]),i&&t){var o=i.id+"-"+t.id,s=new hP(i,t,n);return s.hostGraph=this,this._directed&&(i.outEdges.push(s),t.inEdges.push(s)),i.edges.push(s),i!==t&&t.edges.push(s),this.edges.push(s),a[o]=s,s}},e.prototype.getEdgeByIndex=function(i){var t=this.edgeData.getRawIndex(i);return this.edges[t]},e.prototype.getEdge=function(i,t){i instanceof Su&&(i=i.id),t instanceof Su&&(t=t.id);var n=this._edgesMap;return this._directed?n[i+"-"+t]:n[i+"-"+t]||n[t+"-"+i]},e.prototype.eachNode=function(i,t){for(var n=this.nodes,r=n.length,a=0;a<r;a++)n[a].dataIndex>=0&&i.call(t,n[a],a)},e.prototype.eachEdge=function(i,t){for(var n=this.edges,r=n.length,a=0;a<r;a++)n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0&&i.call(t,n[a],a)},e.prototype.breadthFirstTraverse=function(i,t,n,r){if(t instanceof Su||(t=this._nodesMap[nd(t)]),t){for(var a="out"===n?"outEdges":"in"===n?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!i.call(r,t,null))for(var s=[t];s.length;){var l=s.shift(),c=l[a];for(o=0;o<c.length;o++){var u=c[o],h=u.node1===l?u.node2:u.node1;if(!h.__visited){if(i.call(r,h,l))return;s.push(h),h.__visited=!0}}}}},e.prototype.update=function(){for(var i=this.data,t=this.edgeData,n=this.nodes,r=this.edges,a=0,o=n.length;a<o;a++)n[a].dataIndex=-1;for(a=0,o=i.count();a<o;a++)n[i.getRawIndex(a)].dataIndex=a;for(t.filterSelf(function(s){var l=r[t.getRawIndex(s)];return l.node1.dataIndex>=0&&l.node2.dataIndex>=0}),a=0,o=r.length;a<o;a++)r[a].dataIndex=-1;for(a=0,o=t.count();a<o;a++)r[t.getRawIndex(a)].dataIndex=a},e.prototype.clone=function(){for(var i=new e(this._directed),t=this.nodes,n=this.edges,r=0;r<t.length;r++)i.addNode(t[r].id,t[r].dataIndex);for(r=0;r<n.length;r++){var a=n[r];i.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return i},e}(),Su=function(){function e(i,t){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=i??"",this.dataIndex=t??-1}return e.prototype.degree=function(){return this.edges.length},e.prototype.inDegree=function(){return this.inEdges.length},e.prototype.outDegree=function(){return this.outEdges.length},e.prototype.getModel=function(i){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(i)},e.prototype.getAdjacentDataIndices=function(){for(var i={edge:[],node:[]},t=0;t<this.edges.length;t++){var n=this.edges[t];n.dataIndex<0||(i.edge.push(n.dataIndex),i.node.push(n.node1.dataIndex,n.node2.dataIndex))}return i},e.prototype.getTrajectoryDataIndices=function(){for(var i=Mt(),t=Mt(),n=0;n<this.edges.length;n++){var r=this.edges[n];if(!(r.dataIndex<0)){i.set(r.dataIndex,!0);for(var a=[r.node1],o=[r.node2],s=0;s<a.length;){var l=a[s];s++,t.set(l.dataIndex,!0);for(var c=0;c<l.inEdges.length;c++)i.set(l.inEdges[c].dataIndex,!0),a.push(l.inEdges[c].node1)}for(s=0;s<o.length;){var u=o[s];for(s++,t.set(u.dataIndex,!0),c=0;c<u.outEdges.length;c++)i.set(u.outEdges[c].dataIndex,!0),o.push(u.outEdges[c].node2)}}}return{edge:i.keys(),node:t.keys()}},e}(),hP=function(){function e(i,t,n){this.dataIndex=-1,this.node1=i,this.node2=t,this.dataIndex=n??-1}return e.prototype.getModel=function(i){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(i)},e.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},e.prototype.getTrajectoryDataIndices=function(){var i=Mt(),t=Mt();i.set(this.dataIndex,!0);for(var n=[this.node1],r=[this.node2],a=0;a<n.length;){var o=n[a];a++,t.set(o.dataIndex,!0);for(var s=0;s<o.inEdges.length;s++)i.set(o.inEdges[s].dataIndex,!0),n.push(o.inEdges[s].node1)}for(a=0;a<r.length;){var l=r[a];for(a++,t.set(l.dataIndex,!0),s=0;s<l.outEdges.length;s++)i.set(l.outEdges[s].dataIndex,!0),r.push(l.outEdges[s].node2)}return{edge:i.keys(),node:t.keys()}},e}();function dP(e,i){return{getValue:function(t){var n=this[e][i];return n.getStore().get(n.getDimensionIndex(t||"value"),this.dataIndex)},setVisual:function(t,n){this.dataIndex>=0&&this[e][i].setItemVisual(this.dataIndex,t,n)},getVisual:function(t){return this[e][i].getItemVisual(this.dataIndex,t)},setLayout:function(t,n){this.dataIndex>=0&&this[e][i].setItemLayout(this.dataIndex,t,n)},getLayout:function(){return this[e][i].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][i].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][i].getRawIndex(this.dataIndex)}}}It(Su,dP("hostGraph","data")),It(hP,dP("hostGraph","edgeData"));const oY=aY;function fP(e,i,t,n,r){for(var a=new oY(n),o=0;o<e.length;o++)a.addNode(hi(e[o].id,e[o].name,o),o);var s=[],l=[],c=0;for(o=0;o<i.length;o++){var u=i[o],h=u.source,f=u.target;a.addEdge(h,f,c)&&(l.push(u),s.push(hi(ji(u.id,null),h+" > "+f)),c++)}var m,p=t.get("coordinateSystem");if("cartesian2d"===p||"polar"===p)m=Bs(e,t);else{var b=pf.get(p),_=b&&b.dimensions||[];oe(_,"value")<0&&_.concat(["value"]);var w=Zh(e,{coordDimensions:_,encodeDefine:t.getEncode()}).dimensions;(m=new dr(w,t)).initData(e)}var T=new dr(["value"],t);return T.initData(l,s),r&&r(m,T),LD({mainData:m,struct:a,structAttr:"graph",datas:{node:m,edge:T},datasAttr:{node:"data",edge:"edgeData"}}),a.update(),a}var sY=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.hasSymbolVisual=!0,t}return ot(i,e),i.prototype.init=function(t){e.prototype.init.apply(this,arguments);var n=this;function r(){return n._categoriesData}this.legendVisualProvider=new jf(r,r),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},i.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},i.prototype.mergeDefaultAndTheme=function(t){e.prototype.mergeDefaultAndTheme.apply(this,arguments),Lc(t,"edgeLabel",["show"])},i.prototype.getInitialData=function(t,n){var r=t.edges||t.links||[],a=t.data||t.nodes||[],o=this;if(a&&r){!function H9(e){tm(e)&&(e.__curvenessList=[],e.__edgeMap={},qD(e))}(this);var s=fP(a,r,this,!0,function l(c,u){c.wrapMethod("getItemModel",function(m){var w=o._categoriesModels[m.getShallow("category")];return w&&(w.parentModel=m.parentModel,m.parentModel=w),m});var h=ai.prototype.getModel;function f(m,b){var _=h.call(this,m,b);return _.resolveParentPath=p,_}function p(m){if(m&&("label"===m[0]||"label"===m[1])){var b=m.slice();return"label"===m[0]?b[0]="edgeLabel":"label"===m[1]&&(b[1]="edgeLabel"),b}return m}u.wrapMethod("getItemModel",function(m){return m.resolveParentPath=p,m.getModel=f,m})});return U(s.edges,function(c){!function W9(e,i,t,n){if(tm(t)){var r=dp(e,i,t),a=t.__edgeMap,o=a[KD(r)];a[r]&&!o?a[r].isForward=!0:o&&a[r]&&(o.isForward=!0,a[r].isForward=!1),a[r]=a[r]||[],a[r].push(n)}}(c.node1,c.node2,this,c.dataIndex)},this),s.data}},i.prototype.getGraph=function(){return this.getData().graph},i.prototype.getEdgeData=function(){return this.getGraph().edgeData},i.prototype.getCategoriesData=function(){return this._categoriesData},i.prototype.formatTooltip=function(t,n,r){if("edge"===r){var a=this.getData(),o=this.getDataParams(t,r),s=a.graph.getEdgeByIndex(t),l=a.getName(s.node1.dataIndex),c=a.getName(s.node2.dataIndex),u=[];return null!=l&&u.push(l),null!=c&&u.push(c),un("nameValue",{name:u.join(" > "),value:o.value,noValue:null==o.value})}return m2({series:this,dataIndex:t,multipleSeries:n})},i.prototype._updateCategoriesData=function(){var t=mt(this.option.categories||[],function(r){return null!=r.value?r:ft({value:0},r)}),n=new dr(["value"],this);n.initData(t),this._categoriesData=n,this._categoriesModels=n.mapArray(function(r){return n.getItemModel(r)})},i.prototype.setZoom=function(t){this.option.zoom=t},i.prototype.setCenter=function(t){this.option.center=t},i.prototype.isAnimationEnabled=function(){return e.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},i.type="series.graph",i.dependencies=["grid","polar","geo","singleAxis","calendar"],i.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},i}(mi);const lY=sY;var cY={type:"graphRoam",event:"graphRoam",update:"none"},hY=function e(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},dY=function(e){function i(t){var n=e.call(this,t)||this;return n.type="pointer",n}return ot(i,e),i.prototype.getDefaultShape=function(){return new hY},i.prototype.buildPath=function(t,n){var r=Math.cos,a=Math.sin,o=n.r,s=n.width,l=n.angle,c=n.x-r(l)*s*(s>=o/3?1:2),u=n.y-a(l)*s*(s>=o/3?1:2);l=n.angle-Math.PI/2,t.moveTo(c,u),t.lineTo(n.x+r(l)*s,n.y+a(l)*s),t.lineTo(n.x+r(n.angle)*o,n.y+a(n.angle)*o),t.lineTo(n.x-r(l)*s,n.y-a(l)*s),t.lineTo(c,u)},i}(ge);const fY=dY;function em(e,i){var t=null==e?"":e+"";return i&&(Lt(i)?t=i.replace("{value}",t):Z(i)&&(t=i(e))),t}var gY=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.render=function(t,n,r){this.group.removeAll();var a=t.get(["axisLine","lineStyle","color"]),o=function pY(e,i){var t=e.get("center"),n=i.getWidth(),r=i.getHeight(),a=Math.min(n,r);return{cx:At(t[0],i.getWidth()),cy:At(t[1],i.getHeight()),r:At(e.get("radius"),a/2)}}(t,r);this._renderMain(t,n,r,a,o),this._data=t.getData()},i.prototype.dispose=function(){},i.prototype._renderMain=function(t,n,r,a,o){var s=this.group,l=t.get("clockwise"),c=-t.get("startAngle")/180*Math.PI,u=-t.get("endAngle")/180*Math.PI,h=t.getModel("axisLine"),p=h.get("roundCap")?Mv:kr,m=h.get("show"),b=h.getModel("lineStyle"),_=b.get("width"),w=[c,u];r_(w,!l);for(var T=(u=w[1])-(c=w[0]),A=c,P=[],F=0;m&&F<a.length;F++){var V=new p({shape:{startAngle:A,endAngle:u=c+T*Math.min(Math.max(a[F][0],0),1),cx:o.cx,cy:o.cy,clockwise:l,r0:o.r-_,r:o.r},silent:!0});V.setStyle({fill:a[F][1]}),V.setStyle(b.getLineStyle(["color","width"])),P.push(V),A=u}P.reverse(),U(P,function(G){return s.add(G)});var N=function(G){if(G<=0)return a[0][1];var H;for(H=0;H<a.length;H++)if(a[H][0]>=G&&(0===H?0:a[H-1][0])<G)return a[H][1];return a[H-1][1]};this._renderTicks(t,n,r,N,o,c,u,l,_),this._renderTitleAndDetail(t,n,r,N,o),this._renderAnchor(t,o),this._renderPointer(t,n,r,N,o,c,u,l,_)},i.prototype._renderTicks=function(t,n,r,a,o,s,l,c,u){for(var J,tt,h=this.group,f=o.cx,p=o.cy,m=o.r,b=+t.get("min"),_=+t.get("max"),w=t.getModel("splitLine"),T=t.getModel("axisTick"),A=t.getModel("axisLabel"),P=t.get("splitNumber"),F=T.get("splitNumber"),O=At(w.get("length"),m),V=At(T.get("length"),m),N=s,G=(l-s)/P,H=G/F,X=w.getModel("lineStyle").getLineStyle(),q=T.getModel("lineStyle").getLineStyle(),j=w.get("distance"),et=0;et<=P;et++){if(J=Math.cos(N),tt=Math.sin(N),w.get("show")){var st=new yn({shape:{x1:J*(m-(lt=j?j+u:u))+f,y1:tt*(m-lt)+p,x2:J*(m-O-lt)+f,y2:tt*(m-O-lt)+p},style:X,silent:!0});"auto"===X.stroke&&st.setStyle({stroke:a(et/P)}),h.add(st)}if(A.get("show")){var lt=A.get("distance")+j,ut=em(ki(et/P*(_-b)+b),A.get("formatter")),vt=a(et/P),_t=J*(m-O-lt)+f,St=tt*(m-O-lt)+p,Et=A.get("rotate"),Ft=0;"radial"===Et?(Ft=-N+2*Math.PI)>Math.PI/2&&(Ft+=Math.PI):"tangential"===Et?Ft=-N-Math.PI/2:_e(Et)&&(Ft=Et*Math.PI/180),h.add(new Ie(0===Ft?{style:ri(A,{text:ut,x:_t,y:St,verticalAlign:tt<-.8?"top":tt>.8?"bottom":"middle",align:J<-.4?"left":J>.4?"right":"center"},{inheritColor:vt}),silent:!0}:{style:ri(A,{text:ut,x:_t,y:St,verticalAlign:"middle",align:"center"},{inheritColor:vt}),silent:!0,originX:_t,originY:St,rotation:Ft}))}if(T.get("show")&&et!==P){lt=(lt=T.get("distance"))?lt+u:u;for(var ne=0;ne<=F;ne++){J=Math.cos(N),tt=Math.sin(N);var le=new yn({shape:{x1:J*(m-lt)+f,y1:tt*(m-lt)+p,x2:J*(m-V-lt)+f,y2:tt*(m-V-lt)+p},silent:!0,style:q});"auto"===q.stroke&&le.setStyle({stroke:a((et+ne/F)/P)}),h.add(le),N+=H}N-=H}else N+=G}},i.prototype._renderPointer=function(t,n,r,a,o,s,l,c,u){var h=this.group,f=this._data,p=this._progressEls,m=[],b=t.get(["pointer","show"]),_=t.getModel("progress"),w=_.get("show"),T=t.getData(),A=T.mapDimension("value"),P=+t.get("min"),F=+t.get("max"),O=[P,F],V=[s,l];function N(H,X){var _t,j=T.getItemModel(H).getModel("pointer"),J=At(j.get("width"),o.r),tt=At(j.get("length"),o.r),et=t.get(["pointer","icon"]),lt=j.get("offsetCenter"),st=At(lt[0],o.r),ut=At(lt[1],o.r),vt=j.get("keepAspect");return(_t=et?Gi(et,st-J/2,ut-tt,J,tt,null,vt):new fY({shape:{angle:-Math.PI/2,width:J,r:tt,x:st,y:ut}})).rotation=-(X+Math.PI/2),_t.x=o.cx,_t.y=o.cy,_t}function G(H,X){var j=_.get("roundCap")?Mv:kr,J=_.get("overlap"),tt=J?_.get("width"):u/T.count(),st=new j({shape:{startAngle:s,endAngle:X,cx:o.cx,cy:o.cy,clockwise:c,r0:J?o.r-tt:o.r-(H+1)*tt,r:J?o.r:o.r-H*tt}});return J&&(st.z2=F-T.get(A,H)%F),st}(w||b)&&(T.diff(f).add(function(H){var X=T.get(A,H);if(b){var q=N(H,s);pi(q,{rotation:-((isNaN(+X)?V[0]:Xe(X,O,V,!0))+Math.PI/2)},t),h.add(q),T.setItemGraphicEl(H,q)}if(w){var j=G(H,s),J=_.get("clip");pi(j,{shape:{endAngle:Xe(X,O,V,J)}},t),h.add(j),s_(t.seriesIndex,T.dataType,H,j),m[H]=j}}).update(function(H,X){var q=T.get(A,H);if(b){var j=f.getItemGraphicEl(X),J=j?j.rotation:s,tt=N(H,J);tt.rotation=J,Ve(tt,{rotation:-((isNaN(+q)?V[0]:Xe(q,O,V,!0))+Math.PI/2)},t),h.add(tt),T.setItemGraphicEl(H,tt)}if(w){var et=p[X],st=G(H,et?et.shape.endAngle:s),ut=_.get("clip");Ve(st,{shape:{endAngle:Xe(q,O,V,ut)}},t),h.add(st),s_(t.seriesIndex,T.dataType,H,st),m[H]=st}}).execute(),T.each(function(H){var X=T.getItemModel(H),q=X.getModel("emphasis"),j=q.get("focus"),J=q.get("blurScope"),tt=q.get("disabled");if(b){var et=T.getItemGraphicEl(H),lt=T.getItemVisual(H,"style"),st=lt.fill;if(et instanceof Pn){var ut=et.style;et.useStyle(ft({image:ut.image,x:ut.x,y:ut.y,width:ut.width,height:ut.height},lt))}else et.useStyle(lt),"pointer"!==et.type&&et.setColor(st);et.setStyle(X.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===et.style.fill&&et.setStyle("fill",a(Xe(T.get(A,H),O,[0,1],!0))),et.z2EmphasisLift=0,In(et,X),Ti(et,j,J,tt)}if(w){var vt=m[H];vt.useStyle(T.getItemVisual(H,"style")),vt.setStyle(X.getModel(["progress","itemStyle"]).getItemStyle()),vt.z2EmphasisLift=0,In(vt,X),Ti(vt,j,J,tt)}}),this._progressEls=m)},i.prototype._renderAnchor=function(t,n){var r=t.getModel("anchor");if(r.get("show")){var o=r.get("size"),s=r.get("icon"),l=r.get("offsetCenter"),c=r.get("keepAspect"),u=Gi(s,n.cx-o/2+At(l[0],n.r),n.cy-o/2+At(l[1],n.r),o,o,null,c);u.z2=r.get("showAbove")?1:0,u.setStyle(r.getModel("itemStyle").getItemStyle()),this.group.add(u)}},i.prototype._renderTitleAndDetail=function(t,n,r,a,o){var s=this,l=t.getData(),c=l.mapDimension("value"),u=+t.get("min"),h=+t.get("max"),f=new Kt,p=[],m=[],b=t.isAnimationEnabled(),_=t.get(["pointer","showAbove"]);l.diff(this._data).add(function(w){p[w]=new Ie({silent:!0}),m[w]=new Ie({silent:!0})}).update(function(w,T){p[w]=s._titleEls[T],m[w]=s._detailEls[T]}).execute(),l.each(function(w){var T=l.getItemModel(w),A=l.get(c,w),P=new Kt,F=a(Xe(A,[u,h],[0,1],!0)),O=T.getModel("title");if(O.get("show")){var V=O.get("offsetCenter"),N=o.cx+At(V[0],o.r),G=o.cy+At(V[1],o.r);(H=p[w]).attr({z2:_?0:2,style:ri(O,{x:N,y:G,text:l.getName(w),align:"center",verticalAlign:"middle"},{inheritColor:F})}),P.add(H)}var X=T.getModel("detail");if(X.get("show")){var q=X.get("offsetCenter"),j=o.cx+At(q[0],o.r),J=o.cy+At(q[1],o.r),tt=At(X.get("width"),o.r),et=At(X.get("height"),o.r),lt=t.get(["progress","show"])?l.getItemVisual(w,"style").fill:F,H=m[w],st=X.get("formatter");H.attr({z2:_?0:2,style:ri(X,{x:j,y:J,text:em(A,st),width:isNaN(tt)?null:tt,height:isNaN(et)?null:et,align:"center",verticalAlign:"middle"},{inheritColor:lt})}),Hw(H,{normal:X},A,function(vt){return em(vt,st)}),b&&Ww(H,w,l,t,{getFormattedLabel:function(vt,_t,St,Et,Ft,ne){return em(ne?ne.interpolatedValue:A,st)}}),P.add(H)}f.add(P)}),this.group.add(f),this._titleEls=p,this._detailEls=m},i.type="gauge",i}(oi);const vY=gY;var mY=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.visualStyleAccessPath="itemStyle",t}return ot(i,e),i.prototype.getInitialData=function(t,n){return qh(this,["value"])},i.type="series.gauge",i.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},i}(mi);const yY=mY;var xY=["itemStyle","opacity"],bY=function(e){function i(t,n){var r=e.call(this)||this,a=r,o=new Pr,s=new Ie;return a.setTextContent(s),r.setTextGuideLine(o),r.updateData(t,n,!0),r}return ot(i,e),i.prototype.updateData=function(t,n,r){var a=this,o=t.hostModel,s=t.getItemModel(n),l=t.getItemLayout(n),c=s.getModel("emphasis"),u=s.get(xY);u=u??1,r||ro(a),a.useStyle(t.getItemVisual(n,"style")),a.style.lineJoin="round",r?(a.setShape({points:l.points}),a.style.opacity=0,pi(a,{style:{opacity:u}},o,n)):Ve(a,{style:{opacity:u},shape:{points:l.points}},o,n),In(a,s),this._updateLabel(t,n),Ti(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))},i.prototype._updateLabel=function(t,n){var r=this,a=this.getTextGuideLine(),o=r.getTextContent(),s=t.hostModel,l=t.getItemModel(n),u=t.getItemLayout(n).label,h=t.getItemVisual(n,"style"),f=h.fill;On(o,cn(l),{labelFetcher:t.hostModel,labelDataIndex:n,defaultOpacity:h.opacity,defaultText:t.getName(n)},{normal:{align:u.textAlign,verticalAlign:u.verticalAlign}}),r.setTextConfig({local:!0,inside:!!u.inside,insideStroke:f,outsideFill:f});var p=u.linePoints;a.setShape({points:p}),r.textGuideLineConfig={anchor:p?new ee(p[0][0],p[0][1]):null},Ve(o,{style:{x:u.x,y:u.y}},s,n),o.attr({rotation:u.rotation,originX:u.x,originY:u.y,z2:10}),R0(r,B0(l),{stroke:f})},i}(Dr),CY=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.ignoreLabelLineUpdate=!0,t}return ot(i,e),i.prototype.render=function(t,n,r){var a=t.getData(),o=this._data,s=this.group;a.diff(o).add(function(l){var c=new bY(a,l);a.setItemGraphicEl(l,c),s.add(c)}).update(function(l,c){var u=o.getItemGraphicEl(c);u.updateData(a,l),s.add(u),a.setItemGraphicEl(l,u)}).remove(function(l){lf(o.getItemGraphicEl(l),t,l)}).execute(),this._data=a},i.prototype.remove=function(){this.group.removeAll(),this._data=null},i.prototype.dispose=function(){},i.type="funnel",i}(oi);const SY=CY;var wY=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new jf(Dt(this.getData,this),Dt(this.getRawData,this)),this._defaultLabelLine(t)},i.prototype.getInitialData=function(t,n){return qh(this,{coordDimensions:["value"],encodeDefaulter:jt(O_,this)})},i.prototype._defaultLabelLine=function(t){Lc(t,"labelLine",["show"]);var n=t.labelLine,r=t.emphasis.labelLine;n.show=n.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},i.prototype.getDataParams=function(t){var n=this.getData(),r=e.prototype.getDataParams.call(this,t),a=n.mapDimension("value"),o=n.getSum(a);return r.percent=o?+(n.get(a,t)/o*100).toFixed(2):0,r.$vars.push("percent"),r},i.type="series.funnel",i.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},i}(mi);const TY=wY;function kY(e,i){e.eachSeriesByType("funnel",function(t){var n=t.getData(),r=n.mapDimension("value"),a=t.get("sort"),o=function MY(e,i){return qi(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}(t,i),s=t.get("orient"),l=o.width,c=o.height,u=function AY(e,i){for(var t=e.mapDimension("value"),n=e.mapArray(t,function(l){return l}),r=[],a="ascending"===i,o=0,s=e.count();o<s;o++)r[o]=o;return Z(i)?r.sort(i):"none"!==i&&r.sort(function(l,c){return a?n[l]-n[c]:n[c]-n[l]}),r}(n,a),h=o.x,f=o.y,p="horizontal"===s?[At(t.get("minSize"),c),At(t.get("maxSize"),c)]:[At(t.get("minSize"),l),At(t.get("maxSize"),l)],m=n.getDataExtent(r),b=t.get("min"),_=t.get("max");null==b&&(b=Math.min(m[0],0)),null==_&&(_=m[1]);var w=t.get("funnelAlign"),T=t.get("gap"),P=(("horizontal"===s?l:c)-T*(n.count()-1))/n.count(),F=function(J,tt){if("horizontal"===s){var lt=Xe(n.get(r,J)||0,[b,_],p,!0),st=void 0;switch(w){case"top":st=f;break;case"center":st=f+(c-lt)/2;break;case"bottom":st=f+(c-lt)}return[[tt,st],[tt,st+lt]]}var _t,vt=Xe(n.get(r,J)||0,[b,_],p,!0);switch(w){case"left":_t=h;break;case"center":_t=h+(l-vt)/2;break;case"right":_t=h+l-vt}return[[_t,tt],[_t+vt,tt]]};"ascending"===a&&(P=-P,T=-T,"horizontal"===s?h+=l:f+=c,u=u.reverse());for(var O=0;O<u.length;O++){var V=u[O],N=u[O+1],G=n.getItemModel(V);if("horizontal"===s){var H=G.get(["itemStyle","width"]);null==H?H=P:(H=At(H,l),"ascending"===a&&(H=-H));var X=F(V,h),q=F(N,h+H);h+=H+T,n.setItemLayout(V,{points:X.concat(q.slice().reverse())})}else{var j=G.get(["itemStyle","height"]);null==j?j=P:(j=At(j,c),"ascending"===a&&(j=-j)),X=F(V,f),q=F(N,f+j),f+=j+T,n.setItemLayout(V,{points:X.concat(q.slice().reverse())})}}!function LY(e){var t=e.hostModel.get("orient");e.each(function(n){var h,f,p,m,r=e.getItemModel(n),o=r.getModel("label").get("position"),s=r.getModel("labelLine"),l=e.getItemLayout(n),c=l.points,u="inner"===o||"inside"===o||"center"===o||"insideLeft"===o||"insideRight"===o;if(u)"insideLeft"===o?(f=(c[0][0]+c[3][0])/2+5,p=(c[0][1]+c[3][1])/2,h="left"):"insideRight"===o?(f=(c[1][0]+c[2][0])/2-5,p=(c[1][1]+c[2][1])/2,h="right"):(f=(c[0][0]+c[1][0]+c[2][0]+c[3][0])/4,p=(c[0][1]+c[1][1]+c[2][1]+c[3][1])/4,h="center"),m=[[f,p],[f,p]];else{var b=void 0,_=void 0,w=void 0,T=void 0,A=s.get("length");"left"===o?(_=(c[3][1]+c[0][1])/2,f=(w=(b=(c[3][0]+c[0][0])/2)-A)-5,h="right"):"right"===o?(_=(c[1][1]+c[2][1])/2,f=(w=(b=(c[1][0]+c[2][0])/2)+A)+5,h="left"):"top"===o?(b=(c[3][0]+c[0][0])/2,p=(T=(_=(c[3][1]+c[0][1])/2)-A)-5,h="center"):"bottom"===o?(b=(c[1][0]+c[2][0])/2,p=(T=(_=(c[1][1]+c[2][1])/2)+A)+5,h="center"):"rightTop"===o?(b="horizontal"===t?c[3][0]:c[1][0],_="horizontal"===t?c[3][1]:c[1][1],"horizontal"===t?(p=(T=_-A)-5,h="center"):(f=(w=b+A)+5,h="top")):"rightBottom"===o?(b=c[2][0],_=c[2][1],"horizontal"===t?(p=(T=_+A)+5,h="center"):(f=(w=b+A)+5,h="bottom")):"leftTop"===o?(b=c[0][0],_="horizontal"===t?c[0][1]:c[1][1],"horizontal"===t?(p=(T=_-A)-5,h="center"):(f=(w=b-A)-5,h="right")):"leftBottom"===o?(b="horizontal"===t?c[1][0]:c[3][0],_="horizontal"===t?c[1][1]:c[2][1],"horizontal"===t?(p=(T=_+A)+5,h="center"):(f=(w=b-A)-5,h="right")):(b=(c[1][0]+c[2][0])/2,_=(c[1][1]+c[2][1])/2,"horizontal"===t?(p=(T=_+A)+5,h="center"):(f=(w=b+A)+5,h="left")),"horizontal"===t?f=w=b:p=T=_,m=[[b,_],[w,T]]}l.label={linePoints:m,x:f,y:p,verticalAlign:"middle",textAlign:h,inside:u}})}(n)})}var PY=.3,IY=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t._dataGroup=new Kt,t._initialized=!1,t}return ot(i,e),i.prototype.init=function(){this.group.add(this._dataGroup)},i.prototype.render=function(t,n,r,a){this._progressiveEls=null;var o=this._dataGroup,s=t.getData(),l=this._data,c=t.coordinateSystem,u=c.dimensions,h=vP(t);if(s.diff(l).add(function f(_){y1(gP(s,o,_,u,c),s,_,h)}).update(function p(_,w){var T=l.getItemGraphicEl(w),A=pP(s,_,u,c);s.setItemGraphicEl(_,T),Ve(T,{shape:{points:A}},t,_),ro(T),y1(T,s,_,h)}).remove(function m(_){var w=l.getItemGraphicEl(_);o.remove(w)}).execute(),!this._initialized){this._initialized=!0;var b=function OY(e,i,t){var n=e.model,r=e.getRect(),a=new De({shape:{x:r.x,y:r.y,width:r.width,height:r.height}}),o="horizontal"===n.get("layout")?"width":"height";return a.setShape(o,0),pi(a,{shape:{width:r.width,height:r.height}},i,t),a}(c,t,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(b)}this._data=s},i.prototype.incrementalPrepareRender=function(t,n,r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},i.prototype.incrementalRender=function(t,n,r){for(var a=n.getData(),o=n.coordinateSystem,s=o.dimensions,l=vP(n),c=this._progressiveEls=[],u=t.start;u<t.end;u++){var h=gP(a,this._dataGroup,u,s,o);h.incremental=!0,y1(h,a,u,l),c.push(h)}},i.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},i.type="parallel",i}(oi);function pP(e,i,t,n){for(var r=[],a=0;a<t.length;a++){var o=t[a],s=e.get(e.mapDimension(o),i);EY(s,n.getAxis(o).type)||r.push(n.dataToPoint(s,o))}return r}function gP(e,i,t,n,r){var a=pP(e,t,n,r),o=new Pr({shape:{points:a},z2:10});return i.add(o),e.setItemGraphicEl(t,o),o}function vP(e){var i=e.get("smooth",!0);return!0===i&&(i=PY),Ea(i=Ls(i))&&(i=0),{smooth:i}}function y1(e,i,t,n){e.useStyle(i.getItemVisual(t,"style")),e.style.fill=null,e.setShape("smooth",n.smooth);var r=i.getItemModel(t),a=r.getModel("emphasis");In(e,r,"lineStyle"),Ti(e,a.get("focus"),a.get("blurScope"),a.get("disabled"))}function EY(e,i){return"category"===i?null==e:null==e||isNaN(e)}const FY=IY;var RY=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return ot(i,e),i.prototype.getInitialData=function(t,n){return Bs(null,this,{useEncodeDefaulter:Dt(BY,null,this)})},i.prototype.getRawIndicesByActiveState=function(t){var n=this.coordinateSystem,r=this.getData(),a=[];return n.eachActiveState(r,function(o,s){t===o&&a.push(r.getRawIndex(s))}),a},i.type="series.parallel",i.dependencies=["parallel"],i.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},i}(mi);function BY(e){var i=e.ecModel.getComponent("parallel",e.get("parallelIndex"));if(i){var t={};return U(i.dimensions,function(n){var r=function VY(e){return+e.replace("dim","")}(n);t[n]=r}),t}}const zY=RY;var NY=["lineStyle","opacity"],GY={seriesType:"parallel",reset:function(e,i){var t=e.coordinateSystem,n={normal:e.get(["lineStyle","opacity"]),active:e.get("activeOpacity"),inactive:e.get("inactiveOpacity")};return{progress:function(r,a){t.eachActiveState(a,function(o,s){var l=n[o];if("normal"===o&&a.hasItemOption){var c=a.getItemModel(s).get(NY,!0);null!=c&&(l=c)}a.ensureUniqueItemVisual(s,"style").opacity=l},r.start,r.end)}}}};const HY=GY;function WY(e){(function YY(e){if(!e.parallel){var i=!1;U(e.series,function(t){t&&"parallel"===t.type&&(i=!0)}),i&&(e.parallel=[{}])}})(e),function XY(e){U(je(e.parallelAxis),function(t){if(Bt(t)){var n=t.parallelIndex||0,r=je(e.parallel)[n];r&&r.parallelAxisDefault&&ie(t,r.parallelAxisDefault,!1)}})}(e)}var ZY=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.render=function(t,n,r){this._model=t,this._api=r,this._handlers||(this._handlers={},U($Y,function(a,o){r.getZr().on(o,this._handlers[o]=Dt(a,this))},this)),Nh(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},i.prototype.dispose=function(t,n){Af(this,"_throttledDispatchExpand"),U(this._handlers,function(r,a){n.getZr().off(a,r)}),this._handlers=null},i.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},i.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(ft({type:"parallelAxisExpand"},t))},i.type="parallel",i}(Mi),$Y={mousedown:function(e){_1(this,"click")&&(this._mouseDownPoint=[e.offsetX,e.offsetY])},mouseup:function(e){var i=this._mouseDownPoint;if(_1(this,"click")&&i){var t=[e.offsetX,e.offsetY];if(Math.pow(i[0]-t[0],2)+Math.pow(i[1]-t[1],2)>5)return;var r=this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]);"none"!==r.behavior&&this._dispatchExpand({axisExpandWindow:r.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(e){if(!this._mouseDownPoint&&_1(this,"mousemove")){var i=this._model,t=i.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX,e.offsetY]),n=t.behavior;"jump"===n&&this._throttledDispatchExpand.debounceNextCall(i.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===n?null:{axisExpandWindow:t.axisExpandWindow,animation:"jump"===n?null:{duration:0}})}}};function _1(e,i){var t=e._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===i}const jY=ZY;var qY=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.init=function(){e.prototype.init.apply(this,arguments),this.mergeOption({})},i.prototype.mergeOption=function(t){t&&ie(this.option,t,!0),this._initDimensions()},i.prototype.contains=function(t,n){var r=t.get("parallelIndex");return null!=r&&n.getComponent("parallel",r)===this},i.prototype.setAxisExpand=function(t){U(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(n){t.hasOwnProperty(n)&&(this.option[n]=t[n])},this)},i.prototype._initDimensions=function(){var t=this.dimensions=[],n=this.parallelAxisIndex=[];U(ve(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(a){return(a.get("parallelIndex")||0)===this.componentIndex},this),function(a){t.push("dim"+a.get("dim")),n.push(a.componentIndex)})},i.type="parallel",i.dependencies=["parallelAxis"],i.layoutMode="box",i.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},i}(Oe);const KY=qY;var QY=function(e){function i(t,n,r,a,o){var s=e.call(this,t,n,r)||this;return s.type=a||"value",s.axisIndex=o,s}return ot(i,e),i.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},i}(po);const JY=QY;function wu(e,i,t,n,r,a){e=e||0;var o=t[1]-t[0];if(null!=r&&(r=rd(r,[0,o])),null!=a&&(a=Math.max(a,r??0)),"all"===n){var s=Math.abs(i[1]-i[0]);s=rd(s,[0,o]),r=a=rd(s,[r,a]),n=0}i[0]=rd(i[0],t),i[1]=rd(i[1],t);var l=x1(i,n);i[n]+=e;var h,c=r||0,u=t.slice();return l.sign<0?u[0]+=c:u[1]-=c,i[n]=rd(i[n],u),h=x1(i,n),null!=r&&(h.sign!==l.sign||h.span<r)&&(i[1-n]=i[n]+l.sign*r),h=x1(i,n),null!=a&&h.span>a&&(i[1-n]=i[n]+h.sign*a),i}function x1(e,i){var t=e[i]-e[1-i];return{span:Math.abs(t),sign:t>0?-1:t<0?1:i?-1:1}}function rd(e,i){return Math.min(null!=i[1]?i[1]:1/0,Math.max(null!=i[0]?i[0]:-1/0,e))}var b1=U,mP=Math.min,yP=Math.max,_P=Math.floor,tX=Math.ceil,xP=ki,eX=Math.PI,iX=function(){function e(i,t,n){this.type="parallel",this._axesMap=Mt(),this._axesLayout={},this.dimensions=i.dimensions,this._model=i,this._init(i,t,n)}return e.prototype._init=function(i,t,n){var a=i.parallelAxisIndex;b1(i.dimensions,function(o,s){var l=a[s],c=t.getComponent("parallelAxis",l),u=this._axesMap.set(o,new JY(o,Vv(c),[0,0],c.get("type"),l));u.onBand="category"===u.type&&c.get("boundaryGap"),u.inverse=c.get("inverse"),c.axis=u,u.model=c,u.coordinateSystem=c.coordinateSystem=this},this)},e.prototype.update=function(i,t){this._updateAxesFromSeries(this._model,i)},e.prototype.containPoint=function(i){var t=this._makeLayoutInfo(),n=t.axisBase,r=t.layoutBase,a=t.pixelDimIndex,o=i[1-a],s=i[a];return o>=n&&o<=n+t.axisLength&&s>=r&&s<=r+t.layoutLength},e.prototype.getModel=function(){return this._model},e.prototype._updateAxesFromSeries=function(i,t){t.eachSeries(function(n){if(i.contains(n,t)){var r=n.getData();b1(this.dimensions,function(a){var o=this._axesMap.get(a);o.scale.unionExtentFromData(r,r.mapDimension(a)),Qh(o.scale,o.model)},this)}},this)},e.prototype.resize=function(i,t){this._rect=qi(i.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),this._layoutAxes()},e.prototype.getRect=function(){return this._rect},e.prototype._makeLayoutInfo=function(){var m,i=this._model,t=this._rect,n=["x","y"],r=["width","height"],a=i.get("layout"),o="horizontal"===a?0:1,s=t[r[o]],l=[0,s],c=this.dimensions.length,u=im(i.get("axisExpandWidth"),l),h=im(i.get("axisExpandCount")||0,[0,c]),f=i.get("axisExpandable")&&c>3&&c>h&&h>1&&u>0&&s>0,p=i.get("axisExpandWindow");p?(m=im(p[1]-p[0],l),p[1]=p[0]+m):(m=im(u*(h-1),l),(p=[u*(i.get("axisExpandCenter")||_P(c/2))-m/2])[1]=p[0]+m);var _=(s-m)/(c-h);_<3&&(_=0);var w=[_P(xP(p[0]/u,1))+1,tX(xP(p[1]/u,1))-1];return{layout:a,pixelDimIndex:o,layoutBase:t[n[o]],layoutLength:s,axisBase:t[n[1-o]],axisLength:t[r[1-o]],axisExpandable:f,axisExpandWidth:u,axisCollapseWidth:_,axisExpandWindow:p,axisCount:c,winInnerIndices:w,axisExpandWindow0Pos:_/u*p[0]}},e.prototype._layoutAxes=function(){var i=this._rect,t=this._axesMap,n=this.dimensions,r=this._makeLayoutInfo(),a=r.layout;t.each(function(o){var s=[0,r.axisLength],l=o.inverse?1:0;o.setExtent(s[l],s[1-l])}),b1(n,function(o,s){var l=(r.axisExpandable?rX:nX)(s,r),c={horizontal:{x:l.position,y:r.axisLength},vertical:{x:0,y:l.position}},h=[c[a].x+i.x,c[a].y+i.y],f={horizontal:eX/2,vertical:0}[a],p=[1,0,0,1,0,0];Ri(p,p,f),mr(p,p,h),this._axesLayout[o]={position:h,rotation:f,transform:p,axisNameAvailableWidth:l.axisNameAvailableWidth,axisLabelShow:l.axisLabelShow,nameTruncateMaxWidth:l.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},e.prototype.getAxis=function(i){return this._axesMap.get(i)},e.prototype.dataToPoint=function(i,t){return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(i),t)},e.prototype.eachActiveState=function(i,t,n,r){null==n&&(n=0),null==r&&(r=i.count());var a=this._axesMap,o=this.dimensions,s=[],l=[];U(o,function(_){s.push(i.mapDimension(_)),l.push(a.get(_).model)});for(var c=this.hasAxisBrushed(),u=n;u<r;u++){var h=void 0;if(c){h="active";for(var f=i.getValues(s,u),p=0,m=o.length;p<m;p++)if("inactive"===l[p].getActiveState(f[p])){h="inactive";break}}else h="normal";t(h,u)}},e.prototype.hasAxisBrushed=function(){for(var i=this.dimensions,t=this._axesMap,n=!1,r=0,a=i.length;r<a;r++)"normal"!==t.get(i[r]).model.getActiveState()&&(n=!0);return n},e.prototype.axisCoordToPoint=function(i,t){return lo([i,0],this._axesLayout[t].transform)},e.prototype.getAxisLayout=function(i){return Gt(this._axesLayout[i])},e.prototype.getSlidedAxisExpandWindow=function(i){var t=this._makeLayoutInfo(),n=t.pixelDimIndex,r=t.axisExpandWindow.slice(),a=r[1]-r[0],o=[0,t.axisExpandWidth*(t.axisCount-1)];if(!this.containPoint(i))return{behavior:"none",axisExpandWindow:r};var l,s=i[n]-t.layoutBase-t.axisExpandWindow0Pos,c="slide",u=t.axisCollapseWidth,h=this._model.get("axisExpandSlideTriggerArea"),f=null!=h[0];if(u)f&&u&&s<a*h[0]?(c="jump",l=s-a*h[2]):f&&u&&s>a*(1-h[0])?(c="jump",l=s-a*(1-h[2])):(l=s-a*h[1])>=0&&(l=s-a*(1-h[1]))<=0&&(l=0),(l*=t.axisExpandWidth/u)?wu(l,r,o,"all"):c="none";else{var p=r[1]-r[0];(r=[yP(0,o[1]*s/p-p/2)])[1]=mP(o[1],r[0]+p),r[0]=r[1]-p}return{axisExpandWindow:r,behavior:c}},e}();function im(e,i){return mP(yP(e,i[0]),i[1])}function nX(e,i){var t=i.layoutLength/(i.axisCount-1);return{position:t*e,axisNameAvailableWidth:t,axisLabelShow:!0}}function rX(e,i){var s,u,n=i.axisExpandWidth,a=i.axisCollapseWidth,o=i.winInnerIndices,l=a,c=!1;return e<o[0]?(s=e*a,u=a):e<=o[1]?(s=i.axisExpandWindow0Pos+e*n-i.axisExpandWindow[0],l=n,c=!0):(s=i.layoutLength-(i.axisCount-1-e)*a,u=a),{position:s,axisNameAvailableWidth:l,axisLabelShow:c,nameTruncateMaxWidth:u}}const aX=iX;var sX={create:function oX(e,i){var t=[];return e.eachComponent("parallel",function(n,r){var a=new aX(n,e,i);a.name="parallel_"+r,a.resize(n,i),n.coordinateSystem=a,a.model=n,t.push(a)}),e.eachSeries(function(n){if("parallel"===n.get("coordinateSystem")){var r=n.getReferringComponents("parallel",zi).models[0];n.coordinateSystem=r.coordinateSystem}}),t}};const lX=sX;var bP=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.activeIntervals=[],t}return ot(i,e),i.prototype.getAreaSelectStyle=function(){return Pc([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},i.prototype.setActiveIntervals=function(t){var n=this.activeIntervals=Gt(t);if(n)for(var r=n.length-1;r>=0;r--)va(n[r])},i.prototype.getActiveState=function(t){var n=this.activeIntervals;if(!n.length)return"normal";if(null==t||isNaN(+t))return"inactive";if(1===n.length){var r=n[0];if(r[0]<=t&&t<=r[1])return"active"}else for(var a=0,o=n.length;a<o;a++)if(n[a][0]<=t&&t<=n[a][1])return"active";return"inactive"},i}(Oe);It(bP,qf);const CP=bP;var Tu=!0,gp=Math.min,ad=Math.max,cX=Math.pow,uX=1e4,hX=6,dX=6,SP="globalPan",fX={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},pX={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},wP={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},gX=0,vX=function(e){function i(t){var n=e.call(this)||this;return n._track=[],n._covers=[],n._handlers={},n._zr=t,n.group=new Kt,n._uid="brushController_"+gX++,U(SX,function(r,a){this._handlers[a]=Dt(r,this)},n),n}return ot(i,e),i.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},i.prototype._doEnableBrush=function(t){var n=this._zr;this._enableGlobalPan||function _8(e,i,t){Lx(e)[i]=t}(n,SP,this._uid),U(this._handlers,function(r,a){n.on(a,r)}),this._brushType=t.brushType,this._brushOption=ie(Gt(wP),t,!0)},i.prototype._doDisableBrush=function(){var t=this._zr;(function x8(e,i,t){var n=Lx(e);n[i]===t&&(n[i]=null)})(t,SP,this._uid),U(this._handlers,function(n,r){t.off(r,n)}),this._brushType=this._brushOption=null},i.prototype.setPanels=function(t){if(t&&t.length){var n=this._panels={};U(t,function(r){n[r.panelId]=Gt(r)})}else this._panels=null;return this},i.prototype.mount=function(t){this._enableGlobalPan=(t=t||{}).enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=n.getLocalTransform(),this},i.prototype.updateCovers=function(t){t=mt(t,function(f){return ie(Gt(wP),f,!0)});var n="\0-brush-index-",r=this._covers,a=this._covers=[],o=this,s=this._creatingCover;return new Rs(r,t,function c(f,p){return l(f.__brushOption,p)},l).add(u).update(u).remove(function h(f){r[f]!==s&&o.group.remove(r[f])}).execute(),this;function l(f,p){return(null!=f.id?f.id:n+p)+"-"+f.brushType}function u(f,p){var m=t[f];if(null!=p&&r[p]===s)a[f]=r[p];else{var b=a[f]=null!=p?(r[p].__brushOption=m,r[p]):MP(o,TP(o,m));C1(o,b)}}},i.prototype.unmount=function(){return this.enableBrush(!1),T1(this),this._zr.remove(this.group),this},i.prototype.dispose=function(){this.unmount(),this.off()},i}(Nn);function TP(e,i){var t=nm[i.brushType].createCover(e,i);return t.__brushOption=i,LP(t,i),e.group.add(t),t}function MP(e,i){var t=S1(i);return t.endCreating&&(t.endCreating(e,i),LP(i,i.__brushOption)),i}function AP(e,i){var t=i.__brushOption;S1(i).updateCoverShape(e,i,t.range,t)}function LP(e,i){var t=i.z;null==t&&(t=uX),e.traverse(function(n){n.z=t,n.z2=t})}function C1(e,i){S1(i).updateCommon(e,i),AP(e,i)}function S1(e){return nm[e.__brushOption.brushType]}function w1(e,i,t){var n=e._panels;if(!n)return Tu;var r,a=e._transform;return U(n,function(o){o.isTargetByCursor(i,t,a)&&(r=o)}),r}function kP(e,i){var t=e._panels;if(!t)return Tu;var n=i.__brushOption.panelId;return null!=n?t[n]:Tu}function T1(e){var i=e._covers,t=i.length;return U(i,function(n){e.group.remove(n)},e),i.length=0,!!t}function Mu(e,i){var t=mt(e._covers,function(n){var r=n.__brushOption,a=Gt(r.range);return{brushType:r.brushType,panelId:r.panelId,range:a}});e.trigger("brush",{areas:t,isEnd:!!i.isEnd,removeOnClick:!!i.removeOnClick})}function DP(e){var i=e.length-1;return i<0&&(i=0),[e[0],e[i]]}function PP(e,i,t,n){var r=new Kt;return r.add(new De({name:"main",style:A1(t),silent:!0,draggable:!0,cursor:"move",drift:jt(EP,e,i,r,["n","s","w","e"]),ondragend:jt(Mu,i,{isEnd:!0})})),U(n,function(a){r.add(new De({name:a.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:jt(EP,e,i,r,a),ondragend:jt(Mu,i,{isEnd:!0})}))}),r}function IP(e,i,t,n){var r=n.brushStyle.lineWidth||0,a=ad(r,dX),o=t[0][0],s=t[1][0],l=o-r/2,c=s-r/2,u=t[0][1],h=t[1][1],f=u-a+r/2,p=h-a+r/2,m=u-o,b=h-s,_=m+r,w=b+r;Gs(e,i,"main",o,s,m,b),n.transformable&&(Gs(e,i,"w",l,c,a,w),Gs(e,i,"e",f,c,a,w),Gs(e,i,"n",l,c,_,a),Gs(e,i,"s",l,p,_,a),Gs(e,i,"nw",l,c,a,a),Gs(e,i,"ne",f,c,a,a),Gs(e,i,"sw",l,p,a,a),Gs(e,i,"se",f,p,a,a))}function M1(e,i){var t=i.__brushOption,n=t.transformable,r=i.childAt(0);r.useStyle(A1(t)),r.attr({silent:!n,cursor:n?"move":"default"}),U([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(a){var o=i.childOfName(a.join("")),s=1===a.length?L1(e,a[0]):function _X(e,i){var t=[L1(e,i[0]),L1(e,i[1])];return("e"===t[0]||"w"===t[0])&&t.reverse(),t.join("")}(e,a);o&&o.attr({silent:!n,invisible:!n,cursor:n?pX[s]+"-resize":null})})}function Gs(e,i,t,n,r,a,o){var s=i.childOfName(t);s&&s.setShape(function bX(e){var i=gp(e[0][0],e[1][0]),t=gp(e[0][1],e[1][1]);return{x:i,y:t,width:ad(e[0][0],e[1][0])-i,height:ad(e[0][1],e[1][1])-t}}(k1(e,i,[[n,r],[n+a,r+o]])))}function A1(e){return Rt({strokeNoScale:!0},e.brushStyle)}function OP(e,i,t,n){var r=[gp(e,t),gp(i,n)],a=[ad(e,t),ad(i,n)];return[[r[0],a[0]],[r[1],a[1]]]}function L1(e,i){var r=Qg({w:"left",e:"right",n:"top",s:"bottom"}[i],function yX(e){return tu(e.group)}(e));return{left:"w",right:"e",top:"n",bottom:"s"}[r]}function EP(e,i,t,n,r,a){var o=t.__brushOption,s=e.toRectRange(o.range),l=FP(i,r,a);U(n,function(c){var u=fX[c];s[u[0]][u[1]]+=l[u[0]]}),o.range=e.fromRectRange(OP(s[0][0],s[1][0],s[0][1],s[1][1])),C1(i,t),Mu(i,{isEnd:!1})}function xX(e,i,t,n){var r=i.__brushOption.range,a=FP(e,t,n);U(r,function(o){o[0]+=a[0],o[1]+=a[1]}),C1(e,i),Mu(e,{isEnd:!1})}function FP(e,i,t){var n=e.group,r=n.transformCoordToLocal(i,t),a=n.transformCoordToLocal(0,0);return[r[0]-a[0],r[1]-a[1]]}function k1(e,i,t){var n=kP(e,i);return n&&n!==Tu?n.clipPath(t,e._transform):Gt(t)}function D1(e){var i=e.event;i.preventDefault&&i.preventDefault()}function P1(e,i,t){return e.childOfName("main").contain(i,t)}function RP(e,i,t,n){var s,r=e._creatingCover,a=e._creatingPanel,o=e._brushOption;if(e._track.push(t.slice()),function mX(e){var i=e._track;if(!i.length)return!1;var t=i[i.length-1],n=i[0],r=t[0]-n[0],a=t[1]-n[1];return cX(r*r+a*a,.5)>hX}(e)||r){if(a&&!r){"single"===o.brushMode&&T1(e);var l=Gt(o);l.brushType=BP(l.brushType,a),l.panelId=a===Tu?null:a.panelId,r=e._creatingCover=TP(e,l),e._covers.push(r)}if(r){var c=nm[BP(e._brushType,a)];r.__brushOption.range=c.getCreatingRange(k1(e,r,e._track)),n&&(MP(e,r),c.updateCommon(e,r)),AP(e,r),s={isEnd:n}}}else n&&"single"===o.brushMode&&o.removeOnClick&&w1(e,i,t)&&T1(e)&&(s={isEnd:n,removeOnClick:!0});return s}function BP(e,i){return"auto"===e?i.defaultBrushType:e}var SX={mousedown:function(e){if(this._dragging)VP(this,e);else if(!e.target||!e.target.draggable){D1(e);var i=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=w1(this,e,i))&&(this._dragging=!0,this._track=[i.slice()])}},mousemove:function(e){var n=this.group.transformCoordToLocal(e.offsetX,e.offsetY);if(function CX(e,i,t){if(e._brushType&&!function wX(e,i,t){var n=e._zr;return i<0||i>n.getWidth()||t<0||t>n.getHeight()}(e,i.offsetX,i.offsetY)){var n=e._zr,r=e._covers,a=w1(e,i,t);if(!e._dragging)for(var o=0;o<r.length;o++){var s=r[o].__brushOption;if(a&&(a===Tu||s.panelId===a.panelId)&&nm[s.brushType].contain(r[o],t[0],t[1]))return}a&&n.setCursorStyle("crosshair")}}(this,e,n),this._dragging){D1(e);var r=RP(this,e,n,!1);r&&Mu(this,r)}},mouseup:function(e){VP(this,e)}};function VP(e,i){if(e._dragging){D1(i);var r=e.group.transformCoordToLocal(i.offsetX,i.offsetY),a=RP(e,i,r,!0);e._dragging=!1,e._track=[],e._creatingCover=null,a&&Mu(e,a)}}var nm={lineX:zP(0),lineY:zP(1),rect:{createCover:function(e,i){function t(n){return n}return PP({toRectRange:t,fromRectRange:t},e,i,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var i=DP(e);return OP(i[1][0],i[1][1],i[0][0],i[0][1])},updateCoverShape:function(e,i,t,n){IP(e,i,t,n)},updateCommon:M1,contain:P1},polygon:{createCover:function(e,i){var t=new Kt;return t.add(new Pr({name:"main",style:A1(i),silent:!0})),t},getCreatingRange:function(e){return e},endCreating:function(e,i){i.remove(i.childAt(0)),i.add(new Dr({name:"main",draggable:!0,drift:jt(xX,e,i),ondragend:jt(Mu,e,{isEnd:!0})}))},updateCoverShape:function(e,i,t,n){i.childAt(0).setShape({points:k1(e,i,t)})},updateCommon:M1,contain:P1}};function zP(e){return{createCover:function(i,t){return PP({toRectRange:function(n){var r=[n,[0,100]];return e&&r.reverse(),r},fromRectRange:function(n){return n[e]}},i,t,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(i){var t=DP(i);return[gp(t[0][e],t[1][e]),ad(t[0][e],t[1][e])]},updateCoverShape:function(i,t,n,r){var a,o=kP(i,t);if(o!==Tu&&o.getLinearBrushOtherExtent)a=o.getLinearBrushOtherExtent(e);else{var s=i._zr;a=[0,[s.getWidth(),s.getHeight()][1-e]]}var l=[n,a];e&&l.reverse(),IP(i,t,l,r)},updateCommon:M1,contain:P1}}const I1=vX;function NP(e){return e=O1(e),function(i){return $2(i,e)}}function GP(e,i){return e=O1(e),function(t){var n=i??t,a=n?e.x:e.y;return[a,a+((n?e.width:e.height)||0)]}}function HP(e,i,t){var n=O1(e);return function(r,a){return n.contain(a[0],a[1])&&!Hv(r,i,t)}}function O1(e){return $t.create(e)}var TX=["axisLine","axisTickLabel","axisName"],MX=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.init=function(t,n){e.prototype.init.apply(this,arguments),(this._brushController=new I1(n.getZr())).on("brush",Dt(this._onBrush,this))},i.prototype.render=function(t,n,r,a){if(!function AX(e,i,t){return t&&"axisAreaSelect"===t.type&&i.findComponents({mainType:"parallelAxis",query:t})[0]===e}(t,n,a)){this.axisModel=t,this.api=r,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Kt,this.group.add(this._axisGroup),t.get("show")){var s=function kX(e,i){return i.getComponent("parallel",e.get("parallelIndex"))}(t,n),l=s.coordinateSystem,c=t.getAreaSelectStyle(),u=c.width,p=ft({strokeContainThreshold:u},l.getAxisLayout(t.axis.dim)),m=new zs(t,p);U(TX,m.add,m),this._axisGroup.add(m.getGroup()),this._refreshBrushController(p,c,t,s,u,r),wf(o,this._axisGroup,t)}}},i.prototype._refreshBrushController=function(t,n,r,a,o,s){var l=r.axis.getExtent(),c=l[1]-l[0],u=Math.min(30,.1*Math.abs(c)),h=$t.create({x:l[0],y:-o/2,width:c,height:o});h.x-=u,h.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:"pl",clipPath:NP(h),isTargetByCursor:HP(h,s,a),getLinearBrushOtherExtent:GP(h,0)}]).enableBrush({brushType:"lineX",brushStyle:n,removeOnClick:!0}).updateCovers(function LX(e){var i=e.axis;return mt(e.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[i.dataToCoord(t[0],!0),i.dataToCoord(t[1],!0)]}})}(r))},i.prototype._onBrush=function(t){var r=this.axisModel,a=r.axis,o=mt(t.areas,function(s){return[a.coordToData(s.range[0],!0),a.coordToData(s.range[1],!0)]});(!r.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:r.id,intervals:o})},i.prototype.dispose=function(){this._brushController.dispose()},i.type="parallelAxis",i}(Mi);const DX=MX;var PX={type:"axisAreaSelect",event:"axisAreaSelected"},OX={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function WP(e){e.registerComponentView(jY),e.registerComponentModel(KY),e.registerCoordinateSystem("parallel",lX),e.registerPreprocessor(WY),e.registerComponentModel(CP),e.registerComponentView(DX),Kh(e,"parallel",CP,OX),function IX(e){e.registerAction(PX,function(i,t){t.eachComponent({mainType:"parallelAxis",query:i},function(n){n.axis.model.setActiveIntervals(i.intervals)})}),e.registerAction("parallelAxisExpand",function(i,t){t.eachComponent({mainType:"parallel",query:i},function(n){n.setAxisExpand(i)})})}(e)}var FX=function e(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},RX=function(e){function i(t){return e.call(this,t)||this}return ot(i,e),i.prototype.getDefaultShape=function(){return new FX},i.prototype.buildPath=function(t,n){var r=n.extent;t.moveTo(n.x1,n.y1),t.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),"vertical"===n.orient?(t.lineTo(n.x2+r,n.y2),t.bezierCurveTo(n.cpx2+r,n.cpy2,n.cpx1+r,n.cpy1,n.x1+r,n.y1)):(t.lineTo(n.x2,n.y2+r),t.bezierCurveTo(n.cpx2,n.cpy2+r,n.cpx1,n.cpy1+r,n.x1,n.y1+r)),t.closePath()},i.prototype.highlight=function(){Is(this)},i.prototype.downplay=function(){Os(this)},i}(ge),BX=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t._focusAdjacencyDisabled=!1,t}return ot(i,e),i.prototype.render=function(t,n,r){var a=this,o=t.getGraph(),s=this.group,l=t.layoutInfo,c=l.width,u=l.height,h=t.getData(),f=t.getData("edge"),p=t.get("orient");this._model=t,s.removeAll(),s.x=l.x,s.y=l.y,o.eachEdge(function(m){var b=new RX,_=Jt(b);_.dataIndex=m.dataIndex,_.seriesIndex=t.seriesIndex,_.dataType="edge";var j,J,tt,et,lt,st,ut,vt,w=m.getModel(),T=w.getModel("lineStyle"),A=T.get("curveness"),P=m.node1.getLayout(),F=m.node1.getModel(),O=F.get("localX"),V=F.get("localY"),N=m.node2.getLayout(),G=m.node2.getModel(),H=G.get("localX"),X=G.get("localY"),q=m.getLayout();b.shape.extent=Math.max(1,q.dy),b.shape.orient=p,"vertical"===p?(lt=j=(null!=O?O*c:P.x)+q.sy,st=(J=(null!=V?V*u:P.y)+P.dy)*(1-A)+(et=null!=X?X*u:N.y)*A,ut=tt=(null!=H?H*c:N.x)+q.ty,vt=J*A+et*(1-A)):(lt=(j=(null!=O?O*c:P.x)+P.dx)*(1-A)+(tt=null!=H?H*c:N.x)*A,st=J=(null!=V?V*u:P.y)+q.sy,ut=j*A+tt*(1-A),vt=et=(null!=X?X*u:N.y)+q.ty),b.setShape({x1:j,y1:J,x2:tt,y2:et,cpx1:lt,cpy1:st,cpx2:ut,cpy2:vt}),b.useStyle(T.getItemStyle()),YP(b.style,p,m);var _t=""+w.get("value"),St=cn(w,"edgeLabel");On(b,St,{labelFetcher:{getFormattedLabel:function(ne,le,Ut,Vt,bt,kt){return t.getFormattedLabel(ne,le,"edge",Vt,gr(bt,St.normal&&St.normal.get("formatter"),_t),kt)}},labelDataIndex:m.dataIndex,defaultText:_t}),b.setTextConfig({position:"inside"});var Et=w.getModel("emphasis");In(b,w,"lineStyle",function(ne){var le=ne.getItemStyle();return YP(le,p,m),le}),s.add(b),f.setItemGraphicEl(m.dataIndex,b);var Ft=Et.get("focus");Ti(b,"adjacency"===Ft?m.getAdjacentDataIndices():"trajectory"===Ft?m.getTrajectoryDataIndices():Ft,Et.get("blurScope"),Et.get("disabled"))}),o.eachNode(function(m){var b=m.getLayout(),_=m.getModel(),w=_.get("localX"),T=_.get("localY"),A=_.getModel("emphasis"),P=_.get(["itemStyle","borderRadius"])||0,F=new De({shape:{x:null!=w?w*c:b.x,y:null!=T?T*u:b.y,width:b.dx,height:b.dy,r:P},style:_.getModel("itemStyle").getItemStyle(),z2:10});On(F,cn(_),{labelFetcher:{getFormattedLabel:function(V,N){return t.getFormattedLabel(V,N,"node")}},labelDataIndex:m.dataIndex,defaultText:m.id}),F.disableLabelAnimation=!0,F.setStyle("fill",m.getVisual("color")),F.setStyle("decal",m.getVisual("style").decal),In(F,_),s.add(F),h.setItemGraphicEl(m.dataIndex,F),Jt(F).dataType="node";var O=A.get("focus");Ti(F,"adjacency"===O?m.getAdjacentDataIndices():"trajectory"===O?m.getTrajectoryDataIndices():O,A.get("blurScope"),A.get("disabled"))}),h.eachItemGraphicEl(function(m,b){h.getItemModel(b).get("draggable")&&(m.drift=function(w,T){a._focusAdjacencyDisabled=!0,this.shape.x+=w,this.shape.y+=T,this.dirty(),r.dispatchAction({type:"dragNode",seriesId:t.id,dataIndex:h.getRawIndex(b),localX:this.shape.x/c,localY:this.shape.y/u})},m.ondragend=function(){a._focusAdjacencyDisabled=!1},m.draggable=!0,m.cursor="move")}),!this._data&&t.isAnimationEnabled()&&s.setClipPath(function VX(e,i,t){var n=new De({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return pi(n,{shape:{width:e.width+20}},i,t),n}(s.getBoundingRect(),t,function(){s.removeClipPath()})),this._data=t.getData()},i.prototype.dispose=function(){},i.type="sankey",i}(oi);function YP(e,i,t){switch(e.fill){case"source":e.fill=t.node1.getVisual("color"),e.decal=t.node1.getVisual("style").decal;break;case"target":e.fill=t.node2.getVisual("color"),e.decal=t.node2.getVisual("style").decal;break;case"gradient":var n=t.node1.getVisual("color"),r=t.node2.getVisual("color");Lt(n)&&Lt(r)&&(e.fill=new Sf(0,0,+("horizontal"===i),+("vertical"===i),[{color:n,offset:0},{color:r,offset:1}]))}}const zX=BX;var NX=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.getInitialData=function(t,n){var r=t.edges||t.links,a=t.data||t.nodes,o=t.levels;this.levelModels=[];for(var s=this.levelModels,l=0;l<o.length;l++)null!=o[l].depth&&o[l].depth>=0&&(s[o[l].depth]=new ai(o[l],this,n));if(a&&r)return fP(a,r,this,!0,function u(h,f){h.wrapMethod("getItemModel",function(p,m){var b=p.parentModel,_=b.getData().getItemLayout(m);if(_){var T=b.levelModels[_.depth];T&&(p.parentModel=T)}return p}),f.wrapMethod("getItemModel",function(p,m){var b=p.parentModel,w=b.getGraph().getEdgeByIndex(m).node1.getLayout();if(w){var A=b.levelModels[w.depth];A&&(p.parentModel=A)}return p})}).data},i.prototype.setNodePosition=function(t,n){var a=(this.option.data||this.option.nodes)[t];a.localX=n[0],a.localY=n[1]},i.prototype.getGraph=function(){return this.getData().graph},i.prototype.getEdgeData=function(){return this.getGraph().edgeData},i.prototype.formatTooltip=function(t,n,r){function a(p){return isNaN(p)||null==p}if("edge"===r){var o=this.getDataParams(t,r),s=o.data,l=o.value;return un("nameValue",{name:s.source+" -- "+s.target,value:l,noValue:a(l)})}var h=this.getGraph().getNodeByIndex(t).getLayout().value,f=this.getDataParams(t,r).data.name;return un("nameValue",{name:null!=f?f+"":null,value:h,noValue:a(h)})},i.prototype.optionUpdated=function(){},i.prototype.getDataParams=function(t,n){var r=e.prototype.getDataParams.call(this,t,n);if(null==r.value&&"node"===n){var o=this.getGraph().getNodeByIndex(t).getLayout().value;r.value=o}return r},i.type="series.sankey",i.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},i}(mi);const GX=NX;function HX(e,i){e.eachSeriesByType("sankey",function(t){var n=t.get("nodeWidth"),r=t.get("nodeGap"),a=function WX(e,i){return qi(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})}(t,i);t.layoutInfo=a;var o=a.width,s=a.height,l=t.getGraph(),c=l.nodes,u=l.edges;!function XX(e){U(e,function(i){var t=Xl(i.outEdges,rm),n=Xl(i.inEdges,rm),r=i.getValue()||0,a=Math.max(t,n,r);i.setLayout({value:a},!0)})}(c),function YX(e,i,t,n,r,a,o,s,l){(function UX(e,i,t,n,r,a,o){for(var s=[],l=[],c=[],u=[],h=0,f=0;f<i.length;f++)s[f]=1;for(f=0;f<e.length;f++)l[f]=e[f].inEdges.length,0===l[f]&&c.push(e[f]);for(var p=-1;c.length;){for(var m=0;m<c.length;m++){var b=c[m],_=b.hostGraph.data.getRawDataItem(b.dataIndex),w=null!=_.depth&&_.depth>=0;w&&_.depth>p&&(p=_.depth),b.setLayout({depth:w?_.depth:h},!0),b.setLayout("vertical"===a?{dy:t}:{dx:t},!0);for(var T=0;T<b.outEdges.length;T++){var A=b.outEdges[T];s[i.indexOf(A)]=0;var F=A.node2;0==--l[e.indexOf(F)]&&u.indexOf(F)<0&&u.push(F)}}++h,c=u,u=[]}for(f=0;f<s.length;f++)if(1===s[f])throw new Error("Sankey is a DAG, the original data has cycle!");var V=p>h-1?p:h-1;o&&"left"!==o&&function ZX(e,i,t,n){if("right"===i){for(var r=[],a=e,o=0;a.length;){for(var s=0;s<a.length;s++){var l=a[s];l.setLayout({skNodeHeight:o},!0);for(var c=0;c<l.inEdges.length;c++){var u=l.inEdges[c];r.indexOf(u.node1)<0&&r.push(u.node1)}}a=r,r=[],++o}U(e,function(h){XP(h)||h.setLayout({depth:Math.max(0,n-h.getLayout().skNodeHeight)},!0)})}else"justify"===i&&function $X(e,i){U(e,function(t){!XP(t)&&!t.outEdges.length&&t.setLayout({depth:i},!0)})}(e,n)}(e,o,0,V),function jX(e,i,t){U(e,function(n){var r=n.getLayout().depth*i;n.setLayout("vertical"===t?{y:r}:{x:r},!0)})}(e,"vertical"===a?(r-t)/V:(n-t)/V,a)})(e,i,t,r,a,s,l),function qX(e,i,t,n,r,a,o){var s=function KX(e,i){var t=[],n="vertical"===i?"y":"x",r=Hy(e,function(a){return a.getLayout()[n]});return r.keys.sort(function(a,o){return a-o}),U(r.keys,function(a){t.push(r.buckets.get(a))}),t}(e,o);(function QX(e,i,t,n,r,a){var o=1/0;U(e,function(s){var l=s.length,c=0;U(s,function(h){c+=h.getLayout().value});var u="vertical"===a?(n-(l-1)*r)/c:(t-(l-1)*r)/c;u<o&&(o=u)}),U(e,function(s){U(s,function(l,c){var u=l.getLayout().value*o;"vertical"===a?(l.setLayout({x:c},!0),l.setLayout({dx:u},!0)):(l.setLayout({y:c},!0),l.setLayout({dy:u},!0))})}),U(i,function(s){var l=+s.getValue()*o;s.setLayout({dy:l},!0)})})(s,i,t,n,r,o),E1(s,r,t,n,o);for(var l=1;a>0;a--)JX(s,l*=.99,o),E1(s,r,t,n,o),rU(s,l,o),E1(s,r,t,n,o)}(e,i,a,r,n,o,s),function aU(e,i){var t="vertical"===i?"x":"y";U(e,function(n){n.outEdges.sort(function(r,a){return r.node2.getLayout()[t]-a.node2.getLayout()[t]}),n.inEdges.sort(function(r,a){return r.node1.getLayout()[t]-a.node1.getLayout()[t]})}),U(e,function(n){var r=0,a=0;U(n.outEdges,function(o){o.setLayout({sy:r},!0),r+=o.getLayout().dy}),U(n.inEdges,function(o){o.setLayout({ty:a},!0),a+=o.getLayout().dy})})}(e,s)}(c,u,n,r,o,s,0!==ve(c,function(b){return 0===b.getLayout().value}).length?0:t.get("layoutIterations"),t.get("orient"),t.get("nodeAlign"))})}function XP(e){var i=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=i.depth&&i.depth>=0}function E1(e,i,t,n,r){var a="vertical"===r?"x":"y";U(e,function(o){o.sort(function(b,_){return b.getLayout()[a]-_.getLayout()[a]});for(var s,l,c,u=0,h=o.length,f="vertical"===r?"dx":"dy",p=0;p<h;p++)(c=u-(l=o[p]).getLayout()[a])>0&&(s=l.getLayout()[a]+c,l.setLayout("vertical"===r?{x:s}:{y:s},!0)),u=l.getLayout()[a]+l.getLayout()[f]+i;if((c=u-i-("vertical"===r?n:t))>0)for(s=l.getLayout()[a]-c,l.setLayout("vertical"===r?{x:s}:{y:s},!0),u=s,p=h-2;p>=0;--p)(c=(l=o[p]).getLayout()[a]+l.getLayout()[f]+i-u)>0&&(s=l.getLayout()[a]-c,l.setLayout("vertical"===r?{x:s}:{y:s},!0)),u=l.getLayout()[a]})}function JX(e,i,t){U(e.slice().reverse(),function(n){U(n,function(r){if(r.outEdges.length){var a=Xl(r.outEdges,tU,t)/Xl(r.outEdges,rm);if(isNaN(a)){var o=r.outEdges.length;a=o?Xl(r.outEdges,eU,t)/o:0}if("vertical"===t){var s=r.getLayout().x+(a-Yl(r,t))*i;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(a-Yl(r,t))*i;r.setLayout({y:l},!0)}}})})}function tU(e,i){return Yl(e.node2,i)*e.getValue()}function eU(e,i){return Yl(e.node2,i)}function iU(e,i){return Yl(e.node1,i)*e.getValue()}function nU(e,i){return Yl(e.node1,i)}function Yl(e,i){return"vertical"===i?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function rm(e){return e.getValue()}function Xl(e,i,t){for(var n=0,r=e.length,a=-1;++a<r;){var o=+i(e[a],t);isNaN(o)||(n+=o)}return n}function rU(e,i,t){U(e,function(n){U(n,function(r){if(r.inEdges.length){var a=Xl(r.inEdges,iU,t)/Xl(r.inEdges,rm);if(isNaN(a)){var o=r.inEdges.length;a=o?Xl(r.inEdges,nU,t)/o:0}if("vertical"===t){var s=r.getLayout().x+(a-Yl(r,t))*i;r.setLayout({x:s},!0)}else{var l=r.getLayout().y+(a-Yl(r,t))*i;r.setLayout({y:l},!0)}}})})}function oU(e){e.eachSeriesByType("sankey",function(i){var t=i.getGraph(),n=t.nodes,r=t.edges;if(n.length){var a=1/0,o=-1/0;U(n,function(s){var l=s.getLayout().value;l<a&&(a=l),l>o&&(o=l)}),U(n,function(s){var c=new Fn({type:"color",mappingMethod:"linear",dataExtent:[a,o],visual:i.get("color")}).mapValueToVisual(s.getLayout().value),u=s.getModel().get(["itemStyle","color"]);null!=u?(s.setVisual("color",u),s.setVisual("style",{fill:u})):(s.setVisual("color",c),s.setVisual("style",{fill:c}))})}r.length&&U(r,function(s){var l=s.getModel().get("lineStyle");s.setVisual("style",l)})})}var UP=function(){function e(){}return e.prototype.getInitialData=function(i,t){var n,l,r=t.getComponent("xAxis",this.get("xAxisIndex")),a=t.getComponent("yAxis",this.get("yAxisIndex")),o=r.get("type"),s=a.get("type");"category"===o?(i.layout="horizontal",n=r.getOrdinalMeta(),l=!0):"category"===s?(i.layout="vertical",n=a.getOrdinalMeta(),l=!0):i.layout=i.layout||"horizontal";var c=["x","y"],u="horizontal"===i.layout?0:1,h=this._baseAxisDim=c[u],f=c[1-u],p=[r,a],m=p[u].get("type"),b=p[1-u].get("type"),_=i.data;if(_&&l){var w=[];U(_,function(P,F){var O;yt(P)?(O=P.slice(),P.unshift(F)):yt(P.value)?((O=ft({},P)).value=O.value.slice(),P.value.unshift(F)):O=P,w.push(O)}),i.data=w}var T=this.defaultValueDimensions,A=[{name:h,type:bv(m),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:f,type:bv(b),dimsDef:T.slice()}];return qh(this,{coordDimensions:A,dimensionsCount:T.length+1,encodeDefaulter:jt(gT,A,this)})},e.prototype.getBaseAxis=function(){var i=this._baseAxisDim;return this.ecModel.getComponent(i+"Axis",this.get(i+"AxisIndex")).axis},e}(),ZP=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],t.visualDrawType="stroke",t}return ot(i,e),i.type="series.boxplot",i.dependencies=["xAxis","yAxis","grid"],i.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},i}(mi);It(ZP,UP,!0);const lU=ZP;var cU=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.render=function(t,n,r){var a=t.getData(),o=this.group,s=this._data;this._data||o.removeAll();var l="horizontal"===t.get("layout")?1:0;a.diff(s).add(function(c){if(a.hasValue(c)){var h=$P(a.getItemLayout(c),a,c,l,!0);a.setItemGraphicEl(c,h),o.add(h)}}).update(function(c,u){var h=s.getItemGraphicEl(u);if(a.hasValue(c)){var f=a.getItemLayout(c);h?(ro(h),jP(f,h,a,c)):h=$P(f,a,c,l),o.add(h),a.setItemGraphicEl(c,h)}else o.remove(h)}).remove(function(c){var u=s.getItemGraphicEl(c);u&&o.remove(u)}).execute(),this._data=a},i.prototype.remove=function(t){var n=this.group,r=this._data;this._data=null,r&&r.eachItemGraphicEl(function(a){a&&n.remove(a)})},i.type="boxplot",i}(oi),uU=function e(){},hU=function(e){function i(t){var n=e.call(this,t)||this;return n.type="boxplotBoxPath",n}return ot(i,e),i.prototype.getDefaultShape=function(){return new uU},i.prototype.buildPath=function(t,n){var r=n.points,a=0;for(t.moveTo(r[a][0],r[a][1]),a++;a<4;a++)t.lineTo(r[a][0],r[a][1]);for(t.closePath();a<r.length;a++)t.moveTo(r[a][0],r[a][1]),a++,t.lineTo(r[a][0],r[a][1])},i}(ge);function $P(e,i,t,n,r){var a=e.ends,o=new hU({shape:{points:r?dU(a,n,e):a}});return jP(e,o,i,t,r),o}function jP(e,i,t,n,r){(0,Te[r?"initProps":"updateProps"])(i,{shape:{points:e.ends}},t.hostModel,n),i.useStyle(t.getItemVisual(n,"style")),i.style.strokeNoScale=!0,i.z2=100;var s=t.getItemModel(n),l=s.getModel("emphasis");In(i,s),Ti(i,l.get("focus"),l.get("blurScope"),l.get("disabled"))}function dU(e,i,t){return mt(e,function(n){return(n=n.slice())[i]=t.initBaseline,n})}const fU=cU;var vp=U;function pU(e){var i=function gU(e){var i=[],t=[];return e.eachSeriesByType("boxplot",function(n){var r=n.getBaseAxis(),a=oe(t,r);a<0&&(t[a=t.length]=r,i[a]={axis:r,seriesModels:[]}),i[a].seriesModels.push(n)}),i}(e);vp(i,function(t){var n=t.seriesModels;n.length&&(function vU(e){var s,i=e.axis,t=e.seriesModels,n=t.length,r=e.boxWidthList=[],a=e.boxOffsetList=[],o=[];if("category"===i.type)s=i.getBandWidth();else{var l=0;vp(t,function(m){l=Math.max(l,m.getData().count())});var c=i.getExtent();s=Math.abs(c[1]-c[0])/l}vp(t,function(m){var b=m.get("boxWidth");yt(b)||(b=[b,b]),o.push([At(b[0],s)||0,At(b[1],s)||0])});var u=.8*s-2,h=u/n*.3,f=(u-h*(n-1))/n,p=f/2-u/2;vp(t,function(m,b){a.push(p),p+=h+f,r.push(Math.min(Math.max(f,o[b][0]),o[b][1]))})}(t),vp(n,function(r,a){!function mU(e,i,t){var n=e.coordinateSystem,r=e.getData(),a=t/2,o="horizontal"===e.get("layout")?0:1,s=1-o,l=["x","y"],c=r.mapDimension(l[o]),u=r.mapDimensionsAll(l[s]);if(!(null==c||u.length<5))for(var h=0;h<r.count();h++){var f=r.get(c,h),p=A(f,u[2],h),m=A(f,u[0],h),b=A(f,u[1],h),_=A(f,u[3],h),w=A(f,u[4],h),T=[];P(T,b,!1),P(T,_,!0),T.push(m,b,w,_),F(T,m),F(T,w),F(T,p),r.setItemLayout(h,{initBaseline:p[s],ends:T})}function A(O,V,N){var X,G=r.get(V,N),H=[];return H[o]=O,H[s]=G,isNaN(O)||isNaN(G)?X=[NaN,NaN]:(X=n.dataToPoint(H))[o]+=i,X}function P(O,V,N){var G=V.slice(),H=V.slice();G[o]+=a,H[o]-=a,N?O.push(G,H):O.push(H,G)}function F(O,V){var N=V.slice(),G=V.slice();N[o]-=a,G[o]+=a,O.push(N,G)}}(r,t.boxOffsetList[a],t.boxWidthList[a])}))})}var _U={type:"echarts:boxplot",transform:function(i){var t=i.upstream;t.sourceFormat!==Yn&&He("");var r=function yU(e,i){for(var t=[],n=[],r=(i=i||{}).boundIQR,a="none"===r||0===r,o=0;o<e.length;o++){var s=va(e[o].slice()),l=zy(s,.25),c=zy(s,.5),u=zy(s,.75),h=s[0],f=s[s.length-1],p=(r??1.5)*(u-l),m=a?h:Math.max(h,l-p),b=a?f:Math.min(f,u+p),_=i.itemNameFormatter,w=Z(_)?_({value:o}):Lt(_)?_.replace("{value}",o+""):o+"";t.push([w,m,l,c,u,b]);for(var T=0;T<s.length;T++){var A=s[T];(A<m||A>b)&&n.push([w,A])}}return{boxData:t,outliers:n}}(t.getRawData(),i.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:r.boxData},{data:r.outliers}]}},bU=["color","borderColor"],CU=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.render=function(t,n,r){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},i.prototype.incrementalPrepareRender=function(t,n,r){this._clear(),this._updateDrawMode(t)},i.prototype.incrementalRender=function(t,n,r,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,n):this._incrementalRenderNormal(t,n)},i.prototype.eachRendered=function(t){Fl(this._progressiveEls||this.group,t)},i.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(null==this._isLargeDraw||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},i.prototype._renderNormal=function(t){var n=t.getData(),r=this._data,a=this.group,o=n.getLayout("isSimpleBox"),s=t.get("clip",!0),l=t.coordinateSystem,c=l.getArea&&l.getArea();this._data||a.removeAll(),n.diff(r).add(function(u){if(n.hasValue(u)){var h=n.getItemLayout(u);if(s&&qP(c,h))return;var f=F1(h,0,!0);pi(f,{shape:{points:h.ends}},t,u),R1(f,n,u,o),a.add(f),n.setItemGraphicEl(u,f)}}).update(function(u,h){var f=r.getItemGraphicEl(h);if(n.hasValue(u)){var p=n.getItemLayout(u);s&&qP(c,p)?a.remove(f):(f?(Ve(f,{shape:{points:p.ends}},t,u),ro(f)):f=F1(p),R1(f,n,u,o),a.add(f),n.setItemGraphicEl(u,f))}else a.remove(f)}).remove(function(u){var h=r.getItemGraphicEl(u);h&&a.remove(h)}).execute(),this._data=n},i.prototype._renderLarge=function(t){this._clear(),KP(t,this.group);var n=t.get("clip",!0)?Uf(t.coordinateSystem,!1,t):null;n?this.group.setClipPath(n):this.group.removeClipPath()},i.prototype._incrementalRenderNormal=function(t,n){for(var o,r=n.getData(),a=r.getLayout("isSimpleBox");null!=(o=t.next());){var l=F1(r.getItemLayout(o));R1(l,r,o,a),l.incremental=!0,this.group.add(l),this._progressiveEls.push(l)}},i.prototype._incrementalRenderLarge=function(t,n){KP(n,this.group,this._progressiveEls,!0)},i.prototype.remove=function(t){this._clear()},i.prototype._clear=function(){this.group.removeAll(),this._data=null},i.type="candlestick",i}(oi),SU=function e(){},wU=function(e){function i(t){var n=e.call(this,t)||this;return n.type="normalCandlestickBox",n}return ot(i,e),i.prototype.getDefaultShape=function(){return new SU},i.prototype.buildPath=function(t,n){var r=n.points;this.__simpleBox?(t.moveTo(r[4][0],r[4][1]),t.lineTo(r[6][0],r[6][1])):(t.moveTo(r[0][0],r[0][1]),t.lineTo(r[1][0],r[1][1]),t.lineTo(r[2][0],r[2][1]),t.lineTo(r[3][0],r[3][1]),t.closePath(),t.moveTo(r[4][0],r[4][1]),t.lineTo(r[5][0],r[5][1]),t.moveTo(r[6][0],r[6][1]),t.lineTo(r[7][0],r[7][1]))},i}(ge);function F1(e,i,t){var n=e.ends;return new wU({shape:{points:t?TU(n,e):n},z2:100})}function qP(e,i){for(var t=!0,n=0;n<i.ends.length;n++)if(e.contain(i.ends[n][0],i.ends[n][1])){t=!1;break}return t}function R1(e,i,t,n){var r=i.getItemModel(t);e.useStyle(i.getItemVisual(t,"style")),e.style.strokeNoScale=!0,e.__simpleBox=n,In(e,r)}function TU(e,i){return mt(e,function(t){return(t=t.slice())[1]=i.initBaseline,t})}var MU=function e(){},B1=function(e){function i(t){var n=e.call(this,t)||this;return n.type="largeCandlestickBox",n}return ot(i,e),i.prototype.getDefaultShape=function(){return new MU},i.prototype.buildPath=function(t,n){for(var r=n.points,a=0;a<r.length;)if(this.__sign===r[a++]){var o=r[a++];t.moveTo(o,r[a++]),t.lineTo(o,r[a++])}else a+=3},i}(ge);function KP(e,i,t,n){var r=e.getData(),a=r.getLayout("largePoints"),o=new B1({shape:{points:a},__sign:1,ignoreCoarsePointer:!0});i.add(o);var s=new B1({shape:{points:a},__sign:-1,ignoreCoarsePointer:!0});i.add(s);var l=new B1({shape:{points:a},__sign:0,ignoreCoarsePointer:!0});i.add(l),V1(1,o,e),V1(-1,s,e),V1(0,l,e),n&&(o.incremental=!0,s.incremental=!0),t&&t.push(o,s)}function V1(e,i,t,n){var r=t.get(["itemStyle",e>0?"borderColor":"borderColor0"])||t.get(["itemStyle",e>0?"color":"color0"]);0===e&&(r=t.get(["itemStyle","borderColorDoji"]));var a=t.getModel("itemStyle").getItemStyle(bU);i.useStyle(a),i.style.fill=null,i.style.stroke=r}const AU=CU;var QP=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],t}return ot(i,e),i.prototype.getShadowDim=function(){return"open"},i.prototype.brushSelector=function(t,n,r){var a=n.getItemLayout(t);return a&&r.rect(a.brushRect)},i.type="series.candlestick",i.dependencies=["xAxis","yAxis","grid"],i.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},i}(mi);It(QP,UP,!0);const LU=QP;function kU(e){!e||!yt(e.series)||U(e.series,function(i){Bt(i)&&"k"===i.type&&(i.type="candlestick")})}var DU=["itemStyle","borderColor"],PU=["itemStyle","borderColor0"],IU=["itemStyle","borderColorDoji"],OU=["itemStyle","color"],EU=["itemStyle","color0"],FU={seriesType:"candlestick",plan:Fh(),performRawSeries:!0,reset:function(e,i){function t(a,o){return o.get(a>0?OU:EU)}function n(a,o){return o.get(0===a?IU:a>0?DU:PU)}if(!i.isSeriesFiltered(e))return!e.pipelineContext.large&&{progress:function(a,o){for(var s;null!=(s=a.next());){var l=o.getItemModel(s),c=o.getItemLayout(s).sign,u=l.getItemStyle();u.fill=t(c,l),u.stroke=n(c,l)||u.fill,ft(o.ensureUniqueItemVisual(s,"style"),u)}}}}};const RU=FU;var BU={seriesType:"candlestick",plan:Fh(),reset:function(e){var i=e.coordinateSystem,t=e.getData(),n=function VU(e,i){var n,t=e.getBaseAxis(),r="category"===t.type?t.getBandWidth():(n=t.getExtent(),Math.abs(n[1]-n[0])/i.count()),a=At(qt(e.get("barMaxWidth"),r),r),o=At(qt(e.get("barMinWidth"),1),r),s=e.get("barWidth");return null!=s?At(s,r):Math.max(Math.min(r/2,a),o)}(e,t),r=0,a=1,o=["x","y"],s=t.getDimensionIndex(t.mapDimension(o[r])),l=mt(t.mapDimensionsAll(o[a]),t.getDimensionIndex,t),c=l[0],u=l[1],h=l[2],f=l[3];if(t.setLayout({candleWidth:n,isSimpleBox:n<=1.3}),!(s<0||l.length<4))return{progress:e.pipelineContext.large?function m(b,_){for(var A,O,w=Qo(4*b.count),T=0,P=[],F=[],V=_.getStore(),N=!!e.get(["itemStyle","borderColorDoji"]);null!=(O=b.next());){var G=V.get(s,O),H=V.get(c,O),X=V.get(u,O),q=V.get(h,O),j=V.get(f,O);isNaN(G)||isNaN(q)||isNaN(j)?(w[T++]=NaN,T+=3):(w[T++]=JP(V,O,H,X,u,N),P[r]=G,P[a]=q,A=i.dataToPoint(P,null,F),w[T++]=A?A[0]:NaN,w[T++]=A?A[1]:NaN,P[a]=j,A=i.dataToPoint(P,null,F),w[T++]=A?A[1]:NaN)}_.setLayout("largePoints",w)}:function p(b,_){for(var w,T=_.getStore();null!=(w=b.next());){var A=T.get(s,w),P=T.get(c,w),F=T.get(u,w),O=T.get(h,w),V=T.get(f,w),N=Math.min(P,F),G=Math.max(P,F),H=lt(N,A),X=lt(G,A),q=lt(O,A),j=lt(V,A),J=[];st(J,X,0),st(J,H,1),J.push(vt(j),vt(X),vt(q),vt(H));var et=!!_.getItemModel(w).get(["itemStyle","borderColorDoji"]);_.setItemLayout(w,{sign:JP(T,w,P,F,u,et),initBaseline:P>F?X[a]:H[a],ends:J,brushRect:(_t=O,St=V,Et=A,Ft=void 0,ne=void 0,Ft=lt(_t,Et),ne=lt(St,Et),Ft[r]-=n/2,ne[r]-=n/2,{x:Ft[0],y:Ft[1],width:a?n:ne[0]-Ft[0],height:a?ne[1]-Ft[1]:n})})}var _t,St,Et,Ft,ne;function lt(_t,St){var Et=[];return Et[r]=St,Et[a]=_t,isNaN(St)||isNaN(_t)?[NaN,NaN]:i.dataToPoint(Et)}function st(_t,St,Et){var Ft=St.slice(),ne=St.slice();Ft[r]=Kg(Ft[r]+n/2,1,!1),ne[r]=Kg(ne[r]-n/2,1,!0),Et?_t.push(Ft,ne):_t.push(ne,Ft)}function vt(_t){return _t[r]=Kg(_t[r],1),_t}}}}};function JP(e,i,t,n,r,a){return t>n?-1:t<n?1:a?0:i>0?e.get(r,i-1)<=n?1:-1:1}const zU=BU;function tI(e,i){var t=i.rippleEffectColor||i.color;e.eachChild(function(n){n.attr({z:i.z,zlevel:i.zlevel,style:{stroke:"stroke"===i.brushType?t:null,fill:"fill"===i.brushType?t:null}})})}var GU=function(e){function i(t,n){var r=e.call(this)||this,a=new Yf(t,n),o=new Kt;return r.add(a),r.add(o),r.updateData(t,n),r}return ot(i,e),i.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},i.prototype.startEffectAnimation=function(t){for(var n=t.symbolType,r=t.color,a=t.rippleNumber,o=this.childAt(1),s=0;s<a;s++){var l=Gi(n,-1,-1,2,2,r);l.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var c=-s/a*t.period+t.effectOffset;l.animate("",!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(c).start(),l.animateStyle(!0).when(t.period,{opacity:0}).delay(c).start(),o.add(l)}tI(o,t)},i.prototype.updateEffectAnimation=function(t){for(var n=this._effectCfg,r=this.childAt(1),a=["symbolType","period","rippleScale","rippleNumber"],o=0;o<a.length;o++){var s=a[o];if(n[s]!==t[s])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}tI(r,t)},i.prototype.highlight=function(){Is(this)},i.prototype.downplay=function(){Os(this)},i.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},i.prototype.updateData=function(t,n){var r=this,a=t.hostModel;this.childAt(0).updateData(t,n);var o=this.childAt(1),s=t.getItemModel(n),l=t.getItemVisual(n,"symbol"),c=Hh(t.getItemVisual(n,"symbolSize")),u=t.getItemVisual(n,"style"),h=u&&u.fill,f=s.getModel("emphasis");o.setScale(c),o.traverse(function(_){_.setStyle("fill",h)});var p=iu(t.getItemVisual(n,"symbolOffset"),c);p&&(o.x=p[0],o.y=p[1]);var m=t.getItemVisual(n,"symbolRotate");o.rotation=(m||0)*Math.PI/180||0;var b={};b.showEffectOn=a.get("showEffectOn"),b.rippleScale=s.get(["rippleEffect","scale"]),b.brushType=s.get(["rippleEffect","brushType"]),b.period=1e3*s.get(["rippleEffect","period"]),b.effectOffset=n/t.count(),b.z=a.getShallow("z")||0,b.zlevel=a.getShallow("zlevel")||0,b.symbolType=l,b.color=h,b.rippleEffectColor=s.get(["rippleEffect","color"]),b.rippleNumber=s.get(["rippleEffect","number"]),"render"===b.showEffectOn?(this._effectCfg?this.updateEffectAnimation(b):this.startEffectAnimation(b),this._effectCfg=b):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(_){"emphasis"===_?"render"!==b.showEffectOn&&r.startEffectAnimation(b):"normal"===_&&"render"!==b.showEffectOn&&r.stopEffectAnimation()}),this._effectCfg=b,Ti(this,f.get("focus"),f.get("blurScope"),f.get("disabled"))},i.prototype.fadeOut=function(t){t&&t()},i}(Kt);const HU=GU;var WU=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.init=function(){this._symbolDraw=new Xf(HU)},i.prototype.render=function(t,n,r){var a=t.getData(),o=this._symbolDraw;o.updateData(a,{clipShape:this._getClipShape(t)}),this.group.add(o.group)},i.prototype._getClipShape=function(t){var n=t.coordinateSystem,r=n&&n.getArea&&n.getArea();return t.get("clip",!0)?r:null},i.prototype.updateTransform=function(t,n,r){var a=t.getData();this.group.dirty();var o=Zf("").reset(t,n,r);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},i.prototype._updateGroupTransform=function(t){var n=t.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=function yr(e){var i=[1,0,0,1,0,0];return lc(i,e),i}(n.getRoamTransform()),this.group.decomposeTransform())},i.prototype.remove=function(t,n){this._symbolDraw&&this._symbolDraw.remove(!0)},i.type="effectScatter",i}(oi);const YU=WU;var XU=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.hasSymbolVisual=!0,t}return ot(i,e),i.prototype.getInitialData=function(t,n){return Bs(null,this,{useEncodeDefaulter:!0})},i.prototype.brushSelector=function(t,n,r){return r.point(n.getItemLayout(t))},i.type="series.effectScatter",i.dependencies=["grid","polar"],i.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},i}(mi);const UU=XU;var $U=function(e){function i(t,n,r){var a=e.call(this)||this;return a.add(a.createLine(t,n,r)),a._updateEffectSymbol(t,n),a}return ot(i,e),i.prototype.createLine=function(t,n,r){return new u1(t,n,r)},i.prototype._updateEffectSymbol=function(t,n){var a=t.getItemModel(n).getModel("effect"),o=a.get("symbolSize"),s=a.get("symbol");yt(o)||(o=[o,o]);var l=t.getItemVisual(n,"style"),c=a.get("color")||l&&l.stroke,u=this.childAt(1);this._symbolType!==s&&(this.remove(u),(u=Gi(s,-.5,-.5,1,1,c)).z2=100,u.culling=!0,this.add(u)),u&&(u.setStyle("shadowColor",c),u.setStyle(a.getItemStyle(["color"])),u.scaleX=o[0],u.scaleY=o[1],u.setColor(c),this._symbolType=s,this._symbolScale=o,this._updateEffectAnimation(t,a,n))},i.prototype._updateEffectAnimation=function(t,n,r){var a=this.childAt(1);if(a){var o=t.getItemLayout(r),s=1e3*n.get("period"),l=n.get("loop"),c=n.get("roundTrip"),u=n.get("constantSpeed"),h=hi(n.get("delay"),function(p){return p/t.count()*s/3});if(a.ignore=!0,this._updateAnimationPoints(a,o),u>0&&(s=this._getLineLength(a)/u*1e3),s!==this._period||l!==this._loop||c!==this._roundTrip){a.stopAnimation();var f=void 0;f=Z(h)?h(r):h,a.__t>0&&(f=-s*a.__t),this._animateSymbol(a,s,f,l,c)}this._period=s,this._loop=l,this._roundTrip=c}},i.prototype._animateSymbol=function(t,n,r,a,o){if(n>0){t.__t=0;var s=this,l=t.animate("",a).when(o?2*n:n,{__t:o?2:1}).delay(r).during(function(){s._updateSymbolPosition(t)});a||l.done(function(){s.remove(t)}),l.start()}},i.prototype._getLineLength=function(t){return Qn(t.__p1,t.__cp1)+Qn(t.__cp1,t.__p2)},i.prototype._updateAnimationPoints=function(t,n){t.__p1=n[0],t.__p2=n[1],t.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},i.prototype.updateData=function(t,n,r){this.childAt(0).updateData(t,n,r),this._updateEffectSymbol(t,n)},i.prototype._updateSymbolPosition=function(t){var n=t.__p1,r=t.__p2,a=t.__cp1,o=t.__t<1?t.__t:2-t.__t,s=[t.x,t.y],l=s.slice(),c=rt,u=pt;s[0]=c(n[0],a[0],r[0],o),s[1]=c(n[1],a[1],r[1],o);var h=t.__t<1?u(n[0],a[0],r[0],o):u(r[0],a[0],n[0],1-o),f=t.__t<1?u(n[1],a[1],r[1],o):u(r[1],a[1],n[1],1-o);t.rotation=-Math.atan2(f,h)-Math.PI/2,("line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)&&(void 0!==t.__lastT&&t.__lastT<t.__t?(t.scaleY=1.05*Qn(l,s),1===o&&(s[0]=l[0]+(s[0]-l[0])/2,s[1]=l[1]+(s[1]-l[1])/2)):t.scaleY=1===t.__lastT?2*Qn(n,s):this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=s[0],t.y=s[1]},i.prototype.updateLayout=function(t,n){this.childAt(0).updateLayout(t,n);var r=t.getItemModel(n).getModel("effect");this._updateEffectAnimation(t,r,n)},i}(Kt);const eI=$U;var jU=function(e){function i(t,n,r){var a=e.call(this)||this;return a._createPolyline(t,n,r),a}return ot(i,e),i.prototype._createPolyline=function(t,n,r){var a=t.getItemLayout(n),o=new Pr({shape:{points:a}});this.add(o),this._updateCommonStl(t,n,r)},i.prototype.updateData=function(t,n,r){var a=t.hostModel;Ve(this.childAt(0),{shape:{points:t.getItemLayout(n)}},a,n),this._updateCommonStl(t,n,r)},i.prototype._updateCommonStl=function(t,n,r){var a=this.childAt(0),o=t.getItemModel(n),s=r&&r.emphasisLineStyle,l=r&&r.focus,c=r&&r.blurScope,u=r&&r.emphasisDisabled;if(!r||t.hasItemOption){var h=o.getModel("emphasis");s=h.getModel("lineStyle").getLineStyle(),u=h.get("disabled"),l=h.get("focus"),c=h.get("blurScope")}a.useStyle(t.getItemVisual(n,"style")),a.style.fill=null,a.style.strokeNoScale=!0,a.ensureState("emphasis").style=s,Ti(this,l,c,u)},i.prototype.updateLayout=function(t,n){this.childAt(0).setShape("points",t.getItemLayout(n))},i}(Kt);const iI=jU;var qU=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastFrame=0,t._lastFramePercent=0,t}return ot(i,e),i.prototype.createLine=function(t,n,r){return new iI(t,n,r)},i.prototype._updateAnimationPoints=function(t,n){this._points=n;for(var r=[0],a=0,o=1;o<n.length;o++)a+=Qn(n[o-1],n[o]),r.push(a);if(0!==a){for(o=0;o<r.length;o++)r[o]/=a;this._offsets=r,this._length=a}else this._length=0},i.prototype._getLineLength=function(){return this._length},i.prototype._updateSymbolPosition=function(t){var n=t.__t<1?t.__t:2-t.__t,r=this._points,a=this._offsets,o=r.length;if(a){var l,s=this._lastFrame;if(n<this._lastFramePercent){for(l=Math.min(s+1,o-1);l>=0&&!(a[l]<=n);l--);l=Math.min(l,o-2)}else{for(l=s;l<o&&!(a[l]>n);l++);l=Math.min(l-1,o-2)}var u=(n-a[l])/(a[l+1]-a[l]),h=r[l],f=r[l+1];t.x=h[0]*(1-u)+u*f[0],t.y=h[1]*(1-u)+u*f[1],t.rotation=-Math.atan2(t.__t<1?f[1]-h[1]:h[1]-f[1],t.__t<1?f[0]-h[0]:h[0]-f[0])-Math.PI/2,this._lastFrame=l,this._lastFramePercent=n,t.ignore=!1}},i}(eI);const KU=qU;var QU=function e(){this.polyline=!1,this.curveness=0,this.segs=[]},JU=function(e){function i(t){var n=e.call(this,t)||this;return n._off=0,n.hoverDataIdx=-1,n}return ot(i,e),i.prototype.reset=function(){this.notClear=!1,this._off=0},i.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},i.prototype.getDefaultShape=function(){return new QU},i.prototype.buildPath=function(t,n){var o,r=n.segs,a=n.curveness;if(n.polyline)for(o=this._off;o<r.length;){var s=r[o++];if(s>0){t.moveTo(r[o++],r[o++]);for(var l=1;l<s;l++)t.lineTo(r[o++],r[o++])}}else for(o=this._off;o<r.length;){var c=r[o++],u=r[o++],h=r[o++],f=r[o++];t.moveTo(c,u),a>0?t.quadraticCurveTo((c+h)/2-(u-f)*a,(u+f)/2-(h-c)*a,h,f):t.lineTo(h,f)}this.incremental&&(this._off=o,this.notClear=!0)},i.prototype.findDataIndex=function(t,n){var r=this.shape,a=r.segs,o=r.curveness,s=this.style.lineWidth;if(r.polyline)for(var l=0,c=0;c<a.length;){var u=a[c++];if(u>0)for(var h=a[c++],f=a[c++],p=1;p<u;p++)if(Ml(h,f,m=a[c++],b=a[c++],s,t,n))return l;l++}else for(l=0,c=0;c<a.length;){h=a[c++],f=a[c++];var m=a[c++],b=a[c++];if(o>0){if(QS(h,f,(h+m)/2-(f-b)*o,(f+b)/2-(m-h)*o,m,b,s,t,n))return l}else if(Ml(h,f,m,b,s,t,n))return l;l++}return-1},i.prototype.contain=function(t,n){var r=this.transformCoordToLocal(t,n);return this.getBoundingRect().contain(t=r[0],n=r[1])?(this.hoverDataIdx=this.findDataIndex(t,n))>=0:(this.hoverDataIdx=-1,!1)},i.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var r=this.shape.segs,a=1/0,o=1/0,s=-1/0,l=-1/0,c=0;c<r.length;){var u=r[c++],h=r[c++];a=Math.min(u,a),s=Math.max(u,s),o=Math.min(h,o),l=Math.max(h,l)}t=this._rect=new $t(a,o,s,l)}return t},i}(ge),tZ=function(){function e(){this.group=new Kt}return e.prototype.updateData=function(i){this._clear();var t=this._create();t.setShape({segs:i.getLayout("linesPoints")}),this._setCommon(t,i)},e.prototype.incrementalPrepareUpdate=function(i){this.group.removeAll(),this._clear()},e.prototype.incrementalUpdate=function(i,t){var n=this._newAdded[0],r=t.getLayout("linesPoints"),a=n&&n.shape.segs;if(a&&a.length<2e4){var o=a.length,s=new Float32Array(o+r.length);s.set(a),s.set(r,o),n.setShape({segs:s})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:r}),this._setCommon(l,t),l.__startIndex=i.start}},e.prototype.remove=function(){this._clear()},e.prototype.eachRendered=function(i){this._newAdded[0]&&i(this._newAdded[0])},e.prototype._create=function(){var i=new JU({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(i),this.group.add(i),i},e.prototype._setCommon=function(i,t,n){var r=t.hostModel;i.setShape({polyline:r.get("polyline"),curveness:r.get(["lineStyle","curveness"])}),i.useStyle(r.getModel("lineStyle").getLineStyle()),i.style.strokeNoScale=!0;var a=t.getVisual("style");a&&a.stroke&&i.setStyle("stroke",a.stroke),i.setStyle("fill",null);var o=Jt(i);o.seriesIndex=r.seriesIndex,i.on("mousemove",function(s){o.dataIndex=null;var l=i.hoverDataIdx;l>0&&(o.dataIndex=l+i.__startIndex)})},e.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},e}();const eZ=tZ;var iZ={seriesType:"lines",plan:Fh(),reset:function(e){var i=e.coordinateSystem;if(i){var t=e.get("polyline"),n=e.pipelineContext.large;return{progress:function(r,a){var o=[];if(n){var s=void 0,l=r.end-r.start;if(t){for(var c=0,u=r.start;u<r.end;u++)c+=e.getLineCoordsCount(u);s=new Float32Array(l+2*c)}else s=new Float32Array(4*l);var h=0,f=[];for(u=r.start;u<r.end;u++){var p=e.getLineCoords(u,o);t&&(s[h++]=p);for(var m=0;m<p;m++)f=i.dataToPoint(o[m],!1,f),s[h++]=f[0],s[h++]=f[1]}a.setLayout("linesPoints",s)}else for(u=r.start;u<r.end;u++){var b=a.getItemModel(u),_=(p=e.getLineCoords(u,o),[]);if(t)for(var w=0;w<p;w++)_.push(i.dataToPoint(o[w]));else{_[0]=i.dataToPoint(o[0]),_[1]=i.dataToPoint(o[1]);var T=b.get(["lineStyle","curveness"]);+T&&(_[2]=[(_[0][0]+_[1][0])/2-(_[0][1]-_[1][1])*T,(_[0][1]+_[1][1])/2-(_[1][0]-_[0][0])*T])}a.setItemLayout(u,_)}}}}}};const nI=iZ;var nZ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.render=function(t,n,r){var a=t.getData(),o=this._updateLineDraw(a,t),s=t.get("zlevel"),l=t.get(["effect","trailLength"]),c=r.getZr(),u="svg"===c.painter.getType();u||c.painter.getLayer(s).clear(!0),null!=this._lastZlevel&&!u&&c.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&l>0&&(u||c.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(l/10+.9,1),0)})),o.updateData(a);var h=t.get("clip",!0)&&Uf(t.coordinateSystem,!1,t);h?this.group.setClipPath(h):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},i.prototype.incrementalPrepareRender=function(t,n,r){var a=t.getData();this._updateLineDraw(a,t).incrementalPrepareUpdate(a),this._clearLayer(r),this._finished=!1},i.prototype.incrementalRender=function(t,n,r){this._lineDraw.incrementalUpdate(t,n.getData()),this._finished=t.end===n.getData().count()},i.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},i.prototype.updateTransform=function(t,n,r){var a=t.getData(),o=t.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var s=nI.reset(t,n,r);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(r)},i.prototype._updateLineDraw=function(t,n){var r=this._lineDraw,a=this._showEffect(n),o=!!n.get("polyline"),l=n.pipelineContext.large;return(!r||a!==this._hasEffet||o!==this._isPolyline||l!==this._isLargeDraw)&&(r&&r.remove(),r=this._lineDraw=l?new eZ:new d1(o?a?KU:iI:a?eI:u1),this._hasEffet=a,this._isPolyline=o,this._isLargeDraw=l),this.group.add(r.group),r},i.prototype._showEffect=function(t){return!!t.get(["effect","show"])},i.prototype._clearLayer=function(t){var n=t.getZr();"svg"!==n.painter.getType()&&null!=this._lastZlevel&&n.painter.getLayer(this._lastZlevel).clear(!0)},i.prototype.remove=function(t,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},i.prototype.dispose=function(t,n){this.remove(t,n)},i.type="lines",i}(oi);const rZ=nZ;var aZ=typeof Uint32Array>"u"?Array:Uint32Array,oZ=typeof Float64Array>"u"?Array:Float64Array;function rI(e){var i=e.data;i&&i[0]&&i[0][0]&&i[0][0].coord&&(e.data=mt(i,function(t){var r={coords:[t[0].coord,t[1].coord]};return t[0].name&&(r.fromName=t[0].name),t[1].name&&(r.toName=t[1].name),nn([r,t[0],t[1]])}))}var sZ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.visualStyleAccessPath="lineStyle",t.visualDrawType="stroke",t}return ot(i,e),i.prototype.init=function(t){t.data=t.data||[],rI(t);var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count)),e.prototype.init.apply(this,arguments)},i.prototype.mergeOption=function(t){if(rI(t),t.data){var n=this._processFlatCoordsArray(t.data);this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset,n.flatCoords&&(t.data=new Float32Array(n.count))}e.prototype.mergeOption.apply(this,arguments)},i.prototype.appendData=function(t){var n=this._processFlatCoordsArray(t.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=sa(this._flatCoords,n.flatCoords),this._flatCoordsOffset=sa(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),t.data=new Float32Array(n.count)),this.getRawData().appendData(t.data)},i.prototype._getCoordsFromItemModel=function(t){var n=this.getData().getItemModel(t);return n.option instanceof Array?n.option:n.getShallow("coords")},i.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},i.prototype.getLineCoords=function(t,n){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[2*t],a=this._flatCoordsOffset[2*t+1],o=0;o<a;o++)n[o]=n[o]||[],n[o][0]=this._flatCoords[r+2*o],n[o][1]=this._flatCoords[r+2*o+1];return a}var s=this._getCoordsFromItemModel(t);for(o=0;o<s.length;o++)n[o]=n[o]||[],n[o][0]=s[o][0],n[o][1]=s[o][1];return s.length},i.prototype._processFlatCoordsArray=function(t){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),_e(t[0])){for(var r=t.length,a=new aZ(r),o=new oZ(r),s=0,l=0,c=0,u=0;u<r;){c++;var h=t[u++];a[l++]=s+n,a[l++]=h;for(var f=0;f<h;f++){var p=t[u++],m=t[u++];o[s++]=p,o[s++]=m}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,l),flatCoords:o,count:c}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},i.prototype.getInitialData=function(t,n){var a=new dr(["value"],this);return a.hasItemOption=!1,a.initData(t.data,[],function(o,s,l,c){if(o instanceof Array)return NaN;a.hasItemOption=!0;var u=o.value;return null!=u?u instanceof Array?u[c]:u:void 0}),a},i.prototype.formatTooltip=function(t,n,r){var o=this.getData().getItemModel(t),s=o.get("name");if(s)return s;var l=o.get("fromName"),c=o.get("toName"),u=[];return null!=l&&u.push(l),null!=c&&u.push(c),un("nameValue",{name:u.join(" > ")})},i.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},i.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?1e4:this.get("progressive"))},i.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get("progressiveThreshold"))},i.prototype.getZLevelKey=function(){var t=this.getModel("effect"),n=t.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get("show")&&n>0?n+"":""},i.type="series.lines",i.dependencies=["grid","polar","geo","calendar"],i.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},i}(mi);const lZ=sZ;function am(e){return e instanceof Array||(e=[e,e]),e}var cZ={seriesType:"lines",reset:function(e){var i=am(e.get("symbol")),t=am(e.get("symbolSize")),n=e.getData();return n.setVisual("fromSymbol",i&&i[0]),n.setVisual("toSymbol",i&&i[1]),n.setVisual("fromSymbolSize",t&&t[0]),n.setVisual("toSymbolSize",t&&t[1]),{dataEach:n.hasItemOption?function r(a,o){var s=a.getItemModel(o),l=am(s.getShallow("symbol",!0)),c=am(s.getShallow("symbolSize",!0));l[0]&&a.setItemVisual(o,"fromSymbol",l[0]),l[1]&&a.setItemVisual(o,"toSymbol",l[1]),c[0]&&a.setItemVisual(o,"fromSymbolSize",c[0]),c[1]&&a.setItemVisual(o,"toSymbolSize",c[1])}:null}}};const uZ=cZ;var fZ=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var i=xn.createCanvas();this.canvas=i}return e.prototype.update=function(i,t,n,r,a,o){var s=this._getBrush(),l=this._getGradient(a,"inRange"),c=this._getGradient(a,"outOfRange"),u=this.pointSize+this.blurSize,h=this.canvas,f=h.getContext("2d"),p=i.length;h.width=t,h.height=n;for(var m=0;m<p;++m){var b=i[m],_=b[0],w=b[1],A=r(b[2]);f.globalAlpha=A,f.drawImage(s,_-u,w-u)}if(!h.width||!h.height)return h;for(var P=f.getImageData(0,0,h.width,h.height),F=P.data,O=0,V=F.length,N=this.minOpacity,H=this.maxOpacity-N;O<V;){A=F[O+3]/256;var X=4*Math.floor(255*A);if(A>0){var q=o(A)?l:c;A>0&&(A=A*H+N),F[O++]=q[X],F[O++]=q[X+1],F[O++]=q[X+2],F[O++]=q[X+3]*A*256}else O+=4}return f.putImageData(P,0,0),h},e.prototype._getBrush=function(){var i=this._brushCanvas||(this._brushCanvas=xn.createCanvas()),t=this.pointSize+this.blurSize,n=2*t;i.width=n,i.height=n;var r=i.getContext("2d");return r.clearRect(0,0,n,n),r.shadowOffsetX=n,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-t,t,this.pointSize,0,2*Math.PI,!0),r.closePath(),r.fill(),i},e.prototype._getGradient=function(i,t){for(var n=this._gradientPixels,r=n[t]||(n[t]=new Uint8ClampedArray(1024)),a=[0,0,0,0],o=0,s=0;s<256;s++)i[t](s/255,!0,a),r[o++]=a[0],r[o++]=a[1],r[o++]=a[2],r[o++]=a[3];return r},e}();const pZ=fZ;function aI(e){var i=e.dimensions;return"lng"===i[0]&&"lat"===i[1]}var mZ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.render=function(t,n,r){var a;n.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===t&&(a=s)})}),this._progressiveEls=null,this.group.removeAll();var o=t.coordinateSystem;"cartesian2d"===o.type||"calendar"===o.type?this._renderOnCartesianAndCalendar(t,r,0,t.getData().count()):aI(o)&&this._renderOnGeo(o,t,a,r)},i.prototype.incrementalPrepareRender=function(t,n,r){this.group.removeAll()},i.prototype.incrementalRender=function(t,n,r,a){var o=n.coordinateSystem;o&&(aI(o)?this.render(n,r,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(n,a,t.start,t.end,!0)))},i.prototype.eachRendered=function(t){Fl(this._progressiveEls||this.group,t)},i.prototype._renderOnCartesianAndCalendar=function(t,n,r,a,o){var c,u,h,f,s=t.coordinateSystem,l=fu(s,"cartesian2d");if(l){var p=s.getAxis("x"),m=s.getAxis("y");c=p.getBandWidth()+.5,u=m.getBandWidth()+.5,h=p.scale.getExtent(),f=m.scale.getExtent()}for(var b=this.group,_=t.getData(),w=t.getModel(["emphasis","itemStyle"]).getItemStyle(),T=t.getModel(["blur","itemStyle"]).getItemStyle(),A=t.getModel(["select","itemStyle"]).getItemStyle(),P=t.get(["itemStyle","borderRadius"]),F=cn(t),O=t.getModel("emphasis"),V=O.get("focus"),N=O.get("blurScope"),G=O.get("disabled"),H=l?[_.mapDimension("x"),_.mapDimension("y"),_.mapDimension("value")]:[_.mapDimension("time"),_.mapDimension("value")],X=r;X<a;X++){var q=void 0,j=_.getItemVisual(X,"style");if(l){var J=_.get(H[0],X),tt=_.get(H[1],X);if(isNaN(_.get(H[2],X))||isNaN(J)||isNaN(tt)||J<h[0]||J>h[1]||tt<f[0]||tt>f[1])continue;var et=s.dataToPoint([J,tt]);q=new De({shape:{x:et[0]-c/2,y:et[1]-u/2,width:c,height:u},style:j})}else{if(isNaN(_.get(H[1],X)))continue;q=new De({z2:1,shape:s.dataToRect([_.get(H[0],X)]).contentShape,style:j})}if(_.hasItemOption){var lt=_.getItemModel(X),st=lt.getModel("emphasis");w=st.getModel("itemStyle").getItemStyle(),T=lt.getModel(["blur","itemStyle"]).getItemStyle(),A=lt.getModel(["select","itemStyle"]).getItemStyle(),P=lt.get(["itemStyle","borderRadius"]),V=st.get("focus"),N=st.get("blurScope"),G=st.get("disabled"),F=cn(lt)}q.shape.r=P;var ut=t.getRawValue(X),vt="-";ut&&null!=ut[2]&&(vt=ut[2]+""),On(q,F,{labelFetcher:t,labelDataIndex:X,defaultOpacity:j.opacity,defaultText:vt}),q.ensureState("emphasis").style=w,q.ensureState("blur").style=T,q.ensureState("select").style=A,Ti(q,V,N,G),q.incremental=o,o&&(q.states.emphasis.hoverLayer=!0),b.add(q),_.setItemGraphicEl(X,q),this._progressiveEls&&this._progressiveEls.push(q)}},i.prototype._renderOnGeo=function(t,n,r,a){var o=r.targetVisuals.inRange,s=r.targetVisuals.outOfRange,l=n.getData(),c=this._hmLayer||this._hmLayer||new pZ;c.blurSize=n.get("blurSize"),c.pointSize=n.get("pointSize"),c.minOpacity=n.get("minOpacity"),c.maxOpacity=n.get("maxOpacity");var u=t.getViewRect().clone(),h=t.getRoamTransform();u.applyTransform(h);var f=Math.max(u.x,0),p=Math.max(u.y,0),m=Math.min(u.width+u.x,a.getWidth()),b=Math.min(u.height+u.y,a.getHeight()),_=m-f,w=b-p,T=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],A=l.mapArray(T,function(V,N,G){var H=t.dataToPoint([V,N]);return H[0]-=f,H[1]-=p,H.push(G),H}),P=r.getExtent(),F="visualMap.continuous"===r.type?function vZ(e,i){var t=e[1]-e[0];return i=[(i[0]-e[0])/t,(i[1]-e[0])/t],function(n){return n>=i[0]&&n<=i[1]}}(P,r.option.range):function gZ(e,i,t){var n=e[1]-e[0],r=(i=mt(i,function(o){return{interval:[(o.interval[0]-e[0])/n,(o.interval[1]-e[0])/n]}})).length,a=0;return function(o){var s;for(s=a;s<r;s++)if((l=i[s].interval)[0]<=o&&o<=l[1]){a=s;break}if(s===r)for(s=a-1;s>=0;s--){var l;if((l=i[s].interval)[0]<=o&&o<=l[1]){a=s;break}}return s>=0&&s<r&&t[s]}}(P,r.getPieceList(),r.option.selected);c.update(A,_,w,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:s.color.getColorMapper()},F);var O=new Pn({style:{width:_,height:w,x:f,y:p,image:c.canvas},silent:!0});this.group.add(O)},i.type="heatmap",i}(oi);const yZ=mZ;var _Z=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.getInitialData=function(t,n){return Bs(null,this,{generateCoord:"value"})},i.prototype.preventIncremental=function(){var t=pf.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},i.type="series.heatmap",i.dependencies=["grid","geo","calendar"],i.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},i}(mi);const xZ=_Z;var CZ=["itemStyle","borderWidth"],oI=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],z1=new El,SZ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.render=function(t,n,r){var a=this.group,o=t.getData(),s=this._data,l=t.coordinateSystem,u=l.getBaseAxis().isHorizontal(),h=l.master.getRect(),f={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:t,coordSys:l,coordSysExtent:[[h.x,h.x+h.width],[h.y,h.y+h.height]],isHorizontal:u,valueDim:oI[+u],categoryDim:oI[1-+u]};o.diff(s).add(function(m){if(o.hasValue(m)){var b=fI(o,m),_=sI(o,m,b,f),w=pI(o,f,_);o.setItemGraphicEl(m,w),a.add(w),mI(w,f,_)}}).update(function(m,b){var _=s.getItemGraphicEl(b);if(o.hasValue(m)){var w=fI(o,m),T=sI(o,m,w,f),A=vI(o,T);_&&A!==_.__pictorialShapeStr&&(a.remove(_),o.setItemGraphicEl(m,null),_=null),_?function DZ(e,i,t){Ve(e.__pictorialBundle,{x:t.bundlePosition[0],y:t.bundlePosition[1]},t.animationModel,t.dataIndex),t.symbolRepeat?cI(e,i,t,!0):uI(e,0,t,!0),hI(e,t,!0),dI(e,i,t,!0)}(_,f,T):_=pI(o,f,T,!0),o.setItemGraphicEl(m,_),_.__pictorialSymbolMeta=T,a.add(_),mI(_,f,T)}else a.remove(_)}).remove(function(m){var b=s.getItemGraphicEl(m);b&&gI(s,m,b.__pictorialSymbolMeta.animationModel,b)}).execute();var p=t.get("clip",!0)?Uf(t.coordinateSystem,!1,t):null;return p?a.setClipPath(p):a.removeClipPath(),this._data=o,this.group},i.prototype.remove=function(t,n){var r=this.group,a=this._data;t.get("animation")?a&&a.eachItemGraphicEl(function(o){gI(a,Jt(o).dataIndex,t,o)}):r.removeAll()},i.type="pictorialBar",i}(oi);function sI(e,i,t,n){var r=e.getItemLayout(i),a=t.get("symbolRepeat"),o=t.get("symbolClip"),s=t.get("symbolPosition")||"start",c=(t.get("symbolRotate")||0)*Math.PI/180||0,u=t.get("symbolPatternSize")||2,h=t.isAnimationEnabled(),f={dataIndex:i,layout:r,itemModel:t,symbolType:e.getItemVisual(i,"symbol")||"circle",style:e.getItemVisual(i,"style"),symbolClip:o,symbolRepeat:a,symbolRepeatDirection:t.get("symbolRepeatDirection"),symbolPatternSize:u,rotation:c,animationModel:h?t:null,hoverScale:h&&t.get(["emphasis","scale"]),z2:t.getShallow("z",!0)||0};(function wZ(e,i,t,n,r){var u,a=n.valueDim,o=e.get("symbolBoundingData"),s=n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),c=1-+(t[a.wh]<=0);if(yt(o)){var h=[N1(s,o[0])-l,N1(s,o[1])-l];h[1]<h[0]&&h.reverse(),u=h[c]}else u=null!=o?N1(s,o)-l:i?n.coordSysExtent[a.index][c]-l:t[a.wh];r.boundingLength=u,i&&(r.repeatCutLength=t[a.wh]),r.pxSign=u>0?1:-1})(t,a,r,n,f),function TZ(e,i,t,n,r,a,o,s,l,c){var m,u=l.valueDim,h=l.categoryDim,f=Math.abs(t[h.wh]),p=e.getItemVisual(i,"symbolSize");(m=yt(p)?p.slice():null==p?["100%","100%"]:[p,p])[h.index]=At(m[h.index],f),m[u.index]=At(m[u.index],n?f:Math.abs(a)),c.symbolSize=m,(c.symbolScale=[m[0]/s,m[1]/s])[u.index]*=(l.isHorizontal?-1:1)*o}(e,i,r,a,0,f.boundingLength,f.pxSign,u,n,f),function MZ(e,i,t,n,r){var a=e.get(CZ)||0;a&&(z1.attr({scaleX:i[0],scaleY:i[1],rotation:t}),z1.updateTransform(),a/=z1.getLineScale(),a*=i[n.valueDim.index]),r.valueLineWidth=a||0}(t,f.symbolScale,c,n,f);var p=f.symbolSize,m=iu(t.get("symbolOffset"),p);return function AZ(e,i,t,n,r,a,o,s,l,c,u,h){var f=u.categoryDim,p=u.valueDim,m=h.pxSign,b=Math.max(i[p.index]+s,0),_=b;if(n){var w=Math.abs(l),T=hi(e.get("symbolMargin"),"15%")+"",A=!1;T.lastIndexOf("!")===T.length-1&&(A=!0,T=T.slice(0,T.length-1));var P=At(T,i[p.index]),F=Math.max(b+2*P,0),O=A?0:2*P,V=kS(n),N=V?n:yI((w+O)/F);F=b+2*(P=(w-N*b)/2/(A?N:Math.max(N-1,1))),O=A?0:2*P,!V&&"fixed"!==n&&(N=c?yI((Math.abs(c)+O)/F):0),_=N*F-O,h.repeatTimes=N,h.symbolMargin=P}var H=m*(_/2),X=h.pathPosition=[];X[f.index]=t[f.wh]/2,X[p.index]="start"===o?H:"end"===o?l-H:l/2,a&&(X[0]+=a[0],X[1]+=a[1]);var q=h.bundlePosition=[];q[f.index]=t[f.xy],q[p.index]=t[p.xy];var j=h.barRectShape=ft({},t);j[p.wh]=m*Math.max(Math.abs(t[p.wh]),Math.abs(X[p.index]+H)),j[f.wh]=t[f.wh];var J=h.clipShape={};J[f.xy]=-t[f.xy],J[f.wh]=u.ecSize[f.wh],J[p.xy]=0,J[p.wh]=t[p.wh]}(t,p,r,a,0,m,s,f.valueLineWidth,f.boundingLength,f.repeatCutLength,n,f),f}function N1(e,i){return e.toGlobalCoord(e.dataToCoord(e.scale.parse(i)))}function lI(e){var i=e.symbolPatternSize,t=Gi(e.symbolType,-i/2,-i/2,i,i);return t.attr({culling:!0}),"image"!==t.type&&t.setStyle({strokeNoScale:!0}),t}function cI(e,i,t,n){var r=e.__pictorialBundle,s=t.pathPosition,l=i.valueDim,c=t.repeatTimes||0,u=0,h=t.symbolSize[i.valueDim.index]+t.valueLineWidth+2*t.symbolMargin;for(G1(e,function(b){b.__pictorialAnimationIndex=u,b.__pictorialRepeatTimes=c,u<c?od(b,null,m(u),t,n):od(b,null,{scaleX:0,scaleY:0},t,n,function(){r.remove(b)}),u++});u<c;u++){var f=lI(t);f.__pictorialAnimationIndex=u,f.__pictorialRepeatTimes=c,r.add(f);var p=m(u);od(f,{x:p.x,y:p.y,scaleX:0,scaleY:0},{scaleX:p.scaleX,scaleY:p.scaleY,rotation:p.rotation},t,n)}function m(b){var _=s.slice(),w=t.pxSign,T=b;return("start"===t.symbolRepeatDirection?w>0:w<0)&&(T=c-1-b),_[l.index]=h*(T-c/2+.5)+s[l.index],{x:_[0],y:_[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation}}}function uI(e,i,t,n){var r=e.__pictorialBundle,a=e.__pictorialMainPath;a?od(a,null,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:t.symbolScale[0],scaleY:t.symbolScale[1],rotation:t.rotation},t,n):(a=e.__pictorialMainPath=lI(t),r.add(a),od(a,{x:t.pathPosition[0],y:t.pathPosition[1],scaleX:0,scaleY:0,rotation:t.rotation},{scaleX:t.symbolScale[0],scaleY:t.symbolScale[1]},t,n))}function hI(e,i,t){var n=ft({},i.barRectShape),r=e.__pictorialBarRect;r?od(r,null,{shape:n},i,t):((r=e.__pictorialBarRect=new De({z2:2,shape:n,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,e.add(r))}function dI(e,i,t,n){if(t.symbolClip){var r=e.__pictorialClipPath,a=ft({},t.clipShape),o=i.valueDim,s=t.animationModel,l=t.dataIndex;if(r)Ve(r,{shape:a},s,l);else{a[o.wh]=0,r=new De({shape:a}),e.__pictorialBundle.setClipPath(r),e.__pictorialClipPath=r;var c={};c[o.wh]=t.clipShape[o.wh],Te[n?"updateProps":"initProps"](r,{shape:c},s,l)}}}function fI(e,i){var t=e.getItemModel(i);return t.getAnimationDelayParams=LZ,t.isAnimationEnabled=kZ,t}function LZ(e){return{index:e.__pictorialAnimationIndex,count:e.__pictorialRepeatTimes}}function kZ(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function pI(e,i,t,n){var r=new Kt,a=new Kt;return r.add(a),r.__pictorialBundle=a,a.x=t.bundlePosition[0],a.y=t.bundlePosition[1],t.symbolRepeat?cI(r,i,t):uI(r,0,t),hI(r,t,n),dI(r,i,t,n),r.__pictorialShapeStr=vI(e,t),r.__pictorialSymbolMeta=t,r}function gI(e,i,t,n){var r=n.__pictorialBarRect;r&&r.removeTextContent();var a=[];G1(n,function(o){a.push(o)}),n.__pictorialMainPath&&a.push(n.__pictorialMainPath),n.__pictorialClipPath&&(t=null),U(a,function(o){Ll(o,{scaleX:0,scaleY:0},t,i,function(){n.parent&&n.parent.remove(n)})}),e.setItemGraphicEl(i,null)}function vI(e,i){return[e.getItemVisual(i.dataIndex,"symbol")||"none",!!i.symbolRepeat,!!i.symbolClip].join(":")}function G1(e,i,t){U(e.__pictorialBundle.children(),function(n){n!==e.__pictorialBarRect&&i.call(t,n)})}function od(e,i,t,n,r,a){i&&e.attr(i),n.symbolClip&&!r?t&&e.attr(t):t&&Te[r?"updateProps":"initProps"](e,t,n.animationModel,n.dataIndex,a)}function mI(e,i,t){var n=t.dataIndex,r=t.itemModel,a=r.getModel("emphasis"),o=a.getModel("itemStyle").getItemStyle(),s=r.getModel(["blur","itemStyle"]).getItemStyle(),l=r.getModel(["select","itemStyle"]).getItemStyle(),c=r.getShallow("cursor"),u=a.get("focus"),h=a.get("blurScope"),f=a.get("scale");G1(e,function(b){if(b instanceof Pn){var _=b.style;b.useStyle(ft({image:_.image,x:_.x,y:_.y,width:_.width,height:_.height},t.style))}else b.useStyle(t.style);var w=b.ensureState("emphasis");w.style=o,f&&(w.scaleX=1.1*b.scaleX,w.scaleY=1.1*b.scaleY),b.ensureState("blur").style=s,b.ensureState("select").style=l,c&&(b.cursor=c),b.z2=t.z2});var p=i.valueDim.posDesc[+(t.boundingLength>0)],m=e.__pictorialBarRect;m.ignoreClip=!0,On(m,cn(r),{labelFetcher:i.seriesModel,labelDataIndex:n,defaultText:jh(i.seriesModel.getData(),n),inheritColor:t.style.fill,defaultOpacity:t.style.opacity,defaultOutsidePosition:p}),Ti(e,u,h,a.get("disabled"))}function yI(e){var i=Math.round(e);return Math.abs(e-i)<1e-4?i:Math.ceil(e)}const PZ=SZ;var IZ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.hasSymbolVisual=!0,t.defaultSymbol="roundRect",t}return ot(i,e),i.prototype.getInitialData=function(t){return t.stack=null,e.prototype.getInitialData.apply(this,arguments)},i.type="series.pictorialBar",i.dependencies=["grid"],i.defaultOption=kl(Tv.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),i}(Tv);const OZ=IZ;var FZ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t._layers=[],t}return ot(i,e),i.prototype.render=function(t,n,r){var a=t.getData(),o=this,s=this.group,l=t.getLayerSeries(),c=a.getLayout("layoutInfo"),u=c.rect,h=c.boundaryGap;function f(_){return _.name}s.x=0,s.y=u.y+h[0];var p=new Rs(this._layersSeries||[],l,f,f),m=[];function b(_,w,T){var A=o._layers;if("remove"!==_){for(var O,P=[],F=[],V=l[w].indices,N=0;N<V.length;N++){var G=a.getItemLayout(V[N]),H=G.x,X=G.y0,q=G.y;P.push(H,X),F.push(H,X+q),O=a.getItemVisual(V[N],"style")}var j,J=a.getItemLayout(V[0]),et=t.getModel("label").get("margin"),lt=t.getModel("emphasis");if("add"===_){var st=m[w]=new Kt;j=new lL({shape:{points:P,stackedOnPoints:F,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),st.add(j),s.add(st),t.isAnimationEnabled()&&j.setClipPath(function RZ(e,i,t){var n=new De({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return pi(n,{shape:{x:e.x-50,width:e.width+100,height:e.height+20}},i,t),n}(j.getBoundingRect(),t,function(){j.removeClipPath()}))}else j=(st=A[T]).childAt(0),s.add(st),m[w]=st,Ve(j,{shape:{points:P,stackedOnPoints:F}},t),ro(j);On(j,cn(t),{labelDataIndex:V[N-1],defaultText:a.getName(V[N-1]),inheritColor:O.fill},{normal:{verticalAlign:"middle"}}),j.setTextConfig({position:null,local:!0});var ut=j.getTextContent();ut&&(ut.x=J.x-et,ut.y=J.y0+J.y/2),j.useStyle(O),a.setItemGraphicEl(w,j),In(j,t),Ti(j,lt.get("focus"),lt.get("blurScope"),lt.get("disabled"))}else s.remove(A[w])}p.add(Dt(b,this,"add")).update(Dt(b,this,"update")).remove(Dt(b,this,"remove")).execute(),this._layersSeries=l,this._layers=m},i.type="themeRiver",i}(oi);const BZ=FZ;var VZ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new jf(Dt(this.getData,this),Dt(this.getRawData,this))},i.prototype.fixData=function(t){var n=t.length,r={},a=Hy(t,function(f){return r.hasOwnProperty(f[0]+"")||(r[f[0]+""]=-1),f[2]}),o=[];a.buckets.each(function(f,p){o.push({name:p,dataList:f})});for(var s=o.length,l=0;l<s;++l){for(var c=o[l].name,u=0;u<o[l].dataList.length;++u)r[h=o[l].dataList[u][0]+""]=l;for(var h in r)r.hasOwnProperty(h)&&r[h]!==l&&(r[h]=l,t[n]=[h,0,c],n++)}return t},i.prototype.getInitialData=function(t,n){for(var a=this.getReferringComponents("singleAxis",zi).models[0].get("type"),o=ve(t.data,function(m){return void 0!==m[2]}),s=this.fixData(o||[]),l=[],c=this.nameMap=Mt(),u=0,h=0;h<s.length;++h)l.push(s[h][2]),c.get(s[h][2])||(c.set(s[h][2],u),u++);var f=Zh(s,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:bv(a)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,p=new dr(f,this);return p.initData(s),p},i.prototype.getLayerSeries=function(){for(var t=this.getData(),n=t.count(),r=[],a=0;a<n;++a)r[a]=a;var o=t.mapDimension("single"),s=Hy(r,function(c){return t.get("name",c)}),l=[];return s.buckets.each(function(c,u){c.sort(function(h,f){return t.get(o,h)-t.get(o,f)}),l.push({name:u,indices:c})}),l},i.prototype.getAxisTooltipData=function(t,n,r){yt(t)||(t=t?[t]:[]);for(var c,a=this.getData(),o=this.getLayerSeries(),s=[],l=o.length,u=0;u<l;++u){for(var h=Number.MAX_VALUE,f=-1,p=o[u].indices.length,m=0;m<p;++m){var b=a.get(t[0],o[u].indices[m]),_=Math.abs(b-n);_<=h&&(c=b,h=_,f=o[u].indices[m])}s.push(f)}return{dataIndices:s,nestestValue:c}},i.prototype.formatTooltip=function(t,n,r){var a=this.getData();return un("nameValue",{name:a.getName(t),value:a.get(a.mapDimension("value"),t)})},i.type="series.themeRiver",i.dependencies=["singleAxis"],i.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},i}(mi);const zZ=VZ;function NZ(e,i){e.eachSeriesByType("themeRiver",function(t){var n=t.getData(),r=t.coordinateSystem,a={},o=r.getRect();a.rect=o;var s=t.get("boundaryGap"),l=r.getAxis();a.boundaryGap=s,"horizontal"===l.orient?(s[0]=At(s[0],o.height),s[1]=At(s[1],o.height),_I(n,t,o.height-s[0]-s[1])):(s[0]=At(s[0],o.width),s[1]=At(s[1],o.width),_I(n,t,o.width-s[0]-s[1])),n.setLayout("layoutInfo",a)})}function _I(e,i,t){if(e.count())for(var p,n=i.coordinateSystem,r=i.getLayerSeries(),a=e.mapDimension("single"),o=e.mapDimension("value"),s=mt(r,function(_){return mt(_.indices,function(w){var T=n.dataToPoint(e.get(a,w));return T[1]=e.get(o,w),T})}),l=function GZ(e){for(var i=e.length,t=e[0].length,n=[],r=[],a=0,o=0;o<t;++o){for(var s=0,l=0;l<i;++l)s+=e[l][o][1];s>a&&(a=s),n.push(s)}for(var c=0;c<t;++c)r[c]=(a-n[c])/2;a=0;for(var u=0;u<t;++u){var h=n[u]+r[u];h>a&&(a=h)}return{y0:r,max:a}}(s),c=l.y0,u=t/l.max,h=r.length,f=r[0].indices.length,m=0;m<f;++m){e.setItemLayout(r[0].indices[m],{layerIndex:0,x:s[0][m][0],y0:p=c[m]*u,y:s[0][m][1]*u});for(var b=1;b<h;++b)e.setItemLayout(r[b].indices[m],{layerIndex:b,x:s[b][m][0],y0:p+=s[b-1][m][1]*u,y:s[b][m][1]*u})}}var WZ=2,YZ=4,XZ=function(e){function i(t,n,r,a){var o=e.call(this)||this;o.z2=WZ,o.textConfig={inside:!0},Jt(o).seriesIndex=n.seriesIndex;var s=new Ie({z2:YZ,silent:t.getModel().get(["label","silent"])});return o.setTextContent(s),o.updateData(!0,t,n,r,a),o}return ot(i,e),i.prototype.updateData=function(t,n,r,a,o){this.node=n,n.piece=this,r=r||this._seriesModel,a=a||this._ecModel;var s=this;Jt(s).dataIndex=n.dataIndex;var l=n.getModel(),c=l.getModel("emphasis"),u=n.getLayout(),h=ft({},u);h.label=null;var f=n.getVisual("style");f.lineJoin="bevel";var p=n.getVisual("decal");p&&(f.decal=Yh(p,o));var m=pu(l.getModel("itemStyle"),h,!0);ft(h,m),U(lr,function(T){var A=s.ensureState(T),P=l.getModel([T,"itemStyle"]);A.style=P.getItemStyle();var F=pu(P,h);F&&(A.shape=F)}),t?(s.setShape(h),s.shape.r=u.r0,pi(s,{shape:{r:u.r}},r,n.dataIndex)):(Ve(s,{shape:h},r),ro(s)),s.useStyle(f),this._updateLabel(r);var b=l.getShallow("cursor");b&&s.attr("cursor",b),this._seriesModel=r||this._seriesModel,this._ecModel=a||this._ecModel;var _=c.get("focus");Ti(this,"ancestor"===_?n.getAncestorsIndices():"descendant"===_?n.getDescendantIndices():_,c.get("blurScope"),c.get("disabled"))},i.prototype._updateLabel=function(t){var n=this,r=this.node.getModel(),a=r.getModel("label"),o=this.node.getLayout(),s=o.endAngle-o.startAngle,l=(o.startAngle+o.endAngle)/2,c=Math.cos(l),u=Math.sin(l),h=this,f=h.getTextContent(),p=this.node.dataIndex,m=a.get("minAngle")/180*Math.PI,b=a.get("show")&&!(null!=m&&Math.abs(s)<m);function _(w,T){return w.get(T)??a.get(T)}f.ignore=!b,U(rf,function(w){var T=r.getModel("normal"===w?"label":[w,"label"]),A="normal"===w,P=A?f:f.ensureState(w),F=t.getFormattedLabel(p,w);A&&(F=F||n.node.name),P.style=ri(T,{},null,"normal"!==w,!0),F&&(P.style.text=F);var O=T.get("show");null!=O&&!A&&(P.ignore=!O);var V=_(T,"position"),N=A?h:h.states[w],G=N.style.fill;N.textConfig={outsideFill:"inherit"===T.get("color")?G:null,inside:"outside"!==V};var H,X=_(T,"distance")||0,q=_(T,"align"),j=_(T,"rotate"),J=.5*Math.PI,tt=1.5*Math.PI,et=$r("tangential"===j?Math.PI/2-l:l),lt=et>J&&!$d(et-J)&&et<tt;"outside"===V?(H=o.r+X,q=lt?"right":"left"):q&&"center"!==q?"left"===q?(H=o.r0+X,q=lt?"right":"left"):"right"===q&&(H=o.r-X,q=lt?"left":"right"):(H=s===2*Math.PI&&0===o.r0?0:(o.r+o.r0)/2,q="center"),P.style.align=q,P.style.verticalAlign=_(T,"verticalAlign")||"middle",P.x=H*c+o.cx,P.y=H*u+o.cy;var st=0;"radial"===j?st=$r(-l)+(lt?Math.PI:0):"tangential"===j?st=$r(Math.PI/2-l)+(lt?Math.PI:0):_e(j)&&(st=j*Math.PI/180),P.rotation=$r(st)}),f.dirtyStyle()},i}(kr);const xI=XZ;var W1="sunburstRootToNode",bI="sunburstHighlight",$Z=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.render=function(t,n,r,a){var o=this;this.seriesModel=t,this.api=r,this.ecModel=n;var s=t.getData(),l=s.tree.root,c=t.getViewRoot(),u=this.group,h=t.get("renderLabelForZeroData"),f=[];c.eachNode(function(T){f.push(T)}),function m(T,A){function P(O){return O.getId()}function F(O,V){!function b(T,A){if(!h&&T&&!T.getValue()&&(T=null),T!==l&&A!==l)if(A&&A.piece)T?(A.piece.updateData(!1,T,t,n,r),s.setItemGraphicEl(T.dataIndex,A.piece)):function _(T){T&&T.piece&&(u.remove(T.piece),T.piece=null)}(A);else if(T){var P=new xI(T,t,n,r);u.add(P),s.setItemGraphicEl(T.dataIndex,P)}}(null==O?null:T[O],null==V?null:A[V])}0===T.length&&0===A.length||new Rs(A,T,P,P).add(F).update(F).remove(jt(F,null)).execute()}(f,this._oldChildren||[]),function w(T,A){A.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,T,t,n,r):(o.virtualPiece=new xI(T,t,n,r),u.add(o.virtualPiece)),A.piece.off("click"),o.virtualPiece.on("click",function(P){o._rootToNode(A.parentNode)})):o.virtualPiece&&(u.remove(o.virtualPiece),o.virtualPiece=null)}(l,c),this._initEvents(),this._oldChildren=f},i.prototype._initEvents=function(){var t=this;this.group.off("click"),this.group.on("click",function(n){var r=!1;t.seriesModel.getViewRoot().eachNode(function(o){if(!r&&o.piece&&o.piece===n.target){var s=o.getModel().get("nodeClick");if("rootToNode"===s)t._rootToNode(o);else if("link"===s){var l=o.getModel(),c=l.get("link");c&&kg(c,l.get("target",!0)||"_blank")}r=!0}})})},i.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:W1,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},i.prototype.containPoint=function(t,n){var a=n.getData().getItemLayout(0);if(a){var o=t[0]-a.cx,s=t[1]-a.cy,l=Math.sqrt(o*o+s*s);return l<=a.r&&l>=a.r0}},i.type="sunburst",i}(oi);const jZ=$Z;var qZ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.ignoreStyleOnData=!0,t}return ot(i,e),i.prototype.getInitialData=function(t,n){var r={name:t.name,children:t.data};CI(r);var a=this._levelModels=mt(t.levels||[],function(l){return new ai(l,this,n)},this),o=Wx.createTree(r,this,function s(l){l.wrapMethod("getItemModel",function(c,u){var h=o.getNodeByDataIndex(u),f=a[h.depth];return f&&(c.parentModel=f),c})});return o.data},i.prototype.optionUpdated=function(){this.resetViewRoot()},i.prototype.getDataParams=function(t){var n=e.prototype.getDataParams.apply(this,arguments),r=this.getData().tree.getNodeByDataIndex(t);return n.treePathInfo=Zv(r,this),n},i.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},i.prototype.getViewRoot=function(){return this._viewRoot},i.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var n=this.getRawData().tree.root;(!t||t!==n&&!n.contains(t))&&(this._viewRoot=n)},i.prototype.enableAriaDecal=function(){PD(this)},i.type="series.sunburst",i.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},i}(mi);function CI(e){var i=0;U(e.children,function(n){CI(n);var r=n.value;yt(r)&&(r=r[0]),i+=r});var t=e.value;yt(t)&&(t=t[0]),(null==t||isNaN(t))&&(t=i),t<0&&(t=0),yt(e.value)?e.value[0]=t:e.value=t}const KZ=qZ;var SI=Math.PI/180;function QZ(e,i,t){i.eachSeriesByType(e,function(n){var r=n.get("center"),a=n.get("radius");yt(a)||(a=[0,a]),yt(r)||(r=[r,r]);var o=t.getWidth(),s=t.getHeight(),l=Math.min(o,s),c=At(r[0],o),u=At(r[1],s),h=At(a[0],l/2),f=At(a[1],l/2),p=-n.get("startAngle")*SI,m=n.get("minAngle")*SI,b=n.getData().tree.root,_=n.getViewRoot(),w=_.depth,T=n.get("sort");null!=T&&wI(_,T);var A=0;U(_.children,function(et){!isNaN(et.getValue())&&A++});var P=_.getValue(),F=Math.PI/(P||A)*2,O=_.depth>0,N=(f-h)/(_.height-(O?-1:1)||1),G=n.get("clockwise"),H=n.get("stillShowZeroSum"),X=G?1:-1,q=function(et,lt){if(et){var st=lt;if(et!==b){var ut=et.getValue(),vt=0===P&&H?F:ut*F;vt<m&&(vt=m),st=lt+X*vt;var _t=et.depth-w-(O?-1:1),St=h+N*_t,Et=h+N*(_t+1),Ft=n.getLevelModel(et);if(Ft){var ne=Ft.get("r0",!0),le=Ft.get("r",!0),Ut=Ft.get("radius",!0);null!=Ut&&(ne=Ut[0],le=Ut[1]),null!=ne&&(St=At(ne,l/2)),null!=le&&(Et=At(le,l/2))}et.setLayout({angle:vt,startAngle:lt,endAngle:st,clockwise:G,cx:c,cy:u,r0:St,r:Et})}if(et.children&&et.children.length){var Vt=0;U(et.children,function(bt){Vt+=q(bt,lt+Vt)})}return st-lt}};if(O){var tt=2*Math.PI;b.setLayout({angle:tt,startAngle:p,endAngle:p+tt,clockwise:G,cx:c,cy:u,r0:h,r:h+N})}q(_,p)})}function wI(e,i){var t=e.children||[];e.children=function JZ(e,i){if(Z(i)){var t=mt(e,function(r,a){var o=r.getValue();return{params:{depth:r.depth,height:r.height,dataIndex:r.dataIndex,getValue:function(){return o}},index:a}});return t.sort(function(r,a){return i(r.params,a.params)}),mt(t,function(r){return e[r.index]})}var n="asc"===i;return e.sort(function(r,a){var o=(r.getValue()-a.getValue())*(n?1:-1);return 0===o?(r.dataIndex-a.dataIndex)*(n?-1:1):o})}(t,i),t.length&&U(e.children,function(n){wI(n,i)})}function t$(e){var i={};e.eachSeriesByType("sunburst",function(n){var r=n.getData(),a=r.tree;a.eachNode(function(o){var l=o.getModel().getModel("itemStyle").getItemStyle();l.fill||(l.fill=function t(n,r,a){for(var o=n;o&&o.depth>1;)o=o.parentNode;var s=r.getColorFromPalette(o.name||o.dataIndex+"",i);return n.depth>1&&Lt(s)&&(s=mn(s,(n.depth-1)/(a-1)*.5)),s}(o,n,a.root.height)),ft(r.ensureUniqueItemVisual(o.dataIndex,"style"),l)})})}var TI={color:"fill",borderColor:"stroke"},i$={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Hs=Le(),n$=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},i.prototype.getInitialData=function(t,n){return Bs(null,this)},i.prototype.getDataParams=function(t,n,r){var a=e.prototype.getDataParams.call(this,t,n);return r&&(a.info=Hs(r).info),a},i.type="series.custom",i.dependencies=["grid","polar","geo","singleAxis","calendar"],i.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},i}(mi);const r$=n$;function a$(e,i){return i=i||[0,0],mt(["x","y"],function(t,n){var r=this.getAxis(t),a=i[n],o=e[n]/2;return"category"===r.type?r.getBandWidth():Math.abs(r.dataToCoord(a-o)-r.dataToCoord(a+o))},this)}function s$(e,i){return i=i||[0,0],mt([0,1],function(t){var n=i[t],r=e[t]/2,a=[],o=[];return a[t]=n-r,o[t]=n+r,a[1-t]=o[1-t]=i[1-t],Math.abs(this.dataToPoint(a)[t]-this.dataToPoint(o)[t])},this)}function c$(e,i){var t=this.getAxis(),n=i instanceof Array?i[0]:i,r=(e instanceof Array?e[0]:e)/2;return"category"===t.type?t.getBandWidth():Math.abs(t.dataToCoord(n-r)-t.dataToCoord(n+r))}function h$(e,i){return i=i||[0,0],mt(["Radius","Angle"],function(t,n){var a=this["get"+t+"Axis"](),o=i[n],s=e[n]/2,l="category"===a.type?a.getBandWidth():Math.abs(a.dataToCoord(o-s)-a.dataToCoord(o+s));return"Angle"===t&&(l=l*Math.PI/180),l},this)}function MI(e,i,t,n){return e&&(e.legacy||!1!==e.legacy&&!t&&!n&&"tspan"!==i&&("text"===i||Pt(e,"text")))}function AI(e,i,t){var r,a,o,n=e;if("text"===i)o=n;else{o={},Pt(n,"text")&&(o.text=n.text),Pt(n,"rich")&&(o.rich=n.rich),Pt(n,"textFill")&&(o.fill=n.textFill),Pt(n,"textStroke")&&(o.stroke=n.textStroke),Pt(n,"fontFamily")&&(o.fontFamily=n.fontFamily),Pt(n,"fontSize")&&(o.fontSize=n.fontSize),Pt(n,"fontStyle")&&(o.fontStyle=n.fontStyle),Pt(n,"fontWeight")&&(o.fontWeight=n.fontWeight),a={type:"text",style:o,silent:!0},r={};var s=Pt(n,"textPosition");t?r.position=s?n.textPosition:"inside":s&&(r.position=n.textPosition),Pt(n,"textPosition")&&(r.position=n.textPosition),Pt(n,"textOffset")&&(r.offset=n.textOffset),Pt(n,"textRotation")&&(r.rotation=n.textRotation),Pt(n,"textDistance")&&(r.distance=n.textDistance)}return LI(o,e),U(o.rich,function(l){LI(l,l)}),{textConfig:r,textContent:a}}function LI(e,i){i&&(i.font=i.textFont||i.font,Pt(i,"textStrokeWidth")&&(e.lineWidth=i.textStrokeWidth),Pt(i,"textAlign")&&(e.align=i.textAlign),Pt(i,"textVerticalAlign")&&(e.verticalAlign=i.textVerticalAlign),Pt(i,"textLineHeight")&&(e.lineHeight=i.textLineHeight),Pt(i,"textWidth")&&(e.width=i.textWidth),Pt(i,"textHeight")&&(e.height=i.textHeight),Pt(i,"textBackgroundColor")&&(e.backgroundColor=i.textBackgroundColor),Pt(i,"textPadding")&&(e.padding=i.textPadding),Pt(i,"textBorderColor")&&(e.borderColor=i.textBorderColor),Pt(i,"textBorderWidth")&&(e.borderWidth=i.textBorderWidth),Pt(i,"textBorderRadius")&&(e.borderRadius=i.textBorderRadius),Pt(i,"textBoxShadowColor")&&(e.shadowColor=i.textBoxShadowColor),Pt(i,"textBoxShadowBlur")&&(e.shadowBlur=i.textBoxShadowBlur),Pt(i,"textBoxShadowOffsetX")&&(e.shadowOffsetX=i.textBoxShadowOffsetX),Pt(i,"textBoxShadowOffsetY")&&(e.shadowOffsetY=i.textBoxShadowOffsetY))}function kI(e,i,t){var n=e;n.textPosition=n.textPosition||t.position||"inside",null!=t.offset&&(n.textOffset=t.offset),null!=t.rotation&&(n.textRotation=t.rotation),null!=t.distance&&(n.textDistance=t.distance);var r=n.textPosition.indexOf("inside")>=0,a=e.fill||"#000";DI(n,i);var o=null==n.textFill;return r?o&&(n.textFill=t.insideFill||"#fff",!n.textStroke&&t.insideStroke&&(n.textStroke=t.insideStroke),!n.textStroke&&(n.textStroke=a),null==n.textStrokeWidth&&(n.textStrokeWidth=2)):(o&&(n.textFill=e.fill||t.outsideFill||"#000"),!n.textStroke&&t.outsideStroke&&(n.textStroke=t.outsideStroke)),n.text=i.text,n.rich=i.rich,U(i.rich,function(s){DI(s,s)}),n}function DI(e,i){i&&(Pt(i,"fill")&&(e.textFill=i.fill),Pt(i,"stroke")&&(e.textStroke=i.fill),Pt(i,"lineWidth")&&(e.textStrokeWidth=i.lineWidth),Pt(i,"font")&&(e.font=i.font),Pt(i,"fontStyle")&&(e.fontStyle=i.fontStyle),Pt(i,"fontWeight")&&(e.fontWeight=i.fontWeight),Pt(i,"fontSize")&&(e.fontSize=i.fontSize),Pt(i,"fontFamily")&&(e.fontFamily=i.fontFamily),Pt(i,"align")&&(e.textAlign=i.align),Pt(i,"verticalAlign")&&(e.textVerticalAlign=i.verticalAlign),Pt(i,"lineHeight")&&(e.textLineHeight=i.lineHeight),Pt(i,"width")&&(e.textWidth=i.width),Pt(i,"height")&&(e.textHeight=i.height),Pt(i,"backgroundColor")&&(e.textBackgroundColor=i.backgroundColor),Pt(i,"padding")&&(e.textPadding=i.padding),Pt(i,"borderColor")&&(e.textBorderColor=i.borderColor),Pt(i,"borderWidth")&&(e.textBorderWidth=i.borderWidth),Pt(i,"borderRadius")&&(e.textBorderRadius=i.borderRadius),Pt(i,"shadowColor")&&(e.textBoxShadowColor=i.shadowColor),Pt(i,"shadowBlur")&&(e.textBoxShadowBlur=i.shadowBlur),Pt(i,"shadowOffsetX")&&(e.textBoxShadowOffsetX=i.shadowOffsetX),Pt(i,"shadowOffsetY")&&(e.textBoxShadowOffsetY=i.shadowOffsetY),Pt(i,"textShadowColor")&&(e.textShadowColor=i.textShadowColor),Pt(i,"textShadowBlur")&&(e.textShadowBlur=i.textShadowBlur),Pt(i,"textShadowOffsetX")&&(e.textShadowOffsetX=i.textShadowOffsetX),Pt(i,"textShadowOffsetY")&&(e.textShadowOffsetY=i.textShadowOffsetY))}var PI={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},II=he(PI),om=(bi(Bo,function(e,i){return e[i]=1,e},{}),Bo.join(", "),["","style","shape","extra"]),sd=Le();function Y1(e,i,t,n,r){var a=e+"Animation",o=bh(e,n,r)||{},s=sd(i).userDuring;return o.duration>0&&(o.during=s?Dt(y$,{el:i,userDuring:s}):null,o.setToFinal=!0,o.scope=e),ft(o,t[a]),o}function sm(e,i,t,n){var r=(n=n||{}).dataIndex,a=n.isInit,o=n.clearStyle,s=t.isAnimationEnabled(),l=sd(e),c=i.style;l.userDuring=i.during;var u={},h={};if(function x$(e,i,t){for(var n=0;n<II.length;n++){var r=II[n],a=PI[r],o=i[r];o&&(t[a[0]]=o[0],t[a[1]]=o[1])}for(n=0;n<Bo.length;n++){var s=Bo[n];null!=i[s]&&(t[s]=i[s])}}(0,i,h),FI("shape",i,h),FI("extra",i,h),!a&&s&&(function _$(e,i,t){for(var n=i.transition,r=Au(n)?Bo:je(n||[]),a=0;a<r.length;a++){var o=r[a];"style"!==o&&"shape"!==o&&"extra"!==o&&(t[o]=e[o])}}(e,i,u),EI("shape",e,i,u),EI("extra",e,i,u),function b$(e,i,t,n){if(t){var a,r=e.style;if(r){var o=t.transition,s=i.transition;if(o&&!Au(o)){var l=je(o);!a&&(a=n.style={});for(var c=0;c<l.length;c++)a[u=l[c]]=r[u]}else if(e.getAnimationStyleProps&&(Au(s)||Au(o)||oe(s,"style")>=0)){var f=e.getAnimationStyleProps(),p=f?f.style:null;if(p){!a&&(a=n.style={});var m=he(t);for(c=0;c<m.length;c++){var u;p[u=m[c]]&&(a[u]=r[u])}}}}}}(e,i,c,u)),h.style=c,function p$(e,i,t){var n=i.style;if(!e.isGroup&&n){if(t){e.useStyle({});for(var r=e.animators,a=0;a<r.length;a++){var o=r[a];"style"===o.targetName&&o.changeTarget(e.style)}}e.setStyle(n)}i&&(i.style=null,i&&e.attr(i),i.style=n)}(e,h,o),function v$(e,i){Pt(i,"silent")&&(e.silent=i.silent),Pt(i,"ignore")&&(e.ignore=i.ignore),e instanceof ma&&Pt(i,"invisible")&&(e.invisible=i.invisible),e instanceof ge&&Pt(i,"autoBatch")&&(e.autoBatch=i.autoBatch)}(e,i),s)if(a){var f={};U(om,function(m){var b=m?i[m]:i;b&&b.enterFrom&&(m&&(f[m]=f[m]||{}),ft(m?f[m]:f,b.enterFrom))});var p=Y1("enter",e,i,t,r);p.duration>0&&e.animateFrom(f,p)}else!function g$(e,i,t,n,r){if(r){var a=Y1("update",e,i,n,t);a.duration>0&&e.animateFrom(r,a)}}(e,i,r||0,t,u);OI(e,i),c?e.dirty():e.markRedraw()}function OI(e,i){for(var t=sd(e).leaveToProps,n=0;n<om.length;n++){var r=om[n],a=r?i[r]:i;a&&a.leaveTo&&(t||(t=sd(e).leaveToProps={}),r&&(t[r]=t[r]||{}),ft(r?t[r]:t,a.leaveTo))}}function lm(e,i,t,n){if(e){var r=e.parent,a=sd(e).leaveToProps;if(a){var o=Y1("update",e,i,t,0);o.done=function(){r.remove(e),n&&n()},e.animateTo(a,o)}else r.remove(e),n&&n()}}function Au(e){return"all"===e}var Jo={},m$={setTransform:function(e,i){return Jo.el[e]=i,this},getTransform:function(e){return Jo.el[e]},setShape:function(e,i){var t=Jo.el;return(t.shape||(t.shape={}))[e]=i,t.dirtyShape&&t.dirtyShape(),this},getShape:function(e){var i=Jo.el.shape;if(i)return i[e]},setStyle:function(e,i){var t=Jo.el,n=t.style;return n&&(n[e]=i,t.dirtyStyle&&t.dirtyStyle()),this},getStyle:function(e){var i=Jo.el.style;if(i)return i[e]},setExtra:function(e,i){return(Jo.el.extra||(Jo.el.extra={}))[e]=i,this},getExtra:function(e){var i=Jo.el.extra;if(i)return i[e]}};function y$(){var e=this,i=e.el;if(i){var t=sd(i).userDuring,n=e.userDuring;if(t!==n)return void(e.el=e.userDuring=null);Jo.el=i,n(m$)}}function EI(e,i,t,n){var r=t[e];if(r){var o,a=i[e];if(a){var s=t.transition,l=r.transition;if(l)if(!o&&(o=n[e]={}),Au(l))ft(o,a);else for(var c=je(l),u=0;u<c.length;u++)o[h=c[u]]=f=a[h];else if(Au(s)||oe(s,e)>=0){!o&&(o=n[e]={});var p=he(a);for(u=0;u<p.length;u++){var h,f;C$(r[h=p[u]],f=a[h])&&(o[h]=f)}}}}}function FI(e,i,t){var n=i[e];if(n)for(var r=t[e]={},a=he(n),o=0;o<a.length;o++){var s=a[o];r[s]=Mr(n[s])}}function C$(e,i){return Li(e)?e!==i:null!=e&&isFinite(e)}var RI=Le(),S$=["percent","easing","shape","style","extra"];function BI(e){e.stopAnimation("keyframe"),e.attr(RI(e))}function cm(e,i,t){if(t.isAnimationEnabled()&&i){if(yt(i))return void U(i,function(s){cm(e,s,t)});var n=i.keyframes,r=i.duration;if(t&&null==r){var a=bh("enter",t,0);r=a&&a.duration}if(n&&r){var o=RI(e);U(om,function(s){var l;s&&!e[s]||(n.sort(function(u,h){return u.percent-h.percent}),U(n,function(u){var h=e.animators,f=s?u[s]:u;if(f){var p=he(f);if(s||(p=ve(p,function(_){return oe(S$,_)<0})),p.length){l||((l=e.animate(s,i.loop,!0)).scope="keyframe");for(var m=0;m<h.length;m++)h[m]!==l&&h[m].targetName===l.targetName&&h[m].stopTracks(p);s&&(o[s]=o[s]||{});var b=s?o[s]:o;U(p,function(_){b[_]=((s?e[s]:e)||{})[_]}),l.whenWithKeys(r*u.percent,f,p,u.easing)}}}),l&&l.delay(i.delay||0).duration(r).start(i.easing))})}}}var Ws="emphasis",Ul="normal",X1="blur",U1="select",Zl=[Ul,Ws,X1,U1],Z1={normal:["itemStyle"],emphasis:[Ws,"itemStyle"],blur:[X1,"itemStyle"],select:[U1,"itemStyle"]},$1={normal:["label"],emphasis:[Ws,"label"],blur:[X1,"label"],select:[U1,"label"]},w$=["x","y"],T$="e\0\0",La={normal:{},emphasis:{},blur:{},select:{}},M$={cartesian2d:function o$(e){var i=e.master.getRect();return{coordSys:{type:"cartesian2d",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(t){return e.dataToPoint(t)},size:Dt(a$,e)}}},geo:function l$(e){var i=e.getBoundingRect();return{coordSys:{type:"geo",x:i.x,y:i.y,width:i.width,height:i.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:Dt(s$,e)}}},single:function u$(e){var i=e.getRect();return{coordSys:{type:"singleAxis",x:i.x,y:i.y,width:i.width,height:i.height},api:{coord:function(t){return e.dataToPoint(t)},size:Dt(c$,e)}}},polar:function d$(e){var i=e.getRadiusAxis(),t=e.getAngleAxis(),n=i.getExtent();return n[0]>n[1]&&n.reverse(),{coordSys:{type:"polar",cx:e.cx,cy:e.cy,r:n[1],r0:n[0]},api:{coord:function(r){var a=i.dataToRadius(r[0]),o=t.dataToAngle(r[1]),s=e.coordToPoint([a,o]);return s.push(a,o*Math.PI/180),s},size:Dt(h$,e)}}},calendar:function f$(e){var i=e.getRect(),t=e.getRangeInfo();return{coordSys:{type:"calendar",x:i.x,y:i.y,width:i.width,height:i.height,cellWidth:e.getCellWidth(),cellHeight:e.getCellHeight(),rangeInfo:{start:t.start,end:t.end,weeks:t.weeks,dayCount:t.allDay}},api:{coord:function(n,r){return e.dataToPoint(n,r)}}}}};function j1(e){return e instanceof ge}function q1(e){return e instanceof ma}var L$=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.render=function(t,n,r,a){this._progressiveEls=null;var o=this._data,s=t.getData(),l=this.group,c=zI(t,s,n,r);o||l.removeAll(),s.diff(o).add(function(h){J1(r,null,h,c(h,a),t,l,s)}).remove(function(h){var f=o.getItemGraphicEl(h);f&&lm(f,Hs(f).option,t)}).update(function(h,f){var p=o.getItemGraphicEl(f);J1(r,p,h,c(h,a),t,l,s)}).execute();var u=t.get("clip",!0)?Uf(t.coordinateSystem,!1,t):null;u?l.setClipPath(u):l.removeClipPath(),this._data=s},i.prototype.incrementalPrepareRender=function(t,n,r){this.group.removeAll(),this._data=null},i.prototype.incrementalRender=function(t,n,r,a,o){var s=n.getData(),l=zI(n,s,r,a),c=this._progressiveEls=[];function u(p){p.isGroup||(p.incremental=!0,p.ensureState("emphasis").hoverLayer=!0)}for(var h=t.start;h<t.end;h++){var f=J1(null,null,h,l(h,o),n,this.group,s);f&&(f.traverse(u),c.push(f))}},i.prototype.eachRendered=function(t){Fl(this._progressiveEls||this.group,t)},i.prototype.filterForExposedEvent=function(t,n,r,a){var o=n.element;if(null==o||r.name===o)return!0;for(;(r=r.__hostTarget||r.parent)&&r!==this.group;)if(r.name===o)return!0;return!1},i.type="custom",i}(oi);const k$=L$;function K1(e){var t,i=e.type;if("path"===i){var n=e.shape,r=null!=n.width&&null!=n.height?{x:n.x||0,y:n.y||0,width:n.width,height:n.height}:null,a=YI(n);t=qg(a,null,r,n.layout||"center"),Hs(t).customPathData=a}else if("image"===i)t=new Pn({}),Hs(t).customImagePath=e.style.image;else if("text"===i)t=new Ie({});else if("group"===i)t=new Kt;else{if("compoundPath"===i)throw new Error('"compoundPath" is not supported yet.');var o=u0(i);o||He(""),t=new o}return Hs(t).customGraphicType=i,t.name=e.name,t.z2EmphasisLift=1,t.z2SelectLift=1,t}function Q1(e,i,t,n,r,a,o){BI(i);var s=r&&r.normal.cfg;s&&i.setTextConfig(s),n&&null==n.transition&&(n.transition=w$);var l=n&&n.style;if(l){if("text"===i.type){var c=l;Pt(c,"textFill")&&(c.fill=c.textFill),Pt(c,"textStroke")&&(c.stroke=c.textStroke)}var u=void 0,h=j1(i)?l.decal:null;e&&h&&(h.dirty=!0,u=Yh(h,e)),l.__decalPattern=u}q1(i)&&l&&(u=l.__decalPattern)&&(l.decal=u),sm(i,n,a,{dataIndex:t,isInit:o,clearStyle:!0}),cm(i,n.keyframeAnimation,a)}function VI(e,i,t,n,r){var a=i.isGroup?null:i,o=r&&r[e].cfg;if(a){var s=a.ensureState(e);if(!1===n){var l=a.getState(e);l&&(l.style=null)}else s.style=n||null;o&&(s.textConfig=o),Gc(a)}}function P$(e,i,t){var n=t===Ul,r=n?i:um(i,t),a=r?r.z2:null;null!=a&&((n?e:e.ensureState(t)).z2=a||0)}function zI(e,i,t,n){var r=e.get("renderItem"),a=e.coordinateSystem,o={};a&&(o=a.prepareCustoms?a.prepareCustoms(a):M$[a.type](a));for(var c,u,s=Rt({getWidth:n.getWidth,getHeight:n.getHeight,getZr:n.getZr,getDevicePixelRatio:n.getDevicePixelRatio,value:function P(J,tt){return null==tt&&(tt=c),i.getStore().get(i.getDimensionIndex(J||0),tt)},style:function O(J,tt){null==tt&&(tt=c);var et=i.getItemVisual(tt,"style"),lt=et&&et.fill,st=et&&et.opacity,ut=T(tt,Ul).getItemStyle();null!=lt&&(ut.fill=lt),null!=st&&(ut.opacity=st);var vt={inheritColor:Lt(lt)?lt:"#000"},_t=A(tt,Ul),St=ri(_t,null,vt,!1,!0);St.text=_t.getShallow("show")?qt(e.getFormattedLabel(tt,Ul),jh(i,tt)):null;var Et=xg(_t,vt,!1);return G(J,ut),ut=kI(ut,St,Et),J&&N(ut,J),ut.legacy=!0,ut},ordinalRawValue:function F(J,tt){null==tt&&(tt=c);var et=i.getDimensionInfo(J=J||0);if(!et){var lt=i.getDimensionIndex(J);return lt>=0?i.getStore().get(lt,tt):void 0}var st=i.get(et.name,tt),ut=et&&et.ordinalMeta;return ut?ut.categories[st]:st},styleEmphasis:function V(J,tt){null==tt&&(tt=c);var et=T(tt,Ws).getItemStyle(),lt=A(tt,Ws),st=ri(lt,null,null,!0,!0);st.text=lt.getShallow("show")?gr(e.getFormattedLabel(tt,Ws),e.getFormattedLabel(tt,Ul),jh(i,tt)):null;var ut=xg(lt,null,!0);return G(J,et),et=kI(et,st,ut),J&&N(et,J),et.legacy=!0,et},visual:function H(J,tt){if(null==tt&&(tt=c),Pt(TI,J)){var et=i.getItemVisual(tt,"style");return et?et[TI[J]]:null}if(Pt(i$,J))return i.getItemVisual(tt,J)},barLayout:function X(J){if("cartesian2d"===a.type)return function QH(e){var i=[],t=e.axis,n="axis0";if("category"===t.type){for(var r=t.getBandWidth(),a=0;a<e.count;a++)i.push(Rt({bandWidth:r,axisKey:n,stackId:rx+a},e));var o=xL(i),s=[];for(a=0;a<e.count;a++){var l=o[n][rx+a];l.offsetCenter=l.offset+l.width/2,s.push(l)}return s}}(Rt({axis:a.getBaseAxis()},J))},currentSeriesIndices:function q(){return t.getCurrentSeriesIndices()},font:function j(J){return x_(J,t)}},o.api||{}),l={context:{},seriesId:e.id,seriesName:e.name,seriesIndex:e.seriesIndex,coordSys:o.coordSys,dataInsideLength:i.count(),encode:I$(e.getData())},h={},f={},p={},m={},b=0;b<Zl.length;b++){var _=Zl[b];p[_]=e.getModel(Z1[_]),m[_]=e.getModel($1[_])}function w(J){return J===c?u||(u=i.getItemModel(J)):i.getItemModel(J)}function T(J,tt){return i.hasItemOption?J===c?h[tt]||(h[tt]=w(J).getModel(Z1[tt])):w(J).getModel(Z1[tt]):p[tt]}function A(J,tt){return i.hasItemOption?J===c?f[tt]||(f[tt]=w(J).getModel($1[tt])):w(J).getModel($1[tt]):m[tt]}return function(J,tt){return c=J,u=null,h={},f={},r&&r(Rt({dataIndexInside:J,dataIndex:i.getRawIndex(J),actionType:tt?tt.type:null},l),s)};function N(J,tt){for(var et in tt)Pt(tt,et)&&(J[et]=tt[et])}function G(J,tt){J&&(J.textFill&&(tt.textFill=J.textFill),J.textPosition&&(tt.textPosition=J.textPosition))}}function I$(e){var i={};return U(e.dimensions,function(t){var n=e.getDimensionInfo(t);if(!n.isExtraCoord){var r=n.coordDim;(i[r]=i[r]||[])[n.coordDimIndex]=e.getDimensionIndex(t)}}),i}function J1(e,i,t,n,r,a,o){if(n){var s=tb(e,i,t,n,r,a);return s&&o.setItemGraphicEl(t,s),s&&Ti(s,n.focus,n.blurScope,n.emphasisDisabled),s}a.remove(i)}function tb(e,i,t,n,r,a){var o=-1,s=i;i&&NI(i,n,r)&&(o=oe(a.childrenRef(),i),i=null);var l=!i,c=i;c?c.clearStates():(c=K1(n),s&&function A$(e,i){i.copyTransform(e),q1(i)&&q1(e)&&(i.setStyle(e.style),i.z=e.z,i.z2=e.z2,i.zlevel=e.zlevel,i.invisible=e.invisible,i.ignore=e.ignore,j1(i)&&j1(e)&&i.setShape(e.shape))}(s,c)),!1===n.morph?c.disableMorphing=!0:c.disableMorphing&&(c.disableMorphing=!1),La.normal.cfg=La.normal.conOpt=La.emphasis.cfg=La.emphasis.conOpt=La.blur.cfg=La.blur.conOpt=La.select.cfg=La.select.conOpt=null,La.isLegacy=!1,function E$(e,i,t,n,r,a){if(!e.isGroup){GI(t,null,a),GI(t,Ws,a);var o=a.normal.conOpt;if(null!=o||null!=a.emphasis.conOpt||null!=a.select.conOpt||null!=a.blur.conOpt){var u=e.getTextContent();if(!1===o)u&&e.removeTextContent();else{o=a.normal.conOpt=o||{type:"text"},u?u.clearStates():(u=K1(o),e.setTextContent(u)),Q1(null,u,i,o,null,n,r);for(var h=o&&o.style,f=0;f<Zl.length;f++){var p=Zl[f];if(p!==Ul)VI(p,u,0,eb(o,a[p].conOpt,p),null)}h?u.dirty():u.markRedraw()}}}}(c,t,n,r,l,La),function O$(e,i,t,n,r){var a=t.clipPath;if(!1===a)e&&e.getClipPath()&&e.removeClipPath();else if(a){var o=e.getClipPath();o&&NI(o,a,n)&&(o=null),o||(o=K1(a),e.setClipPath(o)),Q1(null,o,i,a,null,n,r)}}(c,t,n,r,l),Q1(e,c,t,n,La,r,l),Pt(n,"info")&&(Hs(c).info=n.info);for(var u=0;u<Zl.length;u++){var h=Zl[u];if(h!==Ul)VI(h,c,0,eb(n,um(n,h),h),La)}return function D$(e,i,t){if(!e.isGroup){var n=e,a=t.currentZLevel;n.z=t.currentZ,n.zlevel=a;var o=i.z2;null!=o&&(n.z2=o||0);for(var s=0;s<Zl.length;s++)P$(n,i,Zl[s])}}(c,n,r),"group"===n.type&&function F$(e,i,t,n,r){var a=n.children,o=a?a.length:0,s=n.$mergeChildren,l="byName"===s||n.diffChildrenByName,c=!1===s;if(o||l||c){if(l)return void function B$(e){new Rs(e.oldChildren,e.newChildren,HI,HI,e).add(WI).update(WI).remove(V$).execute()}({api:e,oldChildren:i.children()||[],newChildren:a||[],dataIndex:t,seriesModel:r,group:i});c&&i.removeAll();for(var u=0;u<o;u++){var h=a[u],f=i.childAt(u);h?(null==h.ignore&&(h.ignore=!1),tb(e,f,t,h,r,i)):f.ignore=!0}for(var p=i.childCount()-1;p>=u;p--){var m=i.childAt(p);R$(i,m,r)}}}(e,c,t,n,r),o>=0?a.replaceAt(c,o):a.add(c),c}function NI(e,i,t){var n=Hs(e),r=i.type,a=i.shape,o=i.style;return t.isUniversalTransitionEnabled()||null!=r&&r!==n.customGraphicType||"path"===r&&function z$(e){return e&&(Pt(e,"pathData")||Pt(e,"d"))}(a)&&YI(a)!==n.customPathData||"image"===r&&Pt(o,"image")&&o.image!==n.customImagePath}function GI(e,i,t){var n=i?um(e,i):e,r=i?eb(e,n,Ws):e.style,a=e.type,o=n?n.textConfig:null,s=e.textContent,l=s?i?um(s,i):s:null;if(r&&(t.isLegacy||MI(r,a,!!o,!!l))){t.isLegacy=!0;var c=AI(r,a,!i);!o&&c.textConfig&&(o=c.textConfig),!l&&c.textContent&&(l=c.textContent)}!i&&l&&!l.type&&(l.type="text");var h=i?t[i]:t.normal;h.cfg=o,h.conOpt=l}function um(e,i){return i?e?e[i]:null:e}function eb(e,i,t){var n=i&&i.style;return null==n&&t===Ws&&e&&(n=e.styleEmphasis),n}function R$(e,i,t){i&&lm(i,Hs(e).option,t)}function HI(e,i){return(e&&e.name)??T$+i}function WI(e,i){var t=this.context;tb(t.api,null!=i?t.oldChildren[i]:null,t.dataIndex,null!=e?t.newChildren[e]:null,t.seriesModel,t.group)}function V$(e){var i=this.context,t=i.oldChildren[e];t&&lm(t,Hs(t).option,i.seriesModel)}function YI(e){return e&&(e.pathData||e.d)}var Lu=Le(),XI=Gt,ib=Dt,G$=function(){function e(){this._dragging=!1,this.animationThreshold=15}return e.prototype.render=function(i,t,n,r){var a=t.get("value"),o=t.get("status");if(this._axisModel=i,this._axisPointerModel=t,this._api=n,r||this._lastValue!==a||this._lastStatus!==o){this._lastValue=a,this._lastStatus=o;var s=this._group,l=this._handle;if(!o||"hide"===o)return s&&s.hide(),void(l&&l.hide());s&&s.show(),l&&l.show();var c={};this.makeElOption(c,a,i,t,n);var u=c.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var h=this._moveAnimation=this.determineAnimation(i,t);if(s){var f=jt(UI,t,h);this.updatePointerEl(s,c,f),this.updateLabelEl(s,c,f,t)}else s=this._group=new Kt,this.createPointerEl(s,c,i,t),this.createLabelEl(s,c,i,t),n.getZr().add(s);jI(s,t,!0),this._renderHandle(a)}},e.prototype.remove=function(i){this.clear(i)},e.prototype.dispose=function(i){this.clear(i)},e.prototype.determineAnimation=function(i,t){var n=t.get("animation"),r=i.axis,a="category"===r.type,o=t.get("snap");if(!o&&!a)return!1;if("auto"===n||null==n){var s=this.animationThreshold;if(a&&r.getBandWidth()>s)return!0;if(o){var l=Tx(i).seriesDataCount,c=r.getExtent();return Math.abs(c[0]-c[1])/l>s}return!1}return!0===n},e.prototype.makeElOption=function(i,t,n,r,a){},e.prototype.createPointerEl=function(i,t,n,r){var a=t.pointer;if(a){var o=Lu(i).pointerEl=new Te[a.type](XI(t.pointer));i.add(o)}},e.prototype.createLabelEl=function(i,t,n,r){if(t.label){var a=Lu(i).labelEl=new Ie(XI(t.label));i.add(a),$I(a,r)}},e.prototype.updatePointerEl=function(i,t,n){var r=Lu(i).pointerEl;r&&t.pointer&&(r.setStyle(t.pointer.style),n(r,{shape:t.pointer.shape}))},e.prototype.updateLabelEl=function(i,t,n,r){var a=Lu(i).labelEl;a&&(a.setStyle(t.label.style),n(a,{x:t.label.x,y:t.label.y}),$I(a,r))},e.prototype._renderHandle=function(i){if(!this._dragging&&this.updateHandleTransform){var s,t=this._axisPointerModel,n=this._api.getZr(),r=this._handle,a=t.getModel("handle"),o=t.get("status");if(!a.get("show")||!o||"hide"===o)return r&&n.remove(r),void(this._handle=null);this._handle||(s=!0,r=this._handle=Tf(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(c){tr(c.event)},onmousedown:ib(this._onHandleDragMove,this,0,0),drift:ib(this._onHandleDragMove,this),ondragend:ib(this._onHandleDragEnd,this)}),n.add(r)),jI(r,t,!1),r.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var l=a.get("size");yt(l)||(l=[l,l]),r.scaleX=l[0]/2,r.scaleY=l[1]/2,Nh(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(i,s)}},e.prototype._moveHandleToValue=function(i,t){UI(this._axisPointerModel,!t&&this._moveAnimation,this._handle,nb(this.getHandleTransform(i,this._axisModel,this._axisPointerModel)))},e.prototype._onHandleDragMove=function(i,t){var n=this._handle;if(n){this._dragging=!0;var r=this.updateHandleTransform(nb(n),[i,t],this._axisModel,this._axisPointerModel);this._payloadInfo=r,n.stopAnimation(),n.attr(nb(r)),Lu(n).lastProp=null,this._doDispatchAxisPointer()}},e.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},e.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},e.prototype.clear=function(i){this._lastValue=null,this._lastStatus=null;var t=i.getZr(),n=this._group,r=this._handle;t&&n&&(this._lastGraphicKey=null,n&&t.remove(n),r&&t.remove(r),this._group=null,this._handle=null,this._payloadInfo=null),Af(this,"_doDispatchAxisPointer")},e.prototype.doClear=function(){},e.prototype.buildLabel=function(i,t,n){return{x:i[n=n||0],y:i[1-n],width:t[n],height:t[1-n]}},e}();function UI(e,i,t,n){ZI(Lu(t).lastProp,n)||(Lu(t).lastProp=n,i?Ve(t,n,e):(t.stopAnimation(),t.attr(n)))}function ZI(e,i){if(Bt(e)&&Bt(i)){var t=!0;return U(i,function(n,r){t=t&&ZI(e[r],n)}),!!t}return e===i}function $I(e,i){e[i.get(["label","show"])?"show":"hide"]()}function nb(e){return{x:e.x||0,y:e.y||0,rotation:e.rotation||0}}function jI(e,i,t){var n=i.get("z"),r=i.get("zlevel");e&&e.traverse(function(a){"group"!==a.type&&(null!=n&&(a.z=n),null!=r&&(a.zlevel=r),a.silent=t)})}const rb=G$;function ab(e){var n,i=e.get("type"),t=e.getModel(i+"Style");return"line"===i?(n=t.getLineStyle()).fill=null:"shadow"===i&&((n=t.getAreaStyle()).stroke=null),n}function qI(e,i,t,n,r){var o=KI(t.get("value"),i.axis,i.ecModel,t.get("seriesDataIndices"),{precision:t.get(["label","precision"]),formatter:t.get(["label","formatter"])}),s=t.getModel("label"),l=Lh(s.get("padding")||0),c=s.getFont(),u=Ud(o,c),h=r.position,f=u.width+l[1]+l[3],p=u.height+l[0]+l[2],m=r.align;"right"===m&&(h[0]-=f),"center"===m&&(h[0]-=f/2);var b=r.verticalAlign;"bottom"===b&&(h[1]-=p),"middle"===b&&(h[1]-=p/2),function H$(e,i,t,n){var r=n.getWidth(),a=n.getHeight();e[0]=Math.min(e[0]+i,r)-i,e[1]=Math.min(e[1]+t,a)-t,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}(h,f,p,n);var _=s.get("backgroundColor");(!_||"auto"===_)&&(_=i.get(["axisLine","lineStyle","color"])),e.label={x:h[0],y:h[1],style:ri(s,{text:o,font:c,fill:s.getTextColor(),padding:l,backgroundColor:_}),z2:10}}function KI(e,i,t,n,r){e=i.scale.parse(e);var a=i.scale.getLabel({value:e},{precision:r.precision}),o=r.formatter;if(o){var s={value:mx(i,{value:e}),axisDimension:i.dim,axisIndex:i.index,seriesData:[]};U(n,function(l){var c=t.getSeriesByIndex(l.seriesIndex),h=c&&c.getDataParams(l.dataIndexInside);h&&s.seriesData.push(h)}),Lt(o)?a=o.replace("{value}",a):Z(o)&&(a=o(s))}return a}function ob(e,i,t){var n=[1,0,0,1,0,0];return Ri(n,n,t.rotation),mr(n,n,t.position),lo([e.dataToCoord(i),(t.labelOffset||0)+(t.labelDirection||1)*(t.labelMargin||0)],n)}function QI(e,i,t,n,r,a){var o=zs.innerTextLayout(t.rotation,0,t.labelDirection);t.labelMargin=r.get(["label","margin"]),qI(i,n,r,a,{position:ob(n.axis,e,t),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function sb(e,i,t){return{x1:e[t=t||0],y1:e[1-t],x2:i[t],y2:i[1-t]}}function JI(e,i,t){return{x:e[t=t||0],y:e[1-t],width:i[t],height:i[1-t]}}function tO(e,i,t,n,r,a){return{cx:e,cy:i,r0:t,r:n,startAngle:r,endAngle:a,clockwise:!0}}var W$=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ot(i,e),i.prototype.makeElOption=function(t,n,r,a,o){var s=r.axis,l=s.grid,c=a.get("type"),u=eO(l,s).getOtherAxis(s).getGlobalExtent(),h=s.toGlobalCoord(s.dataToCoord(n,!0));if(c&&"none"!==c){var f=ab(a),p=Y$[c](s,h,u);p.style=f,t.graphicKey=p.type,t.pointer=p}QI(n,t,xx(l.model,r),r,a,o)},i.prototype.getHandleTransform=function(t,n,r){var a=xx(n.axis.grid.model,n,{labelInside:!1});a.labelMargin=r.get(["handle","margin"]);var o=ob(n.axis,t,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},i.prototype.updateHandleTransform=function(t,n,r,a){var o=r.axis,s=o.grid,l=o.getGlobalExtent(!0),c=eO(s,o).getOtherAxis(o).getGlobalExtent(),u="x"===o.dim?0:1,h=[t.x,t.y];h[u]+=n[u],h[u]=Math.min(l[1],h[u]),h[u]=Math.max(l[0],h[u]);var f=(c[1]+c[0])/2,p=[f,f];return p[u]=h[u],{x:h[0],y:h[1],rotation:t.rotation,cursorPoint:p,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][u]}},i}(rb);function eO(e,i){var t={};return t[i.dim+"AxisIndex"]=i.index,e.getCartesian(t)}var Y$={line:function(e,i,t){return{type:"Line",subPixelOptimize:!0,shape:sb([i,t[0]],[i,t[1]],iO(e))}},shadow:function(e,i,t){var n=Math.max(1,e.getBandWidth());return{type:"Rect",shape:JI([i-n/2,t[0]],[n,t[1]-t[0]],iO(e))}}};function iO(e){return"x"===e.dim?0:1}const X$=W$;var U$=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.type="axisPointer",i.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},i}(Oe);const Z$=U$;var Ys=Le(),$$=U;function nO(e,i,t){if(!Yt.node){var n=i.getZr();Ys(n).records||(Ys(n).records={}),function j$(e,i){function t(n,r){e.on(n,function(a){var o=function Q$(e){var i={showTip:[],hideTip:[]},t=function(n){var r=i[n.type];r?r.push(n):(n.dispatchAction=t,e.dispatchAction(n))};return{dispatchAction:t,pendings:i}}(i);$$(Ys(e).records,function(s){s&&r(s,a,o.dispatchAction)}),function q$(e,i){var r,t=e.showTip.length,n=e.hideTip.length;t?r=e.showTip[t-1]:n&&(r=e.hideTip[n-1]),r&&(r.dispatchAction=null,i.dispatchAction(r))}(o.pendings,i)})}Ys(e).initialized||(Ys(e).initialized=!0,t("click",jt(rO,"click")),t("mousemove",jt(rO,"mousemove")),t("globalout",K$))}(n,i),(Ys(n).records[e]||(Ys(n).records[e]={})).handler=t}}function K$(e,i,t){e.handler("leave",null,t)}function rO(e,i,t,n){i.handler(e,t,n)}function lb(e,i){if(!Yt.node){var t=i.getZr();(Ys(t).records||{})[e]&&(Ys(t).records[e]=null)}}var J$=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.render=function(t,n,r){var a=n.getComponent("tooltip"),o=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";nO("axisPointer",r,function(s,l,c){"none"!==o&&("leave"===s||o.indexOf(s)>=0)&&c({type:"updateAxisPointer",currTrigger:s,x:l&&l.offsetX,y:l&&l.offsetY})})},i.prototype.remove=function(t,n){lb("axisPointer",n)},i.prototype.dispose=function(t,n){lb("axisPointer",n)},i.type="axisPointer",i}(Mi);const tj=J$;function aO(e,i){var r,t=[],n=e.seriesIndex;if(null==n||!(r=i.getSeriesByIndex(n)))return{point:[]};var a=r.getData(),o=kc(a,e);if(null==o||o<0||yt(o))return{point:[]};var s=a.getItemGraphicEl(o),l=r.coordinateSystem;if(r.getTooltipPosition)t=r.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)if(e.isStacked){var c=l.getBaseAxis(),h=l.getOtherAxis(c).dim,p="x"===h||"radius"===h?1:0,m=a.mapDimension(c.dim),b=[];b[p]=a.get(m,o),b[1-p]=a.get(a.getCalculationInfo("stackResultDimension"),o),t=l.dataToPoint(b)||[]}else t=l.dataToPoint(a.getValues(mt(l.dimensions,function(w){return a.mapDimension(w)}),o))||[];else if(s){var _=s.getBoundingRect().clone();_.applyTransform(s.transform),t=[_.x+_.width/2,_.y+_.height/2]}return{point:t,el:s}}var oO=Le();function ej(e,i,t){var n=e.currTrigger,r=[e.x,e.y],a=e,o=e.dispatchAction||Dt(t.dispatchAction,t),s=i.getComponent("axisPointer").coordSysAxesInfo;if(s){hm(r)&&(r=aO({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},i).point);var l=hm(r),c=a.axesInfo,u=s.axesInfo,h="leave"===n||hm(r),f={},p={},m={list:[],map:{}},b={showPointer:jt(nj,p),showTooltip:jt(rj,m)};U(s.coordSysMap,function(w,T){var A=l||w.containPoint(r);U(s.coordSysAxesInfo[T],function(P,F){var O=P.axis,V=function lj(e,i){for(var t=0;t<(e||[]).length;t++){var n=e[t];if(i.axis.dim===n.axisDim&&i.axis.model.componentIndex===n.axisIndex)return n}}(c,P);if(!h&&A&&(!c||V)){var N=V&&V.value;null==N&&!l&&(N=O.pointToData(r)),null!=N&&sO(P,N,b,!1,f)}})});var _={};return U(u,function(w,T){var A=w.linkGroup;A&&!p[T]&&U(A.axesInfo,function(P,F){var O=p[F];if(P!==w&&O){var V=O.value;A.mapper&&(V=w.axis.scale.parse(A.mapper(V,lO(P),lO(w)))),_[w.key]=V}})}),U(_,function(w,T){sO(u[T],w,b,!0,f)}),function aj(e,i,t){var n=t.axesInfo=[];U(i,function(r,a){var o=r.axisPointerModel.option,s=e[a];s?(!r.useHandle&&(o.status="show"),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!r.useHandle&&(o.status="hide"),"show"===o.status&&n.push({axisDim:r.axis.dim,axisIndex:r.axis.model.componentIndex,value:o.value})})}(p,u,f),function oj(e,i,t,n){if(!hm(i)&&e.list.length){var r=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:i[0],y:i[1],tooltipOption:t.tooltipOption,position:t.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:e.list})}else n({type:"hideTip"})}(m,r,e,o),function sj(e,i,t){var n=t.getZr(),r="axisPointerLastHighlights",a=oO(n)[r]||{},o=oO(n)[r]={};U(e,function(c,u){var h=c.axisPointerModel.option;"show"===h.status&&c.triggerEmphasis&&U(h.seriesDataIndices,function(f){o[f.seriesIndex+" | "+f.dataIndex]=f})});var s=[],l=[];U(a,function(c,u){!o[u]&&l.push(c)}),U(o,function(c,u){!a[u]&&s.push(c)}),l.length&&t.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:l}),s.length&&t.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:s})}(u,0,t),f}}function sO(e,i,t,n,r){var a=e.axis;if(!a.scale.isBlank()&&a.containData(i)){if(!e.involveSeries)return void t.showPointer(e,i);var o=function ij(e,i){var t=i.axis,n=t.dim,r=e,a=[],o=Number.MAX_VALUE,s=-1;return U(i.seriesModels,function(l,c){var h,f,u=l.getData().mapDimensionsAll(n);if(l.getAxisTooltipData){var p=l.getAxisTooltipData(u,e,t);f=p.dataIndices,h=p.nestestValue}else{if(!(f=l.getData().indicesOfNearest(u[0],e,"category"===t.type?.5:null)).length)return;h=l.getData().get(u[0],f[0])}if(null!=h&&isFinite(h)){var m=e-h,b=Math.abs(m);b<=o&&((b<o||m>=0&&s<0)&&(o=b,s=m,r=h,a.length=0),U(f,function(_){a.push({seriesIndex:l.seriesIndex,dataIndexInside:_,dataIndex:l.getData().getRawIndex(_)})}))}}),{payloadBatch:a,snapToValue:r}}(i,e),s=o.payloadBatch,l=o.snapToValue;s[0]&&null==r.seriesIndex&&ft(r,s[0]),!n&&e.snap&&a.containData(l)&&null!=l&&(i=l),t.showPointer(e,i,s),t.showTooltip(e,o,l)}}function nj(e,i,t,n){e[i.key]={value:t,payloadBatch:n}}function rj(e,i,t,n){var r=t.payloadBatch,a=i.axis,o=a.model,s=i.axisPointerModel;if(i.triggerTooltip&&r.length){var l=i.coordSys.model,c=Jf(l),u=e.map[c];u||(u=e.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(u)),u.dataByAxis.push({axisDim:a.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:n,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function lO(e){var i=e.axis.model,t={},n=t.axisDim=e.axis.dim;return t.axisIndex=t[n+"AxisIndex"]=i.componentIndex,t.axisName=t[n+"AxisName"]=i.name,t.axisId=t[n+"AxisId"]=i.id,t}function hm(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}function mp(e){mu.registerAxisPointerClass("CartesianAxisPointer",X$),e.registerComponentModel(Z$),e.registerComponentView(tj),e.registerPreprocessor(function(i){if(i){(!i.axisPointer||0===i.axisPointer.length)&&(i.axisPointer={});var t=i.axisPointer.link;t&&!yt(t)&&(i.axisPointer.link=[t])}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,function(i,t){i.getComponent("axisPointer").coordSysAxesInfo=function HW(e,i){var t={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function WW(e,i,t){var n=i.getComponent("tooltip"),r=i.getComponent("axisPointer"),a=r.get("link",!0)||[],o=[];U(t.getCoordinateSystems(),function(s){if(s.axisPointerEnabled){var l=Jf(s.model),c=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=s;var h=s.model.getModel("tooltip",n);if(U(s.getAxes(),jt(b,!1,null)),s.getTooltipAxes&&n&&h.get("show")){var f="axis"===h.get("trigger"),p="cross"===h.get(["axisPointer","type"]),m=s.getTooltipAxes(h.get(["axisPointer","axis"]));(f||p)&&U(m.baseAxes,jt(b,!p||"cross",f)),p&&U(m.otherAxes,jt(b,"cross",!1))}}function b(_,w,T){var A=T.model.getModel("axisPointer",r),P=A.get("show");if(P&&("auto"!==P||_||Mx(A))){null==w&&(w=A.get("triggerTooltip")),A=_?function YW(e,i,t,n,r,a){var o=i.getModel("axisPointer"),l={};U(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(f){l[f]=Gt(o.get(f))}),l.snap="category"!==e.type&&!!a,"cross"===o.get("type")&&(l.type="line");var c=l.label||(l.label={});if(null==c.show&&(c.show=!1),"cross"===r){var u=o.get(["label","show"]);if(c.show=u??!0,!a){var h=l.lineStyle=o.get("crossStyle");h&&Rt(c,h.textStyle)}}return e.model.getModel("axisPointer",new ai(l,t,n))}(T,h,r,i,_,w):A;var F=A.get("snap"),O=A.get("triggerEmphasis"),V=Jf(T.model),N=w||F||"category"===T.type,G=e.axesInfo[V]={key:V,axis:T,coordSys:s,axisPointerModel:A,triggerTooltip:w,triggerEmphasis:O,involveSeries:N,snap:F,useHandle:Mx(A),seriesModels:[],linkGroup:null};c[V]=G,e.seriesInvolved=e.seriesInvolved||N;var H=function UW(e,i){for(var t=i.model,n=i.dim,r=0;r<e.length;r++){var a=e[r]||{};if(Sx(a[n+"AxisId"],t.id)||Sx(a[n+"AxisIndex"],t.componentIndex)||Sx(a[n+"AxisName"],t.name))return r}}(a,T);if(null!=H){var X=o[H]||(o[H]={axesInfo:{}});X.axesInfo[V]=G,X.mapper=a[H].mapper,G.linkGroup=X}}}})}(t,e,i),t.seriesInvolved&&function XW(e,i){i.eachSeries(function(t){var n=t.coordinateSystem,r=t.get(["tooltip","trigger"],!0),a=t.get(["tooltip","show"],!0);!n||"none"===r||!1===r||"item"===r||!1===a||!1===t.get(["axisPointer","show"],!0)||U(e.coordSysAxesInfo[Jf(n.model)],function(o){var s=o.axis;n.getAxis(s.dim)===s&&(o.seriesModels.push(t),null==o.seriesDataCount&&(o.seriesDataCount=0),o.seriesDataCount+=t.getData().count())})})}(t,e),t}(i,t)}),e.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},ej)}var uj=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ot(i,e),i.prototype.makeElOption=function(t,n,r,a,o){var s=r.axis;"angle"===s.dim&&(this.animationThreshold=Math.PI/18);var l=s.polar,u=l.getOtherAxis(s).getExtent(),h=s.dataToCoord(n),f=a.get("type");if(f&&"none"!==f){var p=ab(a),m=dj[f](s,l,h,u);m.style=p,t.graphicKey=m.type,t.pointer=m}var _=function hj(e,i,t,n,r){var a=i.axis,o=a.dataToCoord(e),s=n.getAngleAxis().getExtent()[0];s=s/180*Math.PI;var c,u,h,l=n.getRadiusAxis().getExtent();if("radius"===a.dim){var f=[1,0,0,1,0,0];Ri(f,f,s),mr(f,f,[n.cx,n.cy]),c=lo([o,-r],f);var p=i.getModel("axisLabel").get("rotate")||0,m=zs.innerTextLayout(s,p*Math.PI/180,-1);u=m.textAlign,h=m.textVerticalAlign}else{var b=l[1];c=n.coordToPoint([b+r,o]);var _=n.cx,w=n.cy;u=Math.abs(c[0]-_)/b<.3?"center":c[0]>_?"left":"right",h=Math.abs(c[1]-w)/b<.3?"middle":c[1]>w?"top":"bottom"}return{position:c,align:u,verticalAlign:h}}(n,r,0,l,a.get(["label","margin"]));qI(t,r,a,o,_)},i}(rb),dj={line:function(e,i,t,n){return"angle"===e.dim?{type:"Line",shape:sb(i.coordToPoint([n[0],t]),i.coordToPoint([n[1],t]))}:{type:"Circle",shape:{cx:i.cx,cy:i.cy,r:t}}},shadow:function(e,i,t,n){var r=Math.max(1,e.getBandWidth()),a=Math.PI/180;return"angle"===e.dim?{type:"Sector",shape:tO(i.cx,i.cy,n[0],n[1],(-t-r/2)*a,(r/2-t)*a)}:{type:"Sector",shape:tO(i.cx,i.cy,t-r/2,t+r/2,0,2*Math.PI)}}};const fj=uj;var pj=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.findAxisModel=function(t){var n;return this.ecModel.eachComponent(t,function(a){a.getCoordSysModel()===this&&(n=a)},this),n},i.type="polar",i.dependencies=["radiusAxis","angleAxis"],i.defaultOption={z:0,center:["50%","50%"],radius:"80%"},i}(Oe);const gj=pj;var cb=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ot(i,e),i.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",zi).models[0]},i.type="polarAxis",i}(Oe);It(cb,qf);var vj=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.type="angleAxis",i}(cb),mj=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.type="radiusAxis",i}(cb),ub=function(e){function i(t,n){return e.call(this,"radius",t,n)||this}return ot(i,e),i.prototype.pointToData=function(t,n){return this.polar.pointToData(t,n)["radius"===this.dim?0:1]},i}(po);ub.prototype.dataToRadius=po.prototype.dataToCoord,ub.prototype.radiusToData=po.prototype.coordToData;const yj=ub;var _j=Le(),hb=function(e){function i(t,n){return e.call(this,"angle",t,n||[0,360])||this}return ot(i,e),i.prototype.pointToData=function(t,n){return this.polar.pointToData(t,n)["radius"===this.dim?0:1]},i.prototype.calculateCategoryInterval=function(){var t=this,n=t.getLabelModel(),r=t.scale,a=r.getExtent(),o=r.count();if(a[1]-a[0]<1)return 0;var s=a[0],l=t.dataToCoord(s+1)-t.dataToCoord(s),c=Math.abs(l),u=Ud(null==s?"":s+"",n.getFont(),"center","top"),f=Math.max(u.height,7)/c;isNaN(f)&&(f=1/0);var p=Math.max(0,Math.floor(f)),m=_j(t.model),b=m.lastAutoInterval,_=m.lastTickCount;return null!=b&&null!=_&&Math.abs(b-p)<=1&&Math.abs(_-o)<=1&&b>p?p=b:(m.lastTickCount=o,m.lastAutoInterval=p),p},i}(po);hb.prototype.dataToAngle=po.prototype.dataToCoord,hb.prototype.angleToData=po.prototype.coordToData;const xj=hb;var cO=["radius","angle"],bj=function(){function e(i){this.dimensions=cO,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new yj,this._angleAxis=new xj,this.axisPointerEnabled=!0,this.name=i||"",this._radiusAxis.polar=this._angleAxis.polar=this}return e.prototype.containPoint=function(i){var t=this.pointToCoord(i);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},e.prototype.containData=function(i){return this._radiusAxis.containData(i[0])&&this._angleAxis.containData(i[1])},e.prototype.getAxis=function(i){return this["_"+i+"Axis"]},e.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},e.prototype.getAxesByScale=function(i){var t=[],n=this._angleAxis,r=this._radiusAxis;return n.scale.type===i&&t.push(n),r.scale.type===i&&t.push(r),t},e.prototype.getAngleAxis=function(){return this._angleAxis},e.prototype.getRadiusAxis=function(){return this._radiusAxis},e.prototype.getOtherAxis=function(i){var t=this._angleAxis;return i===t?this._radiusAxis:t},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},e.prototype.getTooltipAxes=function(i){var t=null!=i&&"auto"!==i?this.getAxis(i):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},e.prototype.dataToPoint=function(i,t){return this.coordToPoint([this._radiusAxis.dataToRadius(i[0],t),this._angleAxis.dataToAngle(i[1],t)])},e.prototype.pointToData=function(i,t){var n=this.pointToCoord(i);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},e.prototype.pointToCoord=function(i){var t=i[0]-this.cx,n=i[1]-this.cy,r=this.getAngleAxis(),a=r.getExtent(),o=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);r.inverse?o=s-360:s=o+360;var l=Math.sqrt(t*t+n*n);t/=l,n/=l;for(var c=Math.atan2(-n,t)/Math.PI*180,u=c<o?1:-1;c<o||c>s;)c+=360*u;return[l,c]},e.prototype.coordToPoint=function(i){var t=i[0],n=i[1]/180*Math.PI;return[Math.cos(n)*t+this.cx,-Math.sin(n)*t+this.cy]},e.prototype.getArea=function(){var i=this.getAngleAxis(),n=this.getRadiusAxis().getExtent().slice();n[0]>n[1]&&n.reverse();var r=i.getExtent(),a=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-r[0]*a,endAngle:-r[1]*a,clockwise:i.inverse,contain:function(o,s){var l=o-this.cx,c=s-this.cy,u=l*l+c*c-1e-4,h=this.r,f=this.r0;return u<=h*h&&u>=f*f}}},e.prototype.convertToPixel=function(i,t,n){return uO(t)===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(i,t,n){return uO(t)===this?this.pointToData(n):null},e}();function uO(e){var i=e.seriesModel,t=e.polarModel;return t&&t.coordinateSystem||i&&i.coordinateSystem}const Cj=bj;function wj(e,i){var t=this,n=t.getAngleAxis(),r=t.getRadiusAxis();if(n.scale.setExtent(1/0,-1/0),r.scale.setExtent(1/0,-1/0),e.eachSeries(function(s){if(s.coordinateSystem===t){var l=s.getData();U(zv(l,"radius"),function(c){r.scale.unionExtentFromData(l,c)}),U(zv(l,"angle"),function(c){n.scale.unionExtentFromData(l,c)})}}),Qh(n.scale,n.model),Qh(r.scale,r.model),"category"===n.type&&!n.onBand){var a=n.getExtent(),o=360/n.scale.count();n.inverse?a[1]+=o:a[1]-=o,n.setExtent(a[0],a[1])}}function hO(e,i){var t;if(e.type=i.get("type"),e.scale=Vv(i),e.onBand=i.get("boundaryGap")&&"category"===e.type,e.inverse=i.get("inverse"),function Tj(e){return"angleAxis"===e.mainType}(i)){e.inverse=e.inverse!==i.get("clockwise");var n=i.get("startAngle"),r=null!==(t=i.get("endAngle"))&&void 0!==t?t:n+(e.inverse?-360:360);e.setExtent(n,r)}i.axis=e,e.model=i}var Mj={dimensions:cO,create:function(e,i){var t=[];return e.eachComponent("polar",function(n,r){var a=new Cj(r+"");a.update=wj;var o=a.getRadiusAxis(),s=a.getAngleAxis(),l=n.findAxisModel("radiusAxis"),c=n.findAxisModel("angleAxis");hO(o,l),hO(s,c),function Sj(e,i,t){var n=i.get("center"),r=t.getWidth(),a=t.getHeight();e.cx=At(n[0],r),e.cy=At(n[1],a);var o=e.getRadiusAxis(),s=Math.min(r,a)/2,l=i.get("radius");null==l?l=[0,"100%"]:yt(l)||(l=[0,l]);var c=[At(l[0],s),At(l[1],s)];o.inverse?o.setExtent(c[1],c[0]):o.setExtent(c[0],c[1])}(a,n,i),t.push(a),n.coordinateSystem=a,a.model=n}),e.eachSeries(function(n){if("polar"===n.get("coordinateSystem")){var r=n.getReferringComponents("polar",zi).models[0];n.coordinateSystem=r.coordinateSystem}}),t}};const Aj=Mj;var Lj=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function dm(e,i,t){i[1]>i[0]&&(i=i.slice().reverse());var n=e.coordToPoint([i[0],t]),r=e.coordToPoint([i[1],t]);return{x1:n[0],y1:n[1],x2:r[0],y2:r[1]}}function fm(e){return e.getRadiusAxis().inverse?0:1}function dO(e){var i=e[0],t=e[e.length-1];i&&t&&Math.abs(Math.abs(i.coord-t.coord)-360)<1e-4&&e.pop()}var kj=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.axisPointerClass="PolarAxisPointer",t}return ot(i,e),i.prototype.render=function(t,n){if(this.group.removeAll(),t.get("show")){var r=t.axis,a=r.polar,o=a.getRadiusAxis().getExtent(),s=r.getTicksCoords(),l=r.getMinorTicksCoords(),c=mt(r.getViewLabels(),function(u){u=Gt(u);var h=r.scale,f="ordinal"===h.type?h.getRawOrdinalNumber(u.tickValue):u.tickValue;return u.coord=r.dataToCoord(f),u});dO(c),dO(s),U(Lj,function(u){t.get([u,"show"])&&(!r.scale.isBlank()||"axisLine"===u)&&Dj[u](this.group,t,a,s,l,o,c)},this)}},i.type="angleAxis",i}(mu),Dj={axisLine:function(e,i,t,n,r,a){var f,o=i.getModel(["axisLine","lineStyle"]),s=t.getAngleAxis(),l=Math.PI/180,c=s.getExtent(),u=fm(t),h=u?0:1,p=360===Math.abs(c[1]-c[0])?"Circle":"Arc";(f=0===a[h]?new Te[p]({shape:{cx:t.cx,cy:t.cy,r:a[u],startAngle:-c[0]*l,endAngle:-c[1]*l,clockwise:s.inverse},style:o.getLineStyle(),z2:1,silent:!0}):new Wg({shape:{cx:t.cx,cy:t.cy,r:a[u],r0:a[h]},style:o.getLineStyle(),z2:1,silent:!0})).style.fill=null,e.add(f)},axisTick:function(e,i,t,n,r,a){var o=i.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),l=a[fm(t)],c=mt(n,function(u){return new yn({shape:dm(t,[l,l+s],u.coord)})});e.add(Sa(c,{style:Rt(o.getModel("lineStyle").getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])})}))},minorTick:function(e,i,t,n,r,a){if(r.length){for(var o=i.getModel("axisTick"),s=i.getModel("minorTick"),l=(o.get("inside")?-1:1)*s.get("length"),c=a[fm(t)],u=[],h=0;h<r.length;h++)for(var f=0;f<r[h].length;f++)u.push(new yn({shape:dm(t,[c,c+l],r[h][f].coord)}));e.add(Sa(u,{style:Rt(s.getModel("lineStyle").getLineStyle(),Rt(o.getLineStyle(),{stroke:i.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(e,i,t,n,r,a,o){var s=i.getCategories(!0),l=i.getModel("axisLabel"),c=l.get("margin"),u=i.get("triggerEvent");U(o,function(h,f){var p=l,m=h.tickValue,b=a[fm(t)],_=t.coordToPoint([b+c,h.coord]),w=t.cx,T=t.cy,A=Math.abs(_[0]-w)/b<.3?"center":_[0]>w?"left":"right",P=Math.abs(_[1]-T)/b<.3?"middle":_[1]>T?"top":"bottom";if(s&&s[m]){var F=s[m];Bt(F)&&F.textStyle&&(p=new ai(F.textStyle,l,l.ecModel))}var O=new Ie({silent:zs.isLabelSilent(i),style:ri(p,{x:_[0],y:_[1],fill:p.getTextColor()||i.get(["axisLine","lineStyle","color"]),text:h.formattedLabel,align:A,verticalAlign:P})});if(e.add(O),u){var V=zs.makeAxisEventDataBase(i);V.targetType="axisLabel",V.value=h.rawLabel,Jt(O).eventData=V}},this)},splitLine:function(e,i,t,n,r,a){var s=i.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],h=0;h<n.length;h++){var f=c++%l.length;u[f]=u[f]||[],u[f].push(new yn({shape:dm(t,a,n[h].coord)}))}for(h=0;h<u.length;h++)e.add(Sa(u[h],{style:Rt({stroke:l[h%l.length]},s.getLineStyle()),silent:!0,z:i.get("z")}))},minorSplitLine:function(e,i,t,n,r,a){if(r.length){for(var s=i.getModel("minorSplitLine").getModel("lineStyle"),l=[],c=0;c<r.length;c++)for(var u=0;u<r[c].length;u++)l.push(new yn({shape:dm(t,a,r[c][u].coord)}));e.add(Sa(l,{style:s.getLineStyle(),silent:!0,z:i.get("z")}))}},splitArea:function(e,i,t,n,r,a){if(n.length){var s=i.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],h=Math.PI/180,f=-n[0].coord*h,p=Math.min(a[0],a[1]),m=Math.max(a[0],a[1]),b=i.get("clockwise"),_=1,w=n.length;_<=w;_++){var T=_===w?n[0].coord:n[_].coord,A=c++%l.length;u[A]=u[A]||[],u[A].push(new kr({shape:{cx:t.cx,cy:t.cy,r0:p,r:m,startAngle:f,endAngle:-T*h,clockwise:b},silent:!0})),f=-T*h}for(_=0;_<u.length;_++)e.add(Sa(u[_],{style:Rt({fill:l[_%l.length]},s.getAreaStyle()),silent:!0}))}}};const Pj=kj;var Ij=["axisLine","axisTickLabel","axisName"],Oj=["splitLine","splitArea","minorSplitLine"],Ej=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.axisPointerClass="PolarAxisPointer",t}return ot(i,e),i.prototype.render=function(t,n){if(this.group.removeAll(),t.get("show")){var r=this._axisGroup,a=this._axisGroup=new Kt;this.group.add(a);var o=t.axis,s=o.polar,l=s.getAngleAxis(),c=o.getTicksCoords(),u=o.getMinorTicksCoords(),h=l.getExtent()[0],f=o.getExtent(),p=function Rj(e,i,t){return{position:[e.cx,e.cy],rotation:t/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:i.getModel("axisLabel").get("rotate"),z2:1}}(s,t,h),m=new zs(t,p);U(Ij,m.add,m),a.add(m.getGroup()),wf(r,a,t),U(Oj,function(b){t.get([b,"show"])&&!o.scale.isBlank()&&Fj[b](this.group,t,s,h,f,c,u)},this)}},i.type="radiusAxis",i}(mu),Fj={splitLine:function(e,i,t,n,r,a){var s=i.getModel("splitLine").getModel("lineStyle"),l=s.get("color"),c=0,u=t.getAngleAxis(),h=Math.PI/180,f=u.getExtent(),p=360===Math.abs(f[1]-f[0])?"Circle":"Arc";l=l instanceof Array?l:[l];for(var m=[],b=0;b<a.length;b++){var _=c++%l.length;m[_]=m[_]||[],m[_].push(new Te[p]({shape:{cx:t.cx,cy:t.cy,r:Math.max(a[b].coord,0),startAngle:-f[0]*h,endAngle:-f[1]*h,clockwise:u.inverse}}))}for(b=0;b<m.length;b++)e.add(Sa(m[b],{style:Rt({stroke:l[b%l.length],fill:null},s.getLineStyle()),silent:!0}))},minorSplitLine:function(e,i,t,n,r,a,o){if(o.length){for(var l=i.getModel("minorSplitLine").getModel("lineStyle"),c=[],u=0;u<o.length;u++)for(var h=0;h<o[u].length;h++)c.push(new El({shape:{cx:t.cx,cy:t.cy,r:o[u][h].coord}}));e.add(Sa(c,{style:Rt({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(e,i,t,n,r,a){if(a.length){var s=i.getModel("splitArea").getModel("areaStyle"),l=s.get("color"),c=0;l=l instanceof Array?l:[l];for(var u=[],h=a[0].coord,f=1;f<a.length;f++){var p=c++%l.length;u[p]=u[p]||[],u[p].push(new kr({shape:{cx:t.cx,cy:t.cy,r0:h,r:a[f].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),h=a[f].coord}for(f=0;f<u.length;f++)e.add(Sa(u[f],{style:Rt({fill:l[f%l.length]},s.getAreaStyle()),silent:!0}))}}};const Bj=Ej;function fO(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function pO(e,i){return i.dim+e.model.componentIndex}const Nj=function Vj(e,i,t){var n={},r=function zj(e){var i={};U(e,function(n,r){var a=n.getData(),o=n.coordinateSystem,s=o.getBaseAxis(),l=pO(o,s),c=s.getExtent(),u="category"===s.type?s.getBandWidth():Math.abs(c[1]-c[0])/a.count(),h=i[l]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},f=h.stacks;i[l]=h;var p=fO(n);f[p]||h.autoWidthCount++,f[p]=f[p]||{width:0,maxWidth:0};var m=At(n.get("barWidth"),u),b=At(n.get("barMaxWidth"),u),_=n.get("barGap"),w=n.get("barCategoryGap");m&&!f[p].width&&(m=Math.min(h.remainedWidth,m),f[p].width=m,h.remainedWidth-=m),b&&(f[p].maxWidth=b),null!=_&&(h.gap=_),null!=w&&(h.categoryGap=w)});var t={};return U(i,function(n,r){t[r]={};var a=n.stacks,s=At(n.categoryGap,n.bandWidth),l=At(n.gap,1),c=n.remainedWidth,u=n.autoWidthCount,h=(c-s)/(u+(u-1)*l);h=Math.max(h,0),U(a,function(b,_){var w=b.maxWidth;w&&w<h&&(w=Math.min(w,c),b.width&&(w=Math.min(w,b.width)),c-=w,b.width=w,u--)}),h=(c-s)/(u+(u-1)*l),h=Math.max(h,0);var p,f=0;U(a,function(b,_){b.width||(b.width=h),p=b,f+=b.width*(1+l)}),p&&(f-=p.width*l);var m=-f/2;U(a,function(b,_){t[r][_]=t[r][_]||{offset:m,width:b.width},m+=b.width*(1+l)})}),t}(ve(i.getSeriesByType(e),function(a){return!i.isSeriesFiltered(a)&&a.coordinateSystem&&"polar"===a.coordinateSystem.type}));i.eachSeriesByType(e,function(a){if("polar"===a.coordinateSystem.type){var o=a.getData(),s=a.coordinateSystem,l=s.getBaseAxis(),c=pO(s,l),u=fO(a),h=r[c][u],f=h.offset,p=h.width,m=s.getOtherAxis(l),b=a.coordinateSystem.cx,_=a.coordinateSystem.cy,w=a.get("barMinHeight")||0,T=a.get("barMinAngle")||0;n[u]=n[u]||[];for(var A=o.mapDimension(m.dim),P=o.mapDimension(l.dim),F=Vl(o,A),O="radius"!==l.dim||!a.get("roundCap",!0),N=m.model.get("startValue"),G=m.dataToCoord(N||0),H=0,X=o.count();H<X;H++){var q=o.get(A,H),j=o.get(P,H),J=q>=0?"p":"n",tt=G;F&&(n[u][j]||(n[u][j]={p:G,n:G}),tt=n[u][j][J]);var et=void 0,lt=void 0,st=void 0,ut=void 0;if("radius"===m.dim){var vt=m.dataToCoord(q)-G,_t=l.dataToCoord(j);Math.abs(vt)<w&&(vt=(vt<0?-1:1)*w),et=tt,lt=tt+vt,ut=(st=_t-f)-p,F&&(n[u][j][J]=lt)}else{var St=m.dataToCoord(q,O)-G,Et=l.dataToCoord(j);Math.abs(St)<T&&(St=(St<0?-1:1)*T),lt=(et=Et+f)+p,st=tt,ut=tt+St,F&&(n[u][j][J]=ut)}o.setItemLayout(H,{cx:b,cy:_,r0:et,r:lt,startAngle:-st*Math.PI/180,endAngle:-ut*Math.PI/180,clockwise:st>=ut})}}})};var Gj={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},Hj={splitNumber:5},Wj=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.type="polar",i}(Mi);function db(e,i){i=i||{};var n=e.axis,r={},a=n.position,o=n.orient,s=e.coordinateSystem.getRect(),l=[s.x,s.x+s.width,s.y,s.y+s.height],c={horizontal:{top:l[2],bottom:l[3]},vertical:{left:l[0],right:l[1]}};r.position=["vertical"===o?c.vertical[a]:l[0],"horizontal"===o?c.horizontal[a]:l[3]],r.rotation=Math.PI/2*{horizontal:0,vertical:1}[o],r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[a],e.get(["axisTick","inside"])&&(r.tickDirection=-r.tickDirection),hi(i.labelInside,e.get(["axisLabel","inside"]))&&(r.labelDirection=-r.labelDirection);var f=i.rotate;return null==f&&(f=e.get(["axisLabel","rotate"])),r.labelRotation="top"===a?-f:f,r.z2=1,r}var Xj=["axisLine","axisTickLabel","axisName"],Uj=["splitArea","splitLine"],Zj=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.axisPointerClass="SingleAxisPointer",t}return ot(i,e),i.prototype.render=function(t,n,r,a){var o=this.group;o.removeAll();var s=this._axisGroup;this._axisGroup=new Kt;var l=db(t),c=new zs(t,l);U(Xj,c.add,c),o.add(this._axisGroup),o.add(c.getGroup()),U(Uj,function(u){t.get([u,"show"])&&$j[u](this,this.group,this._axisGroup,t)},this),wf(s,this._axisGroup,t),e.prototype.render.call(this,t,n,r,a)},i.prototype.remove=function(){Ak(this)},i.type="singleAxis",i}(mu),$j={splitLine:function(e,i,t,n){var r=n.axis;if(!r.scale.isBlank()){var a=n.getModel("splitLine"),o=a.getModel("lineStyle"),s=o.get("color");s=s instanceof Array?s:[s];for(var l=o.get("width"),c=n.coordinateSystem.getRect(),u=r.isHorizontal(),h=[],f=0,p=r.getTicksCoords({tickModel:a}),m=[],b=[],_=0;_<p.length;++_){var w=r.toGlobalCoord(p[_].coord);u?(m[0]=w,m[1]=c.y,b[0]=w,b[1]=c.y+c.height):(m[0]=c.x,m[1]=w,b[0]=c.x+c.width,b[1]=w);var T=new yn({shape:{x1:m[0],y1:m[1],x2:b[0],y2:b[1]},silent:!0});Vh(T.shape,l);var A=f++%s.length;h[A]=h[A]||[],h[A].push(T)}var P=o.getLineStyle(["color"]);for(_=0;_<h.length;++_)i.add(Sa(h[_],{style:Rt({stroke:s[_%s.length]},P),silent:!0}))}},splitArea:function(e,i,t,n){Mk(e,t,n,n)}};const jj=Zj;var gO=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.getCoordSysModel=function(){return this},i.type="singleAxis",i.layoutMode="box",i.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},i}(Oe);It(gO,qf.prototype);const fb=gO;var qj=function(e){function i(t,n,r,a,o){var s=e.call(this,t,n,r)||this;return s.type=a||"value",s.position=o||"bottom",s}return ot(i,e),i.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},i.prototype.pointToData=function(t,n){return this.coordinateSystem.pointToData(t)[0]},i}(po);const Kj=qj;var vO=["single"],Qj=function(){function e(i,t,n){this.type="single",this.dimension="single",this.dimensions=vO,this.axisPointerEnabled=!0,this.model=i,this._init(i,t,n)}return e.prototype._init=function(i,t,n){var a=new Kj(this.dimension,Vv(i),[0,0],i.get("type"),i.get("position"));a.onBand="category"===a.type&&i.get("boundaryGap"),a.inverse=i.get("inverse"),a.orient=i.get("orient"),i.axis=a,a.model=i,a.coordinateSystem=this,this._axis=a},e.prototype.update=function(i,t){i.eachSeries(function(n){if(n.coordinateSystem===this){var r=n.getData();U(r.mapDimensionsAll(this.dimension),function(a){this._axis.scale.unionExtentFromData(r,a)},this),Qh(this._axis.scale,this._axis.model)}},this)},e.prototype.resize=function(i,t){this._rect=qi({left:i.get("left"),top:i.get("top"),right:i.get("right"),bottom:i.get("bottom"),width:i.get("width"),height:i.get("height")},{width:t.getWidth(),height:t.getHeight()}),this._adjustAxis()},e.prototype.getRect=function(){return this._rect},e.prototype._adjustAxis=function(){var i=this._rect,t=this._axis,n=t.isHorizontal(),r=n?[0,i.width]:[0,i.height],a=t.inverse?1:0;t.setExtent(r[a],r[1-a]),this._updateAxisTransform(t,n?i.x:i.y)},e.prototype._updateAxisTransform=function(i,t){var n=i.getExtent(),r=n[0]+n[1],a=i.isHorizontal();i.toGlobalCoord=a?function(o){return o+t}:function(o){return r-o+t},i.toLocalCoord=a?function(o){return o-t}:function(o){return r-o+t}},e.prototype.getAxis=function(){return this._axis},e.prototype.getBaseAxis=function(){return this._axis},e.prototype.getAxes=function(){return[this._axis]},e.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},e.prototype.containPoint=function(i){var t=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(i[0]))&&i[1]>=t.y&&i[1]<=t.y+t.height:n.contain(n.toLocalCoord(i[1]))&&i[0]>=t.y&&i[0]<=t.y+t.height},e.prototype.pointToData=function(i){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(i["horizontal"===t.orient?0:1]))]},e.prototype.dataToPoint=function(i){var t=this.getAxis(),n=this.getRect(),r=[],a="horizontal"===t.orient?0:1;return i instanceof Array&&(i=i[0]),r[a]=t.toGlobalCoord(t.dataToCoord(+i)),r[1-a]=0===a?n.y+n.height/2:n.x+n.width/2,r},e.prototype.convertToPixel=function(i,t,n){return mO(t)===this?this.dataToPoint(n):null},e.prototype.convertFromPixel=function(i,t,n){return mO(t)===this?this.pointToData(n):null},e}();function mO(e){var i=e.seriesModel,t=e.singleAxisModel;return t&&t.coordinateSystem||i&&i.coordinateSystem}const Jj=Qj;var eq={create:function tq(e,i){var t=[];return e.eachComponent("singleAxis",function(n,r){var a=new Jj(n,e,i);a.name="single_"+r,a.resize(n,i),n.coordinateSystem=a,t.push(a)}),e.eachSeries(function(n){if("singleAxis"===n.get("coordinateSystem")){var r=n.getReferringComponents("singleAxis",zi).models[0];n.coordinateSystem=r&&r.coordinateSystem}}),t},dimensions:vO};const iq=eq;var yO=["x","y"],nq=["width","height"],rq=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ot(i,e),i.prototype.makeElOption=function(t,n,r,a,o){var s=r.axis,l=s.coordinateSystem,c=pb(l,1-pm(s)),u=l.dataToPoint(n)[0],h=a.get("type");if(h&&"none"!==h){var f=ab(a),p=aq[h](s,u,c);p.style=f,t.graphicKey=p.type,t.pointer=p}QI(n,t,db(r),r,a,o)},i.prototype.getHandleTransform=function(t,n,r){var a=db(n,{labelInside:!1});a.labelMargin=r.get(["handle","margin"]);var o=ob(n.axis,t,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},i.prototype.updateHandleTransform=function(t,n,r,a){var o=r.axis,s=o.coordinateSystem,l=pm(o),c=pb(s,l),u=[t.x,t.y];u[l]+=n[l],u[l]=Math.min(c[1],u[l]),u[l]=Math.max(c[0],u[l]);var h=pb(s,1-l),f=(h[1]+h[0])/2,p=[f,f];return p[l]=u[l],{x:u[0],y:u[1],rotation:t.rotation,cursorPoint:p,tooltipOption:{verticalAlign:"middle"}}},i}(rb),aq={line:function(e,i,t){return{type:"Line",subPixelOptimize:!0,shape:sb([i,t[0]],[i,t[1]],pm(e))}},shadow:function(e,i,t){var n=e.getBandWidth();return{type:"Rect",shape:JI([i-n/2,t[0]],[n,t[1]-t[0]],pm(e))}}};function pm(e){return e.isHorizontal()?0:1}function pb(e,i){var t=e.getRect();return[t[yO[i]],t[yO[i]]+t[nq[i]]]}const oq=rq;var sq=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.type="single",i}(Mi),cq=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.init=function(t,n,r){var a=kh(t);e.prototype.init.apply(this,arguments),_O(t,a)},i.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),_O(this.option,t)},i.prototype.getCellSize=function(){return this.option.cellSize},i.type="calendar",i.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},i}(Oe);function _O(e,i){var n,t=e.cellSize;1===(n=yt(t)?t:e.cellSize=[t,t]).length&&(n[1]=n[0]);var r=mt([0,1],function(a){return function C3(e,i){return null!=e[Uc[i][0]]||null!=e[Uc[i][1]]&&null!=e[Uc[i][2]]}(i,a)&&(n[a]="auto"),null!=n[a]&&"auto"!==n[a]});Pl(e,i,{type:"box",ignoreSize:r})}const uq=cq;var hq=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.render=function(t,n,r){var a=this.group;a.removeAll();var o=t.coordinateSystem,s=o.getRangeInfo(),l=o.getOrient(),c=n.getLocaleModel();this._renderDayRect(t,s,a),this._renderLines(t,s,l,a),this._renderYearText(t,s,l,a),this._renderMonthText(t,c,l,a),this._renderWeekText(t,c,s,l,a)},i.prototype._renderDayRect=function(t,n,r){for(var a=t.coordinateSystem,o=t.getModel("itemStyle").getItemStyle(),s=a.getCellWidth(),l=a.getCellHeight(),c=n.start.time;c<=n.end.time;c=a.getNextNDay(c,1).time){var u=a.dataToRect([c],!1).tl,h=new De({shape:{x:u[0],y:u[1],width:s,height:l},cursor:"default",style:o});r.add(h)}},i.prototype._renderLines=function(t,n,r,a){var o=this,s=t.coordinateSystem,l=t.getModel(["splitLine","lineStyle"]).getLineStyle(),c=t.get(["splitLine","show"]),u=l.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var h=n.start,f=0;h.time<=n.end.time;f++){m(h.formatedDate),0===f&&(h=s.getDateInfo(n.start.y+"-"+n.start.m));var p=h.date;p.setMonth(p.getMonth()+1),h=s.getDateInfo(p)}function m(b){o._firstDayOfMonth.push(s.getDateInfo(b)),o._firstDayPoints.push(s.dataToRect([b],!1).tl);var _=o._getLinePointsOfOneWeek(t,b,r);o._tlpoints.push(_[0]),o._blpoints.push(_[_.length-1]),c&&o._drawSplitline(_,l,a)}m(s.getNextNDay(n.end.time,1).formatedDate),c&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,u,r),l,a),c&&this._drawSplitline(o._getEdgesPoints(o._blpoints,u,r),l,a)},i.prototype._getEdgesPoints=function(t,n,r){var a=[t[0].slice(),t[t.length-1].slice()],o="horizontal"===r?0:1;return a[0][o]=a[0][o]-n/2,a[1][o]=a[1][o]+n/2,a},i.prototype._drawSplitline=function(t,n,r){var a=new Pr({z2:20,shape:{points:t},style:n});r.add(a)},i.prototype._getLinePointsOfOneWeek=function(t,n,r){for(var a=t.coordinateSystem,o=a.getDateInfo(n),s=[],l=0;l<7;l++){var c=a.getNextNDay(o.time,l),u=a.dataToRect([c.time],!1);s[2*c.day]=u.tl,s[2*c.day+1]=u["horizontal"===r?"bl":"tr"]}return s},i.prototype._formatterLabel=function(t,n){return Lt(t)&&t?function _3(e,i,t){return U(i,function(n,r){e=e.replace("{"+r+"}",t?Fi(n):n)}),e}(t,n):Z(t)?t(n):n.nameMap},i.prototype._yearTextPositionControl=function(t,n,r,a,o){var s=n[0],l=n[1],c=["center","bottom"];"bottom"===a?(l+=o,c=["center","top"]):"left"===a?s-=o:"right"===a?(s+=o,c=["center","top"]):l-=o;var u=0;return("left"===a||"right"===a)&&(u=Math.PI/2),{rotation:u,x:s,y:l,style:{align:c[0],verticalAlign:c[1]}}},i.prototype._renderYearText=function(t,n,r,a){var o=t.getModel("yearLabel");if(o.get("show")){var s=o.get("margin"),l=o.get("position");l||(l="horizontal"!==r?"top":"left");var c=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],u=(c[0][0]+c[1][0])/2,h=(c[0][1]+c[1][1])/2,f="horizontal"===r?0:1,p={top:[u,c[f][1]],bottom:[u,c[1-f][1]],left:[c[1-f][0],h],right:[c[f][0],h]},m=n.start.y;+n.end.y>+n.start.y&&(m=m+"-"+n.end.y);var b=o.get("formatter"),w=this._formatterLabel(b,{start:n.start.y,end:n.end.y,nameMap:m}),T=new Ie({z2:30,style:ri(o,{text:w})});T.attr(this._yearTextPositionControl(T,p[l],r,l,s)),a.add(T)}},i.prototype._monthTextPositionControl=function(t,n,r,a,o){var s="left",l="top",c=t[0],u=t[1];return"horizontal"===r?(u+=o,n&&(s="center"),"start"===a&&(l="bottom")):(c+=o,n&&(l="middle"),"start"===a&&(s="right")),{x:c,y:u,align:s,verticalAlign:l}},i.prototype._renderMonthText=function(t,n,r,a){var o=t.getModel("monthLabel");if(o.get("show")){var s=o.get("nameMap"),l=o.get("margin"),c=o.get("position"),u=o.get("align"),h=[this._tlpoints,this._blpoints];(!s||Lt(s))&&(s&&(n=T_(s)||n),s=n.get(["time","monthAbbr"])||[]);var f="start"===c?0:1,p="horizontal"===r?0:1;l="start"===c?-l:l;for(var m="center"===u,b=0;b<h[f].length-1;b++){var _=h[f][b].slice(),w=this._firstDayOfMonth[b];m&&(_[p]=(this._firstDayPoints[b][p]+h[0][b+1][p])/2);var A=o.get("formatter"),P=s[+w.m-1],F={yyyy:w.y,yy:(w.y+"").slice(2),MM:w.m,M:+w.m,nameMap:P},O=this._formatterLabel(A,F),V=new Ie({z2:30,style:ft(ri(o,{text:O}),this._monthTextPositionControl(_,m,r,c,l))});a.add(V)}}},i.prototype._weekTextPositionControl=function(t,n,r,a,o){var s="center",l="middle",c=t[0],u=t[1],h="start"===r;return"horizontal"===n?(c=c+a+(h?1:-1)*o[0]/2,s=h?"right":"left"):(u=u+a+(h?1:-1)*o[1]/2,l=h?"bottom":"top"),{x:c,y:u,align:s,verticalAlign:l}},i.prototype._renderWeekText=function(t,n,r,a,o){var s=t.getModel("dayLabel");if(s.get("show")){var l=t.coordinateSystem,c=s.get("position"),u=s.get("nameMap"),h=s.get("margin"),f=l.getFirstDayOfWeek();u&&!Lt(u)||(u&&(n=T_(u)||n),u=n.get(["time","dayOfWeekShort"])||mt(n.get(["time","dayOfWeekAbbr"]),function(F){return F[0]}));var m=l.getNextNDay(r.end.time,7-r.lweek).time,b=[l.getCellWidth(),l.getCellHeight()];h=At(h,Math.min(b[1],b[0])),"start"===c&&(m=l.getNextNDay(r.start.time,-(7+r.fweek)).time,h=-h);for(var _=0;_<7;_++){var A,w=l.getNextNDay(m,_),T=l.dataToRect([w.time],!1).center;A=Math.abs((_+f)%7);var P=new Ie({z2:30,style:ft(ri(s,{text:u[A]}),this._weekTextPositionControl(T,a,c,h,b))});o.add(P)}}},i.type="calendar",i}(Mi);const dq=hq;var gb=864e5,fq=function(){function e(i,t,n){this.type="calendar",this.dimensions=e.dimensions,this.getDimensionsInfo=e.getDimensionsInfo,this._model=i}return e.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},e.prototype.getRangeInfo=function(){return this._rangeInfo},e.prototype.getModel=function(){return this._model},e.prototype.getRect=function(){return this._rect},e.prototype.getCellWidth=function(){return this._sw},e.prototype.getCellHeight=function(){return this._sh},e.prototype.getOrient=function(){return this._orient},e.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},e.prototype.getDateInfo=function(i){var t=(i=zo(i)).getFullYear(),n=i.getMonth()+1,r=n<10?"0"+n:""+n,a=i.getDate(),o=a<10?"0"+a:""+a,s=i.getDay();return{y:t+"",m:r,d:o,day:s=Math.abs((s+7-this.getFirstDayOfWeek())%7),time:i.getTime(),formatedDate:t+"-"+r+"-"+o,date:i}},e.prototype.getNextNDay=function(i,t){return 0===(t=t||0)||(i=new Date(this.getDateInfo(i).time)).setDate(i.getDate()+t),this.getDateInfo(i)},e.prototype.update=function(i,t){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var n=this._rangeInfo.weeks||1,r=["width","height"],a=this._model.getCellSize().slice(),o=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[n,7]:[7,n];U([0,1],function(h){u(a,h)&&(o[r[h]]=a[h]*s[h])});var l={width:t.getWidth(),height:t.getHeight()},c=this._rect=qi(o,l);function u(h,f){return null!=h[f]&&"auto"!==h[f]}U([0,1],function(h){u(a,h)||(a[h]=c[r[h]]/s[h])}),this._sw=a[0],this._sh=a[1]},e.prototype.dataToPoint=function(i,t){yt(i)&&(i=i[0]),null==t&&(t=!0);var n=this.getDateInfo(i),r=this._rangeInfo;if(t&&!(n.time>=r.start.time&&n.time<r.end.time+gb))return[NaN,NaN];var o=n.day,s=this._getRangeInfo([r.start.time,n.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+o*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]:[this._rect.x+s*this._sw+this._sw/2,this._rect.y+o*this._sh+this._sh/2]},e.prototype.pointToData=function(i){var t=this.pointToDate(i);return t&&t.time},e.prototype.dataToRect=function(i,t){var n=this.dataToPoint(i,t);return{contentShape:{x:n[0]-(this._sw-this._lineWidth)/2,y:n[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:n,tl:[n[0]-this._sw/2,n[1]-this._sh/2],tr:[n[0]+this._sw/2,n[1]-this._sh/2],br:[n[0]+this._sw/2,n[1]+this._sh/2],bl:[n[0]-this._sw/2,n[1]+this._sh/2]}},e.prototype.pointToDate=function(i){var t=Math.floor((i[0]-this._rect.x)/this._sw)+1,n=Math.floor((i[1]-this._rect.y)/this._sh)+1,r=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,t-1,r):this._getDateByWeeksAndDay(t,n-1,r)},e.prototype.convertToPixel=function(i,t,n){var r=xO(t);return r===this?r.dataToPoint(n):null},e.prototype.convertFromPixel=function(i,t,n){var r=xO(t);return r===this?r.pointToData(n):null},e.prototype.containPoint=function(i){return console.warn("Not implemented."),!1},e.prototype._initRangeOption=function(){var t,i=this._model.get("range");if(yt(i)&&1===i.length&&(i=i[0]),yt(i))t=i;else{var n=i.toString();if(/^\d{4}$/.test(n)&&(t=[n+"-01-01",n+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(n)){var r=this.getDateInfo(n),a=r.date;a.setMonth(a.getMonth()+1);var o=this.getNextNDay(a,-1);t=[r.formatedDate,o.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(n)&&(t=[n,n])}if(!t)return i;var s=this._getRangeInfo(t);return s.start.time>s.end.time&&t.reverse(),t},e.prototype._getRangeInfo=function(i){var n,t=[this.getDateInfo(i[0]),this.getDateInfo(i[1])];t[0].time>t[1].time&&(n=!0,t.reverse());var r=Math.floor(t[1].time/gb)-Math.floor(t[0].time/gb)+1,a=new Date(t[0].time),o=a.getDate(),s=t[1].date.getDate();a.setDate(o+r-1);var l=a.getDate();if(l!==s)for(var c=a.getTime()-t[1].time>0?1:-1;(l=a.getDate())!==s&&(a.getTime()-t[1].time)*c>0;)r-=c,a.setDate(l-c);var u=Math.floor((r+t[0].day+6)/7),h=n?1-u:u-1;return n&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:r,weeks:u,nthWeek:h,fweek:t[0].day,lweek:t[1].day}},e.prototype._getDateByWeeksAndDay=function(i,t,n){var r=this._getRangeInfo(n);if(i>r.weeks||0===i&&t<r.fweek||i===r.weeks&&t>r.lweek)return null;var a=7*(i-1)-r.fweek+t,o=new Date(r.start.time);return o.setDate(+r.start.d+a),this.getDateInfo(o)},e.create=function(i,t){var n=[];return i.eachComponent("calendar",function(r){var a=new e(r,i,t);n.push(a),r.coordinateSystem=a}),i.eachSeries(function(r){"calendar"===r.get("coordinateSystem")&&(r.coordinateSystem=n[r.get("calendarIndex")||0])}),n},e.dimensions=["time","value"],e}();function xO(e){var i=e.calendarModel,t=e.seriesModel;return i?i.coordinateSystem:t?t.coordinateSystem:null}const pq=fq;function bO(e,i){var t;return U(i,function(n){null!=e[n]&&"auto"!==e[n]&&(t=!0)}),t}var CO=["transition","enterFrom","leaveTo"],yq=CO.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function gm(e,i,t){if(t&&(!e[t]&&i[t]&&(e[t]={}),e=e[t],i=i[t]),e&&i)for(var n=t?CO:yq,r=0;r<n.length;r++){var a=n[r];null==e[a]&&null!=i[a]&&(e[a]=i[a])}}var xq=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.preventAutoZ=!0,t}return ot(i,e),i.prototype.mergeOption=function(t,n){var r=this.option.elements;this.option.elements=null,e.prototype.mergeOption.call(this,t,n),this.option.elements=r},i.prototype.optionUpdated=function(t,n){var r=this.option,a=(n?r:t).elements,o=r.elements=n?[]:r.elements,s=[];this._flatten(a,s,null);var l=BS(o,s,"normalMerge"),c=this._elOptionsToUpdate=[];U(l,function(u,h){var f=u.newOption;f&&(c.push(f),function vq(e,i){var t=e.existing;if(i.id=e.keyInfo.id,!i.type&&t&&(i.type=t.type),null==i.parentId){var n=i.parentOption;n?i.parentId=n.id:t&&(i.parentId=t.parentId)}i.parentOption=null}(u,f),function mq(e,i,t){var n=ft({},t),r=e[i],a=t.$action||"merge";"merge"===a?r?(ie(r,n,!0),Pl(r,n,{ignoreSize:!0}),uT(t,r),gm(t,r),gm(t,r,"shape"),gm(t,r,"style"),gm(t,r,"extra"),t.clipPath=r.clipPath):e[i]=n:"replace"===a?e[i]=n:"remove"===a&&r&&(e[i]=null)}(o,h,f),function _q(e,i){if(e&&(e.hv=i.hv=[bO(i,["left","right"]),bO(i,["top","bottom"])],"group"===e.type)){var t=e,n=i;null==t.width&&(t.width=n.width=0),null==t.height&&(t.height=n.height=0)}}(o[h],f))},this),r.elements=ve(o,function(u){return u&&delete u.$action,null!=u})},i.prototype._flatten=function(t,n,r){U(t,function(a){if(a){r&&(a.parentOption=r),n.push(a);var o=a.children;o&&o.length&&this._flatten(o,n,a),delete a.children}},this)},i.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},i.type="graphic",i.defaultOption={elements:[]},i}(Oe),SO={path:null,compoundPath:null,group:Kt,image:Pn,text:Ie},ka=Le(),bq=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.init=function(){this._elMap=Mt()},i.prototype.render=function(t,n,r){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,r)},i.prototype._updateElements=function(t){var n=t.useElOptionsToUpdate();if(n){var r=this._elMap,a=this.group,o=t.get("z"),s=t.get("zlevel");U(n,function(l){var c=ji(l.id,null),u=null!=c?r.get(c):null,h=ji(l.parentId,null),f=null!=h?r.get(h):a,p=l.type,m=l.style;"text"===p&&m&&l.hv&&l.hv[1]&&(m.textVerticalAlign=m.textBaseline=m.verticalAlign=m.align=null);var b=l.textContent,_=l.textConfig;if(m&&MI(m,p,!!_,!!b)){var w=AI(m,p,!0);!_&&w.textConfig&&(_=l.textConfig=w.textConfig),!b&&w.textContent&&(b=w.textContent)}var T=function Cq(e){return e=ft({},e),U(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(cT),function(i){delete e[i]}),e}(l),A=l.$action||"merge",P="merge"===A,F="replace"===A;if(P){var V=u;(O=!u)?V=wO(c,f,l.type,r):(V&&(ka(V).isNew=!1),BI(V)),V&&(sm(V,T,t,{isInit:O}),TO(V,l,o,s))}else if(F){vm(u,l,r,t);var N=wO(c,f,l.type,r);N&&(sm(N,T,t,{isInit:!0}),TO(N,l,o,s))}else"remove"===A&&(OI(u,l),vm(u,l,r,t));var G=r.get(c);if(G&&b)if(P){var H=G.getTextContent();H?H.attr(b):G.setTextContent(new Ie(b))}else F&&G.setTextContent(new Ie(b));if(G){var X=l.clipPath;if(X){var q=X.type,j=void 0,O=!1;if(P){var J=G.getClipPath();j=(O=!J||ka(J).type!==q)?vb(q):J}else F&&(O=!0,j=vb(q));G.setClipPath(j),sm(j,X,t,{isInit:O}),cm(j,X.keyframeAnimation,t)}var tt=ka(G);G.setTextConfig(_),tt.option=l,function Sq(e,i,t){var n=Jt(e).eventData;!e.silent&&!e.ignore&&!n&&(n=Jt(e).eventData={componentType:"graphic",componentIndex:i.componentIndex,name:e.name}),n&&(n.info=t.info)}(G,t,l),zh({el:G,componentModel:t,itemName:G.name,itemTooltipOption:l.tooltip}),cm(G,l.keyframeAnimation,t)}})}},i.prototype._relocate=function(t,n){for(var r=t.option.elements,a=this.group,o=this._elMap,s=n.getWidth(),l=n.getHeight(),c=["x","y"],u=0;u<r.length;u++)if((p=null!=(f=ji((h=r[u]).id,null))?o.get(f):null)&&p.isGroup){var b=(m=p.parent)===a,_=ka(p),w=ka(m);_.width=At(_.option.width,b?s:w.width)||0,_.height=At(_.option.height,b?l:w.height)||0}for(u=r.length-1;u>=0;u--){var h,f,p;if(p=null!=(f=ji((h=r[u]).id,null))?o.get(f):null){w=ka(m=p.parent);var m,A={},P=Pg(p,h,m===a?{width:s,height:l}:{width:w.width,height:w.height},null,{hv:h.hv,boundingMode:h.bounding},A);if(!ka(p).isNew&&P){for(var F=h.transition,O={},V=0;V<c.length;V++){var N=c[V],G=A[N];F&&(Au(F)||oe(F,N)>=0)?O[N]=G:p[N]=G}Ve(p,O,t,0)}else p.attr(A)}}},i.prototype._clear=function(){var t=this,n=this._elMap;n.each(function(r){vm(r,ka(r).option,n,t._lastGraphicModel)}),this._elMap=Mt()},i.prototype.dispose=function(){this._clear()},i.type="graphic",i}(Mi);function vb(e){var t=new(Pt(SO,e)?SO[e]:u0(e))({});return ka(t).type=e,t}function wO(e,i,t,n){var r=vb(t);return i.add(r),n.set(e,r),ka(r).id=e,ka(r).isNew=!0,r}function vm(e,i,t,n){e&&e.parent&&("group"===e.type&&e.traverse(function(a){vm(a,i,t,n)}),lm(e,i,n),t.removeKey(ka(e).id))}function TO(e,i,t,n){e.isGroup||U([["cursor",ma.prototype.cursor],["zlevel",n||0],["z",t||0],["z2",0]],function(r){var a=r[0];Pt(i,a)?e[a]=qt(i[a],r[1]):null==e[a]&&(e[a]=r[1])}),U(he(i),function(r){if(0===r.indexOf("on")){var a=i[r];e[r]=Z(a)?a:null}}),Pt(i,"draggable")&&(e.draggable=i.draggable),null!=i.name&&(e.name=i.name),null!=i.id&&(e.id=i.id)}var MO=["x","y","radius","angle","single"],Tq=["cartesian2d","polar","singleAxis"];function $l(e){return e+"Axis"}function AO(e){var i=e.ecModel,t={infoList:[],infoMap:Mt()};return e.eachTargetAxis(function(n,r){var a=i.getComponent($l(n),r);if(a){var o=a.getCoordSysModel();if(o){var s=o.uid,l=t.infoMap.get(s);l||(t.infoList.push(l={model:o,axisModels:[]}),t.infoMap.set(s,l)),l.axisModels.push(a)}}}),t}var mb=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(i){this.indexMap[i]||(this.indexList.push(i),this.indexMap[i]=!0)},e}(),Lq=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return ot(i,e),i.prototype.init=function(t,n,r){var a=LO(t);this.settledOption=a,this.mergeDefaultAndTheme(t,r),this._doInit(a)},i.prototype.mergeOption=function(t){var n=LO(t);ie(this.option,t,!0),ie(this.settledOption,n,!0),this._doInit(n)},i.prototype._doInit=function(t){var n=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var r=this.settledOption;U([["start","startValue"],["end","endValue"]],function(a,o){"value"===this._rangePropMode[o]&&(n[a[0]]=r[a[0]]=null)},this),this._resetTarget()},i.prototype._resetTarget=function(){var t=this.get("orient",!0),n=this._targetAxisInfoMap=Mt();this._fillSpecifiedTargetAxis(n)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(a){a.indexList.length&&(this._noTarget=!1)},this)},i.prototype._fillSpecifiedTargetAxis=function(t){var n=!1;return U(MO,function(r){var a=this.getReferringComponents($l(r),FB);if(a.specified){n=!0;var o=new mb;U(a.models,function(s){o.add(s.componentIndex)}),t.set(r,o)}},this),n},i.prototype._fillAutoTargetAxisByOrient=function(t,n){var r=this.ecModel,a=!0;if(a){var o="vertical"===n?"y":"x";l(r.findComponents({mainType:o+"Axis"}),o)}function l(c,u){var h=c[0];if(h){var f=new mb;if(f.add(h.componentIndex),t.set(u,f),a=!1,"x"===u||"y"===u){var p=h.getReferringComponents("grid",zi).models[0];p&&U(c,function(m){h.componentIndex!==m.componentIndex&&p===m.getReferringComponents("grid",zi).models[0]&&f.add(m.componentIndex)})}}}a&&l(r.findComponents({mainType:"singleAxis",filter:function(u){return u.get("orient",!0)===n}}),"single"),a&&U(MO,function(c){if(a){var u=r.findComponents({mainType:$l(c),filter:function(f){return"category"===f.get("type",!0)}});if(u[0]){var h=new mb;h.add(u[0].componentIndex),t.set(c,h),a=!1}}},this)},i.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(n){!t&&(t=n)},this),"y"===t?"vertical":"horizontal"},i.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},i.prototype._updateRangeUse=function(t){var n=this._rangePropMode,r=this.get("rangeMode");U([["start","startValue"],["end","endValue"]],function(a,o){var s=null!=t[a[0]],l=null!=t[a[1]];s&&!l?n[o]="percent":!s&&l?n[o]="value":r?n[o]=r[o]:s&&(n[o]="percent")})},i.prototype.noTarget=function(){return this._noTarget},i.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(n,r){null==t&&(t=this.ecModel.getComponent($l(n),r))},this),t},i.prototype.eachTargetAxis=function(t,n){this._targetAxisInfoMap.each(function(r,a){U(r.indexList,function(o){t.call(n,a,o)})})},i.prototype.getAxisProxy=function(t,n){var r=this.getAxisModel(t,n);if(r)return r.__dzAxisProxy},i.prototype.getAxisModel=function(t,n){var r=this._targetAxisInfoMap.get(t);if(r&&r.indexMap[n])return this.ecModel.getComponent($l(t),n)},i.prototype.setRawRange=function(t){var n=this.option,r=this.settledOption;U([["start","startValue"],["end","endValue"]],function(a){(null!=t[a[0]]||null!=t[a[1]])&&(n[a[0]]=r[a[0]]=t[a[0]],n[a[1]]=r[a[1]]=t[a[1]])},this),this._updateRangeUse(t)},i.prototype.setCalculatedRange=function(t){var n=this.option;U(["start","startValue","end","endValue"],function(r){n[r]=t[r]})},i.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},i.prototype.getValueRange=function(t,n){if(null!=t||null!=n)return this.getAxisProxy(t,n).getDataValueWindow();var r=this.findRepresentativeAxisProxy();return r?r.getDataValueWindow():void 0},i.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var n,r=this._targetAxisInfoMap.keys(),a=0;a<r.length;a++)for(var o=r[a],s=this._targetAxisInfoMap.get(o),l=0;l<s.indexList.length;l++){var c=this.getAxisProxy(o,s.indexList[l]);if(c.hostedBy(this))return c;n||(n=c)}return n},i.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},i.prototype.getOrient=function(){return this._orient},i.type="dataZoom",i.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],i.defaultOption={z:4,filterMode:"filter",start:0,end:100},i}(Oe);function LO(e){var i={};return U(["start","end","startValue","endValue","throttle"],function(t){e.hasOwnProperty(t)&&(i[t]=e[t])}),i}const yp=Lq;var kq=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.type="dataZoom.select",i}(yp);const Dq=kq;var Pq=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.render=function(t,n,r,a){this.dataZoomModel=t,this.ecModel=n,this.api=r},i.type="dataZoom",i}(Mi);const yb=Pq;var Iq=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.type="dataZoom.select",i}(yb);const Oq=Iq;var ld=U,kO=va,Eq=function(){function e(i,t,n,r){this._dimName=i,this._axisIndex=t,this.ecModel=r,this._dataZoomModel=n}return e.prototype.hostedBy=function(i){return this._dataZoomModel===i},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var i=[];return this.ecModel.eachSeries(function(t){if(function Mq(e){var i=e.get("coordinateSystem");return oe(Tq,i)>=0}(t)){var n=$l(this._dimName),r=t.getReferringComponents(n,zi).models[0];r&&this._axisIndex===r.componentIndex&&i.push(t)}},this),i},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return Gt(this._minMaxSpan)},e.prototype.calculateDataWindow=function(i){var c,t=this._dataExtent,r=this.getAxisModel().axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[];ld(["start","end"],function(f,p){var m=i[f],b=i[f+"Value"];"percent"===a[p]?(null==m&&(m=o[p]),b=r.parse(Xe(m,o,t))):(c=!0,m=Xe(b=null==b?t[p]:r.parse(b),t,o)),l[p]=null==b||isNaN(b)?t[p]:b,s[p]=null==m||isNaN(m)?o[p]:m}),kO(l),kO(s);var u=this._minMaxSpan;function h(f,p,m,b,_){var w=_?"Span":"ValueSpan";wu(0,f,m,"all",u["min"+w],u["max"+w]);for(var T=0;T<2;T++)p[T]=Xe(f[T],m,b,!0),_&&(p[T]=r.parse(p[T]))}return c?h(l,s,t,o,!1):h(s,l,o,t,!0),{valueWindow:l,percentWindow:s}},e.prototype.reset=function(i){if(i===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function Fq(e,i,t){var n=[1/0,-1/0];ld(t,function(o){!function mW(e,i,t){i&&U(zv(i,t),function(n){var r=i.getApproximateExtent(n);r[0]<e[0]&&(e[0]=r[0]),r[1]>e[1]&&(e[1]=r[1])})}(n,o.getData(),i)});var r=e.getAxisModel(),a=nk(r.axis.scale,r,n).calculate();return[a.min,a.max]}(this,this._dimName,t),this._updateMinMaxSpan();var n=this.calculateDataWindow(i.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(i,t){if(i===this._dataZoomModel){var n=this._dimName,r=this.getTargetSeriesModels(),a=i.get("filterMode"),o=this._valueWindow;"none"!==a&&ld(r,function(l){var c=l.getData(),u=c.mapDimensionsAll(n);if(u.length){if("weakFilter"===a){var h=c.getStore(),f=mt(u,function(p){return c.getDimensionIndex(p)},c);c.filterSelf(function(p){for(var m,b,_,w=0;w<u.length;w++){var T=h.get(f[w],p),A=!isNaN(T),P=T<o[0],F=T>o[1];if(A&&!P&&!F)return!0;A&&(_=!0),P&&(m=!0),F&&(b=!0)}return _&&m&&b})}else ld(u,function(p){if("empty"===a)l.setData(c=c.map(p,function(b){return function s(l){return l>=o[0]&&l<=o[1]}(b)?b:NaN}));else{var m={};m[p]=o,c.selectRange(m)}});ld(u,function(p){c.setApproximateExtent(o,p)})}})}},e.prototype._updateMinMaxSpan=function(){var i=this._minMaxSpan={},t=this._dataZoomModel,n=this._dataExtent;ld(["min","max"],function(r){var a=t.get(r+"Span"),o=t.get(r+"ValueSpan");null!=o&&(o=this.getAxisModel().axis.scale.parse(o)),null!=o?a=Xe(n[0]+o,n,[0,100],!0):null!=a&&(o=Xe(a,[0,100],n,!0)-n[0]),i[r+"Span"]=a,i[r+"ValueSpan"]=o},this)},e.prototype._setAxisModel=function(){var i=this.getAxisModel(),t=this._percentWindow,n=this._valueWindow;if(t){var r=SS(n,[0,500]);r=Math.min(r,20);var a=i.axis.scale.rawExtentInfo;0!==t[0]&&a.setDeterminedMinMax("min",+n[0].toFixed(r)),100!==t[1]&&a.setDeterminedMinMax("max",+n[1].toFixed(r)),a.freeze()}},e}();const Rq=Eq;var Bq={getTargetSeries:function(e){function i(r){e.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(o,s){var l=e.getComponent($l(o),s);r(o,s,l,a)})})}i(function(r,a,o,s){o.__dzAxisProxy=null});var t=[];i(function(r,a,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new Rq(r,a,s,e),t.push(o.__dzAxisProxy))});var n=Mt();return U(t,function(r){U(r.getTargetSeriesModels(),function(a){n.set(a.uid,a)})}),n},overallReset:function(e,i){e.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(n,r){t.getAxisProxy(n,r).reset(t)}),t.eachTargetAxis(function(n,r){t.getAxisProxy(n,r).filterData(t,i)})}),e.eachComponent("dataZoom",function(t){var n=t.findRepresentativeAxisProxy();if(n){var r=n.getDataPercentWindow(),a=n.getDataValueWindow();t.setCalculatedRange({start:r[0],end:r[1],startValue:a[0],endValue:a[1]})}})}};const Vq=Bq;var DO=!1;function _b(e){DO||(DO=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,Vq),function zq(e){e.registerAction("dataZoom",function(i,t){U(function Aq(e,i){var a,t=Mt(),n=[],r=Mt();e.eachComponent({mainType:"dataZoom",query:i},function(u){r.get(u.uid)||s(u)});do{a=!1,e.eachComponent("dataZoom",o)}while(a);function o(u){!r.get(u.uid)&&function l(u){var h=!1;return u.eachTargetAxis(function(f,p){var m=t.get(f);m&&m[p]&&(h=!0)}),h}(u)&&(s(u),a=!0)}function s(u){r.set(u.uid,!0),n.push(u),function c(u){u.eachTargetAxis(function(h,f){(t.get(h)||t.set(h,[]))[f]=!0})}(u)}return n}(t,i),function(r){r.setRawRange({start:i.start,end:i.end,startValue:i.startValue,endValue:i.endValue})})})}(e),e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function Nq(e){e.registerComponentModel(Dq),e.registerComponentView(Oq),_b(e)}var Da=function e(){},PO={};function cd(e,i){PO[e]=i}function IO(e){return PO[e]}var Gq=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;U(this.option.feature,function(n,r){var a=IO(r);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(t)),ie(n,a.defaultOption))})},i.type="toolbox",i.layoutMode={type:"box",ignoreSize:!0},i.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},i}(Oe);const Hq=Gq;function OO(e,i){var t=Lh(i.get("padding")),n=i.getItemStyle(["color","opacity"]);return n.fill=i.get("backgroundColor"),new De({shape:{x:e.x-t[3],y:e.y-t[0],width:e.width+t[1]+t[3],height:e.height+t[0]+t[2],r:i.get("borderRadius")},style:n,silent:!0,z2:-1})}var Yq=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ot(i,e),i.prototype.render=function(t,n,r,a){var o=this.group;if(o.removeAll(),t.get("show")){var s=+t.get("itemSize"),l="vertical"===t.get("orient"),c=t.get("feature")||{},u=this._features||(this._features={}),h=[];U(c,function(m,b){h.push(b)}),new Rs(this._featureNames||[],h).add(f).update(f).remove(jt(f,null)).execute(),this._featureNames=h,function Wq(e,i,t){var n=i.getBoxLayoutParams(),r=i.get("padding"),a={width:t.getWidth(),height:t.getHeight()},o=qi(n,a,r);Zc(i.get("orient"),e,i.get("itemGap"),o.width,o.height),Pg(e,n,a,r)}(o,t,r),o.add(OO(o.getBoundingRect(),t)),l||o.eachChild(function(m){var b=m.__title,_=m.ensureState("emphasis"),w=_.textConfig||(_.textConfig={}),T=m.getTextContent(),A=T&&T.ensureState("emphasis");if(A&&!Z(A)&&b){var P=A.style||(A.style={}),F=Ud(b,Ie.makeFont(P)),O=m.x+o.x,N=!1;m.y+o.y+s+F.height>r.getHeight()&&(w.position="top",N=!0);var G=N?-5-F.height:s+10;O+F.width/2>r.getWidth()?(w.position=["100%",G],P.align="right"):O-F.width/2<0&&(w.position=[0,G],P.align="left")}})}function f(m,b){var P,_=h[m],w=h[b],T=c[_],A=new ai(T,t,t.ecModel);if(a&&null!=a.newTitle&&a.featureName===_&&(T.title=a.newTitle),_&&!w){if(function Xq(e){return 0===e.indexOf("my")}(_))P={onclick:A.option.onclick,featureName:_};else{var F=IO(_);if(!F)return;P=new F}u[_]=P}else if(!(P=u[w]))return;P.uid=wh("toolbox-feature"),P.model=A,P.ecModel=n,P.api=r;var O=P instanceof Da;_||!w?!A.get("show")||O&&P.unusable?O&&P.remove&&P.remove(n,r):(function p(m,b,_){var F,O,w=m.getModel("iconStyle"),T=m.getModel(["emphasis","iconStyle"]),A=b instanceof Da&&b.getIcons?b.getIcons():m.get("icon"),P=m.get("title")||{};Lt(A)?(F={})[_]=A:F=A,Lt(P)?(O={})[_]=P:O=P;var V=m.iconPaths={};U(F,function(N,G){var H=Tf(N,{},{x:-s/2,y:-s/2,width:s,height:s});H.setStyle(w.getItemStyle()),H.ensureState("emphasis").style=T.getItemStyle();var q=new Ie({style:{text:O[G],align:T.get("textAlign"),borderRadius:T.get("textBorderRadius"),padding:T.get("textPadding"),fill:null,font:x_({fontStyle:T.get("textFontStyle"),fontFamily:T.get("textFontFamily"),fontSize:T.get("textFontSize"),fontWeight:T.get("textFontWeight")},n)},ignore:!0});H.setTextContent(q),zh({el:H,componentModel:t,itemName:G,formatterParamsExtra:{title:O[G]}}),H.__title=O[G],H.on("mouseover",function(){var j=T.getItemStyle(),J=l?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";q.setStyle({fill:T.get("textFill")||j.fill||j.stroke||"#000",backgroundColor:T.get("textBackgroundColor")}),H.setTextConfig({position:T.get("textPosition")||J}),q.ignore=!t.get("showTitle"),r.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==m.get(["iconStatus",G])&&r.leaveEmphasis(this),q.hide()}),("emphasis"===m.get(["iconStatus",G])?Is:Os)(H),o.add(H),H.on("click",Dt(b.onclick,b,n,r,G)),V[G]=H})}(A,P,_),A.setIconStatus=function(V,N){var G=this.option,H=this.iconPaths;G.iconStatus=G.iconStatus||{},G.iconStatus[V]=N,H[V]&&("emphasis"===N?Is:Os)(H[V])},P instanceof Da&&P.render&&P.render(A,n,r,a)):O&&P.dispose&&P.dispose(n,r)}},i.prototype.updateView=function(t,n,r,a){U(this._features,function(o){o instanceof Da&&o.updateView&&o.updateView(o.model,n,r,a)})},i.prototype.remove=function(t,n){U(this._features,function(r){r instanceof Da&&r.remove&&r.remove(t,n)}),this.group.removeAll()},i.prototype.dispose=function(t,n){U(this._features,function(r){r instanceof Da&&r.dispose&&r.dispose(t,n)})},i.type="toolbox",i}(Mi);const Uq=Yq;var Zq=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ot(i,e),i.prototype.onclick=function(t,n){var r=this.model,a=r.get("name")||t.get("title.0.text")||"echarts",o="svg"===n.getZr().painter.getType(),s=o?"svg":r.get("type",!0)||"png",l=n.getConnectedDataURL({type:s,backgroundColor:r.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:r.get("connectedBackgroundColor"),excludeComponents:r.get("excludeComponents"),pixelRatio:r.get("pixelRatio")}),c=Yt.browser;if("function"!=typeof MouseEvent||!c.newEdge&&(c.ie||c.edge))if(window.navigator.msSaveOrOpenBlob||o){var f=l.split(","),p=f[0].indexOf("base64")>-1,m=o?decodeURIComponent(f[1]):f[1];p&&(m=window.atob(m));var b=a+"."+s;if(window.navigator.msSaveOrOpenBlob){for(var _=m.length,w=new Uint8Array(_);_--;)w[_]=m.charCodeAt(_);var T=new Blob([w]);window.navigator.msSaveOrOpenBlob(T,b)}else{var A=document.createElement("iframe");document.body.appendChild(A);var P=A.contentWindow,F=P.document;F.open("image/svg+xml","replace"),F.write(m),F.close(),P.focus(),F.execCommand("SaveAs",!0,b),document.body.removeChild(A)}}else{var O=r.get("lang"),V='<body style="margin:0;"><img src="'+l+'" style="max-width:100%;" title="'+(O&&O[0]||"")+'" /></body>',N=window.open();N.document.write(V),N.document.title=a}else{var u=document.createElement("a");u.download=a+"."+s,u.target="_blank",u.href=l;var h=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});u.dispatchEvent(h)}},i.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},i}(Da);const $q=Zq;var EO="__ec_magicType_stack__",jq=[["line","bar"],["stack"]],qq=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ot(i,e),i.prototype.getIcons=function(){var t=this.model,n=t.get("icon"),r={};return U(t.get("type"),function(a){n[a]&&(r[a]=n[a])}),r},i.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},i.prototype.onclick=function(t,n,r){var a=this.model,o=a.get(["seriesIndex",r]);if(FO[r]){var s={series:[]};U(jq,function(h){oe(h,r)>=0&&U(h,function(f){a.setIconStatus(f,"normal")})}),a.setIconStatus(r,"emphasis"),t.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},function(h){var m=FO[r](h.subType,h.id,h,a);m&&(Rt(m,h.option),s.series.push(m));var b=h.coordinateSystem;if(b&&"cartesian2d"===b.type&&("line"===r||"bar"===r)){var _=b.getAxesByScale("ordinal")[0];if(_){var T=_.dim+"Axis",P=h.getReferringComponents(T,zi).models[0].componentIndex;s[T]=s[T]||[];for(var F=0;F<=P;F++)s[T][P]=s[T][P]||{};s[T][P].boundaryGap="bar"===r}}});var c,u=r;"stack"===r&&(c=ie({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),"emphasis"!==a.get(["iconStatus",r])&&(u="tiled")),n.dispatchAction({type:"changeMagicType",currentType:u,newOption:s,newTitle:c,featureName:"magicType"})}},i}(Da),FO={line:function(e,i,t,n){if("bar"===e)return ie({id:i,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},n.get(["option","line"])||{},!0)},bar:function(e,i,t,n){if("line"===e)return ie({id:i,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},n.get(["option","bar"])||{},!0)},stack:function(e,i,t,n){var r=t.get("stack")===EO;if("line"===e||"bar"===e)return n.setIconStatus("stack",r?"normal":"emphasis"),ie({id:i,stack:r?"":EO},n.get(["option","stack"])||{},!0)}};$o({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,i){i.mergeOption(e.newOption)});const Kq=qq;var mm=new Array(60).join("-"),ud="\t";function Jq(e){var i=[];return U(e,function(t,n){var r=t.categoryAxis,o=t.valueAxis.dim,s=[" "].concat(mt(t.series,function(p){return p.name})),l=[r.model.getCategories()];U(t.series,function(p){var m=p.getRawData();l.push(p.getRawData().mapArray(m.mapDimension(o),function(b){return b}))});for(var c=[s.join(ud)],u=0;u<l[0].length;u++){for(var h=[],f=0;f<l.length;f++)h.push(l[f][u]);c.push(h.join(ud))}i.push(c.join("\n"))}),i.join("\n\n"+mm+"\n\n")}function tK(e){return mt(e,function(i){var t=i.getRawData(),n=[i.name],r=[];return t.each(t.dimensions,function(){for(var a=arguments.length,s=t.getName(arguments[a-1]),l=0;l<a-1;l++)r[l]=arguments[l];n.push((s?s+ud:"")+r.join(ud))}),n.join("\n")}).join("\n\n"+mm+"\n\n")}function ym(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var xb=new RegExp("["+ud+"]+","g");var oK=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ot(i,e),i.prototype.onclick=function(t,n){setTimeout(function(){n.dispatchAction({type:"hideTip"})});var r=n.getDom(),a=this.model;this._dom&&r.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=a.get("backgroundColor")||"#fff";var s=document.createElement("h4"),l=a.get("lang")||[];s.innerHTML=l[0]||a.get("title"),s.style.cssText="margin:10px 20px",s.style.color=a.get("textColor");var c=document.createElement("div"),u=document.createElement("textarea");c.style.cssText="overflow:auto";var h=a.get("optionToContent"),f=a.get("contentToOption"),p=function eK(e){var i=function Qq(e){var i={},t=[],n=[];return e.eachRawSeries(function(r){var a=r.coordinateSystem;if(!a||"cartesian2d"!==a.type&&"polar"!==a.type)t.push(r);else{var o=a.getBaseAxis();if("category"===o.type){var s=o.dim+"_"+o.index;i[s]||(i[s]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]},n.push({axisDim:o.dim,axisIndex:o.index})),i[s].series.push(r)}else t.push(r)}}),{seriesGroupByCategoryAxis:i,other:t,meta:n}}(e);return{value:ve([Jq(i.seriesGroupByCategoryAxis),tK(i.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join("\n\n"+mm+"\n\n"),meta:i.meta}}(t);if(Z(h)){var m=h(n.getOption());Lt(m)?c.innerHTML=m:Cn(m)&&c.appendChild(m)}else{u.readOnly=a.get("readOnly");var b=u.style;b.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",b.color=a.get("textColor"),b.borderColor=a.get("textareaBorderColor"),b.backgroundColor=a.get("textareaColor"),u.value=p.value,c.appendChild(u)}var _=p.meta,w=document.createElement("div");w.style.cssText="position:absolute;bottom:5px;left:0;right:0";var T="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",A=document.createElement("div"),P=document.createElement("div");T+=";background-color:"+a.get("buttonColor"),T+=";color:"+a.get("buttonTextColor");var F=this;function O(){r.removeChild(o),F._dom=null}Lo(A,"click",O),Lo(P,"click",function(){if(null==f&&null!=h||null!=f&&null==h)O();else{var V;try{V=Z(f)?f(c,n.getOption()):function aK(e,i){var t=e.split(new RegExp("\n*"+mm+"\n*","g")),n={series:[]};return U(t,function(r,a){if(function iK(e){if(e.slice(0,e.indexOf("\n")).indexOf(ud)>=0)return!0}(r)){var o=function nK(e){for(var i=e.split(/\n+/g),n=[],r=mt(ym(i.shift()).split(xb),function(l){return{name:l,data:[]}}),a=0;a<i.length;a++){var o=ym(i[a]).split(xb);n.push(o.shift());for(var s=0;s<o.length;s++)r[s]&&(r[s].data[a]=o[s])}return{series:r,categories:n}}(r),s=i[a],l=s.axisDim+"Axis";s&&(n[l]=n[l]||[],n[l][s.axisIndex]={data:o.categories},n.series=n.series.concat(o.series))}else o=function rK(e){for(var i=e.split(/\n+/g),t=ym(i.shift()),n=[],r=0;r<i.length;r++){var a=ym(i[r]);if(a){var o=a.split(xb),s="",l=void 0,c=!1;isNaN(o[0])?(c=!0,s=o[0],o=o.slice(1),n[r]={name:s,value:[]},l=n[r].value):l=n[r]=[];for(var u=0;u<o.length;u++)l.push(+o[u]);1===l.length&&(c?n[r].value=l[0]:n[r]=l[0])}}return{name:t,data:n}}(r),n.series.push(o)}),n}(u.value,_)}catch(N){throw O(),new Error("Data view format error "+N)}V&&n.dispatchAction({type:"changeDataView",newOption:V}),O()}}),A.innerHTML=l[1],P.innerHTML=l[2],P.style.cssText=A.style.cssText=T,!a.get("readOnly")&&w.appendChild(P),w.appendChild(A),o.appendChild(s),o.appendChild(c),o.appendChild(w),c.style.height=r.clientHeight-80+"px",r.appendChild(o),this._dom=o},i.prototype.remove=function(t,n){this._dom&&n.getDom().removeChild(this._dom)},i.prototype.dispose=function(t,n){this.remove(t,n)},i.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},i}(Da);function sK(e,i){return mt(e,function(t,n){var r=i&&i[n];if(Bt(r)&&!yt(r)){Bt(t)&&!yt(t)||(t={value:t});var o=null!=r.name&&null==t.name;return t=Rt(t,r),o&&delete t.name,t}return t})}$o({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,i){var t=[];U(e.newOption.series,function(n){var r=i.getSeriesByName(n.name)[0];if(r){var a=r.get("data");t.push({name:n.name,data:sK(n.data,a)})}else t.push(ft({type:"scatter"},n))}),i.mergeOption(Rt({series:t},e.newOption))});const lK=oK;var RO=U,BO=Le();function bb(e){var i=BO(e);return i.snapshots||(i.snapshots=[{}]),i.snapshots}var fK=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ot(i,e),i.prototype.onclick=function(t,n){(function hK(e){BO(e).snapshots=null})(t),n.dispatchAction({type:"restore",from:this.uid})},i.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},i}(Da);$o({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,i){i.resetOption("recreate")});const pK=fK;var gK=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],vK=function(){function e(i,t,n){var r=this;this._targetInfoList=[];var a=VO(t,i);U(mK,function(o,s){(!n||!n.include||oe(n.include,s)>=0)&&o(a,r._targetInfoList)})}return e.prototype.setOutputRanges=function(i,t){return this.matchOutputRanges(i,t,function(n,r,a){if((n.coordRanges||(n.coordRanges=[])).push(r),!n.coordRange){n.coordRange=r;var o=Sb[n.brushType](0,a,r);n.__rangeOffset={offset:HO[n.brushType](o.values,n.range,[1,1]),xyMinMax:o.xyMinMax}}}),i},e.prototype.matchOutputRanges=function(i,t,n){U(i,function(r){var a=this.findTargetInfo(r,t);a&&!0!==a&&U(a.coordSyses,function(o){var s=Sb[r.brushType](1,o,r.range,!0);n(r,s.values,o,t)})},this)},e.prototype.setInputRanges=function(i,t){U(i,function(n){var r=this.findTargetInfo(n,t);if(n.range=n.range||[],r&&!0!==r){n.panelId=r.panelId;var a=Sb[n.brushType](0,r.coordSys,n.coordRange),o=n.__rangeOffset;n.range=o?HO[n.brushType](a.values,o.offset,function yK(e,i){var t=YO(e),n=YO(i),r=[t[0]/n[0],t[1]/n[1]];return isNaN(r[0])&&(r[0]=1),isNaN(r[1])&&(r[1]=1),r}(a.xyMinMax,o.xyMinMax)):a.values}},this)},e.prototype.makePanelOpts=function(i,t){return mt(this._targetInfoList,function(n){var r=n.getPanelRect();return{panelId:n.panelId,defaultBrushType:t?t(n):null,clipPath:NP(r),isTargetByCursor:HP(r,i,n.coordSysModel),getLinearBrushOtherExtent:GP(r)}})},e.prototype.controlSeries=function(i,t,n){var r=this.findTargetInfo(i,n);return!0===r||r&&oe(r.coordSyses,t.coordinateSystem)>=0},e.prototype.findTargetInfo=function(i,t){for(var n=this._targetInfoList,r=VO(t,i),a=0;a<n.length;a++){var o=n[a],s=i.panelId;if(s){if(o.panelId===s)return o}else for(var l=0;l<zO.length;l++)if(zO[l](r,o))return o}return!0},e}();function Cb(e){return e[0]>e[1]&&e.reverse(),e}function VO(e,i){return Kd(e,i,{includeMainTypes:gK})}var mK={grid:function(e,i){var t=e.xAxisModels,n=e.yAxisModels,r=e.gridModels,a=Mt(),o={},s={};!t&&!n&&!r||(U(t,function(l){var c=l.axis.grid.model;a.set(c.id,c),o[c.id]=!0}),U(n,function(l){var c=l.axis.grid.model;a.set(c.id,c),s[c.id]=!0}),U(r,function(l){a.set(l.id,l),o[l.id]=!0,s[l.id]=!0}),a.each(function(l){var u=[];U(l.coordinateSystem.getCartesians(),function(h,f){(oe(t,h.getAxis("x").model)>=0||oe(n,h.getAxis("y").model)>=0)&&u.push(h)}),i.push({panelId:"grid--"+l.id,gridModel:l,coordSysModel:l,coordSys:u[0],coordSyses:u,getPanelRect:NO.grid,xAxisDeclared:o[l.id],yAxisDeclared:s[l.id]})}))},geo:function(e,i){U(e.geoModels,function(t){var n=t.coordinateSystem;i.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:n,coordSyses:[n],getPanelRect:NO.geo})})}},zO=[function(e,i){var t=e.xAxisModel,n=e.yAxisModel,r=e.gridModel;return!r&&t&&(r=t.axis.grid.model),!r&&n&&(r=n.axis.grid.model),r&&r===i.gridModel},function(e,i){var t=e.geoModel;return t&&t===i.geoModel}],NO={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,i=e.getBoundingRect().clone();return i.applyTransform(tu(e)),i}},Sb={lineX:jt(GO,0),lineY:jt(GO,1),rect:function(e,i,t,n){var r=e?i.pointToData([t[0][0],t[1][0]],n):i.dataToPoint([t[0][0],t[1][0]],n),a=e?i.pointToData([t[0][1],t[1][1]],n):i.dataToPoint([t[0][1],t[1][1]],n),o=[Cb([r[0],a[0]]),Cb([r[1],a[1]])];return{values:o,xyMinMax:o}},polygon:function(e,i,t,n){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:mt(t,function(o){var s=e?i.pointToData(o,n):i.dataToPoint(o,n);return r[0][0]=Math.min(r[0][0],s[0]),r[1][0]=Math.min(r[1][0],s[1]),r[0][1]=Math.max(r[0][1],s[0]),r[1][1]=Math.max(r[1][1],s[1]),s}),xyMinMax:r}}};function GO(e,i,t,n){var r=t.getAxis(["x","y"][e]),a=Cb(mt([0,1],function(s){return i?r.coordToData(r.toLocalCoord(n[s]),!0):r.toGlobalCoord(r.dataToCoord(n[s]))})),o=[];return o[e]=a,o[1-e]=[NaN,NaN],{values:a,xyMinMax:o}}var HO={lineX:jt(WO,0),lineY:jt(WO,1),rect:function(e,i,t){return[[e[0][0]-t[0]*i[0][0],e[0][1]-t[0]*i[0][1]],[e[1][0]-t[1]*i[1][0],e[1][1]-t[1]*i[1][1]]]},polygon:function(e,i,t){return mt(e,function(n,r){return[n[0]-t[0]*i[r][0],n[1]-t[1]*i[r][1]]})}};function WO(e,i,t,n){return[i[0]-n[e]*t[0],i[1]-n[e]*t[1]]}function YO(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}const wb=vK;var Tb=U,_K=function DB(e){return FS+e}("toolbox-dataZoom_"),xK=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ot(i,e),i.prototype.render=function(t,n,r,a){this._brushController||(this._brushController=new I1(r.getZr()),this._brushController.on("brush",Dt(this._onBrush,this)).mount()),function SK(e,i,t,n,r){var a=t._isZoomActive;n&&"takeGlobalCursor"===n.type&&(a="dataZoomSelect"===n.key&&n.dataZoomSelectActive),t._isZoomActive=a,e.setIconStatus("zoom",a?"emphasis":"normal");var s=new wb(Mb(e),i,{include:["grid"]}).makePanelOpts(r,function(l){return l.xAxisDeclared&&!l.yAxisDeclared?"lineX":!l.xAxisDeclared&&l.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(s).enableBrush(!(!a||!s.length)&&{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()})}(t,n,this,a,r),function CK(e,i){e.setIconStatus("back",function dK(e){return bb(e).length}(i)>1?"emphasis":"normal")}(t,n)},i.prototype.onclick=function(t,n,r){bK[r].call(this)},i.prototype.remove=function(t,n){this._brushController&&this._brushController.unmount()},i.prototype.dispose=function(t,n){this._brushController&&this._brushController.dispose()},i.prototype._onBrush=function(t){var n=t.areas;if(t.isEnd&&n.length){var r={},a=this.ecModel;this._brushController.updateCovers([]),new wb(Mb(this.model),a,{include:["grid"]}).matchOutputRanges(n,a,function(c,u,h){if("cartesian2d"===h.type){var f=c.brushType;"rect"===f?(s("x",h,u[0]),s("y",h,u[1])):s({lineX:"x",lineY:"y"}[f],h,u)}}),function cK(e,i){var t=bb(e);RO(i,function(n,r){for(var a=t.length-1;a>=0&&!t[a][r];a--);if(a<0){var s=e.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0];if(s){var l=s.getPercentRange();t[0][r]={dataZoomId:r,start:l[0],end:l[1]}}}}),t.push(i)}(a,r),this._dispatchZoomAction(r)}function s(c,u,h){var f=u.getAxis(c),p=f.model,m=function l(c,u,h){var f;return h.eachComponent({mainType:"dataZoom",subType:"select"},function(p){p.getAxisModel(c,u.componentIndex)&&(f=p)}),f}(c,p,a),b=m.findRepresentativeAxisProxy(p).getMinMaxSpan();(null!=b.minValueSpan||null!=b.maxValueSpan)&&(h=wu(0,h.slice(),f.scale.getExtent(),0,b.minValueSpan,b.maxValueSpan)),m&&(r[m.id]={dataZoomId:m.id,startValue:h[0],endValue:h[1]})}},i.prototype._dispatchZoomAction=function(t){var n=[];Tb(t,function(r,a){n.push(Gt(r))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},i.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},i}(Da),bK={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function uK(e){var i=bb(e),t=i[i.length-1];i.length>1&&i.pop();var n={};return RO(t,function(r,a){for(var o=i.length-1;o>=0;o--)if(r=i[o][a]){n[a]=r;break}}),n}(this.ecModel))}};function Mb(e){var i={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return null==i.xAxisIndex&&null==i.xAxisId&&(i.xAxisIndex="all"),null==i.yAxisIndex&&null==i.yAxisId&&(i.yAxisIndex="all"),i}!function L3(e,i){ti(null==F_.get(e)&&i),F_.set(e,i)}("dataZoom",function(e){var i=e.getComponent("toolbox",0),t=["feature","dataZoom"];if(i&&null!=i.get(t)){var n=i.getModel(t),r=[],o=Kd(e,Mb(n));return Tb(o.xAxisModels,function(l){return s(l,"xAxis","xAxisIndex")}),Tb(o.yAxisModels,function(l){return s(l,"yAxis","yAxisIndex")}),r}function s(l,c,u){var h=l.componentIndex,f={type:"select",$fromToolbox:!0,filterMode:n.get("filterMode",!0)||"filter",id:_K+c+h};f[u]=h,r.push(f)}});const wK=xK;var MK=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.type="tooltip",i.dependencies=["axisPointer"],i.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},i}(Oe);const AK=MK;function XO(e){var i=e.get("confine");return null!=i?!!i:"richText"===e.get("renderMode")}function UO(e){if(Yt.domSupported)for(var i=document.documentElement.style,t=0,n=e.length;t<n;t++)if(e[t]in i)return e[t]}var ZO=UO(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function $O(e,i){if(!e)return i;i=oT(i,!0);var t=e.indexOf(i);return(e=-1===t?i:"-"+e.slice(0,t)+"-"+i).toLowerCase()}var DK=$O(UO(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),Ab=$O(ZO,"transform"),PK="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(Yt.transform3dSupported?"will-change:transform;":"");function jO(e,i,t){var n=e.toFixed(0)+"px",r=i.toFixed(0)+"px";if(!Yt.transformSupported)return t?"top:"+r+";left:"+n+";":[["top",r],["left",n]];var a=Yt.transform3dSupported,o="translate"+(a?"3d":"")+"("+n+","+r+(a?",0":"")+")";return t?"top:0;left:0;"+Ab+":"+o+";":[["top",0],["left",0],[ZO,o]]}function qO(e,i,t,n,r){var a=i&&i.painter;if(t){var o=a&&a.getViewportRoot();o&&function Na(e,i,t,n,r){fl(Yi,i,n,r,!0)&&fl(e,t,Yi[0],Yi[1])}(e,o,t,n,r)}else{e[0]=n,e[1]=r;var s=a&&a.getViewportRootOffset();s&&(e[0]+=s.offsetLeft,e[1]+=s.offsetTop)}e[2]=e[0]/i.getWidth(),e[3]=e[1]/i.getHeight()}var BK=function(){function e(i,t){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,Yt.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var r=this._zr=i.getZr(),a=t.appendTo,o=a&&(Lt(a)?document.querySelector(a):Cn(a)?a:Z(a)&&a(i.getDom()));qO(this._styleCoord,r,o,i.getWidth()/2,i.getHeight()/2),(o||i.getDom()).appendChild(n),this._api=i,this._container=o;var s=this;n.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},n.onmousemove=function(l){if(l=l||window.event,!s._enterable){var c=r.handler;gn(r.painter.getViewportRoot(),l,!0),c.dispatch("mousemove",l)}},n.onmouseleave=function(){s._inContent=!1,s._enterable&&s._show&&s.hideLater(s._hideDelay)}}return e.prototype.update=function(i){if(!this._container){var t=this._api.getDom(),n=function kK(e,i){var t=e.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e);return t?i?t[i]:t:null}(t,"position"),r=t.style;"absolute"!==r.position&&"absolute"!==n&&(r.position="relative")}var a=i.get("alwaysShowContent");a&&this._moveIfResized(),this._alwaysShowContent=a,this.el.className=i.get("className")||""},e.prototype.show=function(i,t){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,r=n.style,a=this._styleCoord;n.innerHTML?r.cssText=PK+function RK(e,i,t){var n=[],r=e.get("transitionDuration"),a=e.get("backgroundColor"),o=e.get("shadowBlur"),s=e.get("shadowColor"),l=e.get("shadowOffsetX"),c=e.get("shadowOffsetY"),u=e.getModel("textStyle"),h=v2(e,"html");return n.push("box-shadow:"+l+"px "+c+"px "+o+"px "+s),i&&r&&n.push(function EK(e,i){var t="cubic-bezier(0.23,1,0.32,1)",n=" "+e/2+"s "+t,r="opacity"+n+",visibility"+n;return i||(n=" "+e+"s "+t,r+=Yt.transformSupported?","+Ab+n:",left"+n+",top"+n),DK+":"+r}(r,t)),a&&n.push("background-color:"+a),U(["width","color","radius"],function(p){var m="border-"+p,b=oT(m),_=e.get(b);null!=_&&n.push(m+":"+_+("color"===p?"":"px"))}),n.push(function FK(e){var i=[],t=e.get("fontSize"),n=e.getTextColor();n&&i.push("color:"+n),i.push("font:"+e.getFont()),t&&i.push("line-height:"+Math.round(3*t/2)+"px");var r=e.get("textShadowColor"),a=e.get("textShadowBlur")||0,o=e.get("textShadowOffsetX")||0,s=e.get("textShadowOffsetY")||0;return r&&a&&i.push("text-shadow:"+o+"px "+s+"px "+a+"px "+r),U(["decoration","align"],function(l){var c=e.get(l);c&&i.push("text-"+l+":"+c)}),i.join(";")}(u)),null!=h&&n.push("padding:"+Lh(h).join("px ")+"px"),n.join(";")+";"}(i,!this._firstShow,this._longHide)+jO(a[0],a[1],!0)+"border-color:"+Xc(t)+";"+(i.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):r.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},e.prototype.setContent=function(i,t,n,r,a){var o=this.el;if(null!=i){var s="";if(Lt(a)&&"item"===n.get("trigger")&&!XO(n)&&(s=function OK(e,i,t){if(!Lt(t)||"inside"===t)return"";var n=e.get("backgroundColor"),r=e.get("borderWidth");i=Xc(i);var c,a=function IK(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"top"}(t),o=Math.max(1.5*Math.round(r),6),s="",l=Ab+":";oe(["left","right"],a)>-1?(s+="top:50%",l+="translateY(-50%) rotate("+(c="left"===a?-225:-45)+"deg)"):(s+="left:50%",l+="translateX(-50%) rotate("+(c="top"===a?225:45)+"deg)");var u=c*Math.PI/180,h=o+r,f=h*Math.abs(Math.cos(u))+h*Math.abs(Math.sin(u)),m=i+" solid "+r+"px;";return'<div style="'+["position:absolute;width:"+o+"px;height:"+o+"px;z-index:-1;",(s+=";"+a+":-"+Math.round(100*((f-Math.SQRT2*r)/2+Math.SQRT2*r-(f-h)/2))/100+"px")+";"+l+";","border-bottom:"+m,"border-right:"+m,"background-color:"+n+";"].join("")+'"></div>'}(n,r,a)),Lt(i))o.innerHTML=i+s;else if(i){o.innerHTML="",yt(i)||(i=[i]);for(var l=0;l<i.length;l++)Cn(i[l])&&i[l].parentNode!==o&&o.appendChild(i[l]);if(s&&o.childNodes.length){var c=document.createElement("div");c.innerHTML=s,o.appendChild(c)}}}else o.innerHTML=""},e.prototype.setEnterable=function(i){this._enterable=i},e.prototype.getSize=function(){var i=this.el;return[i.offsetWidth,i.offsetHeight]},e.prototype.moveTo=function(i,t){var n=this._styleCoord;if(qO(n,this._zr,this._container,i,t),null!=n[0]&&null!=n[1]){var r=this.el.style;U(jO(n[0],n[1]),function(o){r[o[0]]=o[1]})}},e.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){var i=this,t=this.el.style;t.visibility="hidden",t.opacity="0",Yt.transform3dSupported&&(t.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return i._longHide=!0},500)},e.prototype.hideLater=function(i){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(i?(this._hideDelay=i,this._show=!1,this._hideTimeout=setTimeout(Dt(this.hide,this),i)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var i=this.el.parentNode;i&&i.removeChild(this.el),this.el=this._container=null},e}();const VK=BK;var zK=function(){function e(i){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=i.getZr(),QO(this._styleCoord,this._zr,i.getWidth()/2,i.getHeight()/2)}return e.prototype.update=function(i){var t=i.get("alwaysShowContent");t&&this._moveIfResized(),this._alwaysShowContent=t},e.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},e.prototype.setContent=function(i,t,n,r,a){var o=this;Bt(i)&&He(""),this.el&&this._zr.remove(this.el);var s=n.getModel("textStyle");this.el=new Ie({style:{rich:t.richTextStyles,text:i,lineHeight:22,borderWidth:1,borderColor:r,textShadowColor:s.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:v2(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),U(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(c){o.el.style[c]=n.get(c)}),U(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(c){o.el.style[c]=s.get(c)||0}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},e.prototype.setEnterable=function(i){this._enterable=i},e.prototype.getSize=function(){var i=this.el,t=this.el.getBoundingRect(),n=KO(i.style);return[t.width+n.left+n.right,t.height+n.top+n.bottom]},e.prototype.moveTo=function(i,t){var n=this.el;if(n){var r=this._styleCoord;QO(r,this._zr,i,t),i=r[0],t=r[1];var a=n.style,o=jl(a.borderWidth||0),s=KO(a);n.x=i+o+s.left,n.y=t+o+s.top,n.markRedraw()}},e.prototype._moveIfResized=function(){var t=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),t*this._zr.getHeight())},e.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},e.prototype.hideLater=function(i){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(i?(this._hideDelay=i,this._show=!1,this._hideTimeout=setTimeout(Dt(this.hide,this),i)):this.hide())},e.prototype.isShow=function(){return this._show},e.prototype.dispose=function(){this._zr.remove(this.el)},e}();function jl(e){return Math.max(0,e)}function KO(e){var i=jl(e.shadowBlur||0),t=jl(e.shadowOffsetX||0),n=jl(e.shadowOffsetY||0);return{left:jl(i-t),right:jl(i+t),top:jl(i-n),bottom:jl(i+n)}}function QO(e,i,t,n){e[0]=t,e[1]=n,e[2]=e[0]/i.getWidth(),e[3]=e[1]/i.getHeight()}const NK=zK;var GK=new De({shape:{x:-1,y:-1,width:2,height:2}}),HK=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.init=function(t,n){if(!Yt.node&&n.getDom()){var r=t.getComponent("tooltip"),a=this._renderMode=function BB(e){return"auto"===e?Yt.domSupported?"html":"richText":e||"html"}(r.get("renderMode"));this._tooltipContent="richText"===a?new NK(n):new VK(n,{appendTo:r.get("appendToBody",!0)?"body":r.get("appendTo",!0)})}},i.prototype.render=function(t,n,r){if(!Yt.node&&r.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=n,this._api=r;var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?Nh(this,"_updatePosition",50,"fixRate"):Af(this,"_updatePosition")}},i.prototype._initGlobalListener=function(){var n=this._tooltipModel.get("triggerOn");nO("itemTooltip",this._api,Dt(function(r,a,o){"none"!==n&&(n.indexOf(r)>=0?this._tryShow(a,o):"leave"===r&&this._hide(o))},this))},i.prototype._keepShow=function(){var t=this._tooltipModel,n=this._ecModel,r=this._api,a=t.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==a&&"click"!==a){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&o.manuallyShowTip(t,n,r,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},i.prototype.manuallyShowTip=function(t,n,r,a){if(a.from!==this.uid&&!Yt.node&&r.getDom()){var o=JO(a,r);this._ticket="";var s=a.dataByCoordSys,l=function UK(e,i,t){var n=Gy(e).queryOptionMap,r=n.keys()[0];if(r&&"series"!==r){var l,o=Qd(i,r,n.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(o&&(t.getViewOfComponentModel(o).group.traverse(function(c){var u=Jt(c).tooltipConfig;if(u&&u.name===e.name)return l=c,!0}),l))return{componentMainType:r,componentIndex:o.componentIndex,el:l}}}(a,n,r);if(l){var c=l.el.getBoundingRect().clone();c.applyTransform(l.el.transform),this._tryShow({offsetX:c.x+c.width/2,offsetY:c.y+c.height/2,target:l.el,position:a.position,positionDefault:"bottom"},o)}else if(a.tooltip&&null!=a.x&&null!=a.y){var u=GK;u.x=a.x,u.y=a.y,u.update(),Jt(u).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:u},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(null!=a.seriesIndex){if(this._manuallyAxisShowTip(t,n,r,a))return;var h=aO(a,n),f=h.point[0],p=h.point[1];null!=f&&null!=p&&this._tryShow({offsetX:f,offsetY:p,target:h.el,position:a.position,positionDefault:"bottom"},o)}else null!=a.x&&null!=a.y&&(r.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:r.getZr().findHover(a.x,a.y).target},o))}},i.prototype.manuallyHideTip=function(t,n,r,a){this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(JO(a,r))},i.prototype._manuallyAxisShowTip=function(t,n,r,a){var o=a.seriesIndex,s=a.dataIndex,l=n.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=s&&null!=l){var c=n.getSeriesByIndex(o);if(c&&"axis"===_p([c.getData().getItemModel(s),c,(c.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return r.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:s,position:a.position}),!0}},i.prototype._tryShow=function(t,n){var r=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var o=t.dataByCoordSys;if(o&&o.length)this._showAxisTooltip(o,t);else if(r){var l,c;if("legend"===Jt(r).ssrType)return;this._lastDataByCoordSys=null,eu(r,function(u){return null!=Jt(u).dataIndex?(l=u,!0):null!=Jt(u).tooltipConfig?(c=u,!0):void 0},!0),l?this._showSeriesItemTooltip(t,l,n):c?this._showComponentItemTooltip(t,c,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},i.prototype._showOrMove=function(t,n){var r=t.get("showDelay");n=Dt(n,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(n,r):n()},i.prototype._showAxisTooltip=function(t,n){var r=this._ecModel,a=this._tooltipModel,o=[n.offsetX,n.offsetY],s=_p([n.tooltipOption],a),l=this._renderMode,c=[],u=un("section",{blocks:[],noHeader:!0}),h=[],f=new Q_;U(t,function(T){U(T.dataByAxis,function(A){var P=r.getComponent(A.axisDim+"Axis",A.axisIndex),F=A.value;if(P&&null!=F){var O=KI(F,P.axis,r,A.seriesDataIndices,A.valueLabelOpt),V=un("section",{header:O,noHeader:!Ci(O),sortBlocks:!0,blocks:[]});u.blocks.push(V),U(A.seriesDataIndices,function(N){var G=r.getSeriesByIndex(N.seriesIndex),H=N.dataIndexInside,X=G.getDataParams(H);if(!(X.dataIndex<0)){X.axisDim=A.axisDim,X.axisIndex=A.axisIndex,X.axisType=A.axisType,X.axisId=A.axisId,X.axisValue=mx(P.axis,{value:F}),X.axisValueLabel=O,X.marker=f.makeTooltipMarker("item",Xc(X.color),l);var q=$T(G.formatTooltip(H,!0,null)),j=q.frag;if(j){var J=_p([G],a).get("valueFormatter");V.blocks.push(J?ft({valueFormatter:J},j):j)}q.text&&h.push(q.text),c.push(X)}})}})}),u.blocks.reverse(),h.reverse();var p=n.position,m=s.get("order"),b=f2(u,f,l,m,r.get("useUTC"),s.get("textStyle"));b&&h.unshift(b);var w=h.join("richText"===l?"\n\n":"<br/>");this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,c)?this._updatePosition(s,p,o[0],o[1],this._tooltipContent,c):this._showTooltipContent(s,w,c,Math.random()+"",o[0],o[1],p,null,f)})},i.prototype._showSeriesItemTooltip=function(t,n,r){var a=this._ecModel,o=Jt(n),s=o.seriesIndex,l=a.getSeriesByIndex(s),c=o.dataModel||l,u=o.dataIndex,h=o.dataType,f=c.getData(h),p=this._renderMode,m=t.positionDefault,b=_p([f.getItemModel(u),c,l&&(l.coordinateSystem||{}).model],this._tooltipModel,m?{position:m}:null),_=b.get("trigger");if(null==_||"item"===_){var w=c.getDataParams(u,h),T=new Q_;w.marker=T.makeTooltipMarker("item",Xc(w.color),p);var A=$T(c.formatTooltip(u,!1,h)),P=b.get("order"),F=b.get("valueFormatter"),O=A.frag,V=O?f2(F?ft({valueFormatter:F},O):O,T,p,P,a.get("useUTC"),b.get("textStyle")):A.text,N="item_"+c.name+"_"+u;this._showOrMove(b,function(){this._showTooltipContent(b,V,w,N,t.offsetX,t.offsetY,t.position,t.target,T)}),r({type:"showTip",dataIndexInside:u,dataIndex:f.getRawIndex(u),seriesIndex:s,from:this.uid})}},i.prototype._showComponentItemTooltip=function(t,n,r){var a="html"===this._renderMode,o=Jt(n),l=o.tooltipConfig.option||{},c=l.encodeHTMLContent;Lt(l)&&(l={content:l,formatter:l},c=!0),c&&a&&l.content&&((l=Gt(l)).content=Fi(l.content));var h=[l],f=this._ecModel.getComponent(o.componentMainType,o.componentIndex);f&&h.push(f),h.push({formatter:l.content});var p=t.positionDefault,m=_p(h,this._tooltipModel,p?{position:p}:null),b=m.get("content"),_=Math.random()+"",w=new Q_;this._showOrMove(m,function(){var T=Gt(m.get("formatterParams")||{});this._showTooltipContent(m,b,T,_,t.offsetX,t.offsetY,t.position,n,w)}),r({type:"showTip",from:this.uid})},i.prototype._showTooltipContent=function(t,n,r,a,o,s,l,c,u){if(this._ticket="",t.get("showContent")&&t.get("show")){var h=this._tooltipContent;h.setEnterable(t.get("enterable"));var f=t.get("formatter");l=l||t.get("position");var p=n,b=this._getNearestPoint([o,s],r,t.get("trigger"),t.get("borderColor")).color;if(f)if(Lt(f)){var _=t.ecModel.get("useUTC"),w=yt(r)?r[0]:r;p=f,w&&w.axisType&&w.axisType.indexOf("time")>=0&&(p=wg(w.axisValue,p,_)),p=lT(p,r,!0)}else if(Z(f)){var A=Dt(function(P,F){P===this._ticket&&(h.setContent(F,u,t,b,l),this._updatePosition(t,l,o,s,h,r,c))},this);this._ticket=a,p=f(r,a,A)}else p=f;h.setContent(p,u,t,b,l),h.show(t,b),this._updatePosition(t,l,o,s,h,r,c)}},i.prototype._getNearestPoint=function(t,n,r,a){return"axis"===r||yt(n)?{color:a||("html"===this._renderMode?"#fff":"none")}:yt(n)?void 0:{color:a||n.color||n.borderColor}},i.prototype._updatePosition=function(t,n,r,a,o,s,l){var c=this._api.getWidth(),u=this._api.getHeight();n=n||t.get("position");var h=o.getSize(),f=t.get("align"),p=t.get("verticalAlign"),m=l&&l.getBoundingRect().clone();if(l&&m.applyTransform(l.transform),Z(n)&&(n=n([r,a],s,o.el,m,{viewSize:[c,u],contentSize:h.slice()})),yt(n))r=At(n[0],c),a=At(n[1],u);else if(Bt(n)){var b=n;b.width=h[0],b.height=h[1];var _=qi(b,{width:c,height:u});r=_.x,a=_.y,f=null,p=null}else if(Lt(n)&&l){var w=function XK(e,i,t,n){var r=t[0],a=t[1],o=Math.ceil(Math.SQRT2*n)+8,s=0,l=0,c=i.width,u=i.height;switch(e){case"inside":s=i.x+c/2-r/2,l=i.y+u/2-a/2;break;case"top":s=i.x+c/2-r/2,l=i.y-a-o;break;case"bottom":s=i.x+c/2-r/2,l=i.y+u+o;break;case"left":s=i.x-r-o,l=i.y+u/2-a/2;break;case"right":s=i.x+c+o,l=i.y+u/2-a/2}return[s,l]}(n,m,h,t.get("borderWidth"));r=w[0],a=w[1]}else w=function WK(e,i,t,n,r,a,o){var s=t.getSize(),l=s[0],c=s[1];return null!=a&&(e+l+a+2>n?e-=l+a:e+=a),null!=o&&(i+c+o>r?i-=c+o:i+=o),[e,i]}(r,a,o,c,u,f?null:20,p?null:20),r=w[0],a=w[1];f&&(r-=tE(f)?h[0]/2:"right"===f?h[0]:0),p&&(a-=tE(p)?h[1]/2:"bottom"===p?h[1]:0),XO(t)&&(w=function YK(e,i,t,n,r){var a=t.getSize(),o=a[0],s=a[1];return e=Math.min(e+o,n)-o,i=Math.min(i+s,r)-s,[e=Math.max(e,0),i=Math.max(i,0)]}(r,a,o,c,u),r=w[0],a=w[1]),o.moveTo(r,a)},i.prototype._updateContentNotChangedOnAxis=function(t,n){var r=this._lastDataByCoordSys,a=this._cbParamsList,o=!!r&&r.length===t.length;return o&&U(r,function(s,l){var c=s.dataByAxis||[],h=(t[l]||{}).dataByAxis||[];(o=o&&c.length===h.length)&&U(c,function(f,p){var m=h[p]||{},b=f.seriesDataIndices||[],_=m.seriesDataIndices||[];(o=o&&f.value===m.value&&f.axisType===m.axisType&&f.axisId===m.axisId&&b.length===_.length)&&U(b,function(w,T){var A=_[T];o=o&&w.seriesIndex===A.seriesIndex&&w.dataIndex===A.dataIndex}),a&&U(f.seriesDataIndices,function(w){var T=w.seriesIndex,A=n[T],P=a[T];A&&P&&P.data!==A.data&&(o=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=n,!!o},i.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},i.prototype.dispose=function(t,n){Yt.node||!n.getDom()||(Af(this,"_updatePosition"),this._tooltipContent.dispose(),lb("itemTooltip",n))},i.type="tooltip",i}(Mi);function _p(e,i,t){var r,n=i.ecModel;t?(r=new ai(t,n,n),r=new ai(i.option,r,n)):r=i;for(var a=e.length-1;a>=0;a--){var o=e[a];o&&(o instanceof ai&&(o=o.get("tooltip",!0)),Lt(o)&&(o={formatter:o}),o&&(r=new ai(o,r,n)))}return r}function JO(e,i){return e.dispatchAction||Dt(i.dispatchAction,i)}function tE(e){return"center"===e||"middle"===e}const ZK=HK;var jK=["rect","polygon","keep","clear"];function qK(e,i){var t=je(e?e.brush:[]);if(t.length){var n=[];U(t,function(l){var c=l.hasOwnProperty("toolbox")?l.toolbox:[];c instanceof Array&&(n=n.concat(c))});var r=e&&e.toolbox;yt(r)&&(r=r[0]),r||(e.toolbox=[r={feature:{}}]);var a=r.feature||(r.feature={}),o=a.brush||(a.brush={}),s=o.type||(o.type=[]);s.push.apply(s,n),function KK(e){var i={};U(e,function(t){i[t]=1}),e.length=0,U(i,function(t,n){e.push(n)})}(s),i&&!s.length&&s.push.apply(s,jK)}}var eE=U;function iE(e){if(e)for(var i in e)if(e.hasOwnProperty(i))return!0}function Lb(e,i,t){var n={};return eE(i,function(a){var o=n[a]=function r(){var a=function(){};return a.prototype.__hidden=a.prototype,new a}();eE(e[a],function(s,l){if(Fn.isValidType(l)){var c={type:l,visual:s};t&&t(c,a),o[l]=new Fn(c),"opacity"===l&&((c=Gt(c)).type="colorAlpha",o.__hidden.__alphaForOpacity=new Fn(c))}})}),n}function nE(e,i,t){var n;U(t,function(r){i.hasOwnProperty(r)&&iE(i[r])&&(n=!0)}),n&&U(t,function(r){i.hasOwnProperty(r)&&iE(i[r])?e[r]=Gt(i[r]):delete e[r]})}var rE={lineX:aE(0),lineY:aE(1),rect:{point:function(e,i,t){return e&&t.boundingRect.contain(e[0],e[1])},rect:function(e,i,t){return e&&t.boundingRect.intersect(e)}},polygon:{point:function(e,i,t){return e&&t.boundingRect.contain(e[0],e[1])&&yu(t.range,e[0],e[1])},rect:function(e,i,t){var n=t.range;if(!e||n.length<=1)return!1;var r=e.x,a=e.y,o=e.width,s=e.height,l=n[0];return!!(yu(n,r,a)||yu(n,r+o,a)||yu(n,r,a+s)||yu(n,r+o,a+s)||$t.create(e).contain(l[0],l[1])||Mf(r,a,r+o,a,n)||Mf(r,a,r,a+s,n)||Mf(r+o,a,r+o,a+s,n)||Mf(r,a+s,r+o,a+s,n))||void 0}}};function aE(e){var i=["x","y"],t=["width","height"];return{point:function(n,r,a){if(n)return xp(n[e],a.range)},rect:function(n,r,a){if(n){var o=a.range,s=[n[i[e]],n[i[e]]+n[t[e]]];return s[1]<s[0]&&s.reverse(),xp(s[0],o)||xp(s[1],o)||xp(o[0],s)||xp(o[1],s)}}}}function xp(e,i){return i[0]<=e&&e<=i[1]}var oE=["inBrush","outOfBrush"],kb="__ecBrushSelect",Db="__ecInBrushSelectEvent";function sE(e){e.eachComponent({mainType:"brush"},function(i){(i.brushTargetManager=new wb(i.option,e)).setInputRanges(i.areas,e)})}function eQ(e,i,t){var r,a,n=[];e.eachComponent({mainType:"brush"},function(o){t&&"takeGlobalCursor"===t.type&&o.setBrushOption("brush"===t.key?t.brushOption:{brushType:!1})}),sE(e),e.eachComponent({mainType:"brush"},function(o,s){var l={brushId:o.id,brushIndex:s,brushName:o.name,areas:Gt(o.areas),selected:[]};n.push(l);var c=o.option,u=c.brushLink,h=[],f=[],p=[],m=!1;s||(r=c.throttleType,a=c.throttleDelay);var b=mt(o.areas,function(F){var O=aQ[F.brushType],V=Rt({boundingRect:O?O(F):void 0},F);return V.selectors=function tQ(e){var i=e.brushType,t={point:function(n){return rE[i].point(n,t,e)},rect:function(n){return rE[i].rect(n,t,e)}};return t}(V),V}),_=Lb(o.option,oE,function(F){F.mappingMethod="fixed"});function w(F){return"all"===u||!!h[F]}function T(F){return!!F.length}yt(u)&&U(u,function(F){h[F]=1}),e.eachSeries(function(F,O){var V=p[O]=[];"parallel"===F.subType?function A(F,O){var V=F.coordinateSystem;m=m||V.hasAxisBrushed(),w(O)&&V.eachActiveState(F.getData(),function(N,G){"active"===N&&(f[G]=1)})}(F,O):function P(F,O,V){if(F.brushSelector&&!function rQ(e,i){var t=e.option.seriesIndex;return null!=t&&"all"!==t&&(yt(t)?oe(t,i)<0:i!==t)}(o,O)&&(U(b,function(G){o.brushTargetManager.controlSeries(G,F,e)&&V.push(G),m=m||T(V)}),w(O)&&T(V))){var N=F.getData();N.each(function(G){lE(F,V,N,G)&&(f[G]=1)})}}(F,O,V)}),e.eachSeries(function(F,O){var V={seriesId:F.id,seriesIndex:O,seriesName:F.name,dataIndex:[]};l.selected.push(V);var N=p[O],G=F.getData(),H=w(O)?function(X){return f[X]?(V.dataIndex.push(G.getRawIndex(X)),"inBrush"):"outOfBrush"}:function(X){return lE(F,N,G,X)?(V.dataIndex.push(G.getRawIndex(X)),"inBrush"):"outOfBrush"};(w(O)?m:T(N))&&function QK(e,i,t,n,r,a){var s,o={};function l(h){return g0(t,s,h)}function c(h,f){gM(t,s,h,f)}function u(h,f){var p=t.getRawDataItem(s=null==a?h:f);if(!p||!1!==p.visualMap)for(var m=n.call(r,h),b=i[m],_=o[m],w=0,T=_.length;w<T;w++){var A=_[w];b[A]&&b[A].applyVisual(h,l,c)}}U(e,function(h){var f=Fn.prepareVisualTypes(i[h]);o[h]=f}),null==a?t.each(u):t.each([a],u)}(oE,_,G,H)})}),function iQ(e,i,t,n,r){if(r){var a=e.getZr();a[Db]||(a[kb]||(a[kb]=nQ),Nh(a,kb,t,i)(e,n))}}(i,r,a,n,t)}function nQ(e,i){if(!e.isDisposed()){var t=e.getZr();t[Db]=!0,e.dispatchAction({type:"brushSelect",batch:i}),t[Db]=!1}}function lE(e,i,t,n){for(var r=0,a=i.length;r<a;r++){var o=i[r];if(e.brushSelector(n,t,o.selectors,o))return!0}}var aQ={rect:function(e){return cE(e.range)},polygon:function(e){for(var i,t=e.range,n=0,r=t.length;n<r;n++){var a=t[n];a[0]<(i=i||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(i[0][0]=a[0]),a[0]>i[0][1]&&(i[0][1]=a[0]),a[1]<i[1][0]&&(i[1][0]=a[1]),a[1]>i[1][1]&&(i[1][1]=a[1])}return i&&cE(i)}};function cE(e){return new $t(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var oQ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.init=function(t,n){this.ecModel=t,this.api=n,(this._brushController=new I1(n.getZr())).on("brush",Dt(this._onBrush,this)).mount()},i.prototype.render=function(t,n,r,a){this.model=t,this._updateController(t,n,r,a)},i.prototype.updateTransform=function(t,n,r,a){sE(n),this._updateController(t,n,r,a)},i.prototype.updateVisual=function(t,n,r,a){this.updateTransform(t,n,r,a)},i.prototype.updateView=function(t,n,r,a){this._updateController(t,n,r,a)},i.prototype._updateController=function(t,n,r,a){(!a||a.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(r)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},i.prototype.dispose=function(){this._brushController.dispose()},i.prototype._onBrush=function(t){var n=this.model.id,r=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:Gt(r),$from:n}),t.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:n,areas:Gt(r),$from:n})},i.type="brush",i}(Mi);const sQ=oQ;var cQ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.areas=[],t.brushOption={},t}return ot(i,e),i.prototype.optionUpdated=function(t,n){var r=this.option;!n&&nE(r,t,["inBrush","outOfBrush"]);var a=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:"#ddd"},a.hasOwnProperty("liftZ")||(a.liftZ=5)},i.prototype.setAreas=function(t){t&&(this.areas=mt(t,function(n){return uE(this.option,n)},this))},i.prototype.setBrushOption=function(t){this.brushOption=uE(this.option,t),this.brushType=this.brushOption.brushType},i.type="brush",i.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],i.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},i}(Oe);function uE(e,i){return ie({brushType:e.brushType,brushMode:e.brushMode,transformable:e.transformable,brushStyle:new ai(e.brushStyle).getItemStyle(),removeOnClick:e.removeOnClick,z:e.z},i,!0)}const uQ=cQ;var hQ=["rect","polygon","lineX","lineY","keep","clear"],dQ=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return ot(i,e),i.prototype.render=function(t,n,r){var a,o,s;n.eachComponent({mainType:"brush"},function(l){a=l.brushType,o=l.brushOption.brushMode||"single",s=s||!!l.areas.length}),this._brushType=a,this._brushMode=o,U(t.get("type",!0),function(l){t.setIconStatus(l,("keep"===l?"multiple"===o:"clear"===l?s:l===a)?"emphasis":"normal")})},i.prototype.updateView=function(t,n,r){this.render(t,n,r)},i.prototype.getIcons=function(){var t=this.model,n=t.get("icon",!0),r={};return U(t.get("type",!0),function(a){n[a]&&(r[a]=n[a])}),r},i.prototype.onclick=function(t,n,r){var a=this._brushType,o=this._brushMode;"clear"===r?(n.dispatchAction({type:"axisAreaSelect",intervals:[]}),n.dispatchAction({type:"brush",command:"clear",areas:[]})):n.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===r?a:a!==r&&r,brushMode:"keep"===r?"multiple"===o?"single":"multiple":o}})},i.getDefaultOption=function(t){return{show:!0,type:hQ.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:t.getLocaleModel().get(["toolbox","brush","title"])}},i}(Da);const fQ=dQ;var gQ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.layoutMode={type:"box",ignoreSize:!0},t}return ot(i,e),i.type="title",i.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},i}(Oe),vQ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.render=function(t,n,r){if(this.group.removeAll(),t.get("show")){var a=this.group,o=t.getModel("textStyle"),s=t.getModel("subtextStyle"),l=t.get("textAlign"),c=qt(t.get("textBaseline"),t.get("textVerticalAlign")),u=new Ie({style:ri(o,{text:t.get("text"),fill:o.getTextColor()},{disableBox:!0}),z2:10}),h=u.getBoundingRect(),f=t.get("subtext"),p=new Ie({style:ri(s,{text:f,fill:s.getTextColor(),y:h.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),m=t.get("link"),b=t.get("sublink"),_=t.get("triggerEvent",!0);u.silent=!m&&!_,p.silent=!b&&!_,m&&u.on("click",function(){kg(m,"_"+t.get("target"))}),b&&p.on("click",function(){kg(b,"_"+t.get("subtarget"))}),Jt(u).eventData=Jt(p).eventData=_?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(u),f&&a.add(p);var w=a.getBoundingRect(),T=t.getBoxLayoutParams();T.width=w.width,T.height=w.height;var A=qi(T,{width:r.getWidth(),height:r.getHeight()},t.get("padding"));l||("middle"===(l=t.get("left")||t.get("right"))&&(l="center"),"right"===l?A.x+=A.width:"center"===l&&(A.x+=A.width/2)),c||("center"===(c=t.get("top")||t.get("bottom"))&&(c="middle"),"bottom"===c?A.y+=A.height:"middle"===c&&(A.y+=A.height/2),c=c||"top"),a.x=A.x,a.y=A.y,a.markRedraw();var P={align:l,verticalAlign:c};u.setStyle(P),p.setStyle(P),w=a.getBoundingRect();var F=A.margin,O=t.getItemStyle(["color","opacity"]);O.fill=t.get("backgroundColor");var V=new De({shape:{x:w.x-F[3],y:w.y-F[0],width:w.width+F[1]+F[3],height:w.height+F[0]+F[2],r:t.get("borderRadius")},style:O,subPixelOptimize:!0,silent:!0});a.add(V)}},i.type="title",i}(Mi),yQ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.layoutMode="box",t}return ot(i,e),i.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r),this._initData()},i.prototype.mergeOption=function(t){e.prototype.mergeOption.apply(this,arguments),this._initData()},i.prototype.setCurrentIndex=function(t){null==t&&(t=this.option.currentIndex);var n=this._data.count();this.option.loop?t=(t%n+n)%n:(t>=n&&(t=n-1),t<0&&(t=0)),this.option.currentIndex=t},i.prototype.getCurrentIndex=function(){return this.option.currentIndex},i.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},i.prototype.setPlayState=function(t){this.option.autoPlay=!!t},i.prototype.getPlayState=function(){return!!this.option.autoPlay},i.prototype._initData=function(){var o,t=this.option,n=t.data||[],r=t.axisType,a=this._names=[];"category"===r?(o=[],U(n,function(c,u){var f,h=ji(mh(c),"");Bt(c)?(f=Gt(c)).value=u:f=u,o.push(f),a.push(h)})):o=n,(this._data=new dr([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[r]||"number"}],this)).initData(o,a)},i.prototype.getData=function(){return this._data},i.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},i.type="timeline",i.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},i}(Oe);const hE=yQ;var dE=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.type="timeline.slider",i.defaultOption=kl(hE.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),i}(hE);It(dE,Eg.prototype);const _Q=dE;var xQ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.type="timeline",i}(Mi);const bQ=xQ;var CQ=function(e){function i(t,n,r,a){var o=e.call(this,t,n,r)||this;return o.type=a||"value",o}return ot(i,e),i.prototype.getLabelModel=function(){return this.model.getModel("label")},i.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},i}(po);const SQ=CQ;var Pb=Math.PI,fE=Le(),wQ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.init=function(t,n){this.api=n},i.prototype.render=function(t,n,r){if(this.model=t,this.api=r,this.ecModel=n,this.group.removeAll(),t.get("show",!0)){var a=this._layout(t,r),o=this._createGroup("_mainGroup"),s=this._createGroup("_labelGroup"),l=this._axis=this._createAxis(a,t);t.formatTooltip=function(c){return un("nameValue",{noName:!0,value:l.scale.getLabel({value:c})})},U(["AxisLine","AxisTick","Control","CurrentPointer"],function(c){this["_render"+c](a,o,l,t)},this),this._renderAxisLabel(a,s,l,t),this._position(a,t)}this._doPlayStop(),this._updateTicksStatus()},i.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},i.prototype.dispose=function(){this._clearTimer()},i.prototype._layout=function(t,n){var s,r=t.get(["label","position"]),a=t.get("orient"),o=function MQ(e,i){return qi(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},e.get("padding"))}(t,n),l={horizontal:"center",vertical:(s=null==r||"auto"===r?"horizontal"===a?o.y+o.height/2<n.getHeight()/2?"-":"+":o.x+o.width/2<n.getWidth()/2?"+":"-":Lt(r)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][r]:r)>=0||"+"===s?"left":"right"},c={horizontal:s>=0||"+"===s?"top":"bottom",vertical:"middle"},u={horizontal:0,vertical:Pb/2},h="vertical"===a?o.height:o.width,f=t.getModel("controlStyle"),p=f.get("show",!0),m=p?f.get("itemSize"):0,b=p?f.get("itemGap"):0,_=m+b,w=t.get(["label","rotate"])||0;w=w*Pb/180;var T,A,P,F=f.get("position",!0),O=p&&f.get("showPlayBtn",!0),V=p&&f.get("showPrevBtn",!0),N=p&&f.get("showNextBtn",!0),G=0,H=h;"left"===F||"bottom"===F?(O&&(T=[0,0],G+=_),V&&(A=[G,0],G+=_),N&&(P=[H-m,0],H-=_)):(O&&(T=[H-m,0],H-=_),V&&(A=[0,0],G+=_),N&&(P=[H-m,0],H-=_));var X=[G,H];return t.get("inverse")&&X.reverse(),{viewRect:o,mainLength:h,orient:a,rotation:u[a],labelRotation:w,labelPosOpt:s,labelAlign:t.get(["label","align"])||l[a],labelBaseline:t.get(["label","verticalAlign"])||t.get(["label","baseline"])||c[a],playPosition:T,prevBtnPosition:A,nextBtnPosition:P,axisExtent:X,controlSize:m,controlGap:b}},i.prototype._position=function(t,n){var r=this._mainGroup,a=this._labelGroup,o=t.viewRect;if("vertical"===t.orient){var s=[1,0,0,1,0,0],l=o.x,c=o.y+o.height;mr(s,s,[-l,-c]),Ri(s,s,-Pb/2),mr(s,s,[l,c]),(o=o.clone()).applyTransform(s)}var u=T(o),h=T(r.getBoundingRect()),f=T(a.getBoundingRect()),p=[r.x,r.y],m=[a.x,a.y];m[0]=p[0]=u[0][0];var _,b=t.labelPosOpt;function w(P){P.originX=u[0][0]-P.x,P.originY=u[1][0]-P.y}function T(P){return[[P.x,P.x+P.width],[P.y,P.y+P.height]]}function A(P,F,O,V,N){P[V]+=O[V][N]-F[V][N]}null==b||Lt(b)?(A(p,h,u,1,_="+"===b?0:1),A(m,f,u,1,1-_)):(A(p,h,u,1,_=b>=0?0:1),m[1]=p[1]+b),r.setPosition(p),a.setPosition(m),r.rotation=a.rotation=t.rotation,w(r),w(a)},i.prototype._createAxis=function(t,n){var r=n.getData(),a=n.get("axisType"),o=function TQ(e,i){if(i=i||e.get("type"))switch(i){case"category":return new gx({ordinalMeta:e.getCategories(),extent:[1/0,-1/0]});case"time":return new tk({locale:e.ecModel.getLocaleModel(),useUTC:e.ecModel.get("useUTC")});default:return new Hl}}(n,a);o.getTicks=function(){return r.mapArray(["value"],function(c){return{value:c}})};var s=r.getDataExtent("value");o.setExtent(s[0],s[1]),o.calcNiceTicks();var l=new SQ("value",o,t.axisExtent,a);return l.model=n,l},i.prototype._createGroup=function(t){var n=this[t]=new Kt;return this.group.add(n),n},i.prototype._renderAxisLine=function(t,n,r,a){var o=r.getExtent();if(a.get(["lineStyle","show"])){var s=new yn({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:ft({lineCap:"round"},a.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});n.add(s);var l=this._progressLine=new yn({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:Rt({lineCap:"round",lineWidth:s.style.lineWidth},a.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});n.add(l)}},i.prototype._renderAxisTick=function(t,n,r,a){var o=this,s=a.getData(),l=r.scale.getTicks();this._tickSymbols=[],U(l,function(c){var u=r.dataToCoord(c.value),h=s.getItemModel(c.value),f=h.getModel("itemStyle"),p=h.getModel(["emphasis","itemStyle"]),m=h.getModel(["progress","itemStyle"]),b={x:u,y:0,onclick:Dt(o._changeTimeline,o,c.value)},_=pE(h,f,n,b);_.ensureState("emphasis").style=p.getItemStyle(),_.ensureState("progress").style=m.getItemStyle(),Hc(_);var w=Jt(_);h.get("tooltip")?(w.dataIndex=c.value,w.dataModel=a):w.dataIndex=w.dataModel=null,o._tickSymbols.push(_)})},i.prototype._renderAxisLabel=function(t,n,r,a){var o=this;if(r.getLabelModel().get("show")){var l=a.getData(),c=r.getViewLabels();this._tickLabels=[],U(c,function(u){var h=u.tickValue,f=l.getItemModel(h),p=f.getModel("label"),m=f.getModel(["emphasis","label"]),b=f.getModel(["progress","label"]),_=r.dataToCoord(u.tickValue),w=new Ie({x:_,y:0,rotation:t.labelRotation-t.rotation,onclick:Dt(o._changeTimeline,o,h),silent:!1,style:ri(p,{text:u.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});w.ensureState("emphasis").style=ri(m),w.ensureState("progress").style=ri(b),n.add(w),Hc(w),fE(w).dataIndex=h,o._tickLabels.push(w)})}},i.prototype._renderControl=function(t,n,r,a){var o=t.controlSize,s=t.rotation,l=a.getModel("controlStyle").getItemStyle(),c=a.getModel(["emphasis","controlStyle"]).getItemStyle(),u=a.getPlayState(),h=a.get("inverse",!0);function f(p,m,b,_){if(p){var w=no(qt(a.get(["controlStyle",m+"BtnSize"]),o),o),A=function AQ(e,i,t,n){var r=n.style,a=Tf(e.get(["controlStyle",i]),n||{},new $t(t[0],t[1],t[2],t[3]));return r&&a.setStyle(r),a}(a,m+"Icon",[0,-w/2,w,w],{x:p[0],y:p[1],originX:o/2,originY:0,rotation:_?-s:0,rectHover:!0,style:l,onclick:b});A.ensureState("emphasis").style=c,n.add(A),Hc(A)}}f(t.nextBtnPosition,"next",Dt(this._changeTimeline,this,h?"-":"+")),f(t.prevBtnPosition,"prev",Dt(this._changeTimeline,this,h?"+":"-")),f(t.playPosition,u?"stop":"play",Dt(this._handlePlayClick,this,!u),!0)},i.prototype._renderCurrentPointer=function(t,n,r,a){var o=a.getData(),s=a.getCurrentIndex(),l=o.getItemModel(s).getModel("checkpointStyle"),c=this;this._currentPointer=pE(l,l,this._mainGroup,{},this._currentPointer,{onCreate:function(h){h.draggable=!0,h.drift=Dt(c._handlePointerDrag,c),h.ondragend=Dt(c._handlePointerDragend,c),gE(h,c._progressLine,s,r,a,!0)},onUpdate:function(h){gE(h,c._progressLine,s,r,a)}})},i.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},i.prototype._handlePointerDrag=function(t,n,r){this._clearTimer(),this._pointerChangeTimeline([r.offsetX,r.offsetY])},i.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},i.prototype._pointerChangeTimeline=function(t,n){var r=this._toAxisCoord(t)[0],o=va(this._axis.getExtent().slice());r>o[1]&&(r=o[1]),r<o[0]&&(r=o[0]),this._currentPointer.x=r,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=r,s.dirty());var l=this._findNearestTick(r),c=this.model;(n||l!==c.getCurrentIndex()&&c.get("realtime"))&&this._changeTimeline(l)},i.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=t.model;t._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},i.prototype._toAxisCoord=function(t){return lo(t,this._mainGroup.getLocalTransform(),!0)},i.prototype._findNearestTick=function(t){var a,n=this.model.getData(),r=1/0,o=this._axis;return n.each(["value"],function(s,l){var c=o.dataToCoord(s),u=Math.abs(c-t);u<r&&(r=u,a=l)}),a},i.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},i.prototype._changeTimeline=function(t){var n=this.model.getCurrentIndex();"+"===t?t=n+1:"-"===t&&(t=n-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})},i.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),n=this._tickSymbols,r=this._tickLabels;if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState("progress",a<t);if(r)for(a=0;a<r.length;a++)r&&r[a]&&r[a].toggleState("progress",fE(r[a]).dataIndex<=t)},i.type="timeline.slider",i}(bQ);function pE(e,i,t,n,r,a){var o=i.get("color");r?(r.setColor(o),t.add(r),a&&a.onUpdate(r)):((r=Gi(e.get("symbol"),-1,-1,2,2,o)).setStyle("strokeNoScale",!0),t.add(r),a&&a.onCreate(r));var l=i.getItemStyle(["color"]);r.setStyle(l),n=ie({rectHover:!0,z2:100},n,!0);var c=Hh(e.get("symbolSize"));n.scaleX=c[0]/2,n.scaleY=c[1]/2;var u=iu(e.get("symbolOffset"),c);u&&(n.x=(n.x||0)+u[0],n.y=(n.y||0)+u[1]);var h=e.get("symbolRotate");return n.rotation=(h||0)*Math.PI/180||0,r.attr(n),r.updateTransform(),r}function gE(e,i,t,n,r,a){if(!e.dragging){var o=r.getModel("checkpointStyle"),s=n.dataToCoord(r.getData().get("value",t));if(a||!o.get("animation",!0))e.attr({x:s,y:0}),i&&i.attr({shape:{x2:s}});else{var l={duration:o.get("animationDuration",!0),easing:o.get("animationEasing",!0)};e.stopAnimation(null,!0),e.animateTo({x:s,y:0},l),i&&i.animateTo({shape:{x2:s}},l)}}}const LQ=wQ;function DQ(e){var i=e&&e.timeline;yt(i)||(i=i?[i]:[]),U(i,function(t){t&&function PQ(e){var i=e.type,t={number:"value",time:"time"};if(t[i]&&(e.axisType=t[i],delete e.type),vE(e),ku(e,"controlPosition")){var n=e.controlStyle||(e.controlStyle={});ku(n,"position")||(n.position=e.controlPosition),"none"===n.position&&!ku(n,"show")&&(n.show=!1,delete n.position),delete e.controlPosition}U(e.data||[],function(r){Bt(r)&&!yt(r)&&(!ku(r,"value")&&ku(r,"name")&&(r.value=r.name),vE(r))})}(t)})}function vE(e){var i=e.itemStyle||(e.itemStyle={}),t=i.emphasis||(i.emphasis={}),n=e.label||e.label||{},r=n.normal||(n.normal={}),a={normal:1,emphasis:1};U(n,function(o,s){!a[s]&&!ku(r,s)&&(r[s]=o)}),t.label&&!ku(n,"emphasis")&&(n.emphasis=t.label,delete t.label)}function ku(e,i){return e.hasOwnProperty(i)}function Ib(e,i){if(!e)return!1;for(var t=yt(e)?e:[e],n=0;n<t.length;n++)if(t[n]&&t[n][i])return!0;return!1}function _m(e){Lc(e,"label",["show"])}var xm=Le(),mE=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.createdBySelf=!1,t}return ot(i,e),i.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r),this._mergeOption(t,r,!1,!0)},i.prototype.isAnimationEnabled=function(){if(Yt.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},i.prototype.mergeOption=function(t,n){this._mergeOption(t,n,!1,!1)},i.prototype._mergeOption=function(t,n,r,a){var o=this.mainType;r||n.eachSeries(function(s){var l=s.get(this.mainType,!0),c=xm(s)[o];l&&l.data?(c?c._mergeOption(l,n,!0):(a&&_m(l),U(l.data,function(u){u instanceof Array?(_m(u[0]),_m(u[1])):_m(u)}),ft(c=this.createMarkerModelFromSeries(l,this,n),{mainType:this.mainType,seriesIndex:s.seriesIndex,name:s.name,createdBySelf:!0}),c.__hostSeries=s),xm(s)[o]=c):xm(s)[o]=null},this)},i.prototype.formatTooltip=function(t,n,r){var a=this.getData(),o=this.getRawValue(t),s=a.getName(t);return un("section",{header:this.name,blocks:[un("nameValue",{name:s,value:o,noName:!s,noValue:null==o})]})},i.prototype.getData=function(){return this._data},i.prototype.setData=function(t){this._data=t},i.prototype.getDataParams=function(t,n){var r=Eg.prototype.getDataParams.call(this,t,n),a=this.__hostSeries;return a&&(r.seriesId=a.id,r.seriesName=a.name,r.seriesType=a.subType),r},i.getMarkerModelFromSeries=function(t,n){return xm(t)[n]},i.type="marker",i.dependencies=["series","grid","polar","geo"],i}(Oe);It(mE,Eg.prototype);const ql=mE;var OQ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.createMarkerModelFromSeries=function(t,n,r){return new i(t,n,r)},i.type="markPoint",i.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},i}(ql);const EQ=OQ;function Ob(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function bm(e,i,t,n,r,a){var o=[],l=Vl(i,n)?i.getCalculationInfo("stackResultDimension"):n,c=Fb(i,l,e),u=i.indicesOfNearest(l,c)[0];o[r]=i.get(t,u),o[a]=i.get(l,u);var h=i.get(n,u),f=Vo(i.get(n,u));return(f=Math.min(f,20))>=0&&(o[a]=+o[a].toFixed(f)),[o,h]}var Eb={min:jt(bm,"min"),max:jt(bm,"max"),average:jt(bm,"average"),median:jt(bm,"median")};function bp(e,i){if(i){var t=e.getData(),n=e.coordinateSystem,r=n&&n.dimensions;if(!function FQ(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}(i)&&!yt(i.coord)&&yt(r)){var a=yE(i,t,n,e);if((i=Gt(i)).type&&Eb[i.type]&&a.baseAxis&&a.valueAxis){var o=oe(r,a.baseAxis.dim),s=oe(r,a.valueAxis.dim),l=Eb[i.type](t,a.baseDataDim,a.valueDataDim,o,s);i.coord=l[0],i.value=l[1]}else i.coord=[null!=i.xAxis?i.xAxis:i.radiusAxis,null!=i.yAxis?i.yAxis:i.angleAxis]}if(null!=i.coord&&yt(r))for(var c=i.coord,u=0;u<2;u++)Eb[c[u]]&&(c[u]=Fb(t,t.mapDimension(r[u]),c[u]));else i.coord=[];return i}}function yE(e,i,t,n){var r={};return null!=e.valueIndex||null!=e.valueDim?(r.valueDataDim=null!=e.valueIndex?i.getDimension(e.valueIndex):e.valueDim,r.valueAxis=t.getAxis(function RQ(e,i){var t=e.getData().getDimensionInfo(i);return t&&t.coordDim}(n,r.valueDataDim)),r.baseAxis=t.getOtherAxis(r.valueAxis),r.baseDataDim=i.mapDimension(r.baseAxis.dim)):(r.baseAxis=n.getBaseAxis(),r.valueAxis=t.getOtherAxis(r.baseAxis),r.baseDataDim=i.mapDimension(r.baseAxis.dim),r.valueDataDim=i.mapDimension(r.valueAxis.dim)),r}function Cp(e,i){return!(e&&e.containData&&i.coord&&!Ob(i))||e.containData(i.coord)}function _E(e,i){return e?function(t,n,r,a){return Il(a<2?t.coord&&t.coord[a]:t.value,i[a])}:function(t,n,r,a){return Il(t.value,i[a])}}function Fb(e,i,t){if("average"===t){var n=0,r=0;return e.each(i,function(a,o){isNaN(a)||(n+=a,r++)}),n/r}return"median"===t?e.getMedian(i):e.getDataExtent(i)["max"===t?1:0]}var Rb=Le(),VQ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.init=function(){this.markerGroupMap=Mt()},i.prototype.render=function(t,n,r){var a=this,o=this.markerGroupMap;o.each(function(s){Rb(s).keep=!1}),n.eachSeries(function(s){var l=ql.getMarkerModelFromSeries(s,a.type);l&&a.renderSeries(s,l,n,r)}),o.each(function(s){!Rb(s).keep&&a.group.remove(s.group)})},i.prototype.markKeep=function(t){Rb(t).keep=!0},i.prototype.toggleBlurSeries=function(t,n){var r=this;U(t,function(a){var o=ql.getMarkerModelFromSeries(a,r.type);o&&o.getData().eachItemGraphicEl(function(l){l&&(n?Aw(l):d_(l))})})},i.type="marker",i}(Mi);const Bb=VQ;function xE(e,i,t){var n=i.coordinateSystem;e.each(function(r){var o,a=e.getItemModel(r),s=At(a.get("x"),t.getWidth()),l=At(a.get("y"),t.getHeight());if(isNaN(s)||isNaN(l)){if(i.getMarkerPosition)o=i.getMarkerPosition(e.getValues(e.dimensions,r));else if(n){var c=e.get(n.dimensions[0],r),u=e.get(n.dimensions[1],r);o=n.dataToPoint([c,u])}}else o=[s,l];isNaN(s)||(o[0]=s),isNaN(l)||(o[1]=l),e.setItemLayout(r,o)})}var zQ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.updateTransform=function(t,n,r){n.eachSeries(function(a){var o=ql.getMarkerModelFromSeries(a,"markPoint");o&&(xE(o.getData(),a,r),this.markerGroupMap.get(a.id).updateLayout())},this)},i.prototype.renderSeries=function(t,n,r,a){var o=t.coordinateSystem,s=t.id,l=t.getData(),c=this.markerGroupMap,u=c.get(s)||c.set(s,new Xf),h=function NQ(e,i,t){var n;n=e?mt(e&&e.dimensions,function(s){return ft(ft({},i.getData().getDimensionInfo(i.getData().mapDimension(s))||{}),{name:s,ordinalMeta:null})}):[{name:"value",type:"float"}];var r=new dr(n,t),a=mt(t.get("data"),jt(bp,i));e&&(a=ve(a,jt(Cp,e)));var o=_E(!!e,n);return r.initData(a,null,o),r}(o,t,n);n.setData(h),xE(n.getData(),t,a),h.each(function(f){var p=h.getItemModel(f),m=p.getShallow("symbol"),b=p.getShallow("symbolSize"),_=p.getShallow("symbolRotate"),w=p.getShallow("symbolOffset"),T=p.getShallow("symbolKeepAspect");if(Z(m)||Z(b)||Z(_)||Z(w)){var A=n.getRawValue(f),P=n.getDataParams(f);Z(m)&&(m=m(A,P)),Z(b)&&(b=b(A,P)),Z(_)&&(_=_(A,P)),Z(w)&&(w=w(A,P))}var F=p.getModel("itemStyle").getItemStyle(),O=Df(l,"color");F.fill||(F.fill=O),h.setItemVisual(f,{symbol:m,symbolSize:b,symbolRotate:_,symbolOffset:w,symbolKeepAspect:T,style:F})}),u.updateData(h),this.group.add(u.group),h.eachItemGraphicEl(function(f){f.traverse(function(p){Jt(p).dataModel=n})}),this.markKeep(u),u.group.silent=n.get("silent")||t.get("silent")},i.type="markPoint",i}(Bb);const GQ=zQ;var WQ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.createMarkerModelFromSeries=function(t,n,r){return new i(t,n,r)},i.type="markLine",i.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},i}(ql);const YQ=WQ;var Cm=Le(),XQ=function(e,i,t,n){var a,r=e.getData();if(yt(n))a=n;else{var o=n.type;if("min"===o||"max"===o||"average"===o||"median"===o||null!=n.xAxis||null!=n.yAxis){var s=void 0,l=void 0;if(null!=n.yAxis||null!=n.xAxis)s=i.getAxis(null!=n.yAxis?"y":"x"),l=hi(n.yAxis,n.xAxis);else{var c=yE(n,r,i,e);s=c.valueAxis,l=Fb(r,tL(r,c.valueDataDim),o)}var h="x"===s.dim?0:1,f=1-h,p=Gt(n),m={coord:[]};p.type=null,p.coord=[],p.coord[f]=-1/0,m.coord[f]=1/0;var b=t.get("precision");b>=0&&_e(l)&&(l=+l.toFixed(Math.min(b,20))),p.coord[h]=m.coord[h]=l,a=[p,m,{type:o,valueIndex:n.valueIndex,value:l}]}else a=[]}var _=[bp(e,a[0]),bp(e,a[1]),ft({},a[2])];return _[2].type=_[2].type||null,ie(_[2],_[0]),ie(_[2],_[1]),_};function Sm(e){return!isNaN(e)&&!isFinite(e)}function bE(e,i,t,n){var r=1-e,a=n.dimensions[e];return Sm(i[r])&&Sm(t[r])&&i[e]===t[e]&&n.getAxis(a).containData(i[e])}function UQ(e,i){if("cartesian2d"===e.type){var t=i[0].coord,n=i[1].coord;if(t&&n&&(bE(1,t,n,e)||bE(0,t,n,e)))return!0}return Cp(e,i[0])&&Cp(e,i[1])}function Vb(e,i,t,n,r){var s,a=n.coordinateSystem,o=e.getItemModel(i),l=At(o.get("x"),r.getWidth()),c=At(o.get("y"),r.getHeight());if(isNaN(l)||isNaN(c)){if(n.getMarkerPosition)s=n.getMarkerPosition(e.getValues(e.dimensions,i));else{var h=e.get((u=a.dimensions)[0],i),f=e.get(u[1],i);s=a.dataToPoint([h,f])}if(fu(a,"cartesian2d")){var u,p=a.getAxis("x"),m=a.getAxis("y");Sm(e.get((u=a.dimensions)[0],i))?s[0]=p.toGlobalCoord(p.getExtent()[t?0:1]):Sm(e.get(u[1],i))&&(s[1]=m.toGlobalCoord(m.getExtent()[t?0:1]))}isNaN(l)||(s[0]=l),isNaN(c)||(s[1]=c)}else s=[l,c];e.setItemLayout(i,s)}var ZQ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.updateTransform=function(t,n,r){n.eachSeries(function(a){var o=ql.getMarkerModelFromSeries(a,"markLine");if(o){var s=o.getData(),l=Cm(o).from,c=Cm(o).to;l.each(function(u){Vb(l,u,!0,a,r),Vb(c,u,!1,a,r)}),s.each(function(u){s.setItemLayout(u,[l.getItemLayout(u),c.getItemLayout(u)])}),this.markerGroupMap.get(a.id).updateLayout()}},this)},i.prototype.renderSeries=function(t,n,r,a){var o=t.coordinateSystem,s=t.id,l=t.getData(),c=this.markerGroupMap,u=c.get(s)||c.set(s,new d1);this.group.add(u.group);var h=function $Q(e,i,t){var n;n=e?mt(e&&e.dimensions,function(c){return ft(ft({},i.getData().getDimensionInfo(i.getData().mapDimension(c))||{}),{name:c,ordinalMeta:null})}):[{name:"value",type:"float"}];var r=new dr(n,t),a=new dr(n,t),o=new dr([],t),s=mt(t.get("data"),jt(XQ,i,e,t));e&&(s=ve(s,jt(UQ,e)));var l=_E(!!e,n);return r.initData(mt(s,function(c){return c[0]}),null,l),a.initData(mt(s,function(c){return c[1]}),null,l),o.initData(mt(s,function(c){return c[2]})),o.hasItemOption=!0,{from:r,to:a,line:o}}(o,t,n),f=h.from,p=h.to,m=h.line;Cm(n).from=f,Cm(n).to=p,n.setData(m);var b=n.get("symbol"),_=n.get("symbolSize"),w=n.get("symbolRotate"),T=n.get("symbolOffset");function A(P,F,O){var V=P.getItemModel(F);Vb(P,F,O,t,a);var N=V.getModel("itemStyle").getItemStyle();null==N.fill&&(N.fill=Df(l,"color")),P.setItemVisual(F,{symbolKeepAspect:V.get("symbolKeepAspect"),symbolOffset:qt(V.get("symbolOffset",!0),T[O?0:1]),symbolRotate:qt(V.get("symbolRotate",!0),w[O?0:1]),symbolSize:qt(V.get("symbolSize"),_[O?0:1]),symbol:qt(V.get("symbol",!0),b[O?0:1]),style:N})}yt(b)||(b=[b,b]),yt(_)||(_=[_,_]),yt(w)||(w=[w,w]),yt(T)||(T=[T,T]),h.from.each(function(P){A(f,P,!0),A(p,P,!1)}),m.each(function(P){var F=m.getItemModel(P).getModel("lineStyle").getLineStyle();m.setItemLayout(P,[f.getItemLayout(P),p.getItemLayout(P)]),null==F.stroke&&(F.stroke=f.getItemVisual(P,"style").fill),m.setItemVisual(P,{fromSymbolKeepAspect:f.getItemVisual(P,"symbolKeepAspect"),fromSymbolOffset:f.getItemVisual(P,"symbolOffset"),fromSymbolRotate:f.getItemVisual(P,"symbolRotate"),fromSymbolSize:f.getItemVisual(P,"symbolSize"),fromSymbol:f.getItemVisual(P,"symbol"),toSymbolKeepAspect:p.getItemVisual(P,"symbolKeepAspect"),toSymbolOffset:p.getItemVisual(P,"symbolOffset"),toSymbolRotate:p.getItemVisual(P,"symbolRotate"),toSymbolSize:p.getItemVisual(P,"symbolSize"),toSymbol:p.getItemVisual(P,"symbol"),style:F})}),u.updateData(m),h.line.eachItemGraphicEl(function(P){Jt(P).dataModel=n,P.traverse(function(F){Jt(F).dataModel=n})}),this.markKeep(u),u.group.silent=n.get("silent")||t.get("silent")},i.type="markLine",i}(Bb);const jQ=ZQ;var KQ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.createMarkerModelFromSeries=function(t,n,r){return new i(t,n,r)},i.type="markArea",i.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},i}(ql);const QQ=KQ;var wm=Le(),JQ=function(e,i,t,n){var r=n[0],a=n[1];if(r&&a){var o=bp(e,r),s=bp(e,a),l=o.coord,c=s.coord;l[0]=hi(l[0],-1/0),l[1]=hi(l[1],-1/0),c[0]=hi(c[0],1/0),c[1]=hi(c[1],1/0);var u=nn([{},o,s]);return u.coord=[o.coord,s.coord],u.x0=o.x,u.y0=o.y,u.x1=s.x,u.y1=s.y,u}};function Tm(e){return!isNaN(e)&&!isFinite(e)}function CE(e,i,t,n){var r=1-e;return Tm(i[r])&&Tm(t[r])}function tJ(e,i){var t=i.coord[0],n=i.coord[1],r={coord:t,x:i.x0,y:i.y0},a={coord:n,x:i.x1,y:i.y1};return fu(e,"cartesian2d")?!(!t||!n||!CE(1,t,n)&&!CE(0,t,n))||function BQ(e,i,t){return!(e&&e.containZone&&i.coord&&t.coord&&!Ob(i)&&!Ob(t))||e.containZone(i.coord,t.coord)}(e,r,a):Cp(e,r)||Cp(e,a)}function SE(e,i,t,n,r){var s,a=n.coordinateSystem,o=e.getItemModel(i),l=At(o.get(t[0]),r.getWidth()),c=At(o.get(t[1]),r.getHeight());if(isNaN(l)||isNaN(c)){if(n.getMarkerPosition){var u=e.getValues(["x0","y0"],i),h=e.getValues(["x1","y1"],i),f=a.clampData(u),p=a.clampData(h),m=[];m[0]="x0"===t[0]?f[0]>p[0]?h[0]:u[0]:f[0]>p[0]?u[0]:h[0],m[1]="y0"===t[1]?f[1]>p[1]?h[1]:u[1]:f[1]>p[1]?u[1]:h[1],s=n.getMarkerPosition(m,t,!0)}else{var w=[b=e.get(t[0],i),_=e.get(t[1],i)];a.clampData&&a.clampData(w,w),s=a.dataToPoint(w,!0)}if(fu(a,"cartesian2d")){var T=a.getAxis("x"),A=a.getAxis("y"),b=e.get(t[0],i),_=e.get(t[1],i);Tm(b)?s[0]=T.toGlobalCoord(T.getExtent()["x0"===t[0]?0:1]):Tm(_)&&(s[1]=A.toGlobalCoord(A.getExtent()["y0"===t[1]?0:1]))}isNaN(l)||(s[0]=l),isNaN(c)||(s[1]=c)}else s=[l,c];return s}var wE=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],eJ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.updateTransform=function(t,n,r){n.eachSeries(function(a){var o=ql.getMarkerModelFromSeries(a,"markArea");if(o){var s=o.getData();s.each(function(l){var c=mt(wE,function(h){return SE(s,l,h,a,r)});s.setItemLayout(l,c),s.getItemGraphicEl(l).setShape("points",c)})}},this)},i.prototype.renderSeries=function(t,n,r,a){var o=t.coordinateSystem,s=t.id,l=t.getData(),c=this.markerGroupMap,u=c.get(s)||c.set(s,{group:new Kt});this.group.add(u.group),this.markKeep(u);var h=function iJ(e,i,t){var n,r;if(e){var o=mt(e&&e.dimensions,function(c){var u=i.getData();return ft(ft({},u.getDimensionInfo(u.mapDimension(c))||{}),{name:c,ordinalMeta:null})});r=mt(["x0","y0","x1","y1"],function(c,u){return{name:c,type:o[u%2].type}}),n=new dr(r,t)}else n=new dr(r=[{name:"value",type:"float"}],t);var s=mt(t.get("data"),jt(JQ,i,e,t));e&&(s=ve(s,jt(tJ,e)));var l=e?function(c,u,h,f){return Il(c.coord[Math.floor(f/2)][f%2],r[f])}:function(c,u,h,f){return Il(c.value,r[f])};return n.initData(s,null,l),n.hasItemOption=!0,n}(o,t,n);n.setData(h),h.each(function(f){var p=mt(wE,function(N){return SE(h,f,N,t,a)}),m=o.getAxis("x").scale,b=o.getAxis("y").scale,_=m.getExtent(),w=b.getExtent(),T=[m.parse(h.get("x0",f)),m.parse(h.get("x1",f))],A=[b.parse(h.get("y0",f)),b.parse(h.get("y1",f))];va(T),va(A),h.setItemLayout(f,{points:p,allClipped:!!(_[0]>T[1]||_[1]<T[0]||w[0]>A[1]||w[1]<A[0])});var O=h.getItemModel(f).getModel("itemStyle").getItemStyle(),V=Df(l,"color");O.fill||(O.fill=V,Lt(O.fill)&&(O.fill=to(O.fill,.4))),O.stroke||(O.stroke=V),h.setItemVisual(f,"style",O)}),h.diff(wm(u).data).add(function(f){var p=h.getItemLayout(f);if(!p.allClipped){var m=new Dr({shape:{points:p.points}});h.setItemGraphicEl(f,m),u.group.add(m)}}).update(function(f,p){var m=wm(u).data.getItemGraphicEl(p),b=h.getItemLayout(f);b.allClipped?m&&u.group.remove(m):(m?Ve(m,{shape:{points:b.points}},n,f):m=new Dr({shape:{points:b.points}}),h.setItemGraphicEl(f,m),u.group.add(m))}).remove(function(f){var p=wm(u).data.getItemGraphicEl(f);u.group.remove(p)}).execute(),h.eachItemGraphicEl(function(f,p){var m=h.getItemModel(p),b=h.getItemVisual(p,"style");f.useStyle(h.getItemVisual(p,"style")),On(f,cn(m),{labelFetcher:n,labelDataIndex:p,defaultText:h.getName(p)||"",inheritColor:Lt(b.fill)?to(b.fill,1):"#000"}),In(f,m),Ti(f,null,null,m.get(["emphasis","disabled"])),Jt(f).dataModel=n}),wm(u).data=h,u.group.silent=n.get("silent")||t.get("silent")},i.type="markArea",i}(Bb);const nJ=eJ;var oJ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.layoutMode={type:"box",ignoreSize:!0},t}return ot(i,e),i.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r),t.selected=t.selected||{},this._updateSelector(t)},i.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),this._updateSelector(t)},i.prototype._updateSelector=function(t){var n=t.selector,r=this.ecModel;!0===n&&(n=t.selector=["all","inverse"]),yt(n)&&U(n,function(a,o){Lt(a)&&(a={type:a}),n[o]=ie(a,function(e,i){return"all"===i?{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])}:"inverse"===i?{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(r,a.type))})},i.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var n=!1,r=0;r<t.length;r++){var a=t[r].get("name");if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(t[0].get("name"))}},i.prototype._updateData=function(t){var n=[],r=[];t.eachRawSeries(function(l){var u;if(r.push(l.name),l.legendVisualProvider){var f=l.legendVisualProvider.getAllNames();t.isSeriesFiltered(l)||(r=r.concat(f)),f.length?n=n.concat(f):u=!0}else u=!0;u&&Ny(l)&&n.push(l.name)}),this._availableNames=r;var a=this.get("data")||n,o=Mt(),s=mt(a,function(l){return(Lt(l)||_e(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new ai(l,this,this.ecModel))},this);this._data=ve(s,function(l){return!!l})},i.prototype.getData=function(){return this._data},i.prototype.select=function(t){var n=this.option.selected;"single"===this.get("selectedMode")&&U(this._data,function(o){n[o.get("name")]=!1}),n[t]=!0},i.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},i.prototype.toggleSelected=function(t){var n=this.option.selected;n.hasOwnProperty(t)||(n[t]=!0),this[n[t]?"unSelect":"select"](t)},i.prototype.allSelect=function(){var n=this.option.selected;U(this._data,function(r){n[r.get("name",!0)]=!0})},i.prototype.inverseSelect=function(){var n=this.option.selected;U(this._data,function(r){var a=r.get("name",!0);n.hasOwnProperty(a)||(n[a]=!0),n[a]=!n[a]})},i.prototype.isSelected=function(t){var n=this.option.selected;return!(n.hasOwnProperty(t)&&!n[t])&&oe(this._availableNames,t)>=0},i.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},i.type="legend.plain",i.dependencies=["series"],i.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},i}(Oe);const zb=oJ;var hd=jt,Nb=U,Mm=Kt,sJ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.newlineDisabled=!1,t}return ot(i,e),i.prototype.init=function(){this.group.add(this._contentGroup=new Mm),this.group.add(this._selectorGroup=new Mm),this._isFirstRender=!0},i.prototype.getContentGroup=function(){return this._contentGroup},i.prototype.getSelectorGroup=function(){return this._selectorGroup},i.prototype.render=function(t,n,r){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var o=t.get("align"),s=t.get("orient");(!o||"auto"===o)&&(o="right"===t.get("left")&&"vertical"===s?"right":"left");var l=t.get("selector",!0),c=t.get("selectorPosition",!0);l&&(!c||"auto"===c)&&(c="horizontal"===s?"end":"start"),this.renderInner(o,t,n,r,l,s,c);var u=t.getBoxLayoutParams(),h={width:r.getWidth(),height:r.getHeight()},f=t.get("padding"),p=qi(u,h,f),m=this.layoutInner(t,o,p,a,l,c),b=qi(Rt({width:m.width,height:m.height},u),h,f);this.group.x=b.x-m.x,this.group.y=b.y-m.y,this.group.markRedraw(),this.group.add(this._backgroundEl=OO(m,t))}},i.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},i.prototype.renderInner=function(t,n,r,a,o,s,l){var c=this.getContentGroup(),u=Mt(),h=n.get("selectedMode"),f=[];r.eachRawSeries(function(p){!p.get("legendHoverLink")&&f.push(p.id)}),Nb(n.getData(),function(p,m){var b=p.get("name");if(!this.newlineDisabled&&(""===b||"\n"===b)){var _=new Mm;return _.newline=!0,void c.add(_)}var w=r.getSeriesByName(b)[0];if(!u.get(b))if(w){var T=w.getData(),A=T.getVisual("legendLineStyle")||{},P=T.getVisual("legendIcon"),F=T.getVisual("style"),O=this._createItem(w,b,m,p,n,t,A,F,P,h,a);O.on("click",hd(TE,b,null,a,f)).on("mouseover",hd(Gb,w.name,null,a,f)).on("mouseout",hd(Hb,w.name,null,a,f)),r.ssr&&O.eachChild(function(V){var N=Jt(V);N.seriesIndex=w.seriesIndex,N.dataIndex=m,N.ssrType="legend"}),u.set(b,!0)}else r.eachRawSeries(function(V){if(!u.get(b)&&V.legendVisualProvider){var N=V.legendVisualProvider;if(!N.containName(b))return;var G=N.indexOfName(b),H=N.getItemVisual(G,"style"),X=N.getItemVisual(G,"legendIcon"),q=Dn(H.fill);q&&0===q[3]&&(q[3]=.2,H=ft(ft({},H),{fill:wr(q,"rgba")}));var j=this._createItem(V,b,m,p,n,t,{},H,X,h,a);j.on("click",hd(TE,null,b,a,f)).on("mouseover",hd(Gb,null,b,a,f)).on("mouseout",hd(Hb,null,b,a,f)),r.ssr&&j.eachChild(function(J){var tt=Jt(J);tt.seriesIndex=V.seriesIndex,tt.dataIndex=m,tt.ssrType="legend"}),u.set(b,!0)}},this)},this),o&&this._createSelector(o,n,a,s,l)},i.prototype._createSelector=function(t,n,r,a,o){var s=this.getSelectorGroup();Nb(t,function(c){var u=c.type,h=new Ie({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:"all"===u?"legendAllSelect":"legendInverseSelect"})}});s.add(h),On(h,{normal:n.getModel("selectorLabel"),emphasis:n.getModel(["emphasis","selectorLabel"])},{defaultText:c.title}),Hc(h)})},i.prototype._createItem=function(t,n,r,a,o,s,l,c,u,h,f){var p=t.visualDrawType,m=o.get("itemWidth"),b=o.get("itemHeight"),_=o.isSelected(n),w=a.get("symbolRotate"),T=a.get("symbolKeepAspect"),A=a.get("icon"),P=function lJ(e,i,t,n,r,a,o){function s(_,w){"auto"===_.lineWidth&&(_.lineWidth=w.lineWidth>0?2:0),Nb(_,function(T,A){"inherit"===_[A]&&(_[A]=w[A])})}var l=i.getModel("itemStyle"),c=l.getItemStyle(),u=0===e.lastIndexOf("empty",0)?"fill":"stroke",h=l.getShallow("decal");c.decal=h&&"inherit"!==h?Yh(h,o):n.decal,"inherit"===c.fill&&(c.fill=n[r]),"inherit"===c.stroke&&(c.stroke=n[u]),"inherit"===c.opacity&&(c.opacity=("fill"===r?n:t).opacity),s(c,n);var f=i.getModel("lineStyle"),p=f.getLineStyle();if(s(p,t),"auto"===c.fill&&(c.fill=n.fill),"auto"===c.stroke&&(c.stroke=n.fill),"auto"===p.stroke&&(p.stroke=n.fill),!a){var m=i.get("inactiveBorderWidth");c.lineWidth="auto"===m?n.lineWidth>0&&c[u]?2:0:c.lineWidth,c.fill=i.get("inactiveColor"),c.stroke=i.get("inactiveBorderColor"),p.stroke=f.get("inactiveColor"),p.lineWidth=f.get("inactiveWidth")}return{itemStyle:c,lineStyle:p}}(u=A||u||"roundRect",a,l,c,p,_,f),F=new Mm,O=a.getModel("textStyle");if(!Z(t.getLegendIcon)||A&&"inherit"!==A){var V="inherit"===A&&t.getData().getVisual("symbol")?"inherit"===w?t.getData().getVisual("symbolRotate"):w:0;F.add(function cJ(e){var i=e.icon||"roundRect",t=Gi(i,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return t.setStyle(e.itemStyle),t.rotation=(e.iconRotate||0)*Math.PI/180,t.setOrigin([e.itemWidth/2,e.itemHeight/2]),i.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}({itemWidth:m,itemHeight:b,icon:u,iconRotate:V,itemStyle:P.itemStyle,lineStyle:P.lineStyle,symbolKeepAspect:T}))}else F.add(t.getLegendIcon({itemWidth:m,itemHeight:b,icon:u,iconRotate:w,itemStyle:P.itemStyle,lineStyle:P.lineStyle,symbolKeepAspect:T}));var N="left"===s?m+5:-5,G=s,H=o.get("formatter"),X=n;Lt(H)&&H?X=H.replace("{name}",n??""):Z(H)&&(X=H(n));var q=_?O.getTextColor():a.get("inactiveColor");F.add(new Ie({style:ri(O,{text:X,x:N,y:b/2,fill:q,align:G,verticalAlign:"middle"},{inheritColor:q})}));var j=new De({shape:F.getBoundingRect(),style:{fill:"transparent"}}),J=a.getModel("tooltip");return J.get("show")&&zh({el:j,componentModel:o,itemName:n,itemTooltipOption:J.option}),F.add(j),F.eachChild(function(tt){tt.silent=!0}),j.silent=!h,this.getContentGroup().add(F),Hc(F),F.__legendDataIndex=r,F},i.prototype.layoutInner=function(t,n,r,a,o,s){var l=this.getContentGroup(),c=this.getSelectorGroup();Zc(t.get("orient"),l,t.get("itemGap"),r.width,r.height);var u=l.getBoundingRect(),h=[-u.x,-u.y];if(c.markRedraw(),l.markRedraw(),o){Zc("horizontal",c,t.get("selectorItemGap",!0));var f=c.getBoundingRect(),p=[-f.x,-f.y],m=t.get("selectorButtonGap",!0),b=t.getOrient().index,_=0===b?"width":"height",w=0===b?"height":"width",T=0===b?"y":"x";"end"===s?p[b]+=u[_]+m:h[b]+=f[_]+m,p[1-b]+=u[w]/2-f[w]/2,c.x=p[0],c.y=p[1],l.x=h[0],l.y=h[1];var A={x:0,y:0};return A[_]=u[_]+m+f[_],A[w]=Math.max(u[w],f[w]),A[T]=Math.min(0,f[T]+p[1-b]),A}return l.x=h[0],l.y=h[1],this.group.getBoundingRect()},i.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},i.type="legend.plain",i}(Mi);function TE(e,i,t,n){Hb(e,i,t,n),t.dispatchAction({type:"legendToggleSelect",name:e??i}),Gb(e,i,t,n)}function ME(e){for(var t,i=e.getZr().storage.getDisplayList(),n=0,r=i.length;n<r&&!(t=i[n].states.emphasis);)n++;return t&&t.hoverLayer}function Gb(e,i,t,n){ME(t)||t.dispatchAction({type:"highlight",seriesName:e,name:i,excludeSeriesId:n})}function Hb(e,i,t,n){ME(t)||t.dispatchAction({type:"downplay",seriesName:e,name:i,excludeSeriesId:n})}const AE=sJ;function uJ(e){var i=e.findComponents({mainType:"legend"});i&&i.length&&e.filterSeries(function(t){for(var n=0;n<i.length;n++)if(!i[n].isSelected(t.name))return!1;return!0})}function Sp(e,i,t){var a,n={},r="toggleSelected"===e;return t.eachComponent("legend",function(o){r&&null!=a?o[a?"select":"unSelect"](i.name):"allSelect"===e||"inverseSelect"===e?o[e]():(o[e](i.name),a=o.isSelected(i.name)),U(o.getData(),function(l){var c=l.get("name");if("\n"!==c&&""!==c){var u=o.isSelected(c);n[c]=n.hasOwnProperty(c)?n[c]&&u:u}})}),"allSelect"===e||"inverseSelect"===e?{selected:n}:{name:i.name,selected:n}}function LE(e){e.registerComponentModel(zb),e.registerComponentView(AE),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,uJ),e.registerSubTypeDefaulter("legend",function(){return"plain"}),function hJ(e){e.registerAction("legendToggleSelect","legendselectchanged",jt(Sp,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",jt(Sp,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",jt(Sp,"inverseSelect")),e.registerAction("legendSelect","legendselected",jt(Sp,"select")),e.registerAction("legendUnSelect","legendunselected",jt(Sp,"unSelect"))}(e)}var dJ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},i.prototype.init=function(t,n,r){var a=kh(t);e.prototype.init.call(this,t,n,r),kE(this,t,a)},i.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),kE(this,this.option,t)},i.type="legend.scroll",i.defaultOption=kl(zb.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),i}(zb);function kE(e,i,t){var r=[1,1];r[e.getOrient().index]=0,Pl(i,t,{type:"box",ignoreSize:!!r})}const fJ=dJ;var DE=Kt,Wb=["width","height"],Yb=["x","y"],pJ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.newlineDisabled=!0,t._currentIndex=0,t}return ot(i,e),i.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new DE),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new DE)},i.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},i.prototype.renderInner=function(t,n,r,a,o,s,l){var c=this;e.prototype.renderInner.call(this,t,n,r,a,o,s,l);var u=this._controllerGroup,h=n.get("pageIconSize",!0),f=yt(h)?h:[h,h];m("pagePrev",0);var p=n.getModel("pageTextStyle");function m(b,_){var w=b+"DataIndex",T=Tf(n.get("pageIcons",!0)[n.getOrient().name][_],{onclick:Dt(c._pageGo,c,w,n,a)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});T.name=b,u.add(T)}u.add(new Ie({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),m("pageNext",1)},i.prototype.layoutInner=function(t,n,r,a,o,s){var l=this.getSelectorGroup(),c=t.getOrient().index,u=Wb[c],h=Yb[c],f=Wb[1-c],p=Yb[1-c];o&&Zc("horizontal",l,t.get("selectorItemGap",!0));var m=t.get("selectorButtonGap",!0),b=l.getBoundingRect(),_=[-b.x,-b.y],w=Gt(r);o&&(w[u]=r[u]-b[u]-m);var T=this._layoutContentAndController(t,a,w,c,u,f,p,h);if(o){if("end"===s)_[c]+=T[u]+m;else{var A=b[u]+m;_[c]-=A,T[h]-=A}T[u]+=b[u]+m,_[1-c]+=T[p]+T[f]/2-b[f]/2,T[f]=Math.max(T[f],b[f]),T[p]=Math.min(T[p],b[p]+_[1-c]),l.x=_[0],l.y=_[1],l.markRedraw()}return T},i.prototype._layoutContentAndController=function(t,n,r,a,o,s,l,c){var u=this.getContentGroup(),h=this._containerGroup,f=this._controllerGroup;Zc(t.get("orient"),u,t.get("itemGap"),a?r.width:null,a?null:r.height),Zc("horizontal",f,t.get("pageButtonItemGap",!0));var p=u.getBoundingRect(),m=f.getBoundingRect(),b=this._showController=p[o]>r[o],_=[-p.x,-p.y];n||(_[a]=u[c]);var w=[0,0],T=[-m.x,-m.y],A=qt(t.get("pageButtonGap",!0),t.get("itemGap",!0));b&&("end"===t.get("pageButtonPosition",!0)?T[a]+=r[o]-m[o]:w[a]+=m[o]+A),T[1-a]+=p[s]/2-m[s]/2,u.setPosition(_),h.setPosition(w),f.setPosition(T);var F={x:0,y:0};if(F[o]=b?r[o]:p[o],F[s]=Math.max(p[s],m[s]),F[l]=Math.min(0,m[l]+T[1-a]),h.__rectSize=r[o],b){var O={x:0,y:0};O[o]=Math.max(r[o]-m[o]-A,0),O[s]=F[s],h.setClipPath(new De({shape:O})),h.__rectSize=O[o]}else f.eachChild(function(N){N.attr({invisible:!0,silent:!0})});var V=this._getPageInfo(t);return null!=V.pageIndex&&Ve(u,{x:V.contentPosition[0],y:V.contentPosition[1]},b?t:null),this._updatePageInfoView(t,V),F},i.prototype._pageGo=function(t,n,r){var a=this._getPageInfo(n)[t];null!=a&&r.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:n.id})},i.prototype._updatePageInfoView=function(t,n){var r=this._controllerGroup;U(["pagePrev","pageNext"],function(u){var f=null!=n[u+"DataIndex"],p=r.childOfName(u);p&&(p.setStyle("fill",t.get(f?"pageIconColor":"pageIconInactiveColor",!0)),p.cursor=f?"pointer":"default")});var a=r.childOfName("pageText"),o=t.get("pageFormatter"),s=n.pageIndex,l=null!=s?s+1:0,c=n.pageCount;a&&o&&a.setStyle("text",Lt(o)?o.replace("{current}",null==l?"":l+"").replace("{total}",null==c?"":c+""):o({current:l,total:c}))},i.prototype._getPageInfo=function(t){var n=t.get("scrollDataIndex",!0),r=this.getContentGroup(),a=this._containerGroup.__rectSize,o=t.getOrient().index,s=Wb[o],l=Yb[o],c=this._findTargetItemIndex(n),u=r.children(),h=u[c],f=u.length,p=f?1:0,m={contentPosition:[r.x,r.y],pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return m;var b=P(h);m.contentPosition[o]=-b.s;for(var _=c+1,w=b,T=b,A=null;_<=f;++_)(!(A=P(u[_]))&&T.e>w.s+a||A&&!F(A,w.s))&&(w=T.i>w.i?T:A)&&(null==m.pageNextDataIndex&&(m.pageNextDataIndex=w.i),++m.pageCount),T=A;for(_=c-1,w=b,T=b,A=null;_>=-1;--_)(!(A=P(u[_]))||!F(T,A.s))&&w.i<T.i&&(T=w,null==m.pagePrevDataIndex&&(m.pagePrevDataIndex=w.i),++m.pageCount,++m.pageIndex),w=A;return m;function P(O){if(O){var V=O.getBoundingRect(),N=V[l]+O[l];return{s:N,e:N+V[s],i:O.__legendDataIndex}}}function F(O,V){return O.e>=V&&O.s<=V+a}},i.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild(function(o,s){var l=o.__legendDataIndex;null==a&&null!=l&&(a=s),l===t&&(n=s)}),n??a):0;var n,a},i.type="legend.scroll",i}(AE);const gJ=pJ;function mJ(e){ue(LE),e.registerComponentModel(fJ),e.registerComponentView(gJ),function vJ(e){e.registerAction("legendScroll","legendscroll",function(i,t){var n=i.scrollDataIndex;null!=n&&t.eachComponent({mainType:"legend",subType:"scroll",query:i},function(r){r.setScrollDataIndex(n)})})}(e)}var _J=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.type="dataZoom.inside",i.defaultOption=kl(yp.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),i}(yp);const xJ=_J;var Xb=Le();function PE(e,i){if(i){e.removeKey(i.model.uid);var t=i.controller;t&&t.dispose()}}function wJ(e,i){e.isDisposed()||e.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:i})}function TJ(e,i,t,n){return e.coordinateSystem.containPoint([t,n])}var LJ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataZoom.inside",t}return ot(i,e),i.prototype.render=function(t,n,r){e.prototype.render.apply(this,arguments),t.noTarget()?this._clear():(this.range=t.getPercentRange(),function bJ(e,i,t){Xb(e).coordSysRecordMap.each(function(n){var r=n.dataZoomInfoMap.get(i.uid);r&&(r.getRange=t)})}(r,t,{pan:Dt(Ub.pan,this),zoom:Dt(Ub.zoom,this),scrollMove:Dt(Ub.scrollMove,this)}))},i.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},i.prototype._clear=function(){(function CJ(e,i){for(var t=Xb(e).coordSysRecordMap,n=t.keys(),r=0;r<n.length;r++){var o=t.get(n[r]),s=o.dataZoomInfoMap;if(s){var l=i.uid;s.get(l)&&(s.removeKey(l),s.keys().length||PE(t,o))}}})(this.api,this.dataZoomModel),this.range=null},i.type="dataZoom.inside",i}(yb),Ub={zoom:function(e,i,t,n){var r=this.range,a=r.slice(),o=e.axisModels[0];if(o){var s=Zb[i](null,[n.originX,n.originY],o,t,e),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(a[1]-a[0])+a[0],c=Math.max(1/n.scale,0);a[0]=(a[0]-l)*c+l,a[1]=(a[1]-l)*c+l;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(wu(0,a,[0,100],0,u.minSpan,u.maxSpan),this.range=a,r[0]!==a[0]||r[1]!==a[1])return a}},pan:IE(function(e,i,t,n,r,a){var o=Zb[n]([a.oldX,a.oldY],[a.newX,a.newY],i,r,t);return o.signal*(e[1]-e[0])*o.pixel/o.pixelLength}),scrollMove:IE(function(e,i,t,n,r,a){return Zb[n]([0,0],[a.scrollDelta,a.scrollDelta],i,r,t).signal*(e[1]-e[0])*a.scrollDelta})};function IE(e){return function(i,t,n,r){var a=this.range,o=a.slice(),s=i.axisModels[0];if(s&&(wu(e(o,s,i,t,n,r),o,[0,100],"all"),this.range=o,a[0]!==o[0]||a[1]!==o[1]))return o}}var Zb={grid:function(e,i,t,n,r){var a=t.axis,o={},s=r.model.coordinateSystem.getRect();return e=e||[0,0],"x"===a.dim?(o.pixel=i[0]-e[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=a.inverse?1:-1):(o.pixel=i[1]-e[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=a.inverse?-1:1),o},polar:function(e,i,t,n,r){var a=t.axis,o={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),c=s.getAngleAxis().getExtent();return e=e?s.pointToCoord(e):[0,0],i=s.pointToCoord(i),"radiusAxis"===t.mainType?(o.pixel=i[0]-e[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=a.inverse?1:-1):(o.pixel=i[1]-e[1],o.pixelLength=c[1]-c[0],o.pixelStart=c[0],o.signal=a.inverse?-1:1),o},singleAxis:function(e,i,t,n,r){var a=t.axis,o=r.model.coordinateSystem.getRect(),s={};return e=e||[0,0],"horizontal"===a.orient?(s.pixel=i[0]-e[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=a.inverse?1:-1):(s.pixel=i[1]-e[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=a.inverse?-1:1),s}};const kJ=LJ;function OE(e){_b(e),e.registerComponentModel(xJ),e.registerComponentView(kJ),function AJ(e){e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,function(i,t){var n=Xb(t),r=n.coordSysRecordMap||(n.coordSysRecordMap=Mt());r.each(function(a){a.dataZoomInfoMap=null}),i.eachComponent({mainType:"dataZoom",subType:"inside"},function(a){U(AO(a).infoList,function(s){var l=s.model.uid,c=r.get(l)||r.set(l,function SJ(e,i){var t={model:i,containsPoint:jt(TJ,i),dispatchAction:jt(wJ,e),dataZoomInfoMap:null,controller:null},n=t.controller=new ep(e.getZr());return U(["pan","zoom","scrollMove"],function(r){n.on(r,function(a){var o=[];t.dataZoomInfoMap.each(function(s){if(a.isAvailableBehavior(s.model.option)){var l=(s.getRange||{})[r],c=l&&l(s.dzReferCoordSysInfo,t.model.mainType,t.controller,a);!s.model.get("disabled",!0)&&c&&o.push({dataZoomId:s.model.id,start:c[0],end:c[1]})}}),o.length&&t.dispatchAction(o)})}),t}(t,s.model));(c.dataZoomInfoMap||(c.dataZoomInfoMap=Mt())).set(a.uid,{dzReferCoordSysInfo:s,model:a,getRange:null})})}),r.each(function(a){var s,o=a.controller,l=a.dataZoomInfoMap;if(l){var c=l.keys()[0];null!=c&&(s=l.get(c))}if(s){var u=function MJ(e){var i,t="type_",n={type_true:2,type_move:1,type_false:0,type_undefined:-1},r=!0;return e.each(function(a){var o=a.model,s=!o.get("disabled",!0)&&(!o.get("zoomLock",!0)||"move");n[t+s]>n[t+i]&&(i=s),r=r&&o.get("preventDefaultMouseMove",!0)}),{controlType:i,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!r}}}(l);o.enable(u.controlType,u.opt),o.setPointerChecker(a.containsPoint),Nh(a,"dispatchAction",s.model.get("throttle",!0),"fixRate")}else PE(r,a)})})}(e)}var DJ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.type="dataZoom.slider",i.layoutMode="box",i.defaultOption=kl(yp.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),i}(yp);const PJ=DJ;var wp=De,Tp="horizontal",FE="vertical",EJ=5,FJ=["line","bar","candlestick","scatter"],RJ={easing:"cubicOut",duration:100,delay:0},BJ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t._displayables={},t}return ot(i,e),i.prototype.init=function(t,n){this.api=n,this._onBrush=Dt(this._onBrush,this),this._onBrushEnd=Dt(this._onBrushEnd,this)},i.prototype.render=function(t,n,r,a){if(e.prototype.render.apply(this,arguments),Nh(this,"_dispatchZoomAction",t.get("throttle"),"fixRate"),this._orient=t.getOrient(),!1!==t.get("show"))return t.noTarget()?(this._clear(),void this.group.removeAll()):((!a||"dataZoom"!==a.type||a.from!==this.uid)&&this._buildView(),void this._updateView());this.group.removeAll()},i.prototype.dispose=function(){this._clear(),e.prototype.dispose.apply(this,arguments)},i.prototype._clear=function(){Af(this,"_dispatchZoomAction");var t=this.api.getZr();t.off("mousemove",this._onBrush),t.off("mouseup",this._onBrushEnd)},i.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new Kt;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(n),this._positionGroup()},i.prototype._resetLocation=function(){var t=this.dataZoomModel,n=this.api,a=t.get("brushSelect")?7:0,o=this._findCoordRect(),s={width:n.getWidth(),height:n.getHeight()},l=this._orient===Tp?{right:s.width-o.x-o.width,top:s.height-30-7-a,width:o.width,height:30}:{right:7,top:o.y,width:30,height:o.height},c=kh(t.option);U(["right","top","width","height"],function(h){"ph"===c[h]&&(c[h]=l[h])});var u=qi(c,s);this._location={x:u.x,y:u.y},this._size=[u.width,u.height],this._orient===FE&&this._size.reverse()},i.prototype._positionGroup=function(){var t=this.group,n=this._location,r=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),o=a&&a.get("inverse"),s=this._displayables.sliderGroup,l=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(r!==Tp||o?r===Tp&&o?{scaleY:l?1:-1,scaleX:-1}:r!==FE||o?{scaleY:l?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:l?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:l?1:-1,scaleX:1});var c=t.getBoundingRect([s]);t.x=n.x-c.x,t.y=n.y-c.y,t.markRedraw()},i.prototype._getViewExtent=function(){return[0,this._size[0]]},i.prototype._renderBackground=function(){var t=this.dataZoomModel,n=this._size,r=this._displayables.sliderGroup,a=t.get("brushSelect");r.add(new wp({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:t.get("backgroundColor")},z2:-40}));var o=new wp({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:"transparent"},z2:0,onclick:Dt(this._onClickPanel,this)}),s=this.api.getZr();a?(o.on("mousedown",this._onBrushStart,this),o.cursor="crosshair",s.on("mousemove",this._onBrush),s.on("mouseup",this._onBrushEnd)):(s.off("mousemove",this._onBrush),s.off("mouseup",this._onBrushEnd)),r.add(o)},i.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],t){var n=this._size,r=this._shadowSize||[],a=t.series,o=a.getRawData(),s=a.getShadowDim&&a.getShadowDim(),l=s&&o.getDimensionInfo(s)?a.getShadowDim():t.otherDim;if(null!=l){var c=this._shadowPolygonPts,u=this._shadowPolylinePts;if(o!==this._shadowData||l!==this._shadowDim||n[0]!==r[0]||n[1]!==r[1]){var h=o.getDataExtent(l),f=.3*(h[1]-h[0]);h=[h[0]-f,h[1]+f];var P,p=[0,n[1]],b=[[n[0],0],[0,0]],_=[],w=n[0]/(o.count()-1),T=0,A=Math.round(o.count()/n[0]);o.each([l],function(G,H){if(A>0&&H%A)T+=w;else{var X=null==G||isNaN(G)||""===G,q=X?0:Xe(G,h,p,!0);X&&!P&&H?(b.push([b[b.length-1][0],0]),_.push([_[_.length-1][0],0])):!X&&P&&(b.push([T,0]),_.push([T,0])),b.push([T,q]),_.push([T,q]),T+=w,P=X}}),c=this._shadowPolygonPts=b,u=this._shadowPolylinePts=_}this._shadowData=o,this._shadowDim=l,this._shadowSize=[n[0],n[1]];for(var H,X,q,j,F=this.dataZoomModel,V=0;V<3;V++){var N=(H=void 0,X=void 0,void 0,void 0,H=F.getModel(1===V?"selectedDataBackground":"dataBackground"),X=new Kt,q=new Dr({shape:{points:c},segmentIgnoreThreshold:1,style:H.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),j=new Pr({shape:{points:u},segmentIgnoreThreshold:1,style:H.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),X.add(q),X.add(j),X);this._displayables.sliderGroup.add(N),this._displayables.dataShadowSegs.push(N)}}}},i.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,n=t.get("showDataShadow");if(!1!==n){var r,a=this.ecModel;return t.eachTargetAxis(function(o,s){U(t.getAxisProxy(o,s).getTargetSeriesModels(),function(c){if(!(r||!0!==n&&oe(FJ,c.get("type"))<0)){var f,u=a.getComponent($l(o),s).axis,h=function VJ(e){return{x:"y",y:"x",radius:"angle",angle:"radius"}[e]}(o),p=c.coordinateSystem;null!=h&&p.getOtherAxis&&(f=p.getOtherAxis(u).inverse),h=c.getData().mapDimension(h),r={thisAxis:u,series:c,thisDim:o,otherDim:h,otherAxisInverse:f}}},this)},this),r}},i.prototype._renderHandle=function(){var t=this.group,n=this._displayables,r=n.handles=[null,null],a=n.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,l=this.dataZoomModel,c=this.api,u=l.get("borderRadius")||0,h=l.get("brushSelect"),f=n.filler=new wp({silent:h,style:{fill:l.get("fillerColor")},textConfig:{position:"inside"}});o.add(f),o.add(new wp({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:u},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),U([0,1],function(A){var P=l.get("handleIcon");!nv[P]&&P.indexOf("path://")<0&&P.indexOf("image://")<0&&(P="path://"+P);var F=Gi(P,-1,0,2,2,null,!0);F.attr({cursor:RE(this._orient),draggable:!0,drift:Dt(this._onDragMove,this,A),ondragend:Dt(this._onDragEnd,this),onmouseover:Dt(this._showDataInfo,this,!0),onmouseout:Dt(this._showDataInfo,this,!1),z2:5});var O=F.getBoundingRect(),V=l.get("handleSize");this._handleHeight=At(V,this._size[1]),this._handleWidth=O.width/O.height*this._handleHeight,F.setStyle(l.getModel("handleStyle").getItemStyle()),F.style.strokeNoScale=!0,F.rectHover=!0,F.ensureState("emphasis").style=l.getModel(["emphasis","handleStyle"]).getItemStyle(),Hc(F);var N=l.get("handleColor");null!=N&&(F.style.fill=N),o.add(r[A]=F);var G=l.getModel("textStyle");t.add(a[A]=new Ie({silent:!0,invisible:!0,style:ri(G,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:G.getTextColor(),font:G.getFont()}),z2:10}))},this);var p=f;if(h){var m=At(l.get("moveHandleSize"),s[1]),b=n.moveHandle=new De({style:l.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:m}}),_=.8*m,w=n.moveHandleIcon=Gi(l.get("moveHandleIcon"),-_/2,-_/2,_,_,"#fff",!0);w.silent=!0,w.y=s[1]+m/2-.5,b.ensureState("emphasis").style=l.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var T=Math.min(s[1]/2,Math.max(m,10));(p=n.moveZone=new De({invisible:!0,shape:{y:s[1]-T,height:m+T}})).on("mouseover",function(){c.enterEmphasis(b)}).on("mouseout",function(){c.leaveEmphasis(b)}),o.add(b),o.add(w),o.add(p)}p.attr({draggable:!0,cursor:RE(this._orient),drift:Dt(this._onDragMove,this,"all"),ondragstart:Dt(this._showDataInfo,this,!0),ondragend:Dt(this._onDragEnd,this),onmouseover:Dt(this._showDataInfo,this,!0),onmouseout:Dt(this._showDataInfo,this,!1)})},i.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[Xe(t[0],[0,100],n,!0),Xe(t[1],[0,100],n,!0)]},i.prototype._updateInterval=function(t,n){var r=this.dataZoomModel,a=this._handleEnds,o=this._getViewExtent(),s=r.findRepresentativeAxisProxy().getMinMaxSpan(),l=[0,100];wu(n,a,o,r.get("zoomLock")?"all":t,null!=s.minSpan?Xe(s.minSpan,l,o,!0):null,null!=s.maxSpan?Xe(s.maxSpan,l,o,!0):null);var c=this._range,u=this._range=va([Xe(a[0],o,l,!0),Xe(a[1],o,l,!0)]);return!c||c[0]!==u[0]||c[1]!==u[1]},i.prototype._updateView=function(t){var n=this._displayables,r=this._handleEnds,a=va(r.slice()),o=this._size;U([0,1],function(p){var b=this._handleHeight;n.handles[p].attr({scaleX:b/2,scaleY:b/2,x:r[p]+(p?-1:1),y:o[1]/2-b/2})},this),n.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:o[1]});var s={x:a[0],width:a[1]-a[0]};n.moveHandle&&(n.moveHandle.setShape(s),n.moveZone.setShape(s),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr("x",s.x+s.width/2));for(var l=n.dataShadowSegs,c=[0,a[0],a[1],o[0]],u=0;u<l.length;u++){var h=l[u],f=h.getClipPath();f||(f=new De,h.setClipPath(f)),f.setShape({x:c[u],y:0,width:c[u+1]-c[u],height:o[1]})}this._updateDataInfo(t)},i.prototype._updateDataInfo=function(t){var n=this.dataZoomModel,r=this._displayables,a=r.handleLabels,o=this._orient,s=["",""];if(n.get("showDetail")){var l=n.findRepresentativeAxisProxy();if(l){var c=l.getAxisModel().axis,u=this._range,h=t?l.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:l.getDataValueWindow();s=[this._formatLabel(h[0],c),this._formatLabel(h[1],c)]}}var f=va(this._handleEnds.slice());function p(m){var b=tu(r.handles[m].parent,this.group),_=Qg(0===m?"right":"left",b),w=this._handleWidth/2+EJ,T=lo([f[m]+(0===m?-w:w),this._size[1]/2],b);a[m].setStyle({x:T[0],y:T[1],verticalAlign:o===Tp?"middle":_,align:o===Tp?_:"center",text:s[m]})}p.call(this,0),p.call(this,1)},i.prototype._formatLabel=function(t,n){var r=this.dataZoomModel,a=r.get("labelFormatter"),o=r.get("labelPrecision");(null==o||"auto"===o)&&(o=n.getPixelPrecision());var s=null==t||isNaN(t)?"":"category"===n.type||"time"===n.type?n.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(o,20));return Z(a)?a(t,s):Lt(a)?a.replace("{value}",s):s},i.prototype._showDataInfo=function(t){var n=this._displayables,r=n.handleLabels;r[0].attr("invisible",!(t=this._dragging||t)),r[1].attr("invisible",!t),n.moveHandle&&this.api[t?"enterEmphasis":"leaveEmphasis"](n.moveHandle,1)},i.prototype._onDragMove=function(t,n,r,a){this._dragging=!0,tr(a.event);var s=lo([n,r],this._displayables.sliderGroup.getLocalTransform(),!0),l=this._updateInterval(t,s[0]),c=this.dataZoomModel.get("realtime");this._updateView(!c),l&&c&&this._dispatchZoomAction(!0)},i.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},i.prototype._onClickPanel=function(t){var n=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(r[0]<0||r[0]>n[0]||r[1]<0||r[1]>n[1])){var a=this._handleEnds,s=this._updateInterval("all",r[0]-(a[0]+a[1])/2);this._updateView(),s&&this._dispatchZoomAction(!1)}},i.prototype._onBrushStart=function(t){this._brushStart=new ee(t.offsetX,t.offsetY),this._brushing=!0,this._brushStartTime=+new Date},i.prototype._onBrushEnd=function(t){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,n){n.attr("ignore",!0);var r=n.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(r.width)<5)){var o=this._getViewExtent(),s=[0,100];this._range=va([Xe(r.x,o,s,!0),Xe(r.x+r.width,o,s,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},i.prototype._onBrush=function(t){this._brushing&&(tr(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},i.prototype._updateBrushRect=function(t,n){var r=this._displayables,o=r.brushRect;o||(o=r.brushRect=new wp({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),r.sliderGroup.add(o)),o.attr("ignore",!1);var s=this._brushStart,l=this._displayables.sliderGroup,c=l.transformCoordToLocal(t,n),u=l.transformCoordToLocal(s.x,s.y),h=this._size;c[0]=Math.max(Math.min(h[0],c[0]),0),o.setShape({x:u[0],y:0,width:c[0]-u[0],height:h[1]})},i.prototype._dispatchZoomAction=function(t){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?RJ:null,start:n[0],end:n[1]})},i.prototype._findCoordRect=function(){var t,n=AO(this.dataZoomModel).infoList;if(!t&&n.length){var r=n[0].model.coordinateSystem;t=r.getRect&&r.getRect()}if(!t){var a=this.api.getWidth(),o=this.api.getHeight();t={x:.2*a,y:.2*o,width:.6*a,height:.6*o}}return t},i.type="dataZoom.slider",i}(yb);function RE(e){return"vertical"===e?"ns-resize":"ew-resize"}const zJ=BJ;function BE(e){e.registerComponentModel(PJ),e.registerComponentView(zJ),_b(e)}var GJ={get:function(e,i,t){var n=Gt((HJ[e]||{})[i]);return t&&yt(n)?n[n.length-1]:n}},HJ={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const VE=GJ;var zE=Fn.mapVisual,WJ=Fn.eachVisual,YJ=yt,NE=U,XJ=va,UJ=Xe,ZJ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.stateList=["inRange","outOfRange"],t.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],t.layoutMode={type:"box",ignoreSize:!0},t.dataBound=[-1/0,1/0],t.targetVisuals={},t.controllerVisuals={},t}return ot(i,e),i.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r)},i.prototype.optionUpdated=function(t,n){!n&&nE(this.option,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},i.prototype.resetVisual=function(t){var n=this.stateList;t=Dt(t,this),this.controllerVisuals=Lb(this.option.controller,n,t),this.targetVisuals=Lb(this.option.target,n,t)},i.prototype.getItemSymbol=function(){return null},i.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,n=[];return null==t||"all"===t?this.ecModel.eachSeries(function(r,a){n.push(a)}):n=je(t),n},i.prototype.eachTargetSeries=function(t,n){U(this.getTargetSeriesIndices(),function(r){var a=this.ecModel.getSeriesByIndex(r);a&&t.call(n,a)},this)},i.prototype.isTargetSeries=function(t){var n=!1;return this.eachTargetSeries(function(r){r===t&&(n=!0)}),n},i.prototype.formatValueText=function(t,n,r){var c,a=this.option,o=a.precision,s=this.dataBound,l=a.formatter;r=r||["<",">"],yt(t)&&(t=t.slice(),c=!0);var u=n?t:c?[h(t[0]),h(t[1])]:h(t);return Lt(l)?l.replace("{value}",c?u[0]:u).replace("{value2}",c?u[1]:u):Z(l)?c?l(t[0],t[1]):l(t):c?t[0]===s[0]?r[0]+" "+u[1]:t[1]===s[1]?r[1]+" "+u[0]:u[0]+" - "+u[1]:u;function h(f){return f===s[0]?"min":f===s[1]?"max":(+f).toFixed(Math.min(o,20))}},i.prototype.resetExtent=function(){var t=this.option,n=XJ([t.min,t.max]);this._dataExtent=n},i.prototype.getDataDimensionIndex=function(t){var n=this.option.dimension;if(null!=n)return t.getDimensionIndex(n);for(var r=t.dimensions,a=r.length-1;a>=0;a--){var s=t.getDimensionInfo(r[a]);if(!s.isCalculationCoord)return s.storeDimIndex}},i.prototype.getExtent=function(){return this._dataExtent.slice()},i.prototype.completeVisualOption=function(){var t=this.ecModel,n=this.option,r={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||(n.target={}),o=n.controller||(n.controller={});ie(a,r),ie(o,r);var s=this.isCategory();function l(h){YJ(n.color)&&!h.inRange&&(h.inRange={color:n.color.slice().reverse()}),h.inRange=h.inRange||{color:t.get("gradientColor")}}l.call(this,a),l.call(this,o),function c(h,f,p){var m=h[f],b=h[p];m&&!b&&(b=h[p]={},NE(m,function(_,w){if(Fn.isValidType(w)){var T=VE.get(w,"inactive",s);null!=T&&(b[w]=T,"color"===w&&!b.hasOwnProperty("opacity")&&!b.hasOwnProperty("colorAlpha")&&(b.opacity=[0,0]))}}))}.call(this,a,"inRange","outOfRange"),function u(h){var f=(h.inRange||{}).symbol||(h.outOfRange||{}).symbol,p=(h.inRange||{}).symbolSize||(h.outOfRange||{}).symbolSize,m=this.get("inactiveColor"),_=this.getItemSymbol()||"roundRect";NE(this.stateList,function(w){var T=this.itemSize,A=h[w];A||(A=h[w]={color:s?m:[m]}),null==A.symbol&&(A.symbol=f&&Gt(f)||(s?_:[_])),null==A.symbolSize&&(A.symbolSize=p&&Gt(p)||(s?T[0]:[T[0],T[0]])),A.symbol=zE(A.symbol,function(O){return"none"===O?_:O});var P=A.symbolSize;if(null!=P){var F=-1/0;WJ(P,function(O){O>F&&(F=O)}),A.symbolSize=zE(P,function(O){return UJ(O,[0,F],[0,T[0]],!0)})}},this)}.call(this,o)},i.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},i.prototype.isCategory=function(){return!!this.option.categories},i.prototype.setSelected=function(t){},i.prototype.getSelected=function(){return null},i.prototype.getValueState=function(t){return null},i.prototype.getVisualMeta=function(t){return null},i.type="visualMap",i.dependencies=["series"],i.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},i}(Oe);const Am=ZJ;var GE=[20,140],$J=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},i.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=GE[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=GE[1])},i.prototype._resetRange=function(){var t=this.getExtent(),n=this.option.range;!n||n.auto?(t.auto=1,this.option.range=t):yt(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],t[0]),n[1]=Math.min(n[1],t[1]))},i.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),U(this.stateList,function(t){var n=this.option.controller[t].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},i.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},i.prototype.getSelected=function(){var t=this.getExtent(),n=va((this.get("range")||[]).slice());return n[0]>t[1]&&(n[0]=t[1]),n[1]>t[1]&&(n[1]=t[1]),n[0]<t[0]&&(n[0]=t[0]),n[1]<t[0]&&(n[1]=t[0]),n},i.prototype.getValueState=function(t){var n=this.option.range,r=this.getExtent();return(n[0]<=r[0]||n[0]<=t)&&(n[1]>=r[1]||t<=n[1])?"inRange":"outOfRange"},i.prototype.findTargetDataIndices=function(t){var n=[];return this.eachTargetSeries(function(r){var a=[],o=r.getData();o.each(this.getDataDimensionIndex(o),function(s,l){t[0]<=s&&s<=t[1]&&a.push(l)},this),n.push({seriesId:r.id,dataIndex:a})},this),n},i.prototype.getVisualMeta=function(t){var n=HE(0,0,this.getExtent()),r=HE(0,0,this.option.range.slice()),a=[];function o(p,m){a.push({value:p,color:t(p,m)})}for(var s=0,l=0,c=r.length,u=n.length;l<u&&(!r.length||n[l]<=r[0]);l++)n[l]<r[s]&&o(n[l],"outOfRange");for(var h=1;s<c;s++,h=0)h&&a.length&&o(r[s],"outOfRange"),o(r[s],"inRange");for(h=1;l<u;l++)(!r.length||r[r.length-1]<n[l])&&(h&&(a.length&&o(a[a.length-1].value,"outOfRange"),h=0),o(n[l],"outOfRange"));var f=a.length;return{stops:a,outerColors:[f?a[0].color:"transparent",f?a[f-1].color:"transparent"]}},i.type="visualMap.continuous",i.defaultOption=kl(Am.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),i}(Am);function HE(e,i,t){if(t[0]===t[1])return t.slice();for(var r=(t[1]-t[0])/200,a=t[0],o=[],s=0;s<=200&&a<t[1];s++)o.push(a),a+=r;return o.push(t[1]),o}const jJ=$J;var qJ=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t.autoPositionValues={left:1,right:1,top:1,bottom:1},t}return ot(i,e),i.prototype.init=function(t,n){this.ecModel=t,this.api=n},i.prototype.render=function(t,n,r,a){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,n,r,a):this.group.removeAll()},i.prototype.renderBackground=function(t){var n=this.visualMapModel,r=Lh(n.get("padding")||0),a=t.getBoundingRect();t.add(new De({z2:-1,silent:!0,shape:{x:a.x-r[3],y:a.y-r[0],width:a.width+r[3]+r[1],height:a.height+r[0]+r[2]},style:{fill:n.get("backgroundColor"),stroke:n.get("borderColor"),lineWidth:n.get("borderWidth")}}))},i.prototype.getControllerVisual=function(t,n,r){var a=(r=r||{}).forceState,o=this.visualMapModel,s={};if("color"===n){var l=o.get("contentColor");s.color=l}function c(p){return s[p]}function u(p,m){s[p]=m}var h=o.controllerVisuals[a||o.getValueState(t)];return U(Fn.prepareVisualTypes(h),function(p){var m=h[p];r.convertOpacityToAlpha&&"opacity"===p&&(p="colorAlpha",m=h.__alphaForOpacity),Fn.dependsOn(p,n)&&m&&m.applyVisual(t,c,u)}),s[n]},i.prototype.positionGroup=function(t){var r=this.api;Pg(t,this.visualMapModel.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})},i.prototype.doRender=function(t,n,r,a){},i.type="visualMap",i}(Mi);const WE=qJ;var YE=[["left","right","width"],["top","bottom","height"]];function XE(e,i,t){var n=e.option,r=n.align;if(null!=r&&"auto"!==r)return r;for(var a={width:i.getWidth(),height:i.getHeight()},o="horizontal"===n.orient?1:0,s=YE[o],l=[0,null,10],c={},u=0;u<3;u++)c[YE[1-o][u]]=l[u],c[s[u]]=2===u?t[0]:n[s[u]];var h=[["x","width",3],["y","height",0]][o],f=qi(c,a,n.padding);return s[(f.margin[h[2]]||0)+f[h[0]]+.5*f[h[1]]<.5*a[h[1]]?0:1]}function Lm(e,i){return U(e||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(i?i.componentIndex:"")}),e}var ts=Xe,KJ=U,UE=Math.min,jb=Math.max,ttt=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t._shapes={},t._dataInterval=[],t._handleEnds=[],t._hoverLinkDataIndices=[],t}return ot(i,e),i.prototype.init=function(t,n){e.prototype.init.call(this,t,n),this._hoverLinkFromSeriesMouseOver=Dt(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Dt(this._hideIndicator,this)},i.prototype.doRender=function(t,n,r,a){(!a||"selectDataRange"!==a.type||a.from!==this.uid)&&this._buildView()},i.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,n=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(n);var r=t.get("text");this._renderEndsText(n,r,0),this._renderEndsText(n,r,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},i.prototype._renderEndsText=function(t,n,r){if(n){var a=n[1-r];a=null!=a?a+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,c=this._shapes.mainGroup,u=this._applyTransform([l[0]/2,0===r?-s:l[1]+s],c),h=this._applyTransform(0===r?"bottom":"top",c),f=this._orient;this.group.add(new Ie({style:ri(this.visualMapModel.textStyleModel,{x:u[0],y:u[1],verticalAlign:"horizontal"===f?"middle":h,align:"horizontal"===f?h:"center",text:a})}))}},i.prototype._renderBar=function(t){var n=this.visualMapModel,r=this._shapes,a=n.itemSize,o=this._orient,s=this._useHandle,l=XE(n,this.api,a),c=r.mainGroup=this._createBarGroup(l),u=new Kt;c.add(u),u.add(r.outOfRange=ZE()),u.add(r.inRange=ZE(null,s?jE(this._orient):null,Dt(this._dragHandle,this,"all",!1),Dt(this._dragHandle,this,"all",!0))),u.setClipPath(new De({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var h=n.textStyleModel.getTextRect("\u56fd"),f=jb(h.width,h.height);s&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(n,c,0,a,f,o),this._createHandle(n,c,1,a,f,o)),this._createIndicator(n,c,a,f,o),t.add(c)},i.prototype._createHandle=function(t,n,r,a,o,s){var l=Dt(this._dragHandle,this,r,!1),c=Dt(this._dragHandle,this,r,!0),u=no(t.get("handleSize"),a[0]),h=Gi(t.get("handleIcon"),-u/2,-u/2,u,u,null,!0),f=jE(this._orient);h.attr({cursor:f,draggable:!0,drift:l,ondragend:c,onmousemove:function(w){tr(w.event)}}),h.x=a[0]/2,h.useStyle(t.getModel("handleStyle").getItemStyle()),h.setStyle({strokeNoScale:!0,strokeFirst:!0}),h.style.lineWidth*=2,h.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),Wc(h,!0),n.add(h);var m=new Ie({cursor:f,draggable:!0,drift:l,onmousemove:function(w){tr(w.event)},ondragend:c,style:ri(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});m.ensureState("blur").style={opacity:.1},m.stateTransition={duration:200},this.group.add(m);var b=[u,0],_=this._shapes;_.handleThumbs[r]=h,_.handleLabelPoints[r]=b,_.handleLabels[r]=m},i.prototype._createIndicator=function(t,n,r,a,o){var s=no(t.get("indicatorSize"),r[0]),l=Gi(t.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var c=t.getModel("indicatorStyle").getItemStyle();if(l instanceof Pn){var u=l.style;l.useStyle(ft({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},c))}else l.useStyle(c);n.add(l);var f=new Ie({silent:!0,invisible:!0,style:ri(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(f);var p=[("horizontal"===o?a/2:6)+r[0]/2,0],m=this._shapes;m.indicator=l,m.indicatorLabel=f,m.indicatorLabelPoint=p,this._firstShowIndicator=!0},i.prototype._dragHandle=function(t,n,r,a){if(this._useHandle){if(this._dragging=!n,!n){var o=this._applyTransform([r,a],this._shapes.mainGroup,!0);this._updateInterval(t,o[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():$E(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},i.prototype._resetInterval=function(){var t=this.visualMapModel,n=this._dataInterval=t.getSelected(),r=t.getExtent(),a=[0,t.itemSize[1]];this._handleEnds=[ts(n[0],r,a,!0),ts(n[1],r,a,!0)]},i.prototype._updateInterval=function(t,n){var r=this.visualMapModel,a=this._handleEnds,o=[0,r.itemSize[1]];wu(n=n||0,a,o,t,0);var s=r.getExtent();this._dataInterval=[ts(a[0],o,s,!0),ts(a[1],o,s,!0)]},i.prototype._updateView=function(t){var n=this.visualMapModel,r=n.getExtent(),a=this._shapes,o=[0,n.itemSize[1]],s=t?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,r,s,"inRange"),c=this._createBarVisual(r,r,o,"outOfRange");a.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),a.outOfRange.setStyle({fill:c.barColor}).setShape("points",c.barPoints),this._updateHandle(s,l)},i.prototype._createBarVisual=function(t,n,r,a){var o={forceState:a,convertOpacityToAlpha:!0},s=this._makeColorGradient(t,o),l=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],c=this._createBarPoints(r,l);return{barColor:new Sf(0,0,0,1,s),barPoints:c,handlesColor:[s[0].color,s[s.length-1].color]}},i.prototype._makeColorGradient=function(t,n){var a=[],o=(t[1]-t[0])/100;a.push({color:this.getControllerVisual(t[0],"color",n),offset:0});for(var s=1;s<100;s++){var l=t[0]+o*s;if(l>t[1])break;a.push({color:this.getControllerVisual(l,"color",n),offset:s/100})}return a.push({color:this.getControllerVisual(t[1],"color",n),offset:1}),a},i.prototype._createBarPoints=function(t,n){var r=this.visualMapModel.itemSize;return[[r[0]-n[0],t[0]],[r[0],t[0]],[r[0],t[1]],[r[0]-n[1],t[1]]]},i.prototype._createBarGroup=function(t){var n=this._orient,r=this.visualMapModel.get("inverse");return new Kt("horizontal"!==n||r?"horizontal"===n&&r?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==n||r?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},i.prototype._updateHandle=function(t,n){if(this._useHandle){var r=this._shapes,a=this.visualMapModel,o=r.handleThumbs,s=r.handleLabels,l=a.itemSize,c=a.getExtent();KJ([0,1],function(u){var h=o[u];h.setStyle("fill",n.handlesColor[u]),h.y=t[u];var f=ts(t[u],[0,l[1]],c,!0),p=this.getControllerVisual(f,"symbolSize");h.scaleX=h.scaleY=p/l[0],h.x=l[0]-p/2;var m=lo(r.handleLabelPoints[u],tu(h,this.group));s[u].setStyle({x:m[0],y:m[1],text:a.formatValueText(this._dataInterval[u]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",r.mainGroup):"center"})},this)}},i.prototype._showIndicator=function(t,n,r,a){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,c=[0,l[1]],u=this._shapes,h=u.indicator;if(h){h.attr("invisible",!1);var p=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),m=this.getControllerVisual(t,"symbolSize"),b=ts(t,s,c,!0),_=l[0]-m/2,w={x:h.x,y:h.y};h.y=b,h.x=_;var T=lo(u.indicatorLabelPoint,tu(h,this.group)),A=u.indicatorLabel;A.attr("invisible",!1);var P=this._applyTransform("left",u.mainGroup),O="horizontal"===this._orient;A.setStyle({text:(r||"")+o.formatValueText(n),verticalAlign:O?P:"middle",align:O?"center":P});var V={x:_,y:b,style:{fill:p}},N={style:{x:T[0],y:T[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var G={duration:100,easing:"cubicInOut",additive:!0};h.x=w.x,h.y=w.y,h.animateTo(V,G),A.animateTo(N,G)}else h.attr(V),A.attr(N);this._firstShowIndicator=!1;var H=this._shapes.handleLabels;if(H)for(var X=0;X<H.length;X++)this.api.enterBlur(H[X])}},i.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",function(n){if(t._hovering=!0,!t._dragging){var r=t.visualMapModel.itemSize,a=t._applyTransform([n.offsetX,n.offsetY],t._shapes.mainGroup,!0,!0);a[1]=UE(jb(0,a[1]),r[1]),t._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=r[0])}}).on("mouseout",function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},i.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},i.prototype._doHoverLinkToSeries=function(t,n){var r=this.visualMapModel;if(r.option.hoverLink){var o=[0,r.itemSize[1]],s=r.getExtent();t=UE(jb(o[0],t),o[1]);var l=function ett(e,i,t){var n=6,r=e.get("hoverLinkDataSize");return r&&(n=ts(r,i,t,!0)/2),n}(r,s,o),c=[t-l,t+l],u=ts(t,o,s,!0),h=[ts(c[0],o,s,!0),ts(c[1],o,s,!0)];c[0]<o[0]&&(h[0]=-1/0),c[1]>o[1]&&(h[1]=1/0),n&&(h[0]===-1/0?this._showIndicator(u,h[1],"< ",l):h[1]===1/0?this._showIndicator(u,h[0],"> ",l):this._showIndicator(u,u,"\u2248 ",l));var f=this._hoverLinkDataIndices,p=[];(n||$E(r))&&(p=this._hoverLinkDataIndices=r.findTargetDataIndices(h));var m=function OB(e,i){var t={},n={};return r(e||[],t),r(i||[],n,t),[a(t),a(n)];function r(o,s,l){for(var c=0,u=o.length;c<u;c++){var h=ji(o[c].seriesId,null);if(null==h)return;for(var f=je(o[c].dataIndex),p=l&&l[h],m=0,b=f.length;m<b;m++){var _=f[m];p&&p[_]?p[_]=null:(s[h]||(s[h]={}))[_]=1}}}function a(o,s){var l=[];for(var c in o)if(o.hasOwnProperty(c)&&null!=o[c])if(s)l.push(+c);else{var u=a(o[c],!0);u.length&&l.push({seriesId:c,dataIndex:u})}return l}}(f,p);this._dispatchHighDown("downplay",Lm(m[0],r)),this._dispatchHighDown("highlight",Lm(m[1],r))}},i.prototype._hoverLinkFromSeriesMouseOver=function(t){var n;if(eu(t.target,function(l){var c=Jt(l);if(null!=c.dataIndex)return n=c,!0},!0),n){var r=this.ecModel.getSeriesByIndex(n.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(r)){var o=r.getData(n.dataType),s=o.getStore().get(a.getDataDimensionIndex(o),n.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},i.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var n=this._shapes.handleLabels;if(n)for(var r=0;r<n.length;r++)this.api.leaveBlur(n[r])},i.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Lm(t,this.visualMapModel)),t.length=0},i.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},i.prototype._applyTransform=function(t,n,r,a){var o=tu(n,a?null:this.group);return yt(t)?lo(t,o,r):Qg(t,o,r)},i.prototype._dispatchHighDown=function(t,n){n&&n.length&&this.api.dispatchAction({type:t,batch:n})},i.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},i.type="visualMap.continuous",i}(WE);function ZE(e,i,t,n){return new Dr({shape:{points:e},draggable:!!t,cursor:i,drift:t,onmousemove:function(r){tr(r.event)},ondragend:n})}function $E(e){return!!(e.get("hoverLinkOnHandle")??e.get("realtime"))}function jE(e){return"vertical"===e?"ns-resize":"ew-resize"}const itt=ttt;var ntt={type:"selectDataRange",event:"dataRangeSelected",update:"update"},rtt=function(e,i){i.eachComponent({mainType:"visualMap",query:e},function(t){t.setSelected(e.selected)})},att=[{createOnAllSeries:!0,reset:function(e,i){var t=[];return i.eachComponent("visualMap",function(n){var r=e.pipelineContext;!n.isTargetSeries(e)||r&&r.large||t.push(function JK(e,i,t,n){var r={};return U(e,function(a){var o=Fn.prepareVisualTypes(i[a]);r[a]=o}),{progress:function(o,s){var l;function c(F){return g0(s,h,F)}function u(F,O){gM(s,h,F,O)}null!=n&&(l=s.getDimensionIndex(n));for(var h,f=s.getStore();null!=(h=o.next());){var p=s.getRawDataItem(h);if(!p||!1!==p.visualMap)for(var m=null!=n?f.get(l,h):h,b=t(m),_=i[b],w=r[b],T=0,A=w.length;T<A;T++){var P=w[T];_[P]&&_[P].applyVisual(m,c,u)}}}}}(n.stateList,n.targetVisuals,Dt(n.getValueState,n),n.getDataDimensionIndex(e.getData())))}),t}},{createOnAllSeries:!0,reset:function(e,i){var t=e.getData(),n=[];i.eachComponent("visualMap",function(r){if(r.isTargetSeries(e)){var a=r.getVisualMeta(Dt(ott,null,e,r))||{stops:[],outerColors:[]},o=r.getDataDimensionIndex(t);o>=0&&(a.dimension=o,n.push(a))}}),e.getData().setVisual("visualMeta",n)}}];function ott(e,i,t,n){for(var r=i.targetVisuals[n],a=Fn.prepareVisualTypes(r),o={color:Df(e.getData(),"color")},s=0,l=a.length;s<l;s++){var c=a[s],u=r["opacity"===c?"__alphaForOpacity":c];u&&u.applyVisual(t,h,f)}return o.color;function h(p){return o[p]}function f(p,m){o[p]=m}}var qE=U;function stt(e){var i=e&&e.visualMap;yt(i)||(i=i?[i]:[]),qE(i,function(t){if(t){dd(t,"splitList")&&!dd(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var n=t.pieces;n&&yt(n)&&qE(n,function(r){Bt(r)&&(dd(r,"start")&&!dd(r,"min")&&(r.min=r.start),dd(r,"end")&&!dd(r,"max")&&(r.max=r.end))})}})}function dd(e,i){return e&&e.hasOwnProperty&&e.hasOwnProperty(i)}var KE=!1;function QE(e){KE||(KE=!0,e.registerSubTypeDefaulter("visualMap",function(i){return i.categories||(i.pieces?i.pieces.length>0:i.splitNumber>0)&&!i.calculable?"piecewise":"continuous"}),e.registerAction(ntt,rtt),U(att,function(i){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,i)}),e.registerPreprocessor(stt))}function JE(e){e.registerComponentModel(jJ),e.registerComponentView(itt),QE(e)}var ltt=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t._pieceList=[],t}return ot(i,e),i.prototype.optionUpdated=function(t,n){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],ctt[this._mode].call(this,this._pieceList),this._resetSelected(t,n);var a=this.option.categories;this.resetVisual(function(o,s){"categories"===r?(o.mappingMethod="category",o.categories=Gt(a)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=mt(this._pieceList,function(l){return l=Gt(l),"inRange"!==s&&(l.visual=null),l}))})},i.prototype.completeVisualOption=function(){var t=this.option,n={},r=Fn.listVisualTypes(),a=this.isCategory();function o(s,l,c){return s&&s[l]&&s[l].hasOwnProperty(c)}U(t.pieces,function(s){U(r,function(l){s.hasOwnProperty(l)&&(n[l]=1)})}),U(n,function(s,l){var c=!1;U(this.stateList,function(u){c=c||o(t,u,l)||o(t.target,u,l)},this),!c&&U(this.stateList,function(u){(t[u]||(t[u]={}))[l]=VE.get(l,"inRange"===u?"active":"inactive",a)})},this),e.prototype.completeVisualOption.apply(this,arguments)},i.prototype._resetSelected=function(t,n){var r=this.option,a=this._pieceList,o=(n?r:t).selected||{};if(r.selected=o,U(a,function(l,c){var u=this.getSelectedMapKey(l);o.hasOwnProperty(u)||(o[u]=!0)},this),"single"===r.selectedMode){var s=!1;U(a,function(l,c){var u=this.getSelectedMapKey(l);o[u]&&(s?o[u]=!1:s=!0)},this)}},i.prototype.getItemSymbol=function(){return this.get("itemSymbol")},i.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},i.prototype.getPieceList=function(){return this._pieceList},i.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},i.prototype.setSelected=function(t){this.option.selected=Gt(t)},i.prototype.getValueState=function(t){var n=Fn.findPieceIndex(t,this._pieceList);return null!=n&&this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?"inRange":"outOfRange"},i.prototype.findTargetDataIndices=function(t){var n=[],r=this._pieceList;return this.eachTargetSeries(function(a){var o=[],s=a.getData();s.each(this.getDataDimensionIndex(s),function(l,c){Fn.findPieceIndex(l,r)===t&&o.push(c)},this),n.push({seriesId:a.id,dataIndex:o})},this),n},i.prototype.getRepresentValue=function(t){var n;if(this.isCategory())n=t.value;else if(null!=t.value)n=t.value;else{var r=t.interval||[];n=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return n},i.prototype.getVisualMeta=function(t){if(!this.isCategory()){var n=[],r=["",""],a=this,s=this._pieceList.slice();if(s.length){var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),(l=s[s.length-1].interval[1])!==1/0&&s.push({interval:[l,1/0]})}else s.push({interval:[-1/0,1/0]});var c=-1/0;return U(s,function(u){var h=u.interval;h&&(h[0]>c&&o([c,h[0]],"outOfRange"),o(h.slice()),c=h[1])},this),{stops:n,outerColors:r}}function o(u,h){var f=a.getRepresentValue({interval:u});h||(h=a.getValueState(f));var p=t(f,h);u[0]===-1/0?r[0]=p:u[1]===1/0?r[1]=p:n.push({value:u[0],color:p},{value:u[1],color:p})}},i.type="visualMap.piecewise",i.defaultOption=kl(Am.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),i}(Am),ctt={splitNumber:function(e){var i=this.option,t=Math.min(i.precision,20),n=this.getExtent(),r=i.splitNumber;r=Math.max(parseInt(r,10),1),i.splitNumber=r;for(var a=(n[1]-n[0])/r;+a.toFixed(t)!==a&&t<5;)t++;i.precision=t,a=+a.toFixed(t),i.minOpen&&e.push({interval:[-1/0,n[0]],close:[0,0]});for(var o=0,s=n[0];o<r;s+=a,o++)e.push({interval:[s,o===r-1?n[1]:s+a],close:[1,1]});i.maxOpen&&e.push({interval:[n[1],1/0],close:[0,0]}),LS(e),U(e,function(c,u){c.index=u,c.text=this.formatValueText(c.interval)},this)},categories:function(e){var i=this.option;U(i.categories,function(t){e.push({text:this.formatValueText(t,!0),value:t})},this),tF(i,e)},pieces:function(e){var i=this.option;U(i.pieces,function(t,n){Bt(t)||(t={value:t});var r={text:"",index:n};if(null!=t.label&&(r.text=t.label),t.hasOwnProperty("value")){var a=r.value=t.value;r.interval=[a,a],r.close=[1,1]}else{for(var o=r.interval=[],s=r.close=[0,0],l=[1,0,1],c=[-1/0,1/0],u=[],h=0;h<2;h++){for(var f=[["gte","gt","min"],["lte","lt","max"]][h],p=0;p<3&&null==o[h];p++)o[h]=t[f[p]],s[h]=l[p],u[h]=2===p;null==o[h]&&(o[h]=c[h])}u[0]&&o[1]===1/0&&(s[0]=0),u[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(r.value=o[0])}r.visual=Fn.retrieveVisuals(t),e.push(r)},this),tF(i,e),LS(e),U(e,function(t){var n=t.close;t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,[["<","\u2264"][n[1]],[">","\u2265"][n[0]]])},this)}};function tF(e,i){var t=e.inverse;("vertical"===e.orient?!t:t)&&i.reverse()}const utt=ltt;var htt=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=i.type,t}return ot(i,e),i.prototype.doRender=function(){var t=this.group;t.removeAll();var n=this.visualMapModel,r=n.get("textGap"),a=n.textStyleModel,o=a.getFont(),s=a.getTextColor(),l=this._getItemAlign(),c=n.itemSize,u=this._getViewData(),h=u.endsText,f=hi(n.get("showLabel",!0),!h);h&&this._renderEndsText(t,h[0],c,f,l),U(u.viewPieceList,function(p){var m=p.piece,b=new Kt;b.onclick=Dt(this._onItemClick,this,m),this._enableHoverLink(b,p.indexInModelPieceList);var _=n.getRepresentValue(m);if(this._createItemSymbol(b,_,[0,0,c[0],c[1]]),f){var w=this.visualMapModel.getValueState(_);b.add(new Ie({style:{x:"right"===l?-r:c[0]+r,y:c[1]/2,text:m.text,verticalAlign:"middle",align:l,font:o,fill:s,opacity:"outOfRange"===w?.5:1}}))}t.add(b)},this),h&&this._renderEndsText(t,h[1],c,f,l),Zc(n.get("orient"),t,n.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},i.prototype._enableHoverLink=function(t,n){var r=this;t.on("mouseover",function(){return a("highlight")}).on("mouseout",function(){return a("downplay")});var a=function(o){var s=r.visualMapModel;s.option.hoverLink&&r.api.dispatchAction({type:o,batch:Lm(s.findTargetDataIndices(n),s)})}},i.prototype._getItemAlign=function(){var t=this.visualMapModel,n=t.option;if("vertical"===n.orient)return XE(t,this.api,t.itemSize);var r=n.align;return(!r||"auto"===r)&&(r="left"),r},i.prototype._renderEndsText=function(t,n,r,a,o){if(n){var s=new Kt;s.add(new Ie({style:ri(this.visualMapModel.textStyleModel,{x:a?"right"===o?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:a?o:"center",text:n})})),t.add(s)}},i.prototype._getViewData=function(){var t=this.visualMapModel,n=mt(t.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),r=t.get("text"),a=t.get("orient"),o=t.get("inverse");return("horizontal"===a?o:!o)?n.reverse():r&&(r=r.slice().reverse()),{viewPieceList:n,endsText:r}},i.prototype._createItemSymbol=function(t,n,r){t.add(Gi(this.getControllerVisual(n,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(n,"color")))},i.prototype._onItemClick=function(t){var n=this.visualMapModel,r=n.option,a=r.selectedMode;if(a){var o=Gt(r.selected),s=n.getSelectedMapKey(t);"single"===a||!0===a?(o[s]=!0,U(o,function(l,c){o[c]=c===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},i.type="visualMap.piecewise",i}(WE);const dtt=htt;function eF(e){e.registerComponentModel(utt),e.registerComponentView(dtt),QE(e)}var ptt={label:{enabled:!0},decal:{show:!1}},iF=Le(),gtt={};function vtt(e,i){var t=e.getModel("aria");if(t.get("enabled")){var n=Gt(ptt);ie(n.label,e.getLocaleModel().get("aria"),!1),ie(t.option,n,!1),function r(){if(t.getModel("decal").get("show")){var h=Mt();e.eachSeries(function(f){if(!f.isColorBySeries()){var p=h.get(f.type);p||h.set(f.type,p={}),iF(f).scope=p}}),e.eachRawSeries(function(f){if(!e.isSeriesFiltered(f))if(Z(f.enableAriaDecal))f.enableAriaDecal();else{var p=f.getData();if(f.isColorBySeries()){var T=B_(f.ecModel,f.name,gtt,e.getSeriesCount()),A=p.getVisual("decal");p.setVisual("decal",P(A,T))}else{var m=f.getRawData(),b={},_=iF(f).scope;p.each(function(F){var O=p.getRawIndex(F);b[O]=F});var w=m.count();m.each(function(F){var O=b[F],V=m.getName(F)||F+"",N=B_(f.ecModel,V,_,w),G=p.getItemVisual(O,"decal");p.setItemVisual(O,"decal",P(G,N))})}}function P(F,O){var V=F?ft(ft({},O),F):O;return V.dirty=!0,V}})}}(),function a(){var c=i.getZr().dom;if(c){var u=e.getLocaleModel().get("aria"),h=t.getModel("label");if(h.option=Rt(h.option,u),h.get("enabled")){if(h.get("description"))return void c.setAttribute("aria-label",h.get("description"));var _,f=e.getSeriesCount(),p=h.get(["data","maxCount"])||10,m=h.get(["series","maxCount"])||10,b=Math.min(f,m);if(!(f<1)){var w=function s(){var c=e.get("title");return c&&c.length&&(c=c[0]),c&&c.text}();_=w?o(h.get(["general","withTitle"]),{title:w}):h.get(["general","withoutTitle"]);var A=[];_+=o(h.get(f>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:f}),e.eachSeries(function(N,G){if(G<b){var H=void 0,q=N.get("name")?"withName":"withoutName";H=o(H=h.get(f>1?["series","multiple",q]:["series","single",q]),{seriesId:N.seriesIndex,seriesName:N.get("name"),seriesType:l(N.subType)});var j=N.getData();j.count()>p?H+=o(h.get(["data","partialData"]),{displayCnt:p}):H+=h.get(["data","allData"]);for(var tt=h.get(["data","separator","middle"]),et=h.get(["data","separator","end"]),lt=[],st=0;st<j.count();st++)if(st<p){var ut=j.getName(st),vt=j.getValues(st),_t=h.get(["data",ut?"withName":"withoutName"]);lt.push(o(_t,{name:ut,value:vt.join(tt)}))}H+=lt.join(tt)+et,A.push(H)}});var F=h.getModel(["series","multiple","separator"]),O=F.get("middle"),V=F.get("end");_+=A.join(O)+V,c.setAttribute("aria-label",_)}}}}()}function o(c,u){if(!Lt(c))return c;var h=c;return U(u,function(f,p){h=h.replace(new RegExp("\\{\\s*"+p+"\\s*\\}","g"),f)}),h}function l(c){var u=e.getLocaleModel().get(["series","typeNames"]);return u[c]||u.chart}}function mtt(e){if(e&&e.aria){var i=e.aria;null!=i.show&&(i.enabled=i.show),i.label=i.label||{},U(["description","general","series","data"],function(t){null!=i[t]&&(i.label[t]=i[t])})}}var nF={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},_tt=function(){function e(i){var t=this._condVal=Lt(i)?new RegExp(i):function ic(e){return"[object RegExp]"===Hi.call(e)}(i)?i:null;null==t&&He("")}return e.prototype.evaluate=function(i){var t=typeof i;return Lt(t)?this._condVal.test(i):!!_e(t)&&this._condVal.test(i+"")},e}(),xtt=function(){function e(){}return e.prototype.evaluate=function(){return this.value},e}(),btt=function(){function e(){}return e.prototype.evaluate=function(){for(var i=this.children,t=0;t<i.length;t++)if(!i[t].evaluate())return!1;return!0},e}(),Ctt=function(){function e(){}return e.prototype.evaluate=function(){for(var i=this.children,t=0;t<i.length;t++)if(i[t].evaluate())return!0;return!1},e}(),Stt=function(){function e(){}return e.prototype.evaluate=function(){return!this.child.evaluate()},e}(),wtt=function(){function e(){}return e.prototype.evaluate=function(){for(var i=!!this.valueParser,n=(0,this.getValue)(this.valueGetterParam),r=i?this.valueParser(n):null,a=0;a<this.subCondList.length;a++)if(!this.subCondList[a].evaluate(i?r:n))return!1;return!0},e}();function qb(e,i){if(!0===e||!1===e){var t=new xtt;return t.value=e,t}return aF(e)||He(""),e.and?rF("and",e,i):e.or?rF("or",e,i):e.not?function Ttt(e,i){var t=e.not;aF(t)||He("");var r=new Stt;return r.child=qb(t,i),r.child||He(""),r}(e,i):function Mtt(e,i){for(var n=i.prepareGetValue(e),r=[],a=he(e),o=e.parser,s=o?KT(o):null,l=0;l<a.length;l++){var c=a[l];if("parser"!==c&&!i.valueGetterAttrMap.get(c)){var u=Pt(nF,c)?nF[c]:c,h=e[c],f=s?s(h):h,p=vz(u,f)||"reg"===u&&new _tt(f);p||He(""),r.push(p)}}r.length||He("");var m=new wtt;return m.valueGetterParam=n,m.valueParser=s,m.getValue=i.getValue,m.subCondList=r,m}(e,i)}function rF(e,i,t){var n=i[e];yt(n)||He(""),n.length||He("");var a="and"===e?new btt:new Ctt;return a.children=mt(n,function(o){return qb(o,t)}),a.children.length||He(""),a}function aF(e){return Bt(e)&&!Li(e)}var Att=function(){function e(i,t){this._cond=qb(i,t)}return e.prototype.evaluate=function(){return this._cond.evaluate()},e}(),ktt={type:"echarts:filter",transform:function(e){for(var t,i=e.upstream,n=function Ltt(e,i){return new Att(e,i)}(e.config,{valueGetterAttrMap:Mt({dimension:!0}),prepareGetValue:function(s){var c=s.dimension;Pt(s,"dimension")||He("");var u=i.getDimensionInfo(c);return u||He(""),{dimIdx:u.index}},getValue:function(s){return i.retrieveValueFromItem(t,s.dimIdx)}}),r=[],a=0,o=i.count();a<o;a++)t=i.getRawDataItem(a),n.evaluate()&&r.push(t);return{data:r}}},Dtt={type:"echarts:sort",transform:function(e){var i=e.upstream,n="",r=je(e.config);r.length||He(n);var a=[];U(r,function(u){var h=u.dimension,f=u.order,p=u.parser,m=u.incomparable;null==h&&He(n),"asc"!==f&&"desc"!==f&&He(n),m&&"min"!==m&&"max"!==m&&He(""),"asc"!==f&&"desc"!==f&&He("");var w=i.getDimensionInfo(h);w||He(n);var T=p?KT(p):null;p&&!T&&He(n),a.push({dimIdx:w.index,parser:T,comparator:new JT(f,m)})});var o=i.sourceFormat;o!==Yn&&o!==ba&&He(n);for(var s=[],l=0,c=i.count();l<c;l++)s.push(i.getRawDataItem(l));return s.sort(function(u,h){for(var f=0;f<a.length;f++){var p=a[f],m=i.retrieveValueFromItem(u,p.dimIdx),b=i.retrieveValueFromItem(h,p.dimIdx);p.parser&&(m=p.parser(m),b=p.parser(b));var _=p.comparator.evaluate(m,b);if(0!==_)return _}return 0}),{data:s}}},Itt=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return ot(i,e),i.prototype.init=function(t,n,r){e.prototype.init.call(this,t,n,r),this._sourceManager=new o2(this),s2(this)},i.prototype.mergeOption=function(t,n){e.prototype.mergeOption.call(this,t,n),s2(this)},i.prototype.optionUpdated=function(){this._sourceManager.dirty()},i.prototype.getSourceManager=function(){return this._sourceManager},i.type="dataset",i.defaultOption={seriesLayoutBy:Uo},i}(Oe),Ott=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return ot(i,e),i.type="dataset",i}(Mi),es=Yo.CMD;function fd(e,i){return Math.abs(e-i)<1e-5}function Kb(e){var r,j,J,tt,et,lt,st,ut,vt,_t,St,Et,Ft,ne,Vt,bt,kt,Tt,i=e.data,t=e.len(),n=[],a=0,o=0,s=0,l=0;function c(j,J){r&&r.length>2&&n.push(r),r=[j,J]}function u(j,J,tt,et){fd(j,tt)&&fd(J,et)||r.push(j,J,tt,et,tt,et)}for(var f,p,m,b,_=0;_<t;){var w=i[_++],T=1===_;switch(T&&(s=a=i[_],l=o=i[_+1],(w===es.L||w===es.C||w===es.Q)&&(r=[s,l])),w){case es.M:a=s=i[_++],o=l=i[_++],c(s,l);break;case es.L:u(a,o,f=i[_++],p=i[_++]),a=f,o=p;break;case es.C:r.push(i[_++],i[_++],i[_++],i[_++],a=i[_++],o=i[_++]);break;case es.Q:f=i[_++],p=i[_++],m=i[_++],b=i[_++],r.push(a+2/3*(f-a),o+2/3*(p-o),m+2/3*(f-m),b+2/3*(p-b),m,b),a=m,o=b;break;case es.A:var A=i[_++],P=i[_++],F=i[_++],O=i[_++],V=i[_++],N=i[_++]+V;_+=1;var G=!i[_++];f=Math.cos(V)*F+A,p=Math.sin(V)*O+P,T?c(s=f,l=p):u(a,o,f,p),a=Math.cos(N)*F+A,o=Math.sin(N)*O+P;for(var H=(G?-1:1)*Math.PI/2,X=V;G?X>N:X<N;X+=H){j=X,J=G?Math.max(X+H,N):Math.min(X+H,N),tt=A,et=P,lt=F,st=O,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ut=Math.abs(J-j),vt=4*Math.tan(ut/4)/3,_t=J<j?-1:1,St=Math.cos(j),Et=Math.sin(j),Ft=Math.cos(J),ne=Math.sin(J),r.push(St*lt+tt-(kt=lt*vt*_t)*Et,Et*st+et+(Tt=st*vt*_t)*St,(Vt=Ft*lt+tt)+kt*ne,(bt=ne*st+et)-Tt*Ft,Vt,bt)}break;case es.R:s=a=i[_++],l=o=i[_++],f=s+i[_++],p=l+i[_++],c(f,l),u(f,l,f,p),u(f,p,s,p),u(s,p,s,l),u(s,l,f,l);break;case es.Z:r&&u(a,o,s,l),a=s,o=l}}return r&&r.length>2&&n.push(r),n}function Qb(e,i,t,n,r,a,o,s,l,c){if(fd(e,t)&&fd(i,n)&&fd(r,o)&&fd(a,s))l.push(o,s);else{var u=2/c,h=u*u,f=o-e,p=s-i,m=Math.sqrt(f*f+p*p);f/=m,p/=m;var b=t-e,_=n-i,w=r-o,T=a-s,A=b*b+_*_,P=w*w+T*T;if(A<h&&P<h)l.push(o,s);else{var F=f*b+p*_,O=-f*w-p*T;if(A-F*F<h&&F>=0&&P-O*O<h&&O>=0)l.push(o,s);else{var G=[],H=[];R(e,t,r,o,.5,G),R(i,n,a,s,.5,H),Qb(G[0],H[0],G[1],H[1],G[2],H[2],G[3],H[3],l,c),Qb(G[4],H[4],G[5],H[5],G[6],H[6],G[7],H[7],l,c)}}}}function oF(e,i,t){var a=Math.abs(e[i]/e[1-i]),o=Math.ceil(Math.sqrt(a*t)),s=Math.floor(t/o);0===s&&(s=1,o=t);for(var l=[],c=0;c<o;c++)l.push(s);var h=t-o*s;if(h>0)for(c=0;c<h;c++)l[c%o]+=1;return l}function sF(e,i,t){for(var n=e.r0,r=e.r,a=e.startAngle,s=Math.abs(e.endAngle-a),l=s*r,c=r-n,u=l>Math.abs(c),h=oF([l,c],u?0:1,i),f=(u?s:c)/h.length,p=0;p<h.length;p++)for(var m=(u?c:s)/h[p],b=0;b<h[p];b++){var _={};u?(_.startAngle=a+f*p,_.endAngle=a+f*(p+1),_.r0=n+m*b,_.r=n+m*(b+1)):(_.startAngle=a+m*b,_.endAngle=a+m*(b+1),_.r0=n+f*p,_.r=n+f*(p+1)),_.clockwise=e.clockwise,_.cx=e.cx,_.cy=e.cy,t.push(_)}}function lF(e,i,t,n){return e*n-t*i}function Btt(e,i,t,n,r,a,o,s){var l=t-e,c=n-i,u=o-r,h=s-a,f=lF(u,h,l,c);if(Math.abs(f)<1e-6)return null;var b=lF(e-r,i-a,u,h)/f;return b<0||b>1?null:new ee(b*l+e,b*c+i)}function Vtt(e,i,t){var n=new ee;ee.sub(n,t,i),n.normalize();var r=new ee;return ee.sub(r,e,i),r.dot(n)}function pd(e,i){var t=e[e.length-1];t&&t[0]===i[0]&&t[1]===i[1]||e.push(i)}function cF(e){var i=e.points,t=[],n=[];dg(i,t,n);var r=new $t(t[0],t[1],n[0]-t[0],n[1]-t[1]),a=r.width,o=r.height,s=r.x,l=r.y,c=new ee,u=new ee;return a>o?(c.x=u.x=s+a/2,c.y=l,u.y=l+o):(c.y=u.y=l+o/2,c.x=s,u.x=s+a),function ztt(e,i,t){for(var n=e.length,r=[],a=0;a<n;a++){var o=e[a],s=e[(a+1)%n],l=Btt(o[0],o[1],s[0],s[1],i.x,i.y,t.x,t.y);l&&r.push({projPt:Vtt(l,i,t),pt:l,idx:a})}if(r.length<2)return[{points:e},{points:e}];r.sort(function(_,w){return _.projPt-w.projPt});var c=r[0],u=r[r.length-1];if(u.idx<c.idx){var h=c;c=u,u=h}var f=[c.pt.x,c.pt.y],p=[u.pt.x,u.pt.y],m=[f],b=[p];for(a=c.idx+1;a<=u.idx;a++)pd(m,e[a].slice());for(pd(m,p),pd(m,f),a=u.idx+1;a<=c.idx+n;a++)pd(b,e[a%n].slice());return pd(b,f),pd(b,p),[{points:m},{points:b}]}(i,c,u)}function km(e,i,t,n){if(1===t)n.push(i);else{var r=Math.floor(t/2),a=e(i);km(e,a[0],r,n),km(e,a[1],t-r,n)}return n}function Gtt(e,i){i.setStyle(e.style),i.z=e.z,i.z2=e.z2,i.zlevel=e.zlevel}function Ytt(e,i){var t=e.length,n=i.length;if(t===n)return[e,i];for(var r=[],a=[],o=t<n?e:i,s=Math.min(t,n),l=Math.abs(n-t)/6,u=Math.ceil(l/((s-2)/6))+1,h=[o[0],o[1]],f=l,p=2;p<s;){var m=o[p-2],b=o[p-1],_=o[p++],w=o[p++],T=o[p++],A=o[p++],P=o[p++],F=o[p++];if(f<=0)h.push(_,w,T,A,P,F);else{for(var O=Math.min(f,u-1)+1,V=1;V<=O;V++){var N=V/O;R(m,_,T,P,N,r),R(b,w,A,F,N,a),h.push(r[1],a[1],r[2],a[2],m=r[3],b=a[3]),_=r[5],w=a[5],T=r[6],A=a[6]}f-=O-1}}return o===e?[h,i]:[e,h]}function uF(e,i){for(var t=e.length,n=e[t-2],r=e[t-1],a=[],o=0;o<i.length;)a[o++]=n,a[o++]=r;return a}function hF(e){for(var i=0,t=0,n=0,r=e.length,a=0,o=r-2;a<r;o=a,a+=2){var s=e[o],l=e[o+1],c=e[a],u=e[a+1],h=s*u-c*l;i+=h,t+=(s+c)*h,n+=(l+u)*h}return 0===i?[e[0]||0,e[1]||0]:[t/i/3,n/i/3,i]}function Utt(e,i,t,n){for(var r=(e.length-2)/6,a=1/0,o=0,s=e.length,l=s-2,c=0;c<r;c++){for(var u=6*c,h=0,f=0;f<s;f+=2){var p=0===f?u:(u+f-2)%l+2,T=i[f]-n[0]-(e[p]-t[0]),A=i[f+1]-n[1]-(e[p+1]-t[1]);h+=T*T+A*A}h<a&&(a=h,o=c)}return o}function Ztt(e){for(var i=[],t=e.length,n=0;n<t;n+=2)i[n]=e[t-n-2],i[n+1]=e[t-n-1];return i}function Dm(e){return e.__isCombineMorphing}var dF="__mOriginal_";function Pm(e,i,t){var n=dF+i,r=e[n]||e[i];e[n]||(e[n]=e[i]);var a=t.replace,o=t.after,s=t.before;e[i]=function(){var c,l=arguments;return s&&s.apply(this,l),c=a?a.apply(this,l):r.apply(this,l),o&&o.apply(this,l),c}}function Mp(e,i){var t=dF+i;e[t]&&(e[i]=e[t],e[t]=null)}function fF(e,i){for(var t=0;t<e.length;t++)for(var n=e[t],r=0;r<n.length;){var a=n[r],o=n[r+1];n[r++]=i[0]*a+i[2]*o+i[4],n[r++]=i[1]*a+i[3]*o+i[5]}}function pF(e,i){var t=e.getUpdatedPathProxy(),n=i.getUpdatedPathProxy(),r=function Xtt(e,i){for(var t,n,r,a=[],o=[],s=0;s<Math.max(e.length,i.length);s++){var l=e[s],c=i[s],u=void 0,h=void 0;l?c?(n=u=(t=Ytt(l,c))[0],r=h=t[1]):(h=uF(r||l,l),u=l):(u=uF(n||c,c),h=c),a.push(u),o.push(h)}return[a,o]}(Kb(t),Kb(n)),a=r[0],o=r[1],s=e.getComputedTransform(),l=i.getComputedTransform();s&&fF(a,s),l&&fF(o,l),Pm(i,"updateTransform",{replace:function c(){this.transform=null}}),i.transform=null;var u=function $tt(e,i,t,n){for(var a,r=[],o=0;o<e.length;o++){var s=e[o],l=i[o],c=hF(s),u=hF(l);null==a&&(a=c[2]<0!=u[2]<0);var h=[],f=[],p=0,m=1/0,b=[],_=s.length;a&&(s=Ztt(s));for(var w=6*Utt(s,l,c,u),T=_-2,A=0;A<T;A+=2){var P=(w+A)%T+2;h[A+2]=s[P]-c[0],h[A+3]=s[P+1]-c[1]}if(h[0]=s[w]-c[0],h[1]=s[w+1]-c[1],t>0)for(var F=n/t,O=-n/2;O<=n/2;O+=F){var V=Math.sin(O),N=Math.cos(O),G=0;for(A=0;A<s.length;A+=2){var H=h[A],X=h[A+1],q=l[A]-u[0],j=l[A+1]-u[1],J=q*N-j*V,tt=q*V+j*N;b[A]=J,b[A+1]=tt;var et=J-H,lt=tt-X;G+=et*et+lt*lt}if(G<m){m=G,p=O;for(var st=0;st<b.length;st++)f[st]=b[st]}}else for(var ut=0;ut<_;ut+=2)f[ut]=l[ut]-u[0],f[ut+1]=l[ut+1]-u[1];r.push({from:h,to:f,fromCp:c,toCp:u,rotation:-p})}return r}(a,o,10,Math.PI),h=[];Pm(i,"buildPath",{replace:function(f){for(var p=i.__morphT,m=1-p,b=[],_=0;_<u.length;_++){var w=u[_],T=w.from,A=w.to,P=w.rotation*p,F=w.fromCp,O=w.toCp,V=Math.sin(P),N=Math.cos(P);wn(b,F,O,p);for(var G=0;G<T.length;G+=2){var J=T[G]*m+(q=A[G])*p,tt=T[G+1]*m+(j=A[G+1])*p;h[G]=J*N-tt*V+b[0],h[G+1]=J*V+tt*N+b[1]}var et=h[0],lt=h[1];for(f.moveTo(et,lt),G=2;G<T.length;){var q=h[G++],j=h[G++],st=h[G++],ut=h[G++],vt=h[G++],_t=h[G++];et===q&&lt===j&&st===vt&&ut===_t?f.lineTo(vt,_t):f.bezierCurveTo(q,j,st,ut,vt,_t),et=vt,lt=_t}}}})}function Jb(e,i,t){if(!e||!i)return i;var n=t.done,r=t.during;return pF(e,i),i.__morphT=0,i.animateTo({__morphT:1},Rt({during:function(o){i.dirtyShape(),r&&r(o)},done:function(){(function a(){Mp(i,"buildPath"),Mp(i,"updateTransform"),i.__morphT=-1,i.createPathProxy(),i.dirtyShape()})(),n&&n()}},t)),i}function jtt(e,i,t,n,r,a){e=r===t?0:Math.round(32767*(e-t)/(r-t)),i=a===n?0:Math.round(32767*(i-n)/(a-n));for(var l,s=0,c=32768;c>0;c/=2){var u=0,h=0;(e&c)>0&&(u=1),(i&c)>0&&(h=1),s+=c*c*(3*u^h),0===h&&(1===u&&(e=c-1-e,i=c-1-i),l=e,e=i,i=l)}return s}function Im(e){var i=1/0,t=1/0,n=-1/0,r=-1/0,a=mt(e,function(s){var l=s.getBoundingRect(),c=s.getComputedTransform(),u=l.x+l.width/2+(c?c[4]:0),h=l.y+l.height/2+(c?c[5]:0);return i=Math.min(u,i),t=Math.min(h,t),n=Math.max(u,n),r=Math.max(h,r),[u,h]});return mt(a,function(s,l){return{cp:s,z:jtt(s[0],s[1],i,t,n,r),path:e[l]}}).sort(function(s,l){return s.z-l.z}).map(function(s){return s.path})}function gF(e){return function Wtt(e,i){var r,t=[],n=e.shape;switch(e.type){case"rect":(function Rtt(e,i,t){for(var n=e.width,r=e.height,a=n>r,o=oF([n,r],a?0:1,i),s=a?"width":"height",l=a?"height":"width",c=a?"x":"y",u=a?"y":"x",h=e[s]/o.length,f=0;f<o.length;f++)for(var p=e[l]/o[f],m=0;m<o[f];m++){var b={};b[c]=f*h,b[u]=m*p,b[s]=h,b[l]=p,b.x+=e.x,b.y+=e.y,t.push(b)}})(n,i,t),r=De;break;case"sector":sF(n,i,t),r=kr;break;case"circle":sF({r0:0,r:n.r,startAngle:0,endAngle:2*Math.PI,cx:n.cx,cy:n.cy},i,t),r=kr;break;default:var a=e.getComputedTransform(),o=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,s=mt(function Ftt(e,i){var t=Kb(e),n=[];i=i||1;for(var r=0;r<t.length;r++){var a=t[r],o=[],s=a[0],l=a[1];o.push(s,l);for(var c=2;c<a.length;){var u=a[c++],h=a[c++],f=a[c++],p=a[c++],m=a[c++],b=a[c++];Qb(s,l,u,h,f,p,m,b,o,i),s=m,l=b}n.push(o)}return n}(e.getUpdatedPathProxy(),o),function(w){return function Htt(e){for(var i=[],t=0;t<e.length;)i.push([e[t++],e[t++]]);return i}(w)}),l=s.length;if(0===l)km(cF,{points:s[0]},i,t);else if(l===i)for(var c=0;c<l;c++)t.push({points:s[c]});else{var u=0,h=mt(s,function(w){var T=[],A=[];dg(w,T,A);var P=(A[1]-T[1])*(A[0]-T[0]);return u+=P,{poly:w,area:P}});h.sort(function(w,T){return T.area-w.area});var f=i;for(c=0;c<l;c++){var p=h[c];if(f<=0)break;var m=c===l-1?f:Math.ceil(p.area/u*i);m<0||(km(cF,{points:p.poly},m,t),f-=m)}}r=Dr}if(!r)return function Ntt(e,i){for(var t=[],n=0;n<i;n++)t.push(r0(e));return t}(e,i);var b=[];for(c=0;c<t.length;c++){var _=new r;_.setShape(t[c]),Gtt(e,_),b.push(_)}return b}(e.path,e.count)}function vF(e){return yt(e[0])}function mF(e,i){for(var t=[],n=e.length,r=0;r<n;r++)t.push({one:e[r],many:[]});for(r=0;r<i.length;r++){var a=i[r].length,o=void 0;for(o=0;o<a;o++)t[o%n].many.push(i[r][o])}var s=0;for(r=n-1;r>=0;r--)if(!t[r].many.length){var l=t[s].many;if(l.length<=1){if(!s)return t;s=0}a=l.length;var c=Math.ceil(a/2);t[r].many=l.slice(c,a),t[s].many=l.slice(0,c),s++}return t}var Qtt={clone:function(e){for(var i=[],t=1-Math.pow(1-e.path.style.opacity,1/e.count),n=0;n<e.count;n++){var r=r0(e.path);r.setStyle("opacity",t),i.push(r)}return i},split:null};function eC(e,i,t,n,r,a){if(e.length&&i.length){var o=bh("update",n,r);if(o&&o.duration>0){var c,u,s=n.getModel("universalTransition").get("delay"),l=Object.assign({setToFinal:!0},o);vF(e)&&(c=e,u=i),vF(i)&&(c=i,u=e);for(var f=c?c===e:e.length>i.length,p=c?mF(u,c):mF(f?i:e,[f?e:i]),m=0,b=0;b<p.length;b++)m+=p[b].many.length;var _=0;for(b=0;b<p.length;b++)h(p[b],f,_,m),_+=p[b].many.length}}function h(w,T,A,P,F){var O=w.many,V=w.one;if(1!==O.length||F)for(var X=Rt({dividePath:Qtt[t],individualDelay:s&&function(lt,st,ut,vt){return s(lt+A,P)}},l),q=T?function qtt(e,i,t){var n=[];!function r(F){for(var O=0;O<F.length;O++){var V=F[O];Dm(V)?r(V.childrenRef()):V instanceof ge&&n.push(V)}}(e);var a=n.length;if(!a)return{fromIndividuals:[],toIndividuals:[],count:0};var s=(t.dividePath||gF)({path:i,count:a});if(s.length!==a)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};n=Im(n),s=Im(s);for(var l=t.done,c=t.during,u=t.individualDelay,h=new As,f=0;f<a;f++){var p=n[f],m=s[f];m.parent=i,m.copyTransform(h),u||pF(p,m)}function b(F){for(var O=0;O<s.length;O++)s[O].addSelfToZr(F)}function _(){i.__isCombineMorphing=!1,i.__morphT=-1,i.childrenRef=null,Mp(i,"addSelfToZr"),Mp(i,"removeSelfFromZr")}i.__isCombineMorphing=!0,i.childrenRef=function(){return s},Pm(i,"addSelfToZr",{after:function(F){b(F)}}),Pm(i,"removeSelfFromZr",{after:function(F){for(var O=0;O<s.length;O++)s[O].removeSelfFromZr(F)}});var w=s.length;if(u){var T=w,A=function(){0==--T&&(_(),l&&l())};for(f=0;f<w;f++){var P=u?Rt({delay:(t.delay||0)+u(f,w,n[f],s[f]),done:A},t):t;Jb(n[f],s[f],P)}}else i.__morphT=0,i.animateTo({__morphT:1},Rt({during:function(F){for(var O=0;O<w;O++){var V=s[O];V.__morphT=i.__morphT,V.dirtyShape()}c&&c(F)},done:function(){_();for(var F=0;F<e.length;F++)Mp(e[F],"updateTransform");l&&l()}},t));return i.__zr&&b(i.__zr),{fromIndividuals:n,toIndividuals:s,count:w}}(O,V,X):function Ktt(e,i,t){var n=i.length,r=[],a=t.dividePath||gF;if(Dm(e)){!function o(p){for(var m=0;m<p.length;m++){var b=p[m];Dm(b)?o(b.childrenRef()):b instanceof ge&&r.push(b)}}(e.childrenRef());var s=r.length;if(s<n)for(var l=0,c=s;c<n;c++)r.push(r0(r[l++%s]));r.length=n}else{r=a({path:e,count:n});var u=e.getComputedTransform();for(c=0;c<r.length;c++)r[c].setLocalTransform(u);if(r.length!==n)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}r=Im(r),i=Im(i);var h=t.individualDelay;for(c=0;c<n;c++){var f=h?Rt({delay:(t.delay||0)+h(c,n,r[c],i[c])},t):t;Jb(r[c],i[c],f)}return{fromIndividuals:r,toIndividuals:i,count:i.length}}(V,O,X),j=q.fromIndividuals,J=q.toIndividuals,tt=j.length,et=0;et<tt;et++)H=s?Rt({delay:s(et,tt)},l):l,a(j[et],J[et],T?O[et]:w.one,T?w.one:O[et],H);else{var H,N=T?O[0]:V,G=T?V:O[0];Dm(N)?h({many:[N],one:G},!0,A,P,!0):(Jb(N,G,H=s?Rt({delay:s(A,P)},l):l),a(N,G,N,G,H))}}}function Du(e){if(!e)return[];if(yt(e)){for(var i=[],t=0;t<e.length;t++)i.push(Du(e[t]));return i}var n=[];return e.traverse(function(r){r instanceof ge&&!r.disableMorphing&&!r.invisible&&!r.ignore&&n.push(r)}),n}var yF=1e4,Jtt=0,_F=1,xF=2,tet=Le();function bF(e,i,t,n){var a=function eet(e,i){for(var t=e.dimensions,n=0;n<t.length;n++){var r=e.getDimensionInfo(t[n]);if(r&&0===r.otherDims[i])return t[n]}}(e,n?"itemChildGroupId":"itemGroupId");if(a){var o=function iet(e,i,t){var n=e.getDimensionInfo(t),r=n&&n.ordinalMeta;if(n){var a=e.get(n.name,i);return r&&r.categories[a]||a+""}}(e,i,a);return o}var s=e.getRawDataItem(i),l=n?"childGroupId":"groupId";return s&&s[l]?s[l]+"":n?void 0:t||e.getId(i)}function CF(e){var i=[];return U(e,function(t){var n=t.data,r=t.dataGroupId;if(!(n.count()>yF))for(var a=n.getIndices(),o=0;o<a.length;o++)i.push({data:n,groupId:bF(n,o,r,!1),childGroupId:bF(n,o,r,!0),divide:t.divide,dataIndex:o})}),i}function iC(e,i,t){e.traverse(function(n){n instanceof ge&&pi(n,{style:{opacity:0}},i,{dataIndex:t,isFrom:!0})})}function nC(e){if(e.parent){var i=e.getComputedTransform();e.setLocalTransform(i),e.parent.remove(e)}}function gd(e){e.stopAnimation(),e.isGroup&&e.traverse(function(i){i.stopAnimation()})}function SF(e,i,t){var n=CF(e),r=CF(i);function a(A,P,F,O,V){(F||A)&&P.animateFrom({style:F&&F!==A?ft(ft({},F.style),A.style):A.style},V)}var o=!1,s=Jtt,l=Mt(),c=Mt();n.forEach(function(A){A.groupId&&l.set(A.groupId,!0),A.childGroupId&&c.set(A.childGroupId,!0)});for(var u=0;u<r.length;u++){if(c.get(r[u].groupId)){s=_F;break}var f=r[u].childGroupId;if(f&&l.get(f)){s=xF;break}}function p(A,P){return function(F){return P?F.data.getId(F.dataIndex):A?s===_F?F.childGroupId:F.groupId:s===xF?F.childGroupId:F.groupId}}var m=function ret(e,i){var t=e.length;if(t!==i.length)return!1;for(var n=0;n<t;n++){var r=e[n],a=i[n];if(r.data.getId(r.dataIndex)!==a.data.getId(a.dataIndex))return!1}return!0}(n,r),b={};if(!m)for(u=0;u<r.length;u++){var _=r[u],w=_.data.getItemGraphicEl(_.dataIndex);w&&(b[w.id]=!0)}function T(A,P){var F=n[P],O=r[A],V=O.data.hostModel,N=F.data.getItemGraphicEl(F.dataIndex),G=O.data.getItemGraphicEl(O.dataIndex);N!==G?N&&b[N.id]||G&&(gd(G),N?(gd(N),nC(N),o=!0,eC(Du(N),Du(G),O.divide,V,A,a)):iC(G,V,A)):G&&function net(e,i,t){var n=bh("update",t,i);n&&e.traverse(function(r){if(r instanceof ma){var a=function QV(e){return Fw(e).oldStyle}(r);a&&r.animateFrom({style:a},n)}})}(G,O.dataIndex,V)}new Rs(n,r,p(!0,m),p(!1,m),null,"multiple").update(T).updateManyToOne(function(A,P){var F=r[A],O=F.data,V=O.hostModel,N=O.getItemGraphicEl(F.dataIndex),G=ve(mt(P,function(H){return n[H].data.getItemGraphicEl(n[H].dataIndex)}),function(H){return H&&H!==N&&!b[H.id]});N&&(gd(N),G.length?(U(G,function(H){gd(H),nC(H)}),o=!0,eC(Du(G),Du(N),F.divide,V,A,a)):iC(N,V,F.dataIndex))}).updateOneToMany(function(A,P){var F=n[P],O=F.data.getItemGraphicEl(F.dataIndex);if(!O||!b[O.id]){var V=ve(mt(A,function(G){return r[G].data.getItemGraphicEl(r[G].dataIndex)}),function(G){return G&&G!==O}),N=r[A[0]].data.hostModel;V.length&&(U(V,function(G){return gd(G)}),O?(gd(O),nC(O),o=!0,eC(Du(O),Du(V),F.divide,N,A[0],a)):U(V,function(G){return iC(G,N,A[0])}))}}).updateManyToMany(function(A,P){new Rs(P,A,function(F){return n[F].data.getId(n[F].dataIndex)},function(F){return r[F].data.getId(r[F].dataIndex)}).update(function(F,O){T(A[F],P[O])}).execute()}).execute(),o&&U(i,function(A){var F=A.data.hostModel,O=F&&t.getViewOfSeriesModel(F),V=bh("update",F,0);O&&F.isAnimationEnabled()&&V&&V.duration>0&&O.group.traverse(function(N){N instanceof ge&&!N.animators.length&&N.animateFrom({style:{opacity:0}},V)})})}function wF(e){return e.getModel("universalTransition").get("seriesKey")||e.id}function TF(e){return yt(e)?e.sort().join(","):e}function Kl(e){if(e.hostModel)return e.hostModel.getModel("universalTransition").get("divideShape")}function MF(e,i){for(var t=0;t<e.length;t++)if(null!=i.seriesIndex&&i.seriesIndex===e[t].seriesIndex||null!=i.seriesId&&i.seriesId===e[t].id)return t}ue([function _G(e){e.registerPainter("canvas",yG)}]),ue([function eH(e){e.registerPainter("svg",tH)}]),ue([function KH(e){e.registerChartView($H),e.registerSeriesModel(LH),e.registerLayout(Zf("line",!0)),e.registerVisual({seriesType:"line",reset:function(i){var t=i.getData(),n=i.getModel("lineStyle").getLineStyle();n&&!n.stroke&&(n.stroke=t.getVisual("style").fill),t.setVisual("legendLineStyle",n)}}),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,mL("line"))},function _6(e){e.registerChartView(y6),e.registerSeriesModel(n6),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,jt(bL,"bar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,CL("bar")),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,mL("bar")),e.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(i,t){t.eachComponent({mainType:i.componentType||"series",query:i},function(r){i.sortInfo&&r.axis.setCategorySortInfo(i.sortInfo)})})},function I6(e){e.registerChartView(M6),e.registerSeriesModel(D6),vM("pie",e.registerAction),e.registerLayout(jt(x6,"pie")),e.registerProcessor($f("pie")),e.registerProcessor(function P6(e){return{seriesType:e,reset:function(i,t){var n=i.getData();n.filterSelf(function(r){var a=n.mapDimension("value"),o=n.get(a,r);return!(_e(o)&&!isNaN(o)&&o<0)})}}}("pie"))},function e8(e){ue(Pk),e.registerSeriesModel(E6),e.registerChartView(N6),e.registerLayout(Zf("scatter"))},function y8(e){ue(m8),e.registerChartView(a8),e.registerSeriesModel(s8),e.registerLayout(i8),e.registerProcessor($f("radar")),e.registerPreprocessor(n8)},function y7(e){ue(xD),e.registerChartView(i7),e.registerSeriesModel(r7),e.registerLayout(s7),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,o7),vM("map",e.registerAction)},function q7(e){e.registerChartView(I7),e.registerSeriesModel(Y7),e.registerLayout(U7),e.registerVisual($7),function j7(e){e.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(i,t){t.eachComponent({mainType:"series",subType:"tree",query:i},function(n){var r=i.dataIndex,o=n.getData().tree.getNodeByDataIndex(r);o.isExpand=!o.isExpand})}),e.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(i,t,n){t.eachComponent({mainType:"series",subType:"tree",query:i},function(r){var o=Vx(r.coordinateSystem,i,void 0,n);r.setCenter&&r.setCenter(o.center),r.setZoom&&r.setZoom(o.zoom)})})}(e)},function R9(e){e.registerSeriesModel(t9),e.registerChartView(p9),e.registerVisual(x9),e.registerLayout(L9),function K7(e){for(var i=0;i<DD.length;i++)e.registerAction({type:DD[i],update:"updateView"},Je);e.registerAction({type:"treemapRootToNode",update:"updateView"},function(t,n){n.eachComponent({mainType:"series",subType:"treemap",query:t},function r(a,o){var l=ap(t,["treemapZoomToNode","treemapRootToNode"],a);if(l){var c=a.getViewRoot();c&&(t.direction=Yx(c,l.node)?"rollUp":"drillDown"),a.resetViewRoot(l.node)}})})}(e)},function uY(e){e.registerChartView(rY),e.registerSeriesModel(lY),e.registerProcessor(B9),e.registerVisual(V9),e.registerVisual(z9),e.registerLayout(Y9),e.registerLayout(e.PRIORITY.VISUAL.POST_CHART_LAYOUT,U9),e.registerLayout($9),e.registerCoordinateSystem("graphView",{dimensions:np.dimensions,create:q9}),e.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},Je),e.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},Je),e.registerAction(cY,function(i,t,n){t.eachComponent({mainType:"series",query:i},function(r){var o=Vx(r.coordinateSystem,i,void 0,n);r.setCenter&&r.setCenter(o.center),r.setZoom&&r.setZoom(o.zoom)})})},function _Y(e){e.registerChartView(vY),e.registerSeriesModel(yY)},function DY(e){e.registerChartView(SY),e.registerSeriesModel(TY),e.registerLayout(kY),e.registerProcessor($f("funnel"))},function EX(e){ue(WP),e.registerChartView(FY),e.registerSeriesModel(zY),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,HY)},function sU(e){e.registerChartView(zX),e.registerSeriesModel(GX),e.registerLayout(HX),e.registerVisual(oU),e.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(i,t){t.eachComponent({mainType:"series",subType:"sankey",query:i},function(n){n.setNodePosition(i.dataIndex,[i.localX,i.localY])})})},function xU(e){e.registerSeriesModel(lU),e.registerChartView(fU),e.registerLayout(pU),e.registerTransform(_U)},function NU(e){e.registerChartView(AU),e.registerSeriesModel(LU),e.registerPreprocessor(kU),e.registerVisual(RU),e.registerLayout(zU)},function ZU(e){e.registerChartView(YU),e.registerSeriesModel(UU),e.registerLayout(Zf("effectScatter"))},function hZ(e){e.registerChartView(rZ),e.registerSeriesModel(lZ),e.registerLayout(nI),e.registerVisual(uZ)},function bZ(e){e.registerChartView(yZ),e.registerSeriesModel(xZ)},function EZ(e){e.registerChartView(PZ),e.registerSeriesModel(OZ),e.registerLayout(e.PRIORITY.VISUAL.LAYOUT,jt(bL,"pictorialBar")),e.registerLayout(e.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,CL("pictorialBar"))},function HZ(e){e.registerChartView(BZ),e.registerSeriesModel(zZ),e.registerLayout(NZ),e.registerProcessor($f("themeRiver"))},function e$(e){e.registerChartView(jZ),e.registerSeriesModel(KZ),e.registerLayout(jt(QZ,"sunburst")),e.registerProcessor(jt($f,"sunburst")),e.registerVisual(t$),function ZZ(e){e.registerAction({type:W1,update:"updateView"},function(i,t){t.eachComponent({mainType:"series",subType:"sunburst",query:i},function n(r,a){var o=ap(i,[W1],r);if(o){var s=r.getViewRoot();s&&(i.direction=Yx(s,o.node)?"rollUp":"drillDown"),r.resetViewRoot(o.node)}})}),e.registerAction({type:bI,update:"none"},function(i,t,n){i=ft({},i),t.eachComponent({mainType:"series",subType:"sunburst",query:i},function r(a){var o=ap(i,[bI],a);o&&(i.dataIndex=o.node.dataIndex)}),n.dispatchAction(ft(i,{type:"highlight"}))}),e.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(i,t,n){i=ft({},i),n.dispatchAction(ft(i,{type:"downplay"}))})}(e)},function N$(e){e.registerChartView(k$),e.registerSeriesModel(r$)}]),ue(function cj(e){ue(Pk),ue(mp)}),ue(function Yj(e){ue(mp),mu.registerAxisPointerClass("PolarAxisPointer",fj),e.registerCoordinateSystem("polar",Aj),e.registerComponentModel(gj),e.registerComponentView(Wj),Kh(e,"angle",vj,Gj),Kh(e,"radius",mj,Hj),e.registerComponentView(Pj),e.registerComponentView(Bj),e.registerLayout(jt(Nj,"bar"))}),ue(xD),ue(function lq(e){ue(mp),mu.registerAxisPointerClass("SingleAxisPointer",oq),e.registerComponentView(sq),e.registerComponentView(jj),e.registerComponentModel(fb),Kh(e,"single",fb,fb.defaultOption),e.registerCoordinateSystem("single",iq)}),ue(WP),ue(function gq(e){e.registerComponentModel(uq),e.registerComponentView(dq),e.registerCoordinateSystem("calendar",pq)}),ue(function wq(e){e.registerComponentModel(xq),e.registerComponentView(bq),e.registerPreprocessor(function(i){var t=i.graphic;yt(t)?i.graphic=t[0]&&t[0].elements?[i.graphic[0]]:[{elements:t}]:t&&!t.elements&&(i.graphic=[{elements:[t]}])})}),ue(function TK(e){e.registerComponentModel(Hq),e.registerComponentView(Uq),cd("saveAsImage",$q),cd("magicType",Kq),cd("dataView",lK),cd("dataZoom",wK),cd("restore",pK),ue(Nq)}),ue(function $K(e){ue(mp),e.registerComponentModel(AK),e.registerComponentView(ZK),e.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},Je),e.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},Je)}),ue(mp),ue(function pQ(e){e.registerComponentView(sQ),e.registerComponentModel(uQ),e.registerPreprocessor(qK),e.registerVisual(e.PRIORITY.VISUAL.BRUSH,eQ),e.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(i,t){t.eachComponent({mainType:"brush",query:i},function(n){n.setAreas(i.areas)})}),e.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},Je),e.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},Je),cd("brush",fQ)}),ue(function mQ(e){e.registerComponentModel(gQ),e.registerComponentView(vQ)}),ue(function IQ(e){e.registerComponentModel(_Q),e.registerComponentView(LQ),e.registerSubTypeDefaulter("timeline",function(){return"slider"}),function kQ(e){e.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(i,t,n){var r=t.getComponent("timeline");return r&&null!=i.currentIndex&&(r.setCurrentIndex(i.currentIndex),!r.get("loop",!0)&&r.isIndexMax()&&r.getPlayState()&&(r.setPlayState(!1),n.dispatchAction({type:"timelinePlayChange",playState:!1,from:i.from}))),t.resetOption("timeline",{replaceMerge:r.get("replaceMerge",!0)}),Rt({currentIndex:r.option.currentIndex},i)}),e.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(i,t){var n=t.getComponent("timeline");n&&null!=i.playState&&n.setPlayState(i.playState)})}(e),e.registerPreprocessor(DQ)}),ue(function HQ(e){e.registerComponentModel(EQ),e.registerComponentView(GQ),e.registerPreprocessor(function(i){Ib(i.series,"markPoint")&&(i.markPoint=i.markPoint||{})})}),ue(function qQ(e){e.registerComponentModel(YQ),e.registerComponentView(jQ),e.registerPreprocessor(function(i){Ib(i.series,"markLine")&&(i.markLine=i.markLine||{})})}),ue(function rJ(e){e.registerComponentModel(QQ),e.registerComponentView(nJ),e.registerPreprocessor(function(i){Ib(i.series,"markArea")&&(i.markArea=i.markArea||{})})}),ue(function yJ(e){ue(LE),ue(mJ)}),ue(function NJ(e){ue(OE),ue(BE)}),ue(OE),ue(BE),ue(function ftt(e){ue(JE),ue(eF)}),ue(JE),ue(eF),ue(function ytt(e){e.registerPreprocessor(mtt),e.registerVisual(e.PRIORITY.VISUAL.ARIA,vtt)}),ue(function Ptt(e){e.registerTransform(ktt),e.registerTransform(Dtt)}),ue(function Ett(e){e.registerComponentModel(Itt),e.registerComponentView(Ott)}),ue(function set(e){e.registerUpdateLifecycle("series:beforeupdate",function(i,t,n){U(je(n.seriesTransition),function(r){U(je(r.to),function(a){for(var o=n.updatedSeries,s=0;s<o.length;s++)(null!=a.seriesIndex&&a.seriesIndex===o[s].seriesIndex||null!=a.seriesId&&a.seriesId===o[s].id)&&(o[s][Vg]=!0)})})}),e.registerUpdateLifecycle("series:transition",function(i,t,n){var r=tet(t);if(r.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)U(je(a),function(p){!function oet(e,i,t,n){var r=[],a=[];U(je(e.from),function(o){var s=MF(i.oldSeries,o);s>=0&&r.push({dataGroupId:i.oldDataGroupIds[s],data:i.oldData[s],divide:Kl(i.oldData[s]),groupIdDim:o.dimension})}),U(je(e.to),function(o){var s=MF(t.updatedSeries,o);if(s>=0){var l=t.updatedSeries[s].getData();a.push({dataGroupId:i.oldDataGroupIds[s],data:l,divide:Kl(l),groupIdDim:o.dimension})}}),r.length>0&&a.length>0&&SF(r,a,n)}(p,r,n,t)});else{var o=function aet(e,i){var t=Mt(),n=Mt(),r=Mt();return U(e.oldSeries,function(o,s){var l=e.oldDataGroupIds[s],c=e.oldData[s],u=wF(o),h=TF(u);n.set(h,{dataGroupId:l,data:c}),yt(u)&&U(u,function(f){r.set(f,{key:h,dataGroupId:l,data:c})})}),U(i.updatedSeries,function(o){if(o.isUniversalTransitionEnabled()&&o.isAnimationEnabled()){var s=o.get("dataGroupId"),l=o.getData(),c=wF(o),u=TF(c),h=n.get(u);if(h)t.set(u,{oldSeries:[{dataGroupId:h.dataGroupId,divide:Kl(h.data),data:h.data}],newSeries:[{dataGroupId:s,divide:Kl(l),data:l}]});else if(yt(c)){var f=[];U(c,function(b){var _=n.get(b);_.data&&f.push({dataGroupId:_.dataGroupId,divide:Kl(_.data),data:_.data})}),f.length&&t.set(u,{oldSeries:f,newSeries:[{dataGroupId:s,data:l,divide:Kl(l)}]})}else{var p=r.get(c);if(p){var m=t.get(p.key);m||(m={oldSeries:[{dataGroupId:p.dataGroupId,data:p.data,divide:Kl(p.data)}],newSeries:[]},t.set(p.key,m)),m.newSeries.push({dataGroupId:s,data:l,divide:Kl(l)})}}}}),t}(r,n);U(o.keys(),function(p){var m=o.get(p);SF(m.oldSeries,m.newSeries,t)})}U(n.updatedSeries,function(p){p[Vg]&&(p[Vg]=!1)})}for(var s=i.getSeries(),l=r.oldSeries=[],c=r.oldDataGroupIds=[],u=r.oldData=[],h=0;h<s.length;h++){var f=s[h].getData();f.count()<yF&&(l.push(s[h]),c.push(s[h].get("dataGroupId")),u.push(f))}})}),ue(pA);var Om=dt(1086),Em=dt(8896),AF=dt(3753),cet=dt(6498),LF=dt(13),kF=dt(7545);class rC{constructor(i){this._changes=i}static of(i){return new rC(i)}notEmpty(i){if(this._changes[i]){const t=this._changes[i].currentValue;if(null!=t)return(0,Om.of)(t)}return Em.E}has(i){return this._changes[i]?(0,Om.of)(this._changes[i].currentValue):Em.E}notFirst(i){return this._changes[i]&&!this._changes[i].isFirstChange()?(0,Om.of)(this._changes[i].currentValue):Em.E}notFirstAndEmpty(i){if(this._changes[i]&&!this._changes[i].isFirstChange()){const t=this._changes[i].currentValue;if(null!=t)return(0,Om.of)(t)}return Em.E}}let qr=(()=>{class e{constructor(t,n){this.el=t,this.ngZone=n,this.autoResize=!0,this.loadingType="default",this.detectEventChanges=!0,this.chartInit=new y.EventEmitter,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartPieSelectChanged=this.createLazyEvent("pieselectchanged"),this.chartPieSelected=this.createLazyEvent("pieselected"),this.chartPieUnselected=this.createLazyEvent("pieunselected"),this.chartMapSelectChanged=this.createLazyEvent("mapselectchanged"),this.chartMapSelected=this.createLazyEvent("mapselected"),this.chartMapUnselected=this.createLazyEvent("mapunselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartFocusNodeAdjacency=this.createLazyEvent("focusnodeadjacency"),this.chartUnfocusNodeAdjacency=this.createLazyEvent("unfocusnodeadjacency"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.currentOffsetWidth=0,this.currentOffsetHeight=0}ngOnChanges(t){const n=rC.of(t);n.notFirstAndEmpty("options").subscribe(r=>this.onOptionsChange(r)),n.notFirstAndEmpty("merge").subscribe(r=>this.setOption(r)),n.has("loading").subscribe(r=>this.toggleLoading(!!r)),n.notFirst("theme").subscribe(()=>this.refreshChart())}ngOnInit(){this.resizeSub=(0,AF.R)(window,"resize").pipe((0,LF.b)(50)).subscribe(()=>{this.autoResize&&window.innerWidth!==this.currentWindowWidth&&(this.currentWindowWidth=window.innerWidth,this.currentOffsetWidth=this.el.nativeElement.offsetWidth,this.currentOffsetHeight=this.el.nativeElement.offsetHeight,this.resize())})}ngOnDestroy(){this.resizeSub&&this.resizeSub.unsubscribe(),this.dispose()}ngDoCheck(){if(this.chart&&this.autoResize){const t=this.el.nativeElement.offsetWidth,n=this.el.nativeElement.offsetHeight;(this.currentOffsetWidth!==t||this.currentOffsetHeight!==n)&&(this.currentOffsetWidth=t,this.currentOffsetHeight=n,this.resize())}}ngAfterViewInit(){setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(t){this.chart&&(t?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading())}setOption(t,n){this.chart&&this.chart.setOption(t,n)}refreshChart(){this.dispose(),this.initChart()}createChart(){this.currentWindowWidth=window.innerWidth,this.currentOffsetWidth=this.el.nativeElement.offsetWidth,this.currentOffsetHeight=this.el.nativeElement.offsetHeight;const t=this.el.nativeElement;if(window&&window.getComputedStyle){const n=window.getComputedStyle(t,null).getPropertyValue("height");(!n||"0px"===n)&&(!t.style.height||"0px"===t.style.height)&&(t.style.height="400px")}return this.ngZone.runOutsideAngular(()=>function U4(e,i,t){var n=!(t&&t.ssr);if(n){var r=function JM(e){return au[function RB(e,i){return e.getAttribute?e.getAttribute(i):e[i]}(e,I0)]}(e);if(r)return r}var a=new uv(e,i,t);return a.id="ec_"+Y4++,au[a.id]=a,n&&zS(e,I0,a.id),qM(a),co.trigger("afterinit",a),a}(t,this.theme,this.initOpts))}initChart(){this.onOptionsChange(this.options),this.merge&&this.chart&&this.setOption(this.merge)}onOptionsChange(t){t&&(this.chart||(this.chart=this.createChart(),this.chartInit.emit(this.chart)),this.chart.setOption(this.options,!0))}createLazyEvent(t){return this.chartInit.pipe((0,kF.w)(n=>new cet.y(r=>(n.on(t,a=>this.ngZone.run(()=>r.next(a))),()=>n.off(t)))))}}return e.\u0275fac=function(t){return new(t||e)(y.\u0275\u0275directiveInject(y.ElementRef),y.\u0275\u0275directiveInject(y.NgZone))},e.\u0275dir=y.\u0275\u0275defineDirective({type:e,selectors:[["echarts"],["","echarts",""]],inputs:{autoResize:"autoResize",loadingType:"loadingType",detectEventChanges:"detectEventChanges",options:"options",theme:"theme",loading:"loading",initOpts:"initOpts",merge:"merge",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartPieSelectChanged:"chartPieSelectChanged",chartPieSelected:"chartPieSelected",chartPieUnselected:"chartPieUnselected",chartMapSelectChanged:"chartMapSelectChanged",chartMapSelected:"chartMapSelected",chartMapUnselected:"chartMapUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartFocusNodeAdjacency:"chartFocusNodeAdjacency",chartUnfocusNodeAdjacency:"chartUnfocusNodeAdjacency",chartBrush:"chartBrush",chartBrushSelected:"chartBrushSelected",chartRendered:"chartRendered",chartFinished:"chartFinished"},features:[y.\u0275\u0275NgOnChangesFeature]}),e})(),DF=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=y.\u0275\u0275defineInjector({}),e})();var aC=dt(4006);let uet=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=y.\u0275\u0275defineNgModule({type:e});static#i=this.\u0275inj=y.\u0275\u0275defineInjector({imports:[aC.u5,Qt.O,ct.zyh,ct.AE1,ct.T2N,ct.EoG,ct.MAY,ct.YNG,ct.IIj,ct.COg,ct.KdK,ct.T2N,DF]})}return e})();var me=dt(6895),het=dt(7582),PF=dt(4080);function det(){}function oC(e){return null==e?det:function(){return this.querySelector(e)}}function get(){return[]}function IF(e){return null==e?get:function(){return this.querySelectorAll(e)}}function OF(e){return function(){return this.matches(e)}}function EF(e){return function(i){return i.matches(e)}}dt(7340);var yet=Array.prototype.find;function xet(){return this.firstElementChild}var Cet=Array.prototype.filter;function wet(){return Array.from(this.children)}function FF(e){return new Array(e.length)}function Fm(e,i){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=i}function Det(e,i,t,n,r,a){for(var s,o=0,l=i.length,c=a.length;o<c;++o)(s=i[o])?(s.__data__=a[o],n[o]=s):t[o]=new Fm(e,a[o]);for(;o<l;++o)(s=i[o])&&(r[o]=s)}function Pet(e,i,t,n,r,a,o){var s,l,p,c=new Map,u=i.length,h=a.length,f=new Array(u);for(s=0;s<u;++s)(l=i[s])&&(f[s]=p=o.call(l,l.__data__,s,i)+"",c.has(p)?r[s]=l:c.set(p,l));for(s=0;s<h;++s)p=o.call(e,a[s],s,a)+"",(l=c.get(p))?(n[s]=l,l.__data__=a[s],c.delete(p)):t[s]=new Fm(e,a[s]);for(s=0;s<u;++s)(l=i[s])&&c.get(f[s])===l&&(r[s]=l)}function Iet(e){return e.__data__}function Eet(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Net(e,i){return e<i?-1:e>i?1:e>=i?0:NaN}Fm.prototype={constructor:Fm,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,i){return this._parent.insertBefore(e,i)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var sC="http://www.w3.org/1999/xhtml";const RF={svg:"http://www.w3.org/2000/svg",xhtml:sC,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rm(e){var i=e+="",t=i.indexOf(":");return t>=0&&"xmlns"!==(i=e.slice(0,t))&&(e=e.slice(t+1)),RF.hasOwnProperty(i)?{space:RF[i],local:e}:e}function Zet(e){return function(){this.removeAttribute(e)}}function $et(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jet(e,i){return function(){this.setAttribute(e,i)}}function qet(e,i){return function(){this.setAttributeNS(e.space,e.local,i)}}function Ket(e,i){return function(){var t=i.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}function Qet(e,i){return function(){var t=i.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function BF(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function tit(e){return function(){this.style.removeProperty(e)}}function eit(e,i,t){return function(){this.style.setProperty(e,i,t)}}function iit(e,i,t){return function(){var n=i.apply(this,arguments);null==n?this.style.removeProperty(e):this.style.setProperty(e,n,t)}}function vd(e,i){return e.style.getPropertyValue(i)||BF(e).getComputedStyle(e,null).getPropertyValue(i)}function rit(e){return function(){delete this[e]}}function ait(e,i){return function(){this[e]=i}}function oit(e,i){return function(){var t=i.apply(this,arguments);null==t?delete this[e]:this[e]=t}}function VF(e){return e.trim().split(/^|\s+/)}function lC(e){return e.classList||new zF(e)}function zF(e){this._node=e,this._names=VF(e.getAttribute("class")||"")}function NF(e,i){for(var t=lC(e),n=-1,r=i.length;++n<r;)t.add(i[n])}function GF(e,i){for(var t=lC(e),n=-1,r=i.length;++n<r;)t.remove(i[n])}function lit(e){return function(){NF(this,e)}}function cit(e){return function(){GF(this,e)}}function uit(e,i){return function(){(i.apply(this,arguments)?NF:GF)(this,e)}}function dit(){this.textContent=""}function fit(e){return function(){this.textContent=e}}function pit(e){return function(){var i=e.apply(this,arguments);this.textContent=i??""}}function vit(){this.innerHTML=""}function mit(e){return function(){this.innerHTML=e}}function yit(e){return function(){var i=e.apply(this,arguments);this.innerHTML=i??""}}function xit(){this.nextSibling&&this.parentNode.appendChild(this)}function Cit(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wit(e){return function(){var i=this.ownerDocument,t=this.namespaceURI;return t===sC&&i.documentElement.namespaceURI===sC?i.createElement(e):i.createElementNS(t,e)}}function Tit(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function HF(e){var i=Rm(e);return(i.local?Tit:wit)(i)}function Ait(){return null}function kit(){var e=this.parentNode;e&&e.removeChild(this)}function Pit(){var e=this.cloneNode(!1),i=this.parentNode;return i?i.insertBefore(e,this.nextSibling):e}function Iit(){var e=this.cloneNode(!0),i=this.parentNode;return i?i.insertBefore(e,this.nextSibling):e}function Bit(e){return function(){var i=this.__on;if(i){for(var a,t=0,n=-1,r=i.length;t<r;++t)a=i[t],e.type&&a.type!==e.type||a.name!==e.name?i[++n]=a:this.removeEventListener(a.type,a.listener,a.options);++n?i.length=n:delete this.__on}}}function Vit(e,i,t){return function(){var r,n=this.__on,a=function Fit(e){return function(i){e.call(this,i,this.__data__)}}(i);if(n)for(var o=0,s=n.length;o<s;++o)if((r=n[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=t),void(r.value=i);this.addEventListener(e.type,a,t),r={type:e.type,name:e.name,value:i,listener:a,options:t},n?n.push(r):this.__on=[r]}}function WF(e,i,t){var n=BF(e),r=n.CustomEvent;"function"==typeof r?r=new r(i,t):(r=n.document.createEvent("Event"),t?(r.initEvent(i,t.bubbles,t.cancelable),r.detail=t.detail):r.initEvent(i,!1,!1)),e.dispatchEvent(r)}function Nit(e,i){return function(){return WF(this,e,i)}}function Git(e,i){return function(){return WF(this,e,i.apply(this,arguments))}}zF.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var i=this._names.indexOf(e);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var YF=[null];function Kr(e,i){this._groups=e,this._parents=i}function XF(){return new Kr([[document.documentElement]],YF)}Kr.prototype=XF.prototype={constructor:Kr,select:function fet(e){"function"!=typeof e&&(e=oC(e));for(var i=this._groups,t=i.length,n=new Array(t),r=0;r<t;++r)for(var l,c,a=i[r],o=a.length,s=n[r]=new Array(o),u=0;u<o;++u)(l=a[u])&&(c=e.call(l,l.__data__,u,a))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new Kr(n,this._parents)},selectAll:function met(e){e="function"==typeof e?function vet(e){return function(){return function pet(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}(e):IF(e);for(var i=this._groups,t=i.length,n=[],r=[],a=0;a<t;++a)for(var l,o=i[a],s=o.length,c=0;c<s;++c)(l=o[c])&&(n.push(e.call(l,l.__data__,c,o)),r.push(l));return new Kr(n,r)},selectChild:function bet(e){return this.select(null==e?xet:function _et(e){return function(){return yet.call(this.children,e)}}("function"==typeof e?e:EF(e)))},selectChildren:function Met(e){return this.selectAll(null==e?wet:function Tet(e){return function(){return Cet.call(this.children,e)}}("function"==typeof e?e:EF(e)))},filter:function Aet(e){"function"!=typeof e&&(e=OF(e));for(var i=this._groups,t=i.length,n=new Array(t),r=0;r<t;++r)for(var l,a=i[r],o=a.length,s=n[r]=[],c=0;c<o;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new Kr(n,this._parents)},data:function Oet(e,i){if(!arguments.length)return Array.from(this,Iet);var t=i?Pet:Det,n=this._parents,r=this._groups;"function"!=typeof e&&(e=function ket(e){return function(){return e}}(e));for(var a=r.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=n[c],h=r[c],f=h.length,p=Eet(e.call(u,u&&u.__data__,c,n)),m=p.length,b=s[c]=new Array(m),_=o[c]=new Array(m);t(u,h,b,_,l[c]=new Array(f),p,i);for(var P,F,T=0,A=0;T<m;++T)if(P=b[T]){for(T>=A&&(A=T+1);!(F=_[A])&&++A<m;);P._next=F||null}}return(o=new Kr(o,n))._enter=s,o._exit=l,o},enter:function Let(){return new Kr(this._enter||this._groups.map(FF),this._parents)},exit:function Fet(){return new Kr(this._exit||this._groups.map(FF),this._parents)},join:function Ret(e,i,t){var n=this.enter(),r=this,a=this.exit();return"function"==typeof e?(n=e(n))&&(n=n.selection()):n=n.append(e+""),null!=i&&(r=i(r))&&(r=r.selection()),null==t?a.remove():t(a),n&&r?n.merge(r).order():r},merge:function Bet(e){for(var i=e.selection?e.selection():e,t=this._groups,n=i._groups,r=t.length,o=Math.min(r,n.length),s=new Array(r),l=0;l<o;++l)for(var p,c=t[l],u=n[l],h=c.length,f=s[l]=new Array(h),m=0;m<h;++m)(p=c[m]||u[m])&&(f[m]=p);for(;l<r;++l)s[l]=t[l];return new Kr(s,this._parents)},selection:function Yit(){return this},order:function Vet(){for(var e=this._groups,i=-1,t=e.length;++i<t;)for(var o,n=e[i],r=n.length-1,a=n[r];--r>=0;)(o=n[r])&&(a&&4^o.compareDocumentPosition(a)&&a.parentNode.insertBefore(o,a),a=o);return this},sort:function zet(e){function i(h,f){return h&&f?e(h.__data__,f.__data__):!h-!f}e||(e=Net);for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a){for(var c,o=t[a],s=o.length,l=r[a]=new Array(s),u=0;u<s;++u)(c=o[u])&&(l[u]=c);l.sort(i)}return new Kr(r,this._parents).order()},call:function Get(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function Het(){return Array.from(this)},node:function Wet(){for(var e=this._groups,i=0,t=e.length;i<t;++i)for(var n=e[i],r=0,a=n.length;r<a;++r){var o=n[r];if(o)return o}return null},size:function Yet(){let e=0;for(const i of this)++e;return e},empty:function Xet(){return!this.node()},each:function Uet(e){for(var i=this._groups,t=0,n=i.length;t<n;++t)for(var s,r=i[t],a=0,o=r.length;a<o;++a)(s=r[a])&&e.call(s,s.__data__,a,r);return this},attr:function Jet(e,i){var t=Rm(e);if(arguments.length<2){var n=this.node();return t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}return this.each((null==i?t.local?$et:Zet:"function"==typeof i?t.local?Qet:Ket:t.local?qet:jet)(t,i))},style:function nit(e,i,t){return arguments.length>1?this.each((null==i?tit:"function"==typeof i?iit:eit)(e,i,t??"")):vd(this.node(),e)},property:function sit(e,i){return arguments.length>1?this.each((null==i?rit:"function"==typeof i?oit:ait)(e,i)):this.node()[e]},classed:function hit(e,i){var t=VF(e+"");if(arguments.length<2){for(var n=lC(this.node()),r=-1,a=t.length;++r<a;)if(!n.contains(t[r]))return!1;return!0}return this.each(("function"==typeof i?uit:i?lit:cit)(t,i))},text:function git(e){return arguments.length?this.each(null==e?dit:("function"==typeof e?pit:fit)(e)):this.node().textContent},html:function _it(e){return arguments.length?this.each(null==e?vit:("function"==typeof e?yit:mit)(e)):this.node().innerHTML},raise:function bit(){return this.each(xit)},lower:function Sit(){return this.each(Cit)},append:function Mit(e){var i="function"==typeof e?e:HF(e);return this.select(function(){return this.appendChild(i.apply(this,arguments))})},insert:function Lit(e,i){var t="function"==typeof e?e:HF(e),n=null==i?Ait:"function"==typeof i?i:oC(i);return this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})},remove:function Dit(){return this.each(kit)},clone:function Oit(e){return this.select(e?Iit:Pit)},datum:function Eit(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function zit(e,i,t){var r,o,n=function Rit(e){return e.trim().split(/^|\s+/).map(function(i){var t="",n=i.indexOf(".");return n>=0&&(t=i.slice(n+1),i=i.slice(0,n)),{type:i,name:t}})}(e+""),a=n.length;if(!(arguments.length<2)){for(s=i?Vit:Bit,r=0;r<a;++r)this.each(s(n[r],i,t));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((o=n[r]).type===u.type&&o.name===u.name)return u.value},dispatch:function Hit(e,i){return this.each(("function"==typeof i?Git:Nit)(e,i))},[Symbol.iterator]:function*Wit(){for(var e=this._groups,i=0,t=e.length;i<t;++i)for(var o,n=e[i],r=0,a=n.length;r<a;++r)(o=n[r])&&(yield o)}};const Ap=XF;var Xit={value:()=>{}};function UF(){for(var n,e=0,i=arguments.length,t={};e<i;++e){if(!(n=arguments[e]+"")||n in t||/[\s.]/.test(n))throw new Error("illegal type: "+n);t[n]=[]}return new Bm(t)}function Bm(e){this._=e}function Zit(e,i){for(var r,t=0,n=e.length;t<n;++t)if((r=e[t]).name===i)return r.value}function ZF(e,i,t){for(var n=0,r=e.length;n<r;++n)if(e[n].name===i){e[n]=Xit,e=e.slice(0,n).concat(e.slice(n+1));break}return null!=t&&e.push({name:i,value:t}),e}Bm.prototype=UF.prototype={constructor:Bm,on:function(e,i){var r,t=this._,n=function Uit(e,i){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}(e+"",t),a=-1,o=n.length;if(!(arguments.length<2)){if(null!=i&&"function"!=typeof i)throw new Error("invalid callback: "+i);for(;++a<o;)if(r=(e=n[a]).type)t[r]=ZF(t[r],e.name,i);else if(null==i)for(r in t)t[r]=ZF(t[r],e.name,null);return this}for(;++a<o;)if((r=(e=n[a]).type)&&(r=Zit(t[r],e.name)))return r},copy:function(){var e={},i=this._;for(var t in i)e[t]=i[t].slice();return new Bm(e)},call:function(e,i){if((r=arguments.length-2)>0)for(var r,a,t=new Array(r),n=0;n<r;++n)t[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(n=0,r=(a=this._[e]).length;n<r;++n)a[n].value.apply(i,t)},apply:function(e,i,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],r=0,a=n.length;r<a;++r)n[r].value.apply(i,t)}};const $F=UF;function hC(e,i,t){e.prototype=i.prototype=t,t.constructor=e}function jF(e,i){var t=Object.create(e.prototype);for(var n in i)t[n]=i[n];return t}function Lp(){}var Vm=1/.7,md="\\s*([+-]?\\d+)\\s*",Dp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qit=/^#([0-9a-f]{3,8})$/,Kit=new RegExp(`^rgb\\(${md},${md},${md}\\)$`),Qit=new RegExp(`^rgb\\(${is},${is},${is}\\)$`),Jit=new RegExp(`^rgba\\(${md},${md},${md},${Dp}\\)$`),tnt=new RegExp(`^rgba\\(${is},${is},${is},${Dp}\\)$`),ent=new RegExp(`^hsl\\(${Dp},${is},${is}\\)$`),int=new RegExp(`^hsla\\(${Dp},${is},${is},${Dp}\\)$`),qF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function KF(){return this.rgb().formatHex()}function QF(){return this.rgb().formatRgb()}function Pu(e){var i,t;return e=(e+"").trim().toLowerCase(),(i=qit.exec(e))?(t=i[1].length,i=parseInt(i[1],16),6===t?JF(i):3===t?new Rr(i>>8&15|i>>4&240,i>>4&15|240&i,(15&i)<<4|15&i,1):8===t?zm(i>>24&255,i>>16&255,i>>8&255,(255&i)/255):4===t?zm(i>>12&15|i>>8&240,i>>8&15|i>>4&240,i>>4&15|240&i,((15&i)<<4|15&i)/255):null):(i=Kit.exec(e))?new Rr(i[1],i[2],i[3],1):(i=Qit.exec(e))?new Rr(255*i[1]/100,255*i[2]/100,255*i[3]/100,1):(i=Jit.exec(e))?zm(i[1],i[2],i[3],i[4]):(i=tnt.exec(e))?zm(255*i[1]/100,255*i[2]/100,255*i[3]/100,i[4]):(i=ent.exec(e))?iR(i[1],i[2]/100,i[3]/100,1):(i=int.exec(e))?iR(i[1],i[2]/100,i[3]/100,i[4]):qF.hasOwnProperty(e)?JF(qF[e]):"transparent"===e?new Rr(NaN,NaN,NaN,0):null}function JF(e){return new Rr(e>>16&255,e>>8&255,255&e,1)}function zm(e,i,t,n){return n<=0&&(e=i=t=NaN),new Rr(e,i,t,n)}function Nm(e,i,t,n){return 1===arguments.length?function ant(e){return e instanceof Lp||(e=Pu(e)),e?new Rr((e=e.rgb()).r,e.g,e.b,e.opacity):new Rr}(e):new Rr(e,i,t,n??1)}function Rr(e,i,t,n){this.r=+e,this.g=+i,this.b=+t,this.opacity=+n}function tR(){return`#${Ou(this.r)}${Ou(this.g)}${Ou(this.b)}`}function eR(){const e=Gm(this.opacity);return`${1===e?"rgb(":"rgba("}${Iu(this.r)}, ${Iu(this.g)}, ${Iu(this.b)}${1===e?")":`, ${e})`}`}function Gm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Iu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ou(e){return((e=Iu(e))<16?"0":"")+e.toString(16)}function iR(e,i,t,n){return n<=0?e=i=t=NaN:t<=0||t>=1?e=i=NaN:i<=0&&(e=NaN),new vo(e,i,t,n)}function nR(e){if(e instanceof vo)return new vo(e.h,e.s,e.l,e.opacity);if(e instanceof Lp||(e=Pu(e)),!e)return new vo;if(e instanceof vo)return e;var i=(e=e.rgb()).r/255,t=e.g/255,n=e.b/255,r=Math.min(i,t,n),a=Math.max(i,t,n),o=NaN,s=a-r,l=(a+r)/2;return s?(o=i===a?(t-n)/s+6*(t<n):t===a?(n-i)/s+2:(i-t)/s+4,s/=l<.5?a+r:2-a-r,o*=60):s=l>0&&l<1?0:o,new vo(o,s,l,e.opacity)}function vo(e,i,t,n){this.h=+e,this.s=+i,this.l=+t,this.opacity=+n}function rR(e){return(e=(e||0)%360)<0?e+360:e}function Hm(e){return Math.max(0,Math.min(1,e||0))}function dC(e,i,t){return 255*(e<60?i+(t-i)*e/60:e<180?t:e<240?i+(t-i)*(240-e)/60:i)}function aR(e,i,t,n,r){var a=e*e,o=a*e;return((1-3*e+3*a-o)*i+(4-6*a+3*o)*t+(1+3*e+3*a-3*o)*n+o*r)/6}hC(Lp,Pu,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:KF,formatHex:KF,formatHex8:function nnt(){return this.rgb().formatHex8()},formatHsl:function rnt(){return nR(this).formatHsl()},formatRgb:QF,toString:QF}),hC(Rr,Nm,jF(Lp,{brighter(e){return e=null==e?Vm:Math.pow(Vm,e),new Rr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new Rr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rr(Iu(this.r),Iu(this.g),Iu(this.b),Gm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tR,formatHex:tR,formatHex8:function ont(){return`#${Ou(this.r)}${Ou(this.g)}${Ou(this.b)}${Ou(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:eR,toString:eR})),hC(vo,function snt(e,i,t,n){return 1===arguments.length?nR(e):new vo(e,i,t,n??1)},jF(Lp,{brighter(e){return e=null==e?Vm:Math.pow(Vm,e),new vo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new vo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),i=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,n=t+(t<.5?t:1-t)*i,r=2*t-n;return new Rr(dC(e>=240?e-240:e+120,r,n),dC(e,r,n),dC(e<120?e+240:e-120,r,n),this.opacity)},clamp(){return new vo(rR(this.h),Hm(this.s),Hm(this.l),Gm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gm(this.opacity);return`${1===e?"hsl(":"hsla("}${rR(this.h)}, ${100*Hm(this.s)}%, ${100*Hm(this.l)}%${1===e?")":`, ${e})`}`}}));const fC=e=>()=>e;function sR(e,i){var t=i-e;return t?function oR(e,i){return function(t){return e+t*i}}(e,t):fC(isNaN(e)?i:e)}const Wm=function e(i){var t=function hnt(e){return 1==(e=+e)?sR:function(i,t){return t-i?function unt(e,i,t){return e=Math.pow(e,t),i=Math.pow(i,t)-e,t=1/t,function(n){return Math.pow(e+n*i,t)}}(i,t,e):fC(isNaN(i)?t:i)}}(i);function n(r,a){var o=t((r=Nm(r)).r,(a=Nm(a)).r),s=t(r.g,a.g),l=t(r.b,a.b),c=sR(r.opacity,a.opacity);return function(u){return r.r=o(u),r.g=s(u),r.b=l(u),r.opacity=c(u),r+""}}return n.gamma=e,n}(1);function lR(e){return function(i){var o,s,t=i.length,n=new Array(t),r=new Array(t),a=new Array(t);for(o=0;o<t;++o)s=Nm(i[o]),n[o]=s.r||0,r[o]=s.g||0,a[o]=s.b||0;return n=e(n),r=e(r),a=e(a),s.opacity=1,function(l){return s.r=n(l),s.g=r(l),s.b=a(l),s+""}}}function mo(e,i){return e=+e,i=+i,function(t){return e*(1-t)+i*t}}lR(function lnt(e){var i=e.length-1;return function(t){var n=t<=0?t=0:t>=1?(t=1,i-1):Math.floor(t*i),r=e[n],a=e[n+1];return aR((t-n/i)*i,n>0?e[n-1]:2*r-a,r,a,n<i-1?e[n+2]:2*a-r)}}),lR(function cnt(e){var i=e.length;return function(t){var n=Math.floor(((t%=1)<0?++t:t)*i);return aR((t-n/i)*i,e[(n+i-1)%i],e[n%i],e[(n+1)%i],e[(n+2)%i])}});var pC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gC=new RegExp(pC.source,"g");function uR(e,i){var n,r,a,t=pC.lastIndex=gC.lastIndex=0,o=-1,s=[],l=[];for(e+="",i+="";(n=pC.exec(e))&&(r=gC.exec(i));)(a=r.index)>t&&(a=i.slice(t,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:mo(n,r)})),t=gC.lastIndex;return t<i.length&&(a=i.slice(t),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?function gnt(e){return function(i){return e(i)+""}}(l[0].x):function pnt(e){return function(){return e}}(i):(i=l.length,function(c){for(var h,u=0;u<i;++u)s[(h=l[u]).i]=h.x(c);return s.join("")})}var Xm,Op,yd=0,Pp=0,Ip=0,dR=1e3,Um=0,Eu=0,Zm=0,Ep="object"==typeof performance&&performance.now?performance:Date,fR="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function vC(){return Eu||(fR(_nt),Eu=Ep.now()+Zm)}function _nt(){Eu=0}function $m(){this._call=this._time=this._next=null}function pR(e,i,t){var n=new $m;return n.restart(e,i,t),n}function gR(){Eu=(Um=Ep.now())+Zm,yd=Pp=0;try{!function xnt(){vC(),++yd;for(var i,e=Xm;e;)(i=Eu-e._time)>=0&&e._call.call(void 0,i),e=e._next;--yd}()}finally{yd=0,function Cnt(){for(var e,t,i=Xm,n=1/0;i;)i._call?(n>i._time&&(n=i._time),e=i,i=i._next):(t=i._next,i._next=null,i=e?e._next=t:Xm=t);Op=e,mC(n)}(),Eu=0}}function bnt(){var e=Ep.now(),i=e-Um;i>dR&&(Zm-=i,Um=e)}function mC(e){yd||(Pp&&(Pp=clearTimeout(Pp)),e-Eu>24?(e<1/0&&(Pp=setTimeout(gR,e-Ep.now()-Zm)),Ip&&(Ip=clearInterval(Ip))):(Ip||(Um=Ep.now(),Ip=setInterval(bnt,dR)),yd=1,fR(gR)))}function vR(e,i,t){var n=new $m;return n.restart(r=>{n.stop(),e(r+i)},i=null==i?0:+i,t),n}$m.prototype=pR.prototype={constructor:$m,restart:function(e,i,t){if("function"!=typeof e)throw new TypeError("callback is not a function");t=(null==t?vC():+t)+(null==i?0:+i),!this._next&&Op!==this&&(Op?Op._next=this:Xm=this,Op=this),this._call=e,this._time=t,mC()},stop:function(){this._call&&(this._call=null,this._time=1/0,mC())}};var Snt=$F("start","end","cancel","interrupt"),wnt=[],mR=0,yR=1,yC=2,jm=3,_R=4,_C=5,qm=6;function Km(e,i,t,n,r,a){var o=e.__transition;if(o){if(t in o)return}else e.__transition={};!function Tnt(e,i,t){var r,n=e.__transition;function o(c){var u,h,f,p;if(t.state!==yR)return l();for(u in n)if((p=n[u]).name===t.name){if(p.state===jm)return vR(o);p.state===_R?(p.state=qm,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[u]):+u<i&&(p.state=qm,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[u])}if(vR(function(){t.state===jm&&(t.state=_R,t.timer.restart(s,t.delay,t.time),s(c))}),t.state=yC,t.on.call("start",e,e.__data__,t.index,t.group),t.state===yC){for(t.state=jm,r=new Array(f=t.tween.length),u=0,h=-1;u<f;++u)(p=t.tween[u].value.call(e,e.__data__,t.index,t.group))&&(r[++h]=p);r.length=h+1}}function s(c){for(var u=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(l),t.state=_C,1),h=-1,f=r.length;++h<f;)r[h].call(e,u);t.state===_C&&(t.on.call("end",e,e.__data__,t.index,t.group),l())}function l(){for(var c in t.state=qm,t.timer.stop(),delete n[i],n)return;delete e.__transition}n[i]=t,t.timer=pR(function a(c){t.state=yR,t.timer.restart(o,t.delay,t.time),t.delay<=c&&o(c-t.delay)},0,t.time)}(e,t,{name:i,index:n,group:r,on:Snt,tween:wnt,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:mR})}function xC(e,i){var t=yo(e,i);if(t.state>mR)throw new Error("too late; already scheduled");return t}function ns(e,i){var t=yo(e,i);if(t.state>jm)throw new Error("too late; already running");return t}function yo(e,i){var t=e.__transition;if(!t||!(t=t[i]))throw new Error("transition not found");return t}var Qm,xR=180/Math.PI,CC={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bR(e,i,t,n,r,a){var o,s,l;return(o=Math.sqrt(e*e+i*i))&&(e/=o,i/=o),(l=e*t+i*n)&&(t-=e*l,n-=i*l),(s=Math.sqrt(t*t+n*n))&&(t/=s,n/=s,l/=s),e*n<i*t&&(e=-e,i=-i,l=-l,o=-o),{translateX:r,translateY:a,rotate:Math.atan2(i,e)*xR,skewX:Math.atan(l)*xR,scaleX:o,scaleY:s}}function CR(e,i,t,n){function r(c){return c.length?c.pop()+" ":""}return function(c,u){var h=[],f=[];return c=e(c),u=e(u),function a(c,u,h,f,p,m){if(c!==h||u!==f){var b=p.push("translate(",null,i,null,t);m.push({i:b-4,x:mo(c,h)},{i:b-2,x:mo(u,f)})}else(h||f)&&p.push("translate("+h+i+f+t)}(c.translateX,c.translateY,u.translateX,u.translateY,h,f),function o(c,u,h,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:h.push(r(h)+"rotate(",null,n)-2,x:mo(c,u)})):u&&h.push(r(h)+"rotate("+u+n)}(c.rotate,u.rotate,h,f),function s(c,u,h,f){c!==u?f.push({i:h.push(r(h)+"skewX(",null,n)-2,x:mo(c,u)}):u&&h.push(r(h)+"skewX("+u+n)}(c.skewX,u.skewX,h,f),function l(c,u,h,f,p,m){if(c!==h||u!==f){var b=p.push(r(p)+"scale(",null,",",null,")");m.push({i:b-4,x:mo(c,h)},{i:b-2,x:mo(u,f)})}else(1!==h||1!==f)&&p.push(r(p)+"scale("+h+","+f+")")}(c.scaleX,c.scaleY,u.scaleX,u.scaleY,h,f),c=u=null,function(p){for(var _,m=-1,b=f.length;++m<b;)h[(_=f[m]).i]=_.x(p);return h.join("")}}}var knt=CR(function Ant(e){const i=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return i.isIdentity?CC:bR(i.a,i.b,i.c,i.d,i.e,i.f)},"px, ","px)","deg)"),Dnt=CR(function Lnt(e){return null!=e&&(Qm||(Qm=document.createElementNS("http://www.w3.org/2000/svg","g")),Qm.setAttribute("transform",e),e=Qm.transform.baseVal.consolidate())?bR((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):CC},", ",")",")");function Pnt(e,i){var t,n;return function(){var r=ns(this,e),a=r.tween;if(a!==t)for(var o=0,s=(n=t=a).length;o<s;++o)if(n[o].name===i){(n=n.slice()).splice(o,1);break}r.tween=n}}function Int(e,i,t){var n,r;if("function"!=typeof t)throw new Error;return function(){var a=ns(this,e),o=a.tween;if(o!==n){r=(n=o).slice();for(var s={name:i,value:t},l=0,c=r.length;l<c;++l)if(r[l].name===i){r[l]=s;break}l===c&&r.push(s)}a.tween=r}}function SC(e,i,t){var n=e._id;return e.each(function(){var r=ns(this,n);(r.value||(r.value={}))[i]=t.apply(this,arguments)}),function(r){return yo(r,n).value[i]}}function SR(e,i){var t;return("number"==typeof i?mo:i instanceof Pu?Wm:(t=Pu(i))?(i=t,Wm):uR)(e,i)}function Ent(e){return function(){this.removeAttribute(e)}}function Fnt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Rnt(e,i,t){var n,a,r=t+"";return function(){var o=this.getAttribute(e);return o===r?null:o===n?a:a=i(n=o,t)}}function Bnt(e,i,t){var n,a,r=t+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===r?null:o===n?a:a=i(n=o,t)}}function Vnt(e,i,t){var n,r,a;return function(){var o,l,s=t(this);return null==s?void this.removeAttribute(e):(o=this.getAttribute(e))===(l=s+"")?null:o===n&&l===r?a:(r=l,a=i(n=o,s))}}function znt(e,i,t){var n,r,a;return function(){var o,l,s=t(this);return null==s?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local))===(l=s+"")?null:o===n&&l===r?a:(r=l,a=i(n=o,s))}}function Wnt(e,i){var t,n;function r(){var a=i.apply(this,arguments);return a!==n&&(t=(n=a)&&function Hnt(e,i){return function(t){this.setAttributeNS(e.space,e.local,i.call(this,t))}}(e,a)),t}return r._value=i,r}function Ynt(e,i){var t,n;function r(){var a=i.apply(this,arguments);return a!==n&&(t=(n=a)&&function Gnt(e,i){return function(t){this.setAttribute(e,i.call(this,t))}}(e,a)),t}return r._value=i,r}function Unt(e,i){return function(){xC(this,e).delay=+i.apply(this,arguments)}}function Znt(e,i){return i=+i,function(){xC(this,e).delay=i}}function jnt(e,i){return function(){ns(this,e).duration=+i.apply(this,arguments)}}function qnt(e,i){return i=+i,function(){ns(this,e).duration=i}}var hrt=Ap.prototype.constructor;function wR(e){return function(){this.style.removeProperty(e)}}var krt=0;function Xs(e,i,t,n){this._groups=e,this._parents=i,this._name=t,this._id=n}function TR(){return++krt}var Us=Ap.prototype;Xs.prototype=function Drt(e){return Ap().transition(e)}.prototype={constructor:Xs,select:function crt(e){var i=this._name,t=this._id;"function"!=typeof e&&(e=oC(e));for(var n=this._groups,r=n.length,a=new Array(r),o=0;o<r;++o)for(var u,h,s=n[o],l=s.length,c=a[o]=new Array(l),f=0;f<l;++f)(u=s[f])&&(h=e.call(u,u.__data__,f,s))&&("__data__"in u&&(h.__data__=u.__data__),c[f]=h,Km(c[f],i,t,f,c,yo(u,t)));return new Xs(a,this._parents,i,t)},selectAll:function urt(e){var i=this._name,t=this._id;"function"!=typeof e&&(e=IF(e));for(var n=this._groups,r=n.length,a=[],o=[],s=0;s<r;++s)for(var u,l=n[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var p,f=e.call(u,u.__data__,h,l),m=yo(u,t),b=0,_=f.length;b<_;++b)(p=f[b])&&Km(p,i,t,b,f,m);a.push(f),o.push(u)}return new Xs(a,o,i,t)},selectChild:Us.selectChild,selectChildren:Us.selectChildren,filter:function irt(e){"function"!=typeof e&&(e=OF(e));for(var i=this._groups,t=i.length,n=new Array(t),r=0;r<t;++r)for(var l,a=i[r],o=a.length,s=n[r]=[],c=0;c<o;++c)(l=a[c])&&e.call(l,l.__data__,c,a)&&s.push(l);return new Xs(n,this._parents,this._name,this._id)},merge:function nrt(e){if(e._id!==this._id)throw new Error;for(var i=this._groups,t=e._groups,n=i.length,a=Math.min(n,t.length),o=new Array(n),s=0;s<a;++s)for(var f,l=i[s],c=t[s],u=l.length,h=o[s]=new Array(u),p=0;p<u;++p)(f=l[p]||c[p])&&(h[p]=f);for(;s<n;++s)o[s]=i[s];return new Xs(o,this._parents,this._name,this._id)},selection:function drt(){return new hrt(this._groups,this._parents)},transition:function Art(){for(var e=this._name,i=this._id,t=TR(),n=this._groups,r=n.length,a=0;a<r;++a)for(var l,o=n[a],s=o.length,c=0;c<s;++c)if(l=o[c]){var u=yo(l,i);Km(l,e,t,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Xs(n,this._parents,e,t)},call:Us.call,nodes:Us.nodes,node:Us.node,size:Us.size,empty:Us.empty,each:Us.each,on:function ort(e,i){var t=this._id;return arguments.length<2?yo(this.node(),t).on.on(e):this.each(function art(e,i,t){var n,r,a=function rrt(e){return(e+"").trim().split(/^|\s+/).every(function(i){var t=i.indexOf(".");return t>=0&&(i=i.slice(0,t)),!i||"start"===i})}(i)?xC:ns;return function(){var o=a(this,e),s=o.on;s!==n&&(r=(n=s).copy()).on(i,t),o.on=r}}(t,e,i))},attr:function Nnt(e,i){var t=Rm(e),n="transform"===t?Dnt:SR;return this.attrTween(e,"function"==typeof i?(t.local?znt:Vnt)(t,n,SC(this,"attr."+e,i)):null==i?(t.local?Fnt:Ent)(t):(t.local?Bnt:Rnt)(t,n,i))},attrTween:function Xnt(e,i){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(null==i)return this.tween(t,null);if("function"!=typeof i)throw new Error;var n=Rm(e);return this.tween(t,(n.local?Wnt:Ynt)(n,i))},style:function mrt(e,i,t){var n="transform"==(e+="")?knt:SR;return null==i?this.styleTween(e,function frt(e,i){var t,n,r;return function(){var a=vd(this,e),o=(this.style.removeProperty(e),vd(this,e));return a===o?null:a===t&&o===n?r:r=i(t=a,n=o)}}(e,n)).on("end.style."+e,wR(e)):"function"==typeof i?this.styleTween(e,function grt(e,i,t){var n,r,a;return function(){var o=vd(this,e),s=t(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=vd(this,e)),o===l?null:o===n&&l===r?a:(r=l,a=i(n=o,s))}}(e,n,SC(this,"style."+e,i))).each(function vrt(e,i){var t,n,r,s,a="style."+i,o="end."+a;return function(){var l=ns(this,e),c=l.on,u=null==l.value[a]?s||(s=wR(i)):void 0;(c!==t||r!==u)&&(n=(t=c).copy()).on(o,r=u),l.on=n}}(this._id,e)):this.styleTween(e,function prt(e,i,t){var n,a,r=t+"";return function(){var o=vd(this,e);return o===r?null:o===n?a:a=i(n=o,t)}}(e,n,i),t).on("end.style."+e,null)},styleTween:function xrt(e,i,t){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==i)return this.tween(n,null);if("function"!=typeof i)throw new Error;return this.tween(n,function _rt(e,i,t){var n,r;function a(){var o=i.apply(this,arguments);return o!==r&&(n=(r=o)&&function yrt(e,i,t){return function(n){this.style.setProperty(e,i.call(this,n),t)}}(e,o,t)),n}return a._value=i,a}(e,i,t??""))},text:function Srt(e){return this.tween("text","function"==typeof e?function Crt(e){return function(){var i=e(this);this.textContent=i??""}}(SC(this,"text",e)):function brt(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function Mrt(e){var i="text";if(arguments.length<1)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function Trt(e){var i,t;function n(){var r=e.apply(this,arguments);return r!==t&&(i=(t=r)&&function wrt(e){return function(i){this.textContent=e.call(this,i)}}(r)),i}return n._value=e,n}(e))},remove:function lrt(){return this.on("end.remove",function srt(e){return function(){var i=this.parentNode;for(var t in this.__transition)if(+t!==e)return;i&&i.removeChild(this)}}(this._id))},tween:function Ont(e,i){var t=this._id;if(e+="",arguments.length<2){for(var o,n=yo(this.node(),t).tween,r=0,a=n.length;r<a;++r)if((o=n[r]).name===e)return o.value;return null}return this.each((null==i?Pnt:Int)(t,e,i))},delay:function $nt(e){var i=this._id;return arguments.length?this.each(("function"==typeof e?Unt:Znt)(i,e)):yo(this.node(),i).delay},duration:function Knt(e){var i=this._id;return arguments.length?this.each(("function"==typeof e?jnt:qnt)(i,e)):yo(this.node(),i).duration},ease:function Jnt(e){var i=this._id;return arguments.length?this.each(function Qnt(e,i){if("function"!=typeof i)throw new Error;return function(){ns(this,e).ease=i}}(i,e)):yo(this.node(),i).ease},easeVarying:function ert(e){if("function"!=typeof e)throw new Error;return this.each(function trt(e,i){return function(){var t=i.apply(this,arguments);if("function"!=typeof t)throw new Error;ns(this,e).ease=t}}(this._id,e))},end:function Lrt(){var e,i,t=this,n=t._id,r=t.size();return new Promise(function(a,o){var s={value:o},l={value:function(){0==--r&&a()}};t.each(function(){var c=ns(this,n),u=c.on;u!==e&&((i=(e=u).copy())._.cancel.push(s),i._.interrupt.push(s),i._.end.push(l)),c.on=i}),0===r&&a()})},[Symbol.iterator]:Us[Symbol.iterator]};var Irt={time:null,delay:0,duration:250,ease:function Prt(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Ort(e,i){for(var t;!(t=e.__transition)||!(t=t[i]);)if(!(e=e.parentNode))throw new Error(`transition ${i} not found`);return t}Ap.prototype.interrupt=function Mnt(e){return this.each(function(){!function bC(e,i){var n,r,o,t=e.__transition,a=!0;if(t){for(o in i=null==i?null:i+"",t)(n=t[o]).name===i?(r=n.state>yC&&n.state<_C,n.state=qm,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete t[o]):a=!1;a&&delete e.__transition}}(this,e)})},Ap.prototype.transition=function Ert(e){var i,t;e instanceof Xs?(i=e._id,e=e._name):(i=TR(),(t=Irt).time=vC(),e=null==e?null:e+"");for(var n=this._groups,r=n.length,a=0;a<r;++a)for(var l,o=n[a],s=o.length,c=0;c<s;++c)(l=o[c])&&Km(l,e,i,c,o,t||Ort(l,i));return new Xs(n,this._parents,e,i)};Math;function Fp(e){return{type:e}}function ey(e,i){return null==e||null==i?NaN:e<i?-1:e>i?1:e>=i?0:NaN}function Xrt(e,i){return null==e||null==i?NaN:i<e?-1:i>e?1:i>=e?0:NaN}function DC(e){let i,t,n;function r(s,l,c=0,u=s.length){if(c<u){if(0!==i(l,l))return u;do{const h=c+u>>>1;t(s[h],l)<0?c=h+1:u=h}while(c<u)}return c}return 2!==e.length?(i=ey,t=(s,l)=>ey(e(s),l),n=(s,l)=>e(s)-l):(i=e===ey||e===Xrt?e:Urt,t=e,n=e),{left:r,center:function o(s,l,c=0,u=s.length){const h=r(s,l,c,u-1);return h>c&&n(s[h-1],l)>-n(s[h],l)?h-1:h},right:function a(s,l,c=0,u=s.length){if(c<u){if(0!==i(l,l))return u;do{const h=c+u>>>1;t(s[h],l)<=0?c=h+1:u=h}while(c<u)}return c}}}function Urt(){return 0}["w","e"].map(Fp),["n","s"].map(Fp),["n","w","e","s","nw","ne","sw","se"].map(Fp);const Zrt=Math.sqrt(50),$rt=Math.sqrt(10),jrt=Math.sqrt(2);function iy(e,i,t){const n=(i-e)/Math.max(0,t),r=Math.floor(Math.log10(n)),a=n/Math.pow(10,r),o=a>=Zrt?10:a>=$rt?5:a>=jrt?2:1;let s,l,c;return r<0?(c=Math.pow(10,-r)/o,s=Math.round(e*c),l=Math.round(i*c),s/c<e&&++s,l/c>i&&--l,c=-c):(c=Math.pow(10,r)*o,s=Math.round(e/c),l=Math.round(i/c),s*c<e&&++s,l*c>i&&--l),l<s&&.5<=t&&t<2?iy(e,i,2*t):[s,l,c]}function PC(e,i,t){return iy(e=+e,i=+i,t=+t)[2]}function IC(e,i,t){t=+t;const n=(i=+i)<(e=+e),r=n?PC(i,e,t):PC(e,i,t);return(n?-1:1)*(r<0?1/-r:r)}const $s=1e3,Pa=60*$s,js=60*Pa,qs=24*js,OC=7*qs,PR=30*qs,EC=365*qs,FC=new Date,RC=new Date;function dn(e,i,t,n){function r(a){return e(a=0===arguments.length?new Date:new Date(+a)),a}return r.floor=a=>(e(a=new Date(+a)),a),r.ceil=a=>(e(a=new Date(a-1)),i(a,1),e(a),a),r.round=a=>{const o=r(a),s=r.ceil(a);return a-o<s-a?o:s},r.offset=(a,o)=>(i(a=new Date(+a),null==o?1:Math.floor(o)),a),r.range=(a,o,s)=>{const l=[];if(a=r.ceil(a),s=null==s?1:Math.floor(s),!(a<o&&s>0))return l;let c;do{l.push(c=new Date(+a)),i(a,s),e(a)}while(c<a&&a<o);return l},r.filter=a=>dn(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;i(o,-1),!a(o););else for(;--s>=0;)for(;i(o,1),!a(o););}),t&&(r.count=(a,o)=>(FC.setTime(+a),RC.setTime(+o),e(FC),e(RC),Math.floor(t(FC,RC))),r.every=a=>(a=Math.floor(a),isFinite(a)&&a>0?a>1?r.filter(n?o=>n(o)%a==0:o=>r.count(0,o)%a==0):r:null)),r}const ny=dn(()=>{},(e,i)=>{e.setTime(+e+i)},(e,i)=>i-e);ny.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?dn(i=>{i.setTime(Math.floor(i/e)*e)},(i,t)=>{i.setTime(+i+t*e)},(i,t)=>(t-i)/e):ny:null);const bd=dn(e=>{e.setTime(e-e.getMilliseconds())},(e,i)=>{e.setTime(+e+i*$s)},(e,i)=>(i-e)/$s,e=>e.getUTCSeconds()),BC=dn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$s)},(e,i)=>{e.setTime(+e+i*Pa)},(e,i)=>(i-e)/Pa,e=>e.getMinutes()),IR=dn(e=>{e.setUTCSeconds(0,0)},(e,i)=>{e.setTime(+e+i*Pa)},(e,i)=>(i-e)/Pa,e=>e.getUTCMinutes()),VC=dn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*$s-e.getMinutes()*Pa)},(e,i)=>{e.setTime(+e+i*js)},(e,i)=>(i-e)/js,e=>e.getHours()),OR=dn(e=>{e.setUTCMinutes(0,0,0)},(e,i)=>{e.setTime(+e+i*js)},(e,i)=>(i-e)/js,e=>e.getUTCHours()),zC=dn(e=>e.setHours(0,0,0,0),(e,i)=>e.setDate(e.getDate()+i),(e,i)=>(i-e-(i.getTimezoneOffset()-e.getTimezoneOffset())*Pa)/qs,e=>e.getDate()-1),ER=(dn(e=>{e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCDate(e.getUTCDate()+i)},(e,i)=>(i-e)/qs,e=>e.getUTCDate()-1),dn(e=>{e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCDate(e.getUTCDate()+i)},(e,i)=>(i-e)/qs,e=>Math.floor(e/qs)));function Fu(e){return dn(i=>{i.setDate(i.getDate()-(i.getDay()+7-e)%7),i.setHours(0,0,0,0)},(i,t)=>{i.setDate(i.getDate()+7*t)},(i,t)=>(t-i-(t.getTimezoneOffset()-i.getTimezoneOffset())*Pa)/OC)}const NC=Fu(0);function Ru(e){return dn(i=>{i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-e)%7),i.setUTCHours(0,0,0,0)},(i,t)=>{i.setUTCDate(i.getUTCDate()+7*t)},(i,t)=>(t-i)/OC)}Fu(1),Fu(2),Fu(3),Fu(4),Fu(5),Fu(6);const FR=Ru(0),GC=(Ru(1),Ru(2),Ru(3),Ru(4),Ru(5),Ru(6),dn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,i)=>{e.setMonth(e.getMonth()+i)},(e,i)=>i.getMonth()-e.getMonth()+12*(i.getFullYear()-e.getFullYear()),e=>e.getMonth())),RR=dn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCMonth(e.getUTCMonth()+i)},(e,i)=>i.getUTCMonth()-e.getUTCMonth()+12*(i.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth()),ry=dn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,i)=>{e.setFullYear(e.getFullYear()+i)},(e,i)=>i.getFullYear()-e.getFullYear(),e=>e.getFullYear());ry.every=e=>isFinite(e=Math.floor(e))&&e>0?dn(i=>{i.setFullYear(Math.floor(i.getFullYear()/e)*e),i.setMonth(0,1),i.setHours(0,0,0,0)},(i,t)=>{i.setFullYear(i.getFullYear()+t*e)}):null;const HC=dn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,i)=>{e.setUTCFullYear(e.getUTCFullYear()+i)},(e,i)=>i.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function BR(e,i,t,n,r,a){const o=[[bd,1,$s],[bd,5,5*$s],[bd,15,15*$s],[bd,30,30*$s],[a,1,Pa],[a,5,5*Pa],[a,15,15*Pa],[a,30,30*Pa],[r,1,js],[r,3,3*js],[r,6,6*js],[r,12,12*js],[n,1,qs],[n,2,2*qs],[t,1,OC],[i,1,PR],[i,3,3*PR],[e,1,EC]];function l(c,u,h){const f=Math.abs(u-c)/h,p=DC(([,,_])=>_).right(o,f);if(p===o.length)return e.every(IC(c/EC,u/EC,h));if(0===p)return ny.every(Math.max(IC(c,u,h),1));const[m,b]=o[f/o[p-1][2]<o[p][2]/f?p-1:p];return m.every(b)}return[function s(c,u,h){const f=u<c;f&&([c,u]=[u,c]);const p=h&&"function"==typeof h.range?h:l(c,u,h),m=p?p.range(c,+u+1):[];return f?m.reverse():m},l]}HC.every=e=>isFinite(e=Math.floor(e))&&e>0?dn(i=>{i.setUTCFullYear(Math.floor(i.getUTCFullYear()/e)*e),i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},(i,t)=>{i.setUTCFullYear(i.getUTCFullYear()+t*e)}):null;const[_ft,xft]=BR(HC,RR,FR,ER,OR,IR),[cat,uat]=BR(ry,GC,NC,zC,VC,BC);var WC=new Date,YC=new Date;function Ks(e,i,t,n){function r(a){return e(a=0===arguments.length?new Date:new Date(+a)),a}return r.floor=function(a){return e(a=new Date(+a)),a},r.ceil=function(a){return e(a=new Date(a-1)),i(a,1),e(a),a},r.round=function(a){var o=r(a),s=r.ceil(a);return a-o<s-a?o:s},r.offset=function(a,o){return i(a=new Date(+a),null==o?1:Math.floor(o)),a},r.range=function(a,o,s){var c,l=[];if(a=r.ceil(a),s=null==s?1:Math.floor(s),!(a<o&&s>0))return l;do{l.push(c=new Date(+a)),i(a,s),e(a)}while(c<a&&a<o);return l},r.filter=function(a){return Ks(function(o){if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},function(o,s){if(o>=o)if(s<0)for(;++s<=0;)for(;i(o,-1),!a(o););else for(;--s>=0;)for(;i(o,1),!a(o););})},t&&(r.count=function(a,o){return WC.setTime(+a),YC.setTime(+o),e(WC),e(YC),Math.floor(t(WC,YC))},r.every=function(a){return a=Math.floor(a),isFinite(a)&&a>0?a>1?r.filter(n?function(o){return n(o)%a==0}:function(o){return r.count(0,o)%a==0}):r:null}),r}const XC=6e4,Rp=60*XC*24,VR=7*Rp;function Bu(e){return Ks(function(i){i.setUTCDate(i.getUTCDate()-(i.getUTCDay()+7-e)%7),i.setUTCHours(0,0,0,0)},function(i,t){i.setUTCDate(i.getUTCDate()+7*t)},function(i,t){return(t-i)/VR})}var zR=Bu(0),ay=Bu(1),Cd=(Bu(2),Bu(3),Bu(4)),NR=(Bu(5),Bu(6),Ks(function(e){e.setUTCHours(0,0,0,0)},function(e,i){e.setUTCDate(e.getUTCDate()+i)},function(e,i){return(i-e)/Rp},function(e){return e.getUTCDate()-1}));const GR=NR;function Vu(e){return Ks(function(i){i.setDate(i.getDate()-(i.getDay()+7-e)%7),i.setHours(0,0,0,0)},function(i,t){i.setDate(i.getDate()+7*t)},function(i,t){return(t-i-(t.getTimezoneOffset()-i.getTimezoneOffset())*XC)/VR})}var HR=Vu(0),oy=Vu(1),Sd=(Vu(2),Vu(3),Vu(4)),WR=(Vu(5),Vu(6),Ks(e=>e.setHours(0,0,0,0),(e,i)=>e.setDate(e.getDate()+i),(e,i)=>(i-e-(i.getTimezoneOffset()-e.getTimezoneOffset())*XC)/Rp,e=>e.getDate()-1));const YR=WR;var UC=Ks(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,i){e.setFullYear(e.getFullYear()+i)},function(e,i){return i.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});UC.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Ks(function(i){i.setFullYear(Math.floor(i.getFullYear()/e)*e),i.setMonth(0,1),i.setHours(0,0,0,0)},function(i,t){i.setFullYear(i.getFullYear()+t*e)}):null};const Bp=UC;var ZC=Ks(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,i){e.setUTCFullYear(e.getUTCFullYear()+i)},function(e,i){return i.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});ZC.every=function(e){return isFinite(e=Math.floor(e))&&e>0?Ks(function(i){i.setUTCFullYear(Math.floor(i.getUTCFullYear()/e)*e),i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},function(i,t){i.setUTCFullYear(i.getUTCFullYear()+t*e)}):null};const Vp=ZC;function $C(e){if(0<=e.y&&e.y<100){var i=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return i.setFullYear(e.y),i}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function jC(e){if(0<=e.y&&e.y<100){var i=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return i.setUTCFullYear(e.y),i}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zp(e,i,t){return{y:e,m:i,d:t,H:0,M:0,S:0,L:0}}var XR={"-":"",_:" ",0:"0"},_n=/^\s*\d+/,xat=/^%/,bat=/[\\^$*+?|[\]().{}]/g;function qe(e,i,t){var n=e<0?"-":"",r=(n?-e:e)+"",a=r.length;return n+(a<t?new Array(t-a+1).join(i)+r:r)}function Cat(e){return e.replace(bat,"\\$&")}function Np(e){return new RegExp("^(?:"+e.map(Cat).join("|")+")","i")}function Gp(e){return new Map(e.map((i,t)=>[i.toLowerCase(),t]))}function Sat(e,i,t){var n=_n.exec(i.slice(t,t+1));return n?(e.w=+n[0],t+n[0].length):-1}function wat(e,i,t){var n=_n.exec(i.slice(t,t+1));return n?(e.u=+n[0],t+n[0].length):-1}function Tat(e,i,t){var n=_n.exec(i.slice(t,t+2));return n?(e.U=+n[0],t+n[0].length):-1}function Mat(e,i,t){var n=_n.exec(i.slice(t,t+2));return n?(e.V=+n[0],t+n[0].length):-1}function Aat(e,i,t){var n=_n.exec(i.slice(t,t+2));return n?(e.W=+n[0],t+n[0].length):-1}function UR(e,i,t){var n=_n.exec(i.slice(t,t+4));return n?(e.y=+n[0],t+n[0].length):-1}function ZR(e,i,t){var n=_n.exec(i.slice(t,t+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),t+n[0].length):-1}function Lat(e,i,t){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(i.slice(t,t+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),t+n[0].length):-1}function kat(e,i,t){var n=_n.exec(i.slice(t,t+1));return n?(e.q=3*n[0]-3,t+n[0].length):-1}function Dat(e,i,t){var n=_n.exec(i.slice(t,t+2));return n?(e.m=n[0]-1,t+n[0].length):-1}function $R(e,i,t){var n=_n.exec(i.slice(t,t+2));return n?(e.d=+n[0],t+n[0].length):-1}function Pat(e,i,t){var n=_n.exec(i.slice(t,t+3));return n?(e.m=0,e.d=+n[0],t+n[0].length):-1}function jR(e,i,t){var n=_n.exec(i.slice(t,t+2));return n?(e.H=+n[0],t+n[0].length):-1}function Iat(e,i,t){var n=_n.exec(i.slice(t,t+2));return n?(e.M=+n[0],t+n[0].length):-1}function Oat(e,i,t){var n=_n.exec(i.slice(t,t+2));return n?(e.S=+n[0],t+n[0].length):-1}function Eat(e,i,t){var n=_n.exec(i.slice(t,t+3));return n?(e.L=+n[0],t+n[0].length):-1}function Fat(e,i,t){var n=_n.exec(i.slice(t,t+6));return n?(e.L=Math.floor(n[0]/1e3),t+n[0].length):-1}function Rat(e,i,t){var n=xat.exec(i.slice(t,t+1));return n?t+n[0].length:-1}function Bat(e,i,t){var n=_n.exec(i.slice(t));return n?(e.Q=+n[0],t+n[0].length):-1}function Vat(e,i,t){var n=_n.exec(i.slice(t));return n?(e.s=+n[0],t+n[0].length):-1}function qR(e,i){return qe(e.getDate(),i,2)}function zat(e,i){return qe(e.getHours(),i,2)}function Nat(e,i){return qe(e.getHours()%12||12,i,2)}function Gat(e,i){return qe(1+YR.count(Bp(e),e),i,3)}function KR(e,i){return qe(e.getMilliseconds(),i,3)}function Hat(e,i){return KR(e,i)+"000"}function Wat(e,i){return qe(e.getMonth()+1,i,2)}function Yat(e,i){return qe(e.getMinutes(),i,2)}function Xat(e,i){return qe(e.getSeconds(),i,2)}function Uat(e){var i=e.getDay();return 0===i?7:i}function Zat(e,i){return qe(HR.count(Bp(e)-1,e),i,2)}function QR(e){var i=e.getDay();return i>=4||0===i?Sd(e):Sd.ceil(e)}function $at(e,i){return e=QR(e),qe(Sd.count(Bp(e),e)+(4===Bp(e).getDay()),i,2)}function jat(e){return e.getDay()}function qat(e,i){return qe(oy.count(Bp(e)-1,e),i,2)}function Kat(e,i){return qe(e.getFullYear()%100,i,2)}function Qat(e,i){return qe((e=QR(e)).getFullYear()%100,i,2)}function Jat(e,i){return qe(e.getFullYear()%1e4,i,4)}function tot(e,i){var t=e.getDay();return qe((e=t>=4||0===t?Sd(e):Sd.ceil(e)).getFullYear()%1e4,i,4)}function eot(e){var i=e.getTimezoneOffset();return(i>0?"-":(i*=-1,"+"))+qe(i/60|0,"0",2)+qe(i%60,"0",2)}function JR(e,i){return qe(e.getUTCDate(),i,2)}function iot(e,i){return qe(e.getUTCHours(),i,2)}function not(e,i){return qe(e.getUTCHours()%12||12,i,2)}function rot(e,i){return qe(1+GR.count(Vp(e),e),i,3)}function t5(e,i){return qe(e.getUTCMilliseconds(),i,3)}function aot(e,i){return t5(e,i)+"000"}function oot(e,i){return qe(e.getUTCMonth()+1,i,2)}function sot(e,i){return qe(e.getUTCMinutes(),i,2)}function lot(e,i){return qe(e.getUTCSeconds(),i,2)}function cot(e){var i=e.getUTCDay();return 0===i?7:i}function uot(e,i){return qe(zR.count(Vp(e)-1,e),i,2)}function e5(e){var i=e.getUTCDay();return i>=4||0===i?Cd(e):Cd.ceil(e)}function hot(e,i){return e=e5(e),qe(Cd.count(Vp(e),e)+(4===Vp(e).getUTCDay()),i,2)}function dot(e){return e.getUTCDay()}function fot(e,i){return qe(ay.count(Vp(e)-1,e),i,2)}function pot(e,i){return qe(e.getUTCFullYear()%100,i,2)}function got(e,i){return qe((e=e5(e)).getUTCFullYear()%100,i,2)}function vot(e,i){return qe(e.getUTCFullYear()%1e4,i,4)}function mot(e,i){var t=e.getUTCDay();return qe((e=t>=4||0===t?Cd(e):Cd.ceil(e)).getUTCFullYear()%1e4,i,4)}function yot(){return"+0000"}function i5(){return"%"}function n5(e){return+e}function r5(e){return Math.floor(+e/1e3)}!function Cot(e){(function _at(e){var i=e.dateTime,t=e.date,n=e.time,r=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Np(r),u=Gp(r),h=Np(a),f=Gp(a),p=Np(o),m=Gp(o),b=Np(s),_=Gp(s),w=Np(l),T=Gp(l),A={a:function lt(bt){return o[bt.getDay()]},A:function st(bt){return a[bt.getDay()]},b:function ut(bt){return l[bt.getMonth()]},B:function vt(bt){return s[bt.getMonth()]},c:null,d:qR,e:qR,f:Hat,g:Qat,G:tot,H:zat,I:Nat,j:Gat,L:KR,m:Wat,M:Yat,p:function _t(bt){return r[+(bt.getHours()>=12)]},q:function St(bt){return 1+~~(bt.getMonth()/3)},Q:n5,s:r5,S:Xat,u:Uat,U:Zat,V:$at,w:jat,W:qat,x:null,X:null,y:Kat,Y:Jat,Z:eot,"%":i5},P={a:function Et(bt){return o[bt.getUTCDay()]},A:function Ft(bt){return a[bt.getUTCDay()]},b:function ne(bt){return l[bt.getUTCMonth()]},B:function le(bt){return s[bt.getUTCMonth()]},c:null,d:JR,e:JR,f:aot,g:got,G:mot,H:iot,I:not,j:rot,L:t5,m:oot,M:sot,p:function Ut(bt){return r[+(bt.getUTCHours()>=12)]},q:function Vt(bt){return 1+~~(bt.getUTCMonth()/3)},Q:n5,s:r5,S:lot,u:cot,U:uot,V:hot,w:dot,W:fot,x:null,X:null,y:pot,Y:vot,Z:yot,"%":i5},F={a:function H(bt,kt,Tt){var gt=p.exec(kt.slice(Tt));return gt?(bt.w=m.get(gt[0].toLowerCase()),Tt+gt[0].length):-1},A:function X(bt,kt,Tt){var gt=h.exec(kt.slice(Tt));return gt?(bt.w=f.get(gt[0].toLowerCase()),Tt+gt[0].length):-1},b:function q(bt,kt,Tt){var gt=w.exec(kt.slice(Tt));return gt?(bt.m=T.get(gt[0].toLowerCase()),Tt+gt[0].length):-1},B:function j(bt,kt,Tt){var gt=b.exec(kt.slice(Tt));return gt?(bt.m=_.get(gt[0].toLowerCase()),Tt+gt[0].length):-1},c:function J(bt,kt,Tt){return N(bt,i,kt,Tt)},d:$R,e:$R,f:Fat,g:ZR,G:UR,H:jR,I:jR,j:Pat,L:Eat,m:Dat,M:Iat,p:function G(bt,kt,Tt){var gt=c.exec(kt.slice(Tt));return gt?(bt.p=u.get(gt[0].toLowerCase()),Tt+gt[0].length):-1},q:kat,Q:Bat,s:Vat,S:Oat,u:wat,U:Tat,V:Mat,w:Sat,W:Aat,x:function tt(bt,kt,Tt){return N(bt,t,kt,Tt)},X:function et(bt,kt,Tt){return N(bt,n,kt,Tt)},y:ZR,Y:UR,Z:Lat,"%":Rat};function O(bt,kt){return function(Tt){var Ee,Zt,Ke,gt=[],fe=-1,Ht=0,Ne=bt.length;for(Tt instanceof Date||(Tt=new Date(+Tt));++fe<Ne;)37===bt.charCodeAt(fe)&&(gt.push(bt.slice(Ht,fe)),null!=(Zt=XR[Ee=bt.charAt(++fe)])?Ee=bt.charAt(++fe):Zt="e"===Ee?" ":"0",(Ke=kt[Ee])&&(Ee=Ke(Tt,Zt)),gt.push(Ee),Ht=fe+1);return gt.push(bt.slice(Ht,fe)),gt.join("")}}function V(bt,kt){return function(Tt){var Ht,Ne,gt=zp(1900,void 0,1);if(N(gt,bt,Tt+="",0)!=Tt.length)return null;if("Q"in gt)return new Date(gt.Q);if("s"in gt)return new Date(1e3*gt.s+("L"in gt?gt.L:0));if(kt&&!("Z"in gt)&&(gt.Z=0),"p"in gt&&(gt.H=gt.H%12+12*gt.p),void 0===gt.m&&(gt.m="q"in gt?gt.q:0),"V"in gt){if(gt.V<1||gt.V>53)return null;"w"in gt||(gt.w=1),"Z"in gt?(Ne=(Ht=jC(zp(gt.y,0,1))).getUTCDay(),Ht=Ne>4||0===Ne?ay.ceil(Ht):ay(Ht),Ht=GR.offset(Ht,7*(gt.V-1)),gt.y=Ht.getUTCFullYear(),gt.m=Ht.getUTCMonth(),gt.d=Ht.getUTCDate()+(gt.w+6)%7):(Ne=(Ht=$C(zp(gt.y,0,1))).getDay(),Ht=Ne>4||0===Ne?oy.ceil(Ht):oy(Ht),Ht=YR.offset(Ht,7*(gt.V-1)),gt.y=Ht.getFullYear(),gt.m=Ht.getMonth(),gt.d=Ht.getDate()+(gt.w+6)%7)}else("W"in gt||"U"in gt)&&("w"in gt||(gt.w="u"in gt?gt.u%7:"W"in gt?1:0),Ne="Z"in gt?jC(zp(gt.y,0,1)).getUTCDay():$C(zp(gt.y,0,1)).getDay(),gt.m=0,gt.d="W"in gt?(gt.w+6)%7+7*gt.W-(Ne+5)%7:gt.w+7*gt.U-(Ne+6)%7);return"Z"in gt?(gt.H+=gt.Z/100|0,gt.M+=gt.Z%100,jC(gt)):$C(gt)}}function N(bt,kt,Tt,gt){for(var Ee,Zt,fe=0,Ht=kt.length,Ne=Tt.length;fe<Ht;){if(gt>=Ne)return-1;if(37===(Ee=kt.charCodeAt(fe++))){if(Ee=kt.charAt(fe++),!(Zt=F[Ee in XR?kt.charAt(fe++):Ee])||(gt=Zt(bt,Tt,gt))<0)return-1}else if(Ee!=Tt.charCodeAt(gt++))return-1}return gt}return A.x=O(t,A),A.X=O(n,A),A.c=O(i,A),P.x=O(t,P),P.X=O(n,P),P.c=O(i,P),{format:function(bt){var kt=O(bt+="",A);return kt.toString=function(){return bt},kt},parse:function(bt){var kt=V(bt+="",!1);return kt.toString=function(){return bt},kt},utcFormat:function(bt){var kt=O(bt+="",P);return kt.toString=function(){return bt},kt},utcParse:function(bt){var kt=V(bt+="",!0);return kt.toString=function(){return bt},kt}}})(e)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),DC(ey),DC(function Sot(e){return null===e?NaN:+e});var h5,Bot=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ly(e){if(!(i=Bot.exec(e)))throw new Error("invalid format: "+e);var i;return new KC({fill:i[1],align:i[2],sign:i[3],symbol:i[4],zero:i[5],width:i[6],comma:i[7],precision:i[8]&&i[8].slice(1),trim:i[9],type:i[10]})}function KC(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function cy(e,i){if((t=(e=i?e.toExponential(i-1):e.toExponential()).indexOf("e"))<0)return null;var t,n=e.slice(0,t);return[n.length>1?n[0]+n.slice(2):n,+e.slice(t+1)]}function d5(e,i){var t=cy(e,i);if(!t)return e+"";var n=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+n:n.length>r+1?n.slice(0,r+1)+"."+n.slice(r+1):n+new Array(r-n.length+2).join("0")}ly.prototype=KC.prototype,KC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const f5={"%":(e,i)=>(100*e).toFixed(i),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function Vot(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,i)=>e.toExponential(i),f:(e,i)=>e.toFixed(i),g:(e,i)=>e.toPrecision(i),o:e=>Math.round(e).toString(8),p:(e,i)=>d5(100*e,i),r:d5,s:function Wot(e,i){var t=cy(e,i);if(!t)return e+"";var n=t[0],r=t[1],a=r-(h5=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+cy(e,Math.max(0,i+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function p5(e){return e}var g5=Array.prototype.map,v5=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function Yot(e){var i=void 0===e.grouping||void 0===e.thousands?p5:function Not(e,i){return function(t,n){for(var r=t.length,a=[],o=0,s=e[0],l=0;r>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(t.substring(r-=s,r+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(i)}}(g5.call(e.grouping,Number),e.thousands+""),t=void 0===e.currency?"":e.currency[0]+"",n=void 0===e.currency?"":e.currency[1]+"",r=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?p5:function Got(e){return function(i){return i.replace(/[0-9]/g,function(t){return e[+t]})}}(g5.call(e.numerals,String)),o=void 0===e.percent?"%":e.percent+"",s=void 0===e.minus?"\u2212":e.minus+"",l=void 0===e.nan?"NaN":e.nan+"";function c(h){var f=(h=ly(h)).fill,p=h.align,m=h.sign,b=h.symbol,_=h.zero,w=h.width,T=h.comma,A=h.precision,P=h.trim,F=h.type;"n"===F?(T=!0,F="g"):f5[F]||(void 0===A&&(A=12),P=!0,F="g"),(_||"0"===f&&"="===p)&&(_=!0,f="0",p="=");var O="$"===b?t:"#"===b&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",V="$"===b?n:/[%p]/.test(F)?o:"",N=f5[F],G=/[defgprs%]/.test(F);function H(X){var J,tt,et,q=O,j=V;if("c"===F)j=N(X)+j,X="";else{var lt=(X=+X)<0||1/X<0;if(X=isNaN(X)?l:N(Math.abs(X),A),P&&(X=function Hot(e){t:for(var r,i=e.length,t=1,n=-1;t<i;++t)switch(e[t]){case".":n=r=t;break;case"0":0===n&&(n=t),r=t;break;default:if(!+e[t])break t;n>0&&(n=0)}return n>0?e.slice(0,n)+e.slice(r+1):e}(X)),lt&&0==+X&&"+"!==m&&(lt=!1),q=(lt?"("===m?m:s:"-"===m||"("===m?"":m)+q,j=("s"===F?v5[8+h5/3]:"")+j+(lt&&"("===m?")":""),G)for(J=-1,tt=X.length;++J<tt;)if(48>(et=X.charCodeAt(J))||et>57){j=(46===et?r+X.slice(J+1):X.slice(J))+j,X=X.slice(0,J);break}}T&&!_&&(X=i(X,1/0));var st=q.length+X.length+j.length,ut=st<w?new Array(w-st+1).join(f):"";switch(T&&_&&(X=i(ut+X,ut.length?w-j.length:1/0),ut=""),p){case"<":X=q+X+j+ut;break;case"=":X=q+ut+X+j;break;case"^":X=ut.slice(0,st=ut.length>>1)+q+X+j+ut.slice(st);break;default:X=ut+q+X+j}return a(X)}return A=void 0===A?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A)),H.toString=function(){return h+""},H}return{format:c,formatPrefix:function u(h,f){var p=c(((h=ly(h)).type="f",h)),m=3*Math.max(-8,Math.min(8,Math.floor(function Md(e){return(e=cy(Math.abs(e)))?e[1]:NaN}(f)/3))),b=Math.pow(10,-m),_=v5[8+m/3];return function(w){return p(b*w)+_}}}}!function Xot(e){Yot(e)}({thousands:",",grouping:[3],currency:["$",""]});class x5 extends Map{constructor(i,t=S5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=i)for(const[n,r]of i)this.set(n,r)}get(i){return super.get(QC(this,i))}has(i){return super.has(QC(this,i))}set(i,t){return super.set(b5(this,i),t)}delete(i){return super.delete(C5(this,i))}}class Zft extends Set{constructor(i,t=S5){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=i)for(const n of i)this.add(n)}has(i){return super.has(QC(this,i))}add(i){return super.add(b5(this,i))}delete(i){return super.delete(C5(this,i))}}Symbol("implicit");var Qot=dt(5126);const Jot=["caretElm"];function tst(e,i){}const est=function(e){return{model:e}};function ist(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"span"),y.\u0275\u0275template(1,tst,0,0,"ng-template",5),y.\u0275\u0275elementEnd()),2&e){const t=y.\u0275\u0275nextContext();y.\u0275\u0275advance(1),y.\u0275\u0275property("ngTemplateOutlet",t.template)("ngTemplateOutletContext",y.\u0275\u0275pureFunction1(2,est,t.context))}}function nst(e,i){if(1&e&&y.\u0275\u0275element(0,"span",6),2&e){const t=y.\u0275\u0275nextContext();y.\u0275\u0275property("innerHTML",t.title,y.\u0275\u0275sanitizeHtml)}}function Xlt(e,i,t){t=t||{};let n,r,a,o=null,s=0;function l(){s=!1===t.leading?0:+new Date,o=null,a=e.apply(n,r)}return function(){const c=+new Date;!s&&!1===t.leading&&(s=c);const u=i-(c-s);return n=this,r=arguments,u<=0?(clearTimeout(o),o=null,s=c,a=e.apply(n,r)):!o&&!1!==t.trailing&&(o=setTimeout(l,u)),a}}function Ult(e,i){return function(n,r,a){return{configurable:!0,enumerable:a.enumerable,get:function(){return Object.defineProperty(this,r,{configurable:!0,enumerable:a.enumerable,value:Xlt(a.value,e,i)}),this[r]}}}}var ze=(()=>(function(e){e.Top="top",e.Bottom="bottom",e.Left="left",e.Right="right",e.Center="center"}(ze||(ze={})),ze))();const Ql=7;function k5(e,i,t){return t===ze.Top?e.top-Ql:t===ze.Bottom?e.top+e.height-i.height+Ql:t===ze.Center?e.top+e.height/2-i.height/2:void 0}function D5(e,i,t){return t===ze.Left?e.left-Ql:t===ze.Right?e.left+e.width-i.width+Ql:t===ze.Center?e.left+e.width/2-i.width/2:void 0}class Qr{static calculateVerticalAlignment(i,t,n){let r=k5(i,t,n);return r+t.height>window.innerHeight&&(r=window.innerHeight-t.height),r}static calculateVerticalCaret(i,t,n,r){let a;r===ze.Top&&(a=i.height/2-n.height/2+Ql),r===ze.Bottom&&(a=t.height-i.height/2-n.height/2-Ql),r===ze.Center&&(a=t.height/2-n.height/2);const o=k5(i,t,r);return o+t.height>window.innerHeight&&(a+=o+t.height-window.innerHeight),a}static calculateHorizontalAlignment(i,t,n){let r=D5(i,t,n);return r+t.width>window.innerWidth&&(r=window.innerWidth-t.width),r}static calculateHorizontalCaret(i,t,n,r){let a;r===ze.Left&&(a=i.width/2-n.width/2+Ql),r===ze.Right&&(a=t.width-i.width/2-n.width/2-Ql),r===ze.Center&&(a=t.width/2-n.width/2);const o=D5(i,t,r);return o+t.width>window.innerWidth&&(a+=o+t.width-window.innerWidth),a}static shouldFlip(i,t,n,r){let a=!1;return n===ze.Right&&i.left+i.width+t.width+r>window.innerWidth&&(a=!0),n===ze.Left&&i.left-t.width-r<0&&(a=!0),n===ze.Top&&i.top-t.height-r<0&&(a=!0),n===ze.Bottom&&i.top+i.height+t.height+r>window.innerHeight&&(a=!0),a}static positionCaret(i,t,n,r,a){let o=0,s=0;return i===ze.Right?(s=-7,o=Qr.calculateVerticalCaret(n,t,r,a)):i===ze.Left?(s=t.width,o=Qr.calculateVerticalCaret(n,t,r,a)):i===ze.Top?(o=t.height,s=Qr.calculateHorizontalCaret(n,t,r,a)):i===ze.Bottom&&(o=-7,s=Qr.calculateHorizontalCaret(n,t,r,a)),{top:o,left:s}}static positionContent(i,t,n,r,a){let o=0,s=0;return i===ze.Right?(s=n.left+n.width+r,o=Qr.calculateVerticalAlignment(n,t,a)):i===ze.Left?(s=n.left-t.width-r,o=Qr.calculateVerticalAlignment(n,t,a)):i===ze.Top?(o=n.top-t.height-r,s=Qr.calculateHorizontalAlignment(n,t,a)):i===ze.Bottom&&(o=n.top+n.height+r,s=Qr.calculateHorizontalAlignment(n,t,a)),{top:o,left:s}}static determinePlacement(i,t,n,r){if(Qr.shouldFlip(n,t,i,r)){if(i===ze.Right)return ze.Left;if(i===ze.Left)return ze.Right;if(i===ze.Top)return ze.Bottom;if(i===ze.Bottom)return ze.Top}return i}}let Zlt=(()=>{class e{constructor(t,n,r){this.element=t,this.renderer=n,this.platformId=r}get cssClasses(){let t="ngx-charts-tooltip-content";return t+=` position-${this.placement}`,t+=` type-${this.type}`,t+=` ${this.cssClass}`,t}ngAfterViewInit(){setTimeout(this.position.bind(this))}position(){if(!(0,me.NF)(this.platformId))return;const t=this.element.nativeElement,n=this.host.nativeElement.getBoundingClientRect();if(!n.height&&!n.width)return;const r=t.getBoundingClientRect();this.checkFlip(n,r),this.positionContent(t,n,r),this.showCaret&&this.positionCaret(n,r),setTimeout(()=>this.renderer.addClass(t,"animate"),1)}positionContent(t,n,r){const{top:a,left:o}=Qr.positionContent(this.placement,r,n,this.spacing,this.alignment);this.renderer.setStyle(t,"top",`${a}px`),this.renderer.setStyle(t,"left",`${o}px`)}positionCaret(t,n){const r=this.caretElm.nativeElement,a=r.getBoundingClientRect(),{top:o,left:s}=Qr.positionCaret(this.placement,n,t,a,this.alignment);this.renderer.setStyle(r,"top",`${o}px`),this.renderer.setStyle(r,"left",`${s}px`)}checkFlip(t,n){this.placement=Qr.determinePlacement(this.placement,n,t,this.spacing)}onWindowResize(){this.position()}}return e.\u0275fac=function(t){return new(t||e)(y.\u0275\u0275directiveInject(y.ElementRef),y.\u0275\u0275directiveInject(y.Renderer2),y.\u0275\u0275directiveInject(y.PLATFORM_ID))},e.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-tooltip-content"]],viewQuery:function(t,n){if(1&t&&y.\u0275\u0275viewQuery(Jot,5),2&t){let r;y.\u0275\u0275queryRefresh(r=y.\u0275\u0275loadQuery())&&(n.caretElm=r.first)}},hostVars:2,hostBindings:function(t,n){1&t&&y.\u0275\u0275listener("resize",function(){return n.onWindowResize()},!1,y.\u0275\u0275resolveWindow),2&t&&y.\u0275\u0275classMap(n.cssClasses)},inputs:{host:"host",showCaret:"showCaret",type:"type",placement:"placement",alignment:"alignment",spacing:"spacing",cssClass:"cssClass",title:"title",template:"template",context:"context"},decls:6,vars:6,consts:[[3,"hidden"],["caretElm",""],[1,"tooltip-content"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHTML"]],template:function(t,n){1&t&&(y.\u0275\u0275elementStart(0,"div"),y.\u0275\u0275element(1,"span",0,1),y.\u0275\u0275elementStart(3,"div",2),y.\u0275\u0275template(4,ist,2,4,"span",3),y.\u0275\u0275template(5,nst,1,1,"span",4),y.\u0275\u0275elementEnd()()),2&t&&(y.\u0275\u0275advance(1),y.\u0275\u0275classMapInterpolate1("tooltip-caret position-",n.placement,""),y.\u0275\u0275property("hidden",!n.showCaret),y.\u0275\u0275advance(3),y.\u0275\u0275property("ngIf",!n.title),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",n.title))},dependencies:[me.O5,me.tP],styles:[".ngx-charts-tooltip-content{position:fixed;border-radius:3px;z-index:5000;display:block;font-weight:400;opacity:0;pointer-events:none!important}.ngx-charts-tooltip-content.type-popover{background:#fff;color:#060709;border:1px solid #72809b;box-shadow:0 1px 3px #0003,0 1px 1px #00000024,0 2px 1px -1px #0000001f;font-size:13px;padding:4px}.ngx-charts-tooltip-content.type-popover .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid #fff}.ngx-charts-tooltip-content.type-popover .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #fff}.ngx-charts-tooltip-content.type-tooltip{color:#fff;background:rgba(0,0,0,.75);font-size:12px;padding:0 10px;text-align:center;pointer-events:auto}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-left{border-top:7px solid transparent;border-bottom:7px solid transparent;border-left:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-top{border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-right{border-top:7px solid transparent;border-bottom:7px solid transparent;border-right:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content.type-tooltip .tooltip-caret.position-bottom{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid rgba(0,0,0,.75)}.ngx-charts-tooltip-content .tooltip-label{display:block;line-height:1em;padding:8px 5px 5px;font-size:1em}.ngx-charts-tooltip-content .tooltip-val{display:block;font-size:1.3em;line-height:1em;padding:0 5px 8px}.ngx-charts-tooltip-content .tooltip-caret{position:absolute;z-index:5001;width:0;height:0}.ngx-charts-tooltip-content.position-right{transform:translate(10px)}.ngx-charts-tooltip-content.position-left{transform:translate(-10px)}.ngx-charts-tooltip-content.position-top{transform:translateY(-10px)}.ngx-charts-tooltip-content.position-bottom{transform:translateY(10px)}.ngx-charts-tooltip-content.animate{opacity:1;transition:opacity .3s,transform .3s;transform:translate(0);pointer-events:auto}.area-tooltip-container{padding:5px 0;pointer-events:none}.tooltip-item{text-align:left;line-height:1.2em;padding:5px 0}.tooltip-item .tooltip-item-color{display:inline-block;height:12px;width:12px;margin-right:5px;color:#5b646b;border-radius:3px}\n"],encapsulation:2}),(0,het.gn)([Ult(100)],e.prototype,"onWindowResize",null),e})();class $lt{constructor(i){this.injectionService=i,this.defaults={},this.components=new Map}getByType(i=this.type){return this.components.get(i)}create(i){return this.createByType(this.type,i)}createByType(i,t){t=this.assignDefaults(t);const n=this.injectComponent(i,t);return this.register(i,n),n}destroy(i){const t=this.components.get(i.componentType);if(t&&t.length){const n=t.indexOf(i);n>-1&&(t[n].destroy(),t.splice(n,1))}}destroyAll(){this.destroyByType(this.type)}destroyByType(i){const t=this.components.get(i);if(t&&t.length){let n=t.length-1;for(;n>=0;)this.destroy(t[n--])}}injectComponent(i,t){return this.injectionService.appendComponent(i,t)}assignDefaults(i){const t={...this.defaults.inputs},n={...this.defaults.outputs};return!i.inputs&&!i.outputs&&(i={inputs:i}),t&&(i.inputs={...t,...i.inputs}),n&&(i.outputs={...n,...i.outputs}),i}register(i,t){this.components.has(i)||this.components.set(i,[]),this.components.get(i).push(t)}}let iS,P5=(()=>{class e{constructor(t,n,r){this.applicationRef=t,this.componentFactoryResolver=n,this.injector=r}static setGlobalRootViewContainer(t){e.globalRootViewContainer=t}getRootViewContainer(){if(this._container)return this._container;if(e.globalRootViewContainer)return e.globalRootViewContainer;if(this.applicationRef.components.length)return this.applicationRef.components[0];throw new Error("View Container not found! ngUpgrade needs to manually set this via setRootViewContainer or setGlobalRootViewContainer.")}setRootViewContainer(t){this._container=t}getComponentRootNode(t){return function jlt(e){return e.element}(t)?t.element.nativeElement:t.hostView&&t.hostView.rootNodes.length>0?t.hostView.rootNodes[0]:t.location.nativeElement}getRootViewContainerNode(t){return this.getComponentRootNode(t)}projectComponentBindings(t,n){if(n){if(void 0!==n.inputs){const r=Object.getOwnPropertyNames(n.inputs);for(const a of r)t.instance[a]=n.inputs[a]}if(void 0!==n.outputs){const r=Object.getOwnPropertyNames(n.outputs);for(const a of r)t.instance[a]=n.outputs[a]}}return t}appendComponent(t,n={},r){r||(r=this.getRootViewContainer());const a=this.getComponentRootNode(r),o=new PF.u0(a,this.componentFactoryResolver,this.applicationRef,this.injector),s=new PF.C5(t),l=o.attach(s);return this.projectComponentBindings(l,n),l}}return e.globalRootViewContainer=null,e.\u0275fac=function(t){return new(t||e)(y.\u0275\u0275inject(y.ApplicationRef),y.\u0275\u0275inject(y.ComponentFactoryResolver),y.\u0275\u0275inject(y.Injector))},e.\u0275prov=y.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})(),JC=(()=>{class e extends $lt{constructor(t){super(t),this.type=Zlt}}return e.\u0275fac=function(t){return new(t||e)(y.\u0275\u0275inject(P5))},e.\u0275prov=y.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac}),e})(),B5=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=y.\u0275\u0275defineInjector({imports:[[me.ez]]}),e})(),z5=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=y.\u0275\u0275defineInjector({providers:[P5,JC],imports:[[me.ez]]}),e})();typeof window<"u"?iS=window:typeof global<"u"&&(iS=global);let Jr=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=y.\u0275\u0275defineInjector({imports:[[me.ez,B5,z5],me.ez,B5,z5]}),e})(),sct=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=y.\u0275\u0275defineInjector({imports:[[Jr]]}),e})(),Z5=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=y.\u0275\u0275defineInjector({imports:[[Jr]]}),e})();Qot();let lct=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=y.\u0275\u0275defineInjector({imports:[[Jr]]}),e})(),cct=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=y.\u0275\u0275defineInjector({imports:[[Jr]]}),e})(),uct=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=y.\u0275\u0275defineInjector({imports:[[Jr]]}),e})(),$5=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=y.\u0275\u0275defineInjector({imports:[[Jr]]}),e})();Math;let rS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=y.\u0275\u0275defineInjector({imports:[[Jr]]}),e})(),fct=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=y.\u0275\u0275defineInjector({imports:[[Jr,rS,$5]]}),e})(),gct=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=y.\u0275\u0275defineInjector({imports:[[Jr]]}),e})(),vct=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=y.\u0275\u0275defineInjector({imports:[[Jr]]}),e})(),mct=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=y.\u0275\u0275defineInjector({imports:[[Jr,rS,Z5]]}),e})(),_ct=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=y.\u0275\u0275defineInjector({imports:[[Jr]]}),e})(),xct=(()=>{class e{constructor(){!function yct(){typeof SVGElement<"u"&&typeof SVGElement.prototype.contains>"u"&&(SVGElement.prototype.contains=HTMLDivElement.prototype.contains)}()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=y.\u0275\u0275defineInjector({imports:[Jr,sct,Z5,lct,cct,uct,_ct,$5,fct,gct,rS,vct,mct]}),e})();var bct=dt(9256),Cct=dt(529);let j5=(()=>{class e{constructor(t){this.http=t}getCords(){return this.http.get("assets/leaflet-countries/countries.geo.json")}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275inject(Cct.eN))};static#e=this.\u0275prov=y.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac})}return e})();var Br=dt(8407),Qs=function(){function e(i,t){this.element=i,this.zone=t,this.DEFAULT_ZOOM=1,this.DEFAULT_CENTER=(0,Br.latLng)(38.907192,-77.036871),this.DEFAULT_FPZ_OPTIONS={},this.fitBoundsOptions=this.DEFAULT_FPZ_OPTIONS,this.panOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomOptions=this.DEFAULT_FPZ_OPTIONS,this.zoomPanOptions=this.DEFAULT_FPZ_OPTIONS,this.options={},this.mapReady=new y.EventEmitter}return e.prototype.ngOnInit=function(){var i=this;this.zone.runOutsideAngular(function(){i.map=(0,Br.map)(i.element.nativeElement,i.options)}),null!=this.center&&null!=this.zoom&&this.setView(this.center,this.zoom),null!=this.fitBounds&&this.setFitBounds(this.fitBounds),this.doResize(),this.mapReady.emit(this.map)},e.prototype.ngOnChanges=function(i){i.zoom&&i.center&&null!=this.zoom&&null!=this.center?this.setView(i.center.currentValue,i.zoom.currentValue):i.zoom?this.setZoom(i.zoom.currentValue):i.center&&this.setCenter(i.center.currentValue),i.fitBounds&&this.setFitBounds(i.fitBounds.currentValue)},e.prototype.getMap=function(){return this.map},e.prototype.onResize=function(){this.delayResize()},e.prototype.doResize=function(){var i=this;this.zone.runOutsideAngular(function(){i.map.invalidateSize({})})},e.prototype.delayResize=function(){null!=this.resizeTimer&&clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(this.doResize.bind(this),200)},e.prototype.setView=function(i,t){var n=this;this.map&&null!=i&&null!=t&&this.zone.runOutsideAngular(function(){n.map.setView(i,t,n.zoomPanOptions)})},e.prototype.setZoom=function(i){var t=this;this.map&&null!=i&&this.zone.runOutsideAngular(function(){t.map.setZoom(i,t.zoomOptions)})},e.prototype.setCenter=function(i){var t=this;this.map&&null!=i&&this.zone.runOutsideAngular(function(){t.map.panTo(i,t.panOptions)})},e.prototype.setFitBounds=function(i){var t=this;this.map&&null!=i&&this.zone.runOutsideAngular(function(){t.map.fitBounds(i,t.fitBoundsOptions)})},e.ctorParameters=function(){return[{type:y.ElementRef},{type:y.NgZone}]},e.propDecorators={fitBoundsOptions:[{type:y.Input,args:["leafletFitBoundsOptions"]}],panOptions:[{type:y.Input,args:["leafletPanOptions"]}],zoomOptions:[{type:y.Input,args:["leafletZoomOptions"]}],zoomPanOptions:[{type:y.Input,args:["leafletZoomPanOptions"]}],options:[{type:y.Input,args:["leafletOptions"]}],mapReady:[{type:y.Output,args:["leafletMapReady"]}],zoom:[{type:y.Input,args:["leafletZoom"]}],center:[{type:y.Input,args:["leafletCenter"]}],fitBounds:[{type:y.Input,args:["leafletFitBounds"]}],onResize:[{type:y.HostListener,args:["window:resize",[]]}]},e.\u0275fac=function(t){return new(t||e)(y.\u0275\u0275directiveInject(y.ElementRef),y.\u0275\u0275directiveInject(y.NgZone))},e.\u0275dir=y.\u0275\u0275defineDirective({type:e,selectors:[["","leaflet",""]],hostBindings:function(t,n){1&t&&y.\u0275\u0275listener("resize",function(){return n.onResize()},!1,y.\u0275\u0275resolveWindow)},inputs:{fitBoundsOptions:["leafletFitBoundsOptions","fitBoundsOptions"],panOptions:["leafletPanOptions","panOptions"],zoomOptions:["leafletZoomOptions","zoomOptions"],zoomPanOptions:["leafletZoomPanOptions","zoomPanOptions"],options:["leafletOptions","options"],zoom:["leafletZoom","zoom"],center:["leafletCenter","center"],fitBounds:["leafletFitBounds","fitBounds"]},outputs:{mapReady:"leafletMapReady"},features:[y.\u0275\u0275NgOnChangesFeature]}),e}(),fy=function(){function e(i){this.leafletDirective=i}return e.prototype.init=function(){},e.prototype.getMap=function(){return this.leafletDirective.getMap()},e}(),Sct=(function(){function e(i,t){this.zone=t,this.leafletDirective=new fy(i)}e.prototype.ngOnInit=function(){this.leafletDirective.init()},e.prototype.ngOnDestroy=function(){var i=this;this.zone.runOutsideAngular(function(){i.layer.remove()})},e.prototype.ngOnChanges=function(i){var t=this;if(i.layer){var n=i.layer.previousValue,r=i.layer.currentValue;this.zone.runOutsideAngular(function(){n?.remove(),null!=r&&t.leafletDirective.getMap().addLayer(r)})}},e.ctorParameters=function(){return[{type:Qs},{type:y.NgZone}]},e.propDecorators={layer:[{type:y.Input,args:["leafletLayer"]}]},e.\u0275fac=function(t){return new(t||e)(y.\u0275\u0275directiveInject(Qs),y.\u0275\u0275directiveInject(y.NgZone))},e.\u0275dir=y.\u0275\u0275defineDirective({type:e,selectors:[["","leafletLayer",""]],inputs:{layer:["leafletLayer","layer"]},features:[y.\u0275\u0275NgOnChangesFeature]})}(),function(){function e(i,t,n){this.differs=t,this.zone=n,this.leafletDirective=new fy(i),this.layersDiffer=this.differs.find([]).create()}return Object.defineProperty(e.prototype,"layers",{get:function(){return this.layersValue},set:function(i){this.layersValue=i,this.updateLayers()},enumerable:!0,configurable:!0}),e.prototype.ngDoCheck=function(){this.updateLayers()},e.prototype.ngOnInit=function(){this.leafletDirective.init(),this.updateLayers()},e.prototype.ngOnDestroy=function(){this.layers=[]},e.prototype.updateLayers=function(){var i=this.leafletDirective.getMap();if(null!=i&&null!=this.layersDiffer){var t=this.layersDiffer.diff(this.layersValue);null!=t&&this.zone.runOutsideAngular(function(){t.forEachRemovedItem(function(n){i.removeLayer(n.item)}),t.forEachAddedItem(function(n){i.addLayer(n.item)})})}},e.ctorParameters=function(){return[{type:Qs},{type:y.IterableDiffers},{type:y.NgZone}]},e.propDecorators={layers:[{type:y.Input,args:["leafletLayers"]}]},e.\u0275fac=function(t){return new(t||e)(y.\u0275\u0275directiveInject(Qs),y.\u0275\u0275directiveInject(y.IterableDiffers),y.\u0275\u0275directiveInject(y.NgZone))},e.\u0275dir=y.\u0275\u0275defineDirective({type:e,selectors:[["","leafletLayers",""]],inputs:{layers:["leafletLayers","layers"]}}),e}()),aS=function(){function e(){this.layersRemoved=0,this.layersChanged=0,this.layersAdded=0}return e.prototype.changed=function(){return!(0===this.layersRemoved&&0===this.layersChanged&&0===this.layersAdded)},e}(),q5=function(){function e(i){this.zone=i}return e.prototype.getLayersControl=function(){return this.layersControl},e.prototype.init=function(i,t){var n=this,r=i.baseLayers||{},a=i.overlays||{};return this.zone.runOutsideAngular(function(){n.layersControl=Br.control.layers(r,a,t)}),this.layersControl},e.prototype.applyBaseLayerChanges=function(i){var t=new aS;return null!=this.layersControl&&(t=this.applyChanges(i,this.layersControl.addBaseLayer)),t},e.prototype.applyOverlayChanges=function(i){var t=new aS;return null!=this.layersControl&&(t=this.applyChanges(i,this.layersControl.addOverlay)),t},e.prototype.applyChanges=function(i,t){var n=this,r=new aS;return null!=i&&(i.forEachChangedItem(function(a){n.layersControl.removeLayer(a.previousValue),t.call(n.layersControl,a.currentValue,a.key),r.layersChanged++}),i.forEachRemovedItem(function(a){n.layersControl.removeLayer(a.previousValue),r.layersRemoved++}),i.forEachAddedItem(function(a){t.call(n.layersControl,a.currentValue,a.key),r.layersAdded++})),r},e}(),wct=function e(){this.baseLayers={},this.overlays={}},Tct=(function(){function e(i,t,n){this.differs=t,this.zone=n,this.leafletDirective=new fy(i),this.controlLayers=new q5(n),this.baseLayersDiffer=this.differs.find({}).create(),this.overlaysDiffer=this.differs.find({}).create()}Object.defineProperty(e.prototype,"layersControlConfig",{get:function(){return this.layersControlConfigValue},set:function(i){null==i&&(i=new wct),null==i.baseLayers&&(i.baseLayers={}),null==i.overlays&&(i.overlays={}),this.layersControlConfigValue=i,this.updateLayers()},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var i=this;this.leafletDirective.init(),this.zone.runOutsideAngular(function(){i.controlLayers.init({},i.layersControlOptions).addTo(i.leafletDirective.getMap())}),this.updateLayers()},e.prototype.ngOnDestroy=function(){var i=this;this.layersControlConfig={baseLayers:{},overlays:{}},this.zone.runOutsideAngular(function(){i.controlLayers.getLayersControl().remove()})},e.prototype.ngDoCheck=function(){this.updateLayers()},e.prototype.updateLayers=function(){var i=this.leafletDirective.getMap(),t=this.controlLayers.getLayersControl();if(null!=i&&null!=t){if(null!=this.baseLayersDiffer&&null!=this.layersControlConfigValue.baseLayers){var n=this.baseLayersDiffer.diff(this.layersControlConfigValue.baseLayers);this.controlLayers.applyBaseLayerChanges(n)}null!=this.overlaysDiffer&&null!=this.layersControlConfigValue.overlays&&(n=this.overlaysDiffer.diff(this.layersControlConfigValue.overlays),this.controlLayers.applyOverlayChanges(n))}},e.ctorParameters=function(){return[{type:Qs},{type:y.KeyValueDiffers},{type:y.NgZone}]},e.propDecorators={layersControlConfig:[{type:y.Input,args:["leafletLayersControl"]}],layersControlOptions:[{type:y.Input,args:["leafletLayersControlOptions"]}]},e.\u0275fac=function(t){return new(t||e)(y.\u0275\u0275directiveInject(Qs),y.\u0275\u0275directiveInject(y.KeyValueDiffers),y.\u0275\u0275directiveInject(y.NgZone))},e.\u0275dir=y.\u0275\u0275defineDirective({type:e,selectors:[["","leafletLayersControl",""]],inputs:{layersControlConfig:["leafletLayersControl","layersControlConfig"],layersControlOptions:["leafletLayersControlOptions","layersControlOptions"]}})}(),function(){function e(){}return e.mapToArray=function(i){var t=[];for(var n in i)i.hasOwnProperty(n)&&t.push(i[n]);return t},e}()),Mct=(function(){function e(i,t,n){this.differs=t,this.zone=n,this.leafletDirective=new fy(i),this.controlLayers=new q5(n),this.baseLayersDiffer=this.differs.find({}).create()}Object.defineProperty(e.prototype,"baseLayers",{get:function(){return this.baseLayersValue},set:function(i){this.baseLayersValue=i,this.updateBaseLayers()},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){var i=this;this.baseLayers={},this.zone.runOutsideAngular(function(){i.controlLayers.getLayersControl().remove()})},e.prototype.ngOnInit=function(){var i=this;this.leafletDirective.init(),this.zone.runOutsideAngular(function(){i.controlLayers.init({},i.layersControlOptions).addTo(i.leafletDirective.getMap())}),this.updateBaseLayers()},e.prototype.ngDoCheck=function(){this.updateBaseLayers()},e.prototype.updateBaseLayers=function(){var i=this.leafletDirective.getMap(),t=this.controlLayers.getLayersControl();if(null!=i&&null!=t&&null!=this.baseLayersDiffer){var n=this.baseLayersDiffer.diff(this.baseLayersValue);this.controlLayers.applyBaseLayerChanges(n).changed()&&this.syncBaseLayer()}},e.prototype.syncBaseLayer=function(){var r,i=this,t=this.leafletDirective.getMap(),n=Tct.mapToArray(this.baseLayers);t.eachLayer(function(a){r=n.find(function(o){return a===o})}),null!=r?this.baseLayer=r:n.length>0&&(this.baseLayer=n[0],this.zone.runOutsideAngular(function(){i.baseLayer.addTo(t)}))},e.ctorParameters=function(){return[{type:Qs},{type:y.KeyValueDiffers},{type:y.NgZone}]},e.propDecorators={baseLayers:[{type:y.Input,args:["leafletBaseLayers"]}],layersControlOptions:[{type:y.Input,args:["leafletLayersControlOptions"]}]},e.\u0275fac=function(t){return new(t||e)(y.\u0275\u0275directiveInject(Qs),y.\u0275\u0275directiveInject(y.KeyValueDiffers),y.\u0275\u0275directiveInject(y.NgZone))},e.\u0275dir=y.\u0275\u0275defineDirective({type:e,selectors:[["","leafletBaseLayers",""]],inputs:{baseLayers:["leafletBaseLayers","baseLayers"],layersControlOptions:["leafletLayersControlOptions","layersControlOptions"]}})}(),function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[]}},e.ctorParameters=function(){return[]},e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=y.\u0275\u0275defineNgModule({type:e}),e.\u0275inj=y.\u0275\u0275defineInjector({}),e}());!function(){function e(i,t,n){this.type=i,this.url=t,this.options=n}e.createTileLayer=function(i){return"xyz"===i.type?(0,Br.tileLayer)(i.url,i.options):Br.tileLayer.wms(i.url,i.options)},e.createTileLayers=function(i){var t={};for(var n in i)i.hasOwnProperty(n)&&(t[n]=e.createTileLayer(i[n]));return t},e.prototype.createTileLayer=function(){return e.createTileLayer(this)}}();let Act=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=y.\u0275\u0275defineNgModule({type:e});static#i=this.\u0275inj=y.\u0275\u0275defineInjector({providers:[j5],imports:[Qt.O,ct.zyh,ct.AE1,ct.T2N,ct.KdK,ct.EoG,ct.IIj,ct.COg,bct.ChartModule,ct.DfH,DF,xct,Mct]})}return e})();var Dd=dt(410);let Lct=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-miscellaneous"]],decls:1,vars:0,template:function(n,r){1&n&&y.\u0275\u0275element(0,"router-outlet")},dependencies:[Dd.lC],encapsulation:2})}return e})();var K5=dt(5477);const kct=[{path:"",component:Lct,children:[{path:"404",component:K5.w}]}];let Dct=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=y.\u0275\u0275defineNgModule({type:e});static#i=this.\u0275inj=y.\u0275\u0275defineInjector({imports:[Dd.Bz.forChild(kct),Dd.Bz]})}return e})(),Pct=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=y.\u0275\u0275defineNgModule({type:e});static#i=this.\u0275inj=y.\u0275\u0275defineInjector({imports:[Qt.O,ct.zyh,ct.T2N,Dct]})}return e})();var ae=dt(4290),Ict=dt(5453);const Oct=function(e){return{off:e}},Ect=["*"];let Fct=(()=>{class e{constructor(){this.on=!0}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-status-card"]],inputs:{title:"title",type:"type",on:"on"},ngContentSelectors:Ect,decls:9,vars:8,consts:[[3,"ngClass","click"],[1,"icon-container"],[1,"details"],[1,"title","h5"],[1,"status","paragraph-2"]],template:function(n,r){1&n&&(y.\u0275\u0275projectionDef(),y.\u0275\u0275elementStart(0,"nb-card",0),y.\u0275\u0275listener("click",function(){return r.on=!r.on}),y.\u0275\u0275elementStart(1,"div",1)(2,"div"),y.\u0275\u0275projection(3),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(4,"div",2)(5,"div",3),y.\u0275\u0275text(6),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(7,"div",4),y.\u0275\u0275text(8),y.\u0275\u0275elementEnd()()()),2&n&&(y.\u0275\u0275property("ngClass",y.\u0275\u0275pureFunction1(6,Oct,!r.on)),y.\u0275\u0275advance(2),y.\u0275\u0275classMapInterpolate1("icon status-",r.type,""),y.\u0275\u0275advance(4),y.\u0275\u0275textInterpolate(r.title),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(r.on?"ON":"OFF"))},dependencies:[me.mk,ct.Asz],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{flex-direction:row;align-items:center;height:6rem;overflow:visible}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .icon-container[_ngcontent-%COMP%]{height:100%;padding:.625rem}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:5.75rem;height:4.75rem;font-size:3.75rem;border-radius:var(--card-border-radius);transition:width .4s ease;transform:translateZ(0);-webkit-transform-style:preserve-3d;-webkit-backface-visibility:hidden;color:var(--text-control-color)}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .icon.status-basic[_ngcontent-%COMP%]{background-image:linear-gradient(to right,var(--button-hero-basic-left-background-color),var(--button-hero-basic-right-background-color))}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .icon.status-basic[_ngcontent-%COMP%]:hover{background-image:linear-gradient(to right,var(--button-hero-basic-hover-left-background-color),var(--button-hero-basic-hover-right-background-color))}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .icon.status-primary[_ngcontent-%COMP%]{background-image:linear-gradient(to right,var(--button-hero-primary-left-background-color),var(--button-hero-primary-right-background-color))}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .icon.status-primary[_ngcontent-%COMP%]:hover{background-image:linear-gradient(to right,var(--button-hero-primary-hover-left-background-color),var(--button-hero-primary-hover-right-background-color))}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .icon.status-success[_ngcontent-%COMP%]{background-image:linear-gradient(to right,var(--button-hero-success-left-background-color),var(--button-hero-success-right-background-color))}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .icon.status-success[_ngcontent-%COMP%]:hover{background-image:linear-gradient(to right,var(--button-hero-success-hover-left-background-color),var(--button-hero-success-hover-right-background-color))}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .icon.status-warning[_ngcontent-%COMP%]{background-image:linear-gradient(to right,var(--button-hero-warning-left-background-color),var(--button-hero-warning-right-background-color))}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .icon.status-warning[_ngcontent-%COMP%]:hover{background-image:linear-gradient(to right,var(--button-hero-warning-hover-left-background-color),var(--button-hero-warning-hover-right-background-color))}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .icon.status-danger[_ngcontent-%COMP%]{background-image:linear-gradient(to right,var(--button-hero-danger-left-background-color),var(--button-hero-danger-right-background-color))}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .icon.status-danger[_ngcontent-%COMP%]:hover{background-image:linear-gradient(to right,var(--button-hero-danger-hover-left-background-color),var(--button-hero-danger-hover-right-background-color))}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .icon.status-info[_ngcontent-%COMP%]{background-image:linear-gradient(to right,var(--button-hero-info-left-background-color),var(--button-hero-info-right-background-color))}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .icon.status-info[_ngcontent-%COMP%]:hover{background-image:linear-gradient(to right,var(--button-hero-info-hover-left-background-color),var(--button-hero-info-hover-right-background-color))}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .icon.status-control[_ngcontent-%COMP%]{background-image:linear-gradient(to right,var(--button-hero-control-left-background-color),var(--button-hero-control-right-background-color))}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .icon.status-control[_ngcontent-%COMP%]:hover{background-image:linear-gradient(to right,var(--button-hero-control-hover-left-background-color),var(--button-hero-control-hover-right-background-color))}[_nghost-%COMP%]   nb-card.off[_ngcontent-%COMP%]{color:var(--text-hint-color)}[_nghost-%COMP%]   nb-card.off[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%], [_nghost-%COMP%]   nb-card.off[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], [_nghost-%COMP%]   nb-card.off[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--text-hint-color)}[_nghost-%COMP%]   nb-card.off[_ngcontent-%COMP%]   .icon.status-basic[_ngcontent-%COMP%]{box-shadow:none;background-image:linear-gradient(to right,transparent,transparent)}[_nghost-%COMP%]   nb-card.off[_ngcontent-%COMP%]   .icon.status-primary[_ngcontent-%COMP%]{box-shadow:none;background-image:linear-gradient(to right,transparent,transparent)}[_nghost-%COMP%]   nb-card.off[_ngcontent-%COMP%]   .icon.status-success[_ngcontent-%COMP%]{box-shadow:none;background-image:linear-gradient(to right,transparent,transparent)}[_nghost-%COMP%]   nb-card.off[_ngcontent-%COMP%]   .icon.status-warning[_ngcontent-%COMP%]{box-shadow:none;background-image:linear-gradient(to right,transparent,transparent)}[_nghost-%COMP%]   nb-card.off[_ngcontent-%COMP%]   .icon.status-danger[_ngcontent-%COMP%]{box-shadow:none;background-image:linear-gradient(to right,transparent,transparent)}[_nghost-%COMP%]   nb-card.off[_ngcontent-%COMP%]   .icon.status-info[_ngcontent-%COMP%]{box-shadow:none;background-image:linear-gradient(to right,transparent,transparent)}[_nghost-%COMP%]   nb-card.off[_ngcontent-%COMP%]   .icon.status-control[_ngcontent-%COMP%]{box-shadow:none;background-image:linear-gradient(to right,transparent,transparent)}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;height:100%;border-left:1px solid transparent}[dir=ltr]   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{padding:0 .5rem 0 .75rem}[dir=rtl]   [_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{padding:0 .75rem 0 .5rem}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{text-transform:uppercase}"]})}return e})();var py=dt(567),Rct=dt(3288);function Bct(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"nb-list-item",5),y.\u0275\u0275element(1,"nb-user",6)(2,"nb-icon",7),y.\u0275\u0275elementEnd()),2&e){const t=i.$implicit;y.\u0275\u0275advance(1),y.\u0275\u0275property("picture",t.user.picture)("name",t.user.name)("title",t.type)}}function Vct(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"nb-list-item",5),y.\u0275\u0275element(1,"nb-user",6),y.\u0275\u0275elementStart(2,"span",8),y.\u0275\u0275text(3),y.\u0275\u0275pipe(4,"date"),y.\u0275\u0275elementEnd()()),2&e){const t=i.$implicit;y.\u0275\u0275advance(1),y.\u0275\u0275property("picture",t.user.picture)("name",t.user.name)("title",t.type),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind2(4,4,t.time,"shortTime"))}}let zct=(()=>{class e{constructor(t){this.userService=t,this.alive=!0,(0,py.D)(this.userService.getContacts(),this.userService.getRecentUsers()).pipe((0,ae.o)(()=>this.alive)).subscribe(([n,r])=>{this.contacts=n,this.recent=r})}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(Rct.m))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-contacts"]],decls:8,vars:2,consts:[["size","giant"],["fullWidth",""],["tabTitle","Contacts"],["class","contact",4,"ngFor","ngForOf"],["tabTitle","Recent"],[1,"contact"],["size","large",3,"picture","name","title"],["icon","phone-outline","pack","eva"],[1,"caption"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card",0)(1,"nb-tabset",1)(2,"nb-tab",2)(3,"nb-list"),y.\u0275\u0275template(4,Bct,3,3,"nb-list-item",3),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(5,"nb-tab",4)(6,"nb-list"),y.\u0275\u0275template(7,Vct,5,7,"nb-list-item",3),y.\u0275\u0275elementEnd()()()()),2&n&&(y.\u0275\u0275advance(4),y.\u0275\u0275property("ngForOf",r.contacts),y.\u0275\u0275advance(3),y.\u0275\u0275property("ngForOf",r.recent))},dependencies:[me.sg,ct.Asz,ct.k0$,ct.kyn,ct.TR4,ct.zP_,ct.qBV,ct.fMN,me.uU],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   nb-tabset[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   nb-tabset[_ngcontent-%COMP%]     ul{padding-bottom:1px}[_nghost-%COMP%]   nb-tabset[_ngcontent-%COMP%]     ul   .tab-link{padding:1.25rem 2rem}[_nghost-%COMP%]   nb-tab[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   .contact[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}[_nghost-%COMP%]   .contact[_ngcontent-%COMP%]:first-child{border-top:none}"]})}return e})();var Nct=dt(6363);const Gct=["svgRoot"];function Hct(e,i){if(1&e&&(y.\u0275\u0275namespaceSVG(),y.\u0275\u0275element(0,"path")),2&e){const t=i.$implicit,n=y.\u0275\u0275nextContext();y.\u0275\u0275attribute("d",t.d)("fill",n.off?n.styles.nonSelectedArc.color:t.color)}}function Wct(e,i){if(1&e&&(y.\u0275\u0275namespaceSVG(),y.\u0275\u0275element(0,"path")),2&e){const t=y.\u0275\u0275nextContext();y.\u0275\u0275attribute("d",t.styles.nonSelectedArc.d)("fill",t.styles.nonSelectedArc.color)}}const Yct=function(){return[0,1,2,3,4,5]},Xct=["*"];let Uct=0,Zct=(()=>{class e{set setValue(t){this.value=t}onMouseUp(t){this.recalculateValue(t),this.isMouseDown=!1}onMouseMove(t){this.recalculateValue(t)}onResize(t){this.invalidate()}constructor(t,n){this.location=t,this.locationStrategy=n,this.bottomAngle=90,this.arcThickness=18,this.thumbRadius=16,this.thumbBorder=3,this.maxLeap=.4,this.value=50,this.valueChange=new y.EventEmitter,this.min=0,this.max=100,this.step=.1,this.power=new y.EventEmitter,this.off=!1,this.svgControlId=Uct++,this.scaleFactor=1,this.bottomAngleRad=0,this.radius=100,this.translateXValue=0,this.translateYValue=0,this.thickness=6,this.pinRadius=10,this.colors=[],this.styles={viewBox:"0 0 300 300",arcTranslateStr:"translate(0, 0)",clipPathStr:"",gradArcs:[],nonSelectedArc:{},thumbPosition:{x:0,y:0},blurRadius:15},this.isMouseDown=!1,this.init=!1,this.oldValue=this.value}ngAfterViewInit(){setTimeout(()=>{this.invalidate(),this.init=!0})}ngOnChanges(){this.init&&this.invalidate()}mouseDown(t){this.isMouseDown=!0,this.off||this.recalculateValue(t,!0)}switchPower(){this.off=!this.off,this.power.emit(!this.off),this.off?(this.oldValue=this.value,this.value=this.min):this.value=this.oldValue,this.invalidatePinPosition()}getUrlPath(t){return`url(${this.locationStrategy.getBaseHref().replace(/\/$/,"")}${this.location.path().replace(/\/$/,"")}${t}${this.svgControlId})`}invalidate(){this.bottomAngleRad=e.toRad(this.bottomAngle),this.calculateVars(),this.invalidateClipPathStr(),this.invalidatePinPosition(),setTimeout(()=>{this.invalidateGradientArcs()})}calculateVars(){this.bottomAngleRad=e.toRad(this.bottomAngle),this.colors="string"==typeof this.fillColors?[this.fillColors]:this.fillColors;const t=this.bottomAngleRad/2,n=this.svgRoot.nativeElement.getBoundingClientRect(),r=n.height&&n.width/n.height||1,a=300/r,o=this.thumbRadius+this.thumbBorder,s=2*o>this.arcThickness?(o-this.arcThickness/2)/this.scaleFactor:0;this.scaleFactor=n.width/300||1,this.styles.viewBox=`0 0 300 ${a}`,this.radius=(this.bottomAngleRad<=Math.PI?2/(1+Math.cos(t)):2*Math.sin(t)/(1+Math.cos(t)))>r?this.bottomAngleRad>Math.PI?(300-2*s)/(2*Math.sin(t)):150-s:(a-2*s)/(1+Math.cos(t)),this.translateXValue=150-this.radius,this.translateYValue=a/2-this.radius*(1+Math.cos(t))/2,this.styles.arcTranslateStr=`translate(${this.translateXValue}, ${this.translateYValue})`,this.thickness=this.arcThickness/this.scaleFactor,this.pinRadius=this.thumbRadius/this.scaleFactor}calculateClipPathSettings(){const t=this.bottomAngleRad/2,n=this.radius-this.thickness,r=1-Math.sin(t),a=1+Math.cos(t),o=1+Math.sin(t);return{outer:{start:{x:r*this.radius,y:a*this.radius},end:{x:o*this.radius,y:a*this.radius},radius:this.radius},inner:{start:{x:r*n+this.thickness,y:a*n+this.thickness},end:{x:o*n+this.thickness,y:a*n+this.thickness},radius:n},thickness:this.thickness,big:this.bottomAngleRad<Math.PI?"1":"0"}}invalidateClipPathStr(){const t=this.calculateClipPathSettings();let n=`M ${t.outer.start.x},${t.outer.start.y}`;n+=` A ${t.outer.radius},${t.outer.radius}\n       0 ${t.big} 1\n       ${t.outer.end.x},${t.outer.end.y}`,n+=` A ${t.thickness/2},${t.thickness/2}\n       0 1 1\n       ${t.inner.end.x},${t.inner.end.y}`,n+=` A ${t.inner.radius},${t.inner.radius}\n       1 ${t.big} 0\n       ${t.inner.start.x},${t.inner.start.y}`,n+=` A ${t.thickness/2},${t.thickness/2}\n       0 1 1\n       ${t.outer.start.x},${t.outer.start.y}`,n+=" Z",this.styles.clipPathStr=n}calculateGradientConePaths(t){const n=this.radius;function r(s){return n*(1-2*Math.sin(s))}function a(s){return n*(1+2*Math.cos(s))}const o=[];for(let s=0,l=this.bottomAngleRad/2;s<this.colors.length;s++,l+=t)o.push({start:{x:r(l),y:a(l)},end:{x:r(l+t),y:a(l+t)},big:Math.PI<=t?1:0});return o}invalidateGradientArcs(){const t=this.radius;function n(o){return`M ${t},${t}\n         L ${o.start.x},${o.start.y}\n         A ${2*t},${2*t}\n         0 ${o.big} 1\n         ${o.end.x},${o.end.y}\n         Z`}const r=(2*Math.PI-this.bottomAngleRad)/this.colors.length,a=this.calculateGradientConePaths(r);this.styles.gradArcs=[];for(let o=0;o<a.length;o++){const l=n(a[o]);this.styles.gradArcs.push({color:this.colors[o],d:l})}this.styles.blurRadius=2*t*Math.sin(r/6)}invalidateNonSelectedArc(){const t=this.bottomAngleRad/2+(1-this.getValuePercentage())*(2*Math.PI-this.bottomAngleRad);this.styles.nonSelectedArc={color:this.disableArcColor,d:`M ${this.radius},${this.radius}\n       L ${this.radius},${3*this.radius}\n       A ${2*this.radius},${2*this.radius}\n       1 ${t>Math.PI?"1":"0"} 0\n       ${this.radius+2*this.radius*Math.sin(t)},${this.radius+2*this.radius*Math.cos(t)}\n       Z`}}invalidatePinPosition(){const t=this.thickness/2,n=this.radius-t,r=(2*Math.PI-this.bottomAngleRad)*this.getValuePercentage()+this.bottomAngleRad/2;this.styles.thumbPosition={x:n*(1-Math.sin(r))+t,y:n*(1+Math.cos(r))+t},this.invalidateNonSelectedArc()}recalculateValue(t,n=!1){if(this.isMouseDown&&!this.off){const r=this.svgRoot.nativeElement.getBoundingClientRect(),a={x:r.left+300*this.scaleFactor/2,y:r.top+(this.translateYValue+this.radius)*this.scaleFactor};let o=Math.atan2(a.x-t.clientX,t.clientY-a.y);o<0&&(o+=2*Math.PI);const s=this.getValuePercentage();let l=0;l=o<this.bottomAngleRad/2?0:o>2*Math.PI-this.bottomAngleRad/2?1:(o-this.bottomAngleRad/2)/(2*Math.PI-this.bottomAngleRad);const c=this.toValueNumber(l);this.value!==c&&(n||Math.abs(l-s)<this.maxLeap)&&(this.value=c,this.valueChange.emit(this.value),this.invalidatePinPosition())}}getValuePercentage(){return(this.value-this.min)/(this.max-this.min)}toValueNumber(t){return Math.round(t*(this.max-this.min)/this.step)*this.step+this.min}static toRad(t){return Math.PI*t/180}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(me.Ye),y.\u0275\u0275directiveInject(me.S$))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-temperature-dragger"]],viewQuery:function(n,r){if(1&n&&y.\u0275\u0275viewQuery(Gct,7),2&n){let a;y.\u0275\u0275queryRefresh(a=y.\u0275\u0275loadQuery())&&(r.svgRoot=a.first)}},hostBindings:function(n,r){1&n&&y.\u0275\u0275listener("mouseup",function(o){return r.onMouseUp(o)},!1,y.\u0275\u0275resolveWindow)("mousemove",function(o){return r.onMouseMove(o)},!1,y.\u0275\u0275resolveWindow)("resize",function(o){return r.onResize(o)},!1,y.\u0275\u0275resolveWindow)},inputs:{fillColors:"fillColors",disableArcColor:"disableArcColor",bottomAngle:"bottomAngle",arcThickness:"arcThickness",thumbRadius:"thumbRadius",thumbBorder:"thumbBorder",thumbBg:"thumbBg",thumbBorderColor:"thumbBorderColor",maxLeap:"maxLeap",setValue:["value","setValue"],min:"min",max:"max",step:"step"},outputs:{valueChange:"valueChange",power:"power"},features:[y.\u0275\u0275NgOnChangesFeature],ngContentSelectors:Xct,decls:21,vars:19,consts:[["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsAQMAAABDsxw2AAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAACJJREFUaN7twTEBAAAAwiD7pzbFPmAAAAAAAAAAAAAAAGQOLbQAAU3zwM4AAAAASUVORK5CYII="],[1,"svg-container"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","version","1.1","preserveAspectRatio","xMinYMin meet",3,"mousedown"],["svgRoot",""],["x","0","y","0","width","100%","height","100%"],["in","SourceGraphic"],["type","discrete","tableValues","1 1"],["stroke","black"],[1,"toClip"],[1,"toFilter"],[4,"ngFor","ngForOf"],[1,"temperature-bg"],["nbButton","","appearance","ghost",1,"power-bg",3,"click"],["icon","power-outline","pack","eva",1,"power-icon"]],template:function(n,r){1&n&&(y.\u0275\u0275projectionDef(),y.\u0275\u0275element(0,"img",0),y.\u0275\u0275elementStart(1,"div",1),y.\u0275\u0275namespaceSVG(),y.\u0275\u0275elementStart(2,"svg",2,3),y.\u0275\u0275listener("mousedown",function(o){return r.mouseDown(o)}),y.\u0275\u0275elementStart(4,"defs")(5,"filter",4),y.\u0275\u0275element(6,"feGaussianBlur",5),y.\u0275\u0275elementStart(7,"feComponentTransfer"),y.\u0275\u0275element(8,"feFuncA",6),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(9,"clipPath"),y.\u0275\u0275element(10,"path",7),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(11,"g")(12,"g",8)(13,"g",9),y.\u0275\u0275template(14,Hct,1,2,"path",10),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(15,Wct,1,2,"path",10),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(16,"circle"),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275namespaceHTML(),y.\u0275\u0275elementStart(17,"div",11),y.\u0275\u0275projection(18),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(19,"button",12),y.\u0275\u0275listener("click",function(){return r.switchPower()}),y.\u0275\u0275element(20,"nb-icon",13),y.\u0275\u0275elementEnd()),2&n&&(y.\u0275\u0275advance(2),y.\u0275\u0275attribute("viewBox",r.styles.viewBox),y.\u0275\u0275advance(3),y.\u0275\u0275attribute("id","blurFilter"+r.svgControlId),y.\u0275\u0275advance(1),y.\u0275\u0275attribute("stdDeviation",r.styles.blurRadius),y.\u0275\u0275advance(3),y.\u0275\u0275attribute("id","sliderClip"+r.svgControlId),y.\u0275\u0275advance(1),y.\u0275\u0275attribute("d",r.styles.clipPathStr),y.\u0275\u0275advance(1),y.\u0275\u0275attribute("transform",r.styles.arcTranslateStr),y.\u0275\u0275advance(1),y.\u0275\u0275attribute("clip-path",r.getUrlPath("#sliderClip")),y.\u0275\u0275advance(1),y.\u0275\u0275attribute("filter",r.getUrlPath("#blurFilter")),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",r.styles.gradArcs),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",y.\u0275\u0275pureFunction0(18,Yct)),y.\u0275\u0275advance(1),y.\u0275\u0275attribute("cx",r.styles.thumbPosition.x)("cy",r.styles.thumbPosition.y)("r",r.pinRadius)("stroke-width",r.thumbBorder/r.scaleFactor)("fill",r.off?"none":r.thumbBg)("stroke",r.off?"none":r.thumbBorderColor),y.\u0275\u0275advance(3),y.\u0275\u0275classProp("on",!r.off))},dependencies:[me.sg,ct.DPz,ct.fMN],styles:["[_nghost-%COMP%]{position:relative}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;visibility:hidden}[_nghost-%COMP%]   .svg-container[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;z-index:2}[_nghost-%COMP%]   .temperature-bg[_ngcontent-%COMP%]{position:absolute;width:88%;height:88%;top:13%;left:6%;border-radius:50%;z-index:1;display:flex;flex-direction:column;align-items:center;justify-content:center;border:var(--divider-width) var(--divider-style) var(--divider-color)}[_nghost-%COMP%]   .power-bg[_ngcontent-%COMP%]{position:absolute;width:5.25rem;height:5.25rem;background-color:var(--card-background-color);border-radius:50%;bottom:2%;left:50%;transform:translate(-50%,50%);z-index:2;display:flex;align-items:center;justify-content:center;cursor:pointer;border:var(--divider-width) var(--divider-style) var(--divider-color)}[_nghost-%COMP%]   .power-bg.on[_ngcontent-%COMP%]{color:var(--text-hint-color)}[_nghost-%COMP%]   .power-icon[_ngcontent-%COMP%]{font-size:3rem}"]})}return e})();var $ct=dt(7315);const Q5=function(e){return{off:e}};let jct=(()=>{class e{constructor(t,n){this.themeService=t,this.temperatureHumidityService=n,this.alive=!0,this.temperatureOff=!1,this.temperatureMode="cool",this.humidityOff=!1,this.humidityMode="heat",this.themeService.getJsTheme().pipe((0,ae.o)(()=>this.alive)).subscribe(r=>{this.theme=r.variables.temperature}),(0,py.D)(this.temperatureHumidityService.getTemperatureData(),this.temperatureHumidityService.getHumidityData()).subscribe(([r,a])=>{this.temperatureData=r,this.temperature=this.temperatureData.value,this.humidityData=a,this.humidity=this.humidityData.value})}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(Nct.Q))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-temperature"]],decls:36,vars:28,consts:[["size","large"],["fullWidth",""],["tabTitle","Temperature"],[1,"slider-container"],[3,"value","min","max","disableArcColor","fillColors","thumbBg","thumbBorderColor","valueChange","power"],[1,"slider-value-container",3,"ngClass"],[1,"value","temperature","h1"],[1,"desc"],["name","temperature-mode",3,"ngModel","ngModelChange"],["value","cool"],[1,"nb-snowy-circled"],["value","warm"],[1,"nb-sunny-circled"],["value","heat"],[1,"nb-flame-circled"],["value","fan"],[1,"nb-loop-circled"],["tabTitle","Humidity"],[1,"value","humidity","h1"],["name","humidity-mode",3,"ngModel","ngModelChange"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card",0)(1,"nb-tabset",1)(2,"nb-tab",2)(3,"div",3)(4,"ngx-temperature-dragger",4),y.\u0275\u0275listener("valueChange",function(o){return r.temperature=o})("power",function(o){return r.temperatureOff=!o}),y.\u0275\u0275elementStart(5,"div",5)(6,"div",6),y.\u0275\u0275text(7),y.\u0275\u0275pipe(8,"ngxRound"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(9,"div",7),y.\u0275\u0275text(10," Celsius "),y.\u0275\u0275elementEnd()()()(),y.\u0275\u0275elementStart(11,"nb-radio-group",8),y.\u0275\u0275listener("ngModelChange",function(o){return r.temperatureMode=o}),y.\u0275\u0275elementStart(12,"nb-radio",9),y.\u0275\u0275element(13,"i",10),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(14,"nb-radio",11),y.\u0275\u0275element(15,"i",12),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(16,"nb-radio",13),y.\u0275\u0275element(17,"i",14),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(18,"nb-radio",15),y.\u0275\u0275element(19,"i",16),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(20,"nb-tab",17)(21,"div",3)(22,"ngx-temperature-dragger",4),y.\u0275\u0275listener("valueChange",function(o){return r.humidity=o})("power",function(o){return r.humidityOff=!o}),y.\u0275\u0275elementStart(23,"div",5)(24,"div",18),y.\u0275\u0275text(25),y.\u0275\u0275pipe(26,"ngxRound"),y.\u0275\u0275elementEnd()()()(),y.\u0275\u0275elementStart(27,"nb-radio-group",19),y.\u0275\u0275listener("ngModelChange",function(o){return r.humidityMode=o}),y.\u0275\u0275elementStart(28,"nb-radio",9),y.\u0275\u0275element(29,"i",10),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(30,"nb-radio",11),y.\u0275\u0275element(31,"i",12),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(32,"nb-radio",13),y.\u0275\u0275element(33,"i",14),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(34,"nb-radio",15),y.\u0275\u0275element(35,"i",16),y.\u0275\u0275elementEnd()()()()()),2&n&&(y.\u0275\u0275advance(4),y.\u0275\u0275property("value",r.temperature)("min",r.temperatureData.min)("max",r.temperatureData.max)("disableArcColor",r.theme.arcEmpty)("fillColors",r.theme.arcFill)("thumbBg",r.theme.thumbBg)("thumbBorderColor",r.theme.thumbBorder),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngClass",y.\u0275\u0275pureFunction1(24,Q5,r.temperatureOff)),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate1(" ",r.temperatureOff?"--":y.\u0275\u0275pipeBind1(8,20,r.temperature)," "),y.\u0275\u0275advance(4),y.\u0275\u0275property("ngModel",r.temperatureMode),y.\u0275\u0275advance(11),y.\u0275\u0275property("value",r.humidity)("min",r.humidityData.min)("max",r.humidityData.max)("disableArcColor",r.theme.arcEmpty)("fillColors",r.theme.arcFill)("thumbBg",r.theme.thumbBg)("thumbBorderColor",r.theme.thumbBorder),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngClass",y.\u0275\u0275pureFunction1(26,Q5,r.humidityOff)),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate1(" ",r.humidityOff?"--":y.\u0275\u0275pipeBind1(26,22,r.humidity)," "),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngModel",r.humidityMode))},dependencies:[aC.JJ,aC.On,me.mk,ct.Asz,ct.kyn,ct.TR4,ct.r3g,ct.MFI,Zct,$ct.L],styles:['@charset "UTF-8";[_nghost-%COMP%]   nb-tabset[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   nb-tabset[_ngcontent-%COMP%]     ul{border-color:transparent;padding-bottom:1px}[_nghost-%COMP%]   nb-tabset[_ngcontent-%COMP%]     ul .tab-link{padding:1.25rem 2rem}[_nghost-%COMP%]   nb-tab.content-active[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;position:relative;height:100%}[_nghost-%COMP%]   .slider-container[_ngcontent-%COMP%]{display:flex;flex:1;-ms-flex:1 1 auto;justify-content:center;align-items:center}[_nghost-%COMP%]   ngx-temperature-dragger[_ngcontent-%COMP%]{margin-top:-1.5rem;width:100%;max-width:300px}[_nghost-%COMP%]   .slider-value-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .slider-value-container[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{position:relative;margin:0}[_nghost-%COMP%]   .slider-value-container[_ngcontent-%COMP%]   .value.temperature[_ngcontent-%COMP%]:before{position:absolute;content:"\\b0";top:0;right:-.85rem}[_nghost-%COMP%]   .slider-value-container[_ngcontent-%COMP%]   .value.humidity[_ngcontent-%COMP%]:before{position:absolute;content:"%";top:3px;right:-1.6rem;font-size:.7em}[_nghost-%COMP%]   .slider-value-container.off[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:var(--text-hint-color);letter-spacing:.25rem;padding-left:.5rem}[_nghost-%COMP%]   .slider-value-container.off[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]:before{display:none}[_nghost-%COMP%]   .slider-value-container.off[_ngcontent-%COMP%]   .desc[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   nb-radio-group[_ngcontent-%COMP%]{display:flex;justify-content:space-between}[_nghost-%COMP%]   nb-radio[_ngcontent-%COMP%]{flex:0 0 auto;width:calc(3.5rem + 2px);height:calc(3.5rem + 2px)}[_nghost-%COMP%]   nb-radio[_ngcontent-%COMP%]     .outer-circle, [_nghost-%COMP%]   nb-radio[_ngcontent-%COMP%]     .inner-circle{display:none}[_nghost-%COMP%]   nb-radio[_ngcontent-%COMP%]     label{padding:0}[_nghost-%COMP%]   nb-radio[_ngcontent-%COMP%]     .text{border:1px solid transparent;font-size:2.5rem;padding:.5rem;margin:0;color:var(--text-hint-color)}[_nghost-%COMP%]   nb-radio[_ngcontent-%COMP%]     input:checked~.text{border-color:var(--color-primary-default);border-radius:var(--card-border-radius);color:var(--text-primary-color)}']})}return e})();var oS=dt(4850),J5=dt(7625),tB=dt(8929);function qct(e,i){1&e&&(y.\u0275\u0275namespaceSVG(),y.\u0275\u0275element(0,"path",62)),2&e&&y.\u0275\u0275attribute("d",i.$implicit.d)}function Kct(e,i){if(1&e&&(y.\u0275\u0275namespaceSVG(),y.\u0275\u0275element(0,"path",63)),2&e){const t=i.$implicit,n=y.\u0275\u0275nextContext();y.\u0275\u0275attribute("fill",n.getUrlPath("#New_Pattern_Swatch_1"))("d",t.d)}}function Qct(e,i){if(1&e){const t=y.\u0275\u0275getCurrentView();y.\u0275\u0275namespaceSVG(),y.\u0275\u0275elementStart(0,"g")(1,"path",64),y.\u0275\u0275listener("click",function(){const a=y.\u0275\u0275restoreView(t).$implicit,o=y.\u0275\u0275nextContext();return y.\u0275\u0275resetView(o.selectRoom(a.id))}),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(2,"path",62)(3,"path",65),y.\u0275\u0275elementStart(4,"text",66),y.\u0275\u0275listener("click",function(){const a=y.\u0275\u0275restoreView(t).$implicit,o=y.\u0275\u0275nextContext();return y.\u0275\u0275resetView(o.selectRoom(a.id))}),y.\u0275\u0275text(5),y.\u0275\u0275elementEnd()()}if(2&e){const t=i.$implicit,n=y.\u0275\u0275nextContext();y.\u0275\u0275classProp("selected-room",n.selectedRoom===t.id),y.\u0275\u0275attribute("id",t.id),y.\u0275\u0275advance(1),y.\u0275\u0275styleProp("filter",n.isIE||n.isFirefox?"inherit":""),y.\u0275\u0275attribute("d",t.area.d),y.\u0275\u0275advance(1),y.\u0275\u0275attribute("d",t.border.d),y.\u0275\u0275advance(1),y.\u0275\u0275styleProp("filter",n.isIE||n.isFirefox?"inherit":""),y.\u0275\u0275attribute("d",t.border.d),y.\u0275\u0275advance(1),y.\u0275\u0275attribute("x",t.name.x)("y",t.name.y),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(t.name.text)}}let Jct=(()=>{class e{get background(){return this.hideGrid?"none":null}constructor(t,n,r){this.location=t,this.locationStrategy=n,this.themeService=r,this.destroy$=new tB.xQ,this.selectEvent=new y.EventEmitter,this.selectedRoom=null,this.sortedRooms=[],this.viewBox="-20 -20 618.88 407.99",this.isIE=!!(navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/MSIE/)||navigator.userAgent.match(/Edge/)),this.isFirefox=navigator.userAgent.toLowerCase().indexOf("firefox")>=0,this.roomSvg={borders:[{d:"M186.21,130.05H216.37V160H186.21Z"}],stokedAreas:[{d:"M562.71,225V354h-290V319H418.37a6.09,6.09,0,0,0,6.09-6.09V225Z"},{d:"M8.09,130V347.91A6.09,6.09,0,0,0,14.18,354h54V130Z"},{d:"M216.37,49.82H358.8V92.5H216.37Z"}],rooms:[{id:"0",name:{text:"Kitchen",x:142,y:240.8},area:{d:"M68.18,130V359.9A6.09,6.09,0,0,0,74.27,366h136a6.09,6.09,0,0,0,6.09-6.09V160H186.21V130Z"},border:{d:"M96,130H68.18V359.9A6.09,6.09,0,0,0,74.27,366h136a6.09,6.09,0,0,0,6.09-6.09V225 M152.71,130H186.21V160H218.5"}},{id:"1",name:{text:"Bedroom",x:109,y:66},area:{d:"M152.71,130h63.66V8.09A6.09,6.09,0,0,0,210.27,2H8.09A6.09,6.09,0,0,0,2,8.09V123.95A6.09,6.09,0,0,0,8.09,130H96Z"},border:{d:"M152.71,130h63.66V8.09A6.09,6.09,0,0,0,210.27,2H8.09A6.09,6.09,0,0,0,2,8.09V123.95A6.09,6.09,0,0,0,8.09,130H96"}},{id:"2",name:{text:"Living Room",x:468,y:134},area:{d:"M358.8,160V49.82a6.09,6.09,0,0,1,6.09-6.09H570.78a6.09,6.09,0,0,1,6.09,6.09V218.9a6.09,6.09,0,0,1-6.09,6.09h-212Z"},border:{d:"M358.8,160V49.82a6.09,6.09,0,0,1,6.09-6.09H570.78a6.09,6.09,0,0,1,6.09,6.09V218.9a6.09,6.09,0,0,1-6.09,6.09h-212"}},{id:"3",name:{text:"Hallway",x:320,y:273},area:{d:"M216.37,354V92.5H358.8V225H424.39V319H272.71V354Z"},border:{d:"M216.37,225V356 M216.21,162V92.5H358.8V160 M358.8,225H424.39V312.91a6.09,6.09,0,0,1,-6.09,6.09H272.71V356"}}]},this.selectRoom("2")}ngOnInit(){this.hideGrid="corporate"===this.themeService.currentTheme,this.themeService.onThemeChange().pipe((0,oS.U)(({name:t})=>"corporate"===t),(0,J5.R)(this.destroy$)).subscribe(t=>this.hideGrid=t)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}sortRooms(){this.sortedRooms=this.roomSvg.rooms.slice(0).sort((t,n)=>t.id===this.selectedRoom?1:n.id===this.selectedRoom?-1:0)}selectRoom(t){this.selectEvent.emit(t),this.selectedRoom=t,this.sortRooms()}getUrlPath(t){return`url(${this.locationStrategy.getBaseHref().replace(/\/$/,"")}${this.location.path().replace(/\/$/,"")}${t})`}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(me.Ye),y.\u0275\u0275directiveInject(me.S$),y.\u0275\u0275directiveInject(ct.WMF))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-room-selector"]],hostVars:2,hostBindings:function(n,r){2&n&&y.\u0275\u0275styleProp("background",r.background)},outputs:{selectEvent:"selectEvent"},decls:68,vars:4,consts:[[1,"room-selector"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","preserveAspectRatio","xMidYMid"],["id","f2","x","-50%","y","-50%","width","200%","height","200%"],["result","blurOut","in","StrokePaint","stdDeviation","3"],["id","New_Pattern_Swatch_1","data-name","New Pattern Swatch 1","width","60","height","60","patternUnits","userSpaceOnUse","viewBox","0 0 60 60"],["x1","-113.26","y1","123.26","x2","3.26","y2","6.74",1,"stroke-pattern"],["x1","-103.26","y1","133.26","x2","13.26","y2","16.74",1,"stroke-pattern"],["x1","-93.26","y1","143.26","x2","23.26","y2","26.74",1,"stroke-pattern"],["x1","-83.26","y1","153.26","x2","33.26","y2","36.74",1,"stroke-pattern"],["x1","-73.26","y1","163.26","x2","43.26","y2","46.74",1,"stroke-pattern"],["x1","-63.26","y1","173.26","x2","53.26","y2","56.74",1,"stroke-pattern"],["x1","-53.26","y1","123.26","x2","63.26","y2","6.74",1,"stroke-pattern"],["x1","-43.26","y1","133.26","x2","73.26","y2","16.74",1,"stroke-pattern"],["x1","-33.26","y1","143.26","x2","83.26","y2","26.74",1,"stroke-pattern"],["x1","-23.26","y1","153.26","x2","93.26","y2","36.74",1,"stroke-pattern"],["x1","-13.26","y1","163.26","x2","103.26","y2","46.74",1,"stroke-pattern"],["x1","-3.26","y1","173.26","x2","113.26","y2","56.74",1,"stroke-pattern"],["x1","6.74","y1","123.26","x2","123.26","y2","6.74",1,"stroke-pattern"],["x1","16.74","y1","133.26","x2","133.26","y2","16.74",1,"stroke-pattern"],["x1","26.74","y1","143.26","x2","143.26","y2","26.74",1,"stroke-pattern"],["x1","36.74","y1","153.26","x2","153.26","y2","36.74",1,"stroke-pattern"],["x1","46.74","y1","163.26","x2","163.26","y2","46.74",1,"stroke-pattern"],["x1","56.74","y1","173.26","x2","173.26","y2","56.74",1,"stroke-pattern"],["x1","-113.26","y1","63.26","x2","3.26","y2","-53.26",1,"stroke-pattern"],["x1","-103.26","y1","73.26","x2","13.26","y2","-43.26",1,"stroke-pattern"],["x1","-93.26","y1","83.26","x2","23.26","y2","-33.26",1,"stroke-pattern"],["x1","-83.26","y1","93.26","x2","33.26","y2","-23.26",1,"stroke-pattern"],["x1","-73.26","y1","103.26","x2","43.26","y2","-13.26",1,"stroke-pattern"],["x1","-63.26","y1","113.26","x2","53.26","y2","-3.26",1,"stroke-pattern"],["x1","-53.26","y1","63.26","x2","63.26","y2","-53.26",1,"stroke-pattern"],["x1","-43.26","y1","73.26","x2","73.26","y2","-43.26",1,"stroke-pattern"],["x1","-33.26","y1","83.26","x2","83.26","y2","-33.26",1,"stroke-pattern"],["x1","-23.26","y1","93.26","x2","93.26","y2","-23.26",1,"stroke-pattern"],["x1","-13.26","y1","103.26","x2","103.26","y2","-13.26",1,"stroke-pattern"],["x1","-3.26","y1","113.26","x2","113.26","y2","-3.26",1,"stroke-pattern"],["x1","6.74","y1","63.26","x2","123.26","y2","-53.26",1,"stroke-pattern"],["x1","16.74","y1","73.26","x2","133.26","y2","-43.26",1,"stroke-pattern"],["x1","26.74","y1","83.26","x2","143.26","y2","-33.26",1,"stroke-pattern"],["x1","36.74","y1","93.26","x2","153.26","y2","-23.26",1,"stroke-pattern"],["x1","46.74","y1","103.26","x2","163.26","y2","-13.26",1,"stroke-pattern"],["x1","56.74","y1","113.26","x2","173.26","y2","-3.26",1,"stroke-pattern"],["x1","-113.26","y1","3.26","x2","3.26","y2","-113.26",1,"stroke-pattern"],["x1","-103.26","y1","13.26","x2","13.26","y2","-103.26",1,"stroke-pattern"],["x1","-93.26","y1","23.26","x2","23.26","y2","-93.26",1,"stroke-pattern"],["x1","-83.26","y1","33.26","x2","33.26","y2","-83.26",1,"stroke-pattern"],["x1","-73.26","y1","43.26","x2","43.26","y2","-73.26",1,"stroke-pattern"],["x1","-63.26","y1","53.26","x2","53.26","y2","-63.26",1,"stroke-pattern"],["x1","-53.26","y1","3.26","x2","63.26","y2","-113.26",1,"stroke-pattern"],["x1","-43.26","y1","13.26","x2","73.26","y2","-103.26",1,"stroke-pattern"],["x1","-33.26","y1","23.26","x2","83.26","y2","-93.26",1,"stroke-pattern"],["x1","-23.26","y1","33.26","x2","93.26","y2","-83.26",1,"stroke-pattern"],["x1","-13.26","y1","43.26","x2","103.26","y2","-73.26",1,"stroke-pattern"],["x1","-3.26","y1","53.26","x2","113.26","y2","-63.26",1,"stroke-pattern"],["x1","6.74","y1","3.26","x2","123.26","y2","-113.26",1,"stroke-pattern"],["x1","16.74","y1","13.26","x2","133.26","y2","-103.26",1,"stroke-pattern"],["x1","26.74","y1","23.26","x2","143.26","y2","-93.26",1,"stroke-pattern"],["x1","36.74","y1","33.26","x2","153.26","y2","-83.26",1,"stroke-pattern"],["x1","46.74","y1","43.26","x2","163.26","y2","-73.26",1,"stroke-pattern"],["x1","56.74","y1","53.26","x2","173.26","y2","-63.26",1,"stroke-pattern"],["class","room-border",4,"ngFor","ngForOf"],["class","stroked-element",4,"ngFor","ngForOf"],[3,"selected-room",4,"ngFor","ngForOf"],[1,"room-border"],[1,"stroked-element"],[1,"room-bg",3,"click"],[1,"room-border","room-border-glow"],["text-anchor","middle",1,"room-text",3,"click"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),y.\u0275\u0275text(2,"Room Management"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"div",0),y.\u0275\u0275namespaceSVG(),y.\u0275\u0275elementStart(4,"svg",1)(5,"defs")(6,"filter",2),y.\u0275\u0275element(7,"feGaussianBlur",3),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(8,"pattern",4),y.\u0275\u0275element(9,"line",5)(10,"line",6)(11,"line",7)(12,"line",8)(13,"line",9)(14,"line",10)(15,"line",11)(16,"line",12)(17,"line",13)(18,"line",14)(19,"line",15)(20,"line",16)(21,"line",17)(22,"line",18)(23,"line",19)(24,"line",20)(25,"line",21)(26,"line",22)(27,"line",23)(28,"line",24)(29,"line",25)(30,"line",26)(31,"line",27)(32,"line",28)(33,"line",29)(34,"line",30)(35,"line",31)(36,"line",32)(37,"line",33)(38,"line",34)(39,"line",35)(40,"line",36)(41,"line",37)(42,"line",38)(43,"line",39)(44,"line",40)(45,"line",41)(46,"line",42)(47,"line",43)(48,"line",44)(49,"line",45)(50,"line",46)(51,"line",47)(52,"line",48)(53,"line",49)(54,"line",50)(55,"line",51)(56,"line",52)(57,"line",53)(58,"line",54)(59,"line",55)(60,"line",56)(61,"line",57)(62,"line",58),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(63,"g"),y.\u0275\u0275template(64,qct,1,1,"path",59),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(65,"g"),y.\u0275\u0275template(66,Kct,1,2,"path",60),y.\u0275\u0275elementEnd(),y.\u0275\u0275template(67,Qct,6,13,"g",61),y.\u0275\u0275elementEnd()()()),2&n&&(y.\u0275\u0275advance(4),y.\u0275\u0275attribute("viewBox",r.viewBox),y.\u0275\u0275advance(60),y.\u0275\u0275property("ngForOf",r.roomSvg.borders),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngForOf",r.roomSvg.stokedAreas),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",r.sortedRooms))},dependencies:[me.sg,ct.Asz,ct.ndF],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{background-color:transparent;border-width:0;box-shadow:none;margin:0}[_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-color:transparent}[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .stroke-pattern[_ngcontent-%COMP%]{fill:none;stroke:#bdc4cd;stroke-miterlimit:10;opacity:.1;stroke-width:1px}[_nghost-%COMP%]   .stroked-element[_ngcontent-%COMP%]{stroke-width:4px;stroke:#bdc4cd;stroke-miterlimit:10}[_nghost-%COMP%]   .room-border[_ngcontent-%COMP%]{stroke-width:4px;stroke:#bdc4cd;stroke-miterlimit:10;fill:none}[_nghost-%COMP%]   .room-bg[_ngcontent-%COMP%]{fill:var(--card-background-color);stroke:transparent;cursor:pointer;stroke-width:4px}[_nghost-%COMP%]   .room-bg-border-grad[_ngcontent-%COMP%]{fill:none;stroke:none;stroke-width:4px}[_nghost-%COMP%]   .room-text[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none;pointer-events:none;fill:var(--text-hint-color)}[_nghost-%COMP%]   .selected-room[_ngcontent-%COMP%]{z-index:40}[_nghost-%COMP%]   .selected-room[_ngcontent-%COMP%]   .room-text[_ngcontent-%COMP%]{fill:var(--text-basic-color)}[_nghost-%COMP%]   .selected-room[_ngcontent-%COMP%]   .room-border[_ngcontent-%COMP%]{stroke:var(--color-primary-default)}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{border-bottom:none;padding-bottom:0}"]})}return e})();var tut=dt(4169),eut=dt(6244);let iut=(()=>{class e{constructor(t){this.playerService=t,this.track=this.playerService.random(),this.createPlayer()}ngOnDestroy(){this.player.pause(),this.player.src="",this.player.load()}prev(){this.player.loop||(this.track=this.shuffle?this.playerService.random():this.playerService.prev()),this.reload()}next(){this.player.loop||(this.track=this.shuffle?this.playerService.random():this.playerService.next()),this.reload()}playPause(){this.player.paused?this.player.play():this.player.pause()}toggleShuffle(){this.shuffle=!this.shuffle}toggleLoop(){this.player.loop=!this.player.loop}setVolume(t){this.player.volume=t/100}getVolume(){return 100*this.player.volume}setProgress(t){this.player.currentTime=this.player.duration*t/100}getProgress(){return this.player.currentTime/this.player.duration*100||0}createPlayer(){this.player=new Audio,this.player.onended=()=>this.next(),this.setTrack()}reload(){this.setTrack(),this.player.play()}setTrack(){this.player.src=this.track.url,this.player.load()}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(tut.l))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-player"]],hostVars:2,hostBindings:function(n,r){2&n&&y.\u0275\u0275classProp("collapsed",r.collapsed)},inputs:{collapsed:"collapsed"},decls:43,vars:24,consts:[[1,"header"],[1,"body"],[1,"track-info"],[1,"cover"],[1,"details"],[1,"progress-wrap"],["dir","ltr","type","range","min","0","max","100","step","0.01",1,"progress",3,"value","input"],["duration",""],[1,"progress-foreground"],[1,"timing"],[1,"current"],[1,"remaining"],[1,"controls"],["nbButton","","ghost","","size","tiny",1,"control-button",3,"click"],["icon","shuffle-2-outline","pack","eva"],["nbButton","","ghost","","size","medium",1,"control-button",3,"click"],["icon","skip-back-outline","pack","eva",1,"skip"],["nbButton","","ghost","","size","medium",1,"control-button","play-button",3,"click"],["pack","eva",1,"play",3,"icon"],["nbButton","","ghost","","size","medium",1,"control-button","skip-forward-button",3,"click"],["icon","skip-forward-outline","pack","eva",1,"skip"],["icon","repeat-outline","pack","eva"],[1,"footer"],[1,"volume"],["nbButton","","ghost","","size","small",3,"click"],["icon","volume-down-outline","pack","eva",1,"volume-icon"],["type","range","max","100",1,"progress",3,"value","input"],["volume",""],["icon","volume-up-outline","pack","eva",1,"volume-icon"]],template:function(n,r){if(1&n){const a=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header",0),y.\u0275\u0275text(2,"My Playlist"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"nb-card-body",1)(4,"div",2),y.\u0275\u0275element(5,"div",3),y.\u0275\u0275elementStart(6,"div",4)(7,"h4"),y.\u0275\u0275text(8),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(9,"span"),y.\u0275\u0275text(10),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(11,"div",5)(12,"input",6,7),y.\u0275\u0275listener("input",function(){y.\u0275\u0275restoreView(a);const s=y.\u0275\u0275reference(13);return y.\u0275\u0275resetView(r.setProgress(s.value))}),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(14,"div",8),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(15,"div",9)(16,"small",10),y.\u0275\u0275text(17),y.\u0275\u0275pipe(18,"timing"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(19,"small",11),y.\u0275\u0275text(20),y.\u0275\u0275pipe(21,"timing"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(22,"div",12)(23,"button",13),y.\u0275\u0275listener("click",function(){return r.toggleShuffle()}),y.\u0275\u0275element(24,"nb-icon",14),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(25,"button",15),y.\u0275\u0275listener("click",function(){return r.prev()}),y.\u0275\u0275element(26,"nb-icon",16),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(27,"button",17),y.\u0275\u0275listener("click",function(){return r.playPause()}),y.\u0275\u0275element(28,"nb-icon",18),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(29,"button",19),y.\u0275\u0275listener("click",function(){return r.next()}),y.\u0275\u0275element(30,"nb-icon",20),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(31,"button",13),y.\u0275\u0275listener("click",function(){return r.toggleLoop()}),y.\u0275\u0275element(32,"nb-icon",21),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(33,"nb-card-footer",22)(34,"div",23)(35,"button",24),y.\u0275\u0275listener("click",function(){return r.setVolume(0)}),y.\u0275\u0275element(36,"nb-icon",25),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(37,"div",5)(38,"input",26,27),y.\u0275\u0275listener("input",function(){y.\u0275\u0275restoreView(a);const s=y.\u0275\u0275reference(39);return y.\u0275\u0275resetView(r.setVolume(s.value))}),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(40,"div",8),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(41,"button",24),y.\u0275\u0275listener("click",function(){return r.setVolume(100)}),y.\u0275\u0275element(42,"nb-icon",28),y.\u0275\u0275elementEnd()()()()}2&n&&(y.\u0275\u0275advance(5),y.\u0275\u0275stylePropInterpolate1("background-image","url('",r.track.cover,"')"),y.\u0275\u0275advance(2),y.\u0275\u0275classProp("subtitle",r.collapsed),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(r.track.name),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(r.track.artist),y.\u0275\u0275advance(2),y.\u0275\u0275property("value",r.getProgress()),y.\u0275\u0275advance(2),y.\u0275\u0275styleProp("width",r.getProgress(),"%"),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(18,20,r.player.currentTime)),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate1("- ",y.\u0275\u0275pipeBind1(21,22,r.player.duration-r.player.currentTime),""),y.\u0275\u0275advance(3),y.\u0275\u0275classProp("on",r.shuffle),y.\u0275\u0275advance(5),y.\u0275\u0275property("icon",r.player.paused?"play-circle-outline":"pause-circle-outline"),y.\u0275\u0275advance(3),y.\u0275\u0275classProp("on",r.player.loop),y.\u0275\u0275advance(7),y.\u0275\u0275property("value",r.getVolume()),y.\u0275\u0275advance(2),y.\u0275\u0275styleProp("width",r.getVolume(),"%"))},dependencies:[ct.Asz,ct.yKW,ct.XWE,ct.ndF,ct.DPz,ct.fMN,eut.J],styles:["[_nghost-%COMP%]{height:100%}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{box-shadow:none;border-width:0;margin:0;height:100%}[_nghost-%COMP%]   .body[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0}[_nghost-%COMP%]   .track-info[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;flex:1;padding:var(--card-padding)}[_nghost-%COMP%]   .cover[_ngcontent-%COMP%]{border-radius:var(--card-border-radius);background-size:cover;background-position:center;background-repeat:no-repeat;width:10rem;height:10rem}[_nghost-%COMP%]   .details[_ngcontent-%COMP%]{text-align:center;padding-top:1.5rem}[_nghost-%COMP%]   .details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--text-hint-color)}[_nghost-%COMP%]   .progress-wrap[_ngcontent-%COMP%]{position:relative;height:1rem}[_nghost-%COMP%]   .progress-foreground[_ngcontent-%COMP%]{background-color:var(--color-primary-default);height:2px;position:absolute;left:0;margin-top:calc(.75rem - 1px);width:100px}[_nghost-%COMP%]   .progress[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;width:100%;background:transparent;height:1.5rem;outline:none;position:absolute}[_nghost-%COMP%]   .progress[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;width:1rem;height:1rem;border-radius:50%;background:var(--color-primary-default);cursor:pointer;margin-top:calc(-.5rem + 1px);border:none}[_nghost-%COMP%]   .progress[_ngcontent-%COMP%]::-moz-range-thumb{-webkit-appearance:none;-moz-appearance:none;width:1rem;height:1rem;border-radius:50%;background:var(--color-primary-default);cursor:pointer;margin-top:calc(-.5rem + 1px);border:none}[_nghost-%COMP%]   .progress[_ngcontent-%COMP%]::-ms-thumb{-webkit-appearance:none;-moz-appearance:none;width:1rem;height:1rem;border-radius:50%;background:var(--color-primary-default);cursor:pointer;margin-top:calc(-.5rem + 1px);border:none}[_nghost-%COMP%]   .progress[_ngcontent-%COMP%]::-webkit-slider-runnable-track{-webkit-appearance:none;-moz-appearance:none;width:100%;height:2px;cursor:pointer;background:var(--border-basic-color-3)}[_nghost-%COMP%]   .progress[_ngcontent-%COMP%]::-moz-range-track{-webkit-appearance:none;-moz-appearance:none;width:100%;height:2px;cursor:pointer;background:var(--border-basic-color-3)}[_nghost-%COMP%]   .progress[_ngcontent-%COMP%]::-ms-track{-webkit-appearance:none;-moz-appearance:none;width:100%;height:2px;cursor:pointer;background:var(--border-basic-color-3)}[_nghost-%COMP%]   .timing[_ngcontent-%COMP%]{padding-top:.5rem;margin:0 .5rem;display:flex;justify-content:space-between;color:var(--text-hint-color)}[dir=ltr]   [_nghost-%COMP%]   .timing[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{order:0}[dir=rtl]   [_nghost-%COMP%]   .timing[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{order:1}[dir=ltr]   [_nghost-%COMP%]   .timing[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%]{order:1}[dir=rtl]   [_nghost-%COMP%]   .timing[_ngcontent-%COMP%]   .remaining[_ngcontent-%COMP%]{order:0}[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;max-width:400px;width:100%;margin:0 auto}[dir=rtl]   [_nghost-%COMP%]   .controls[_ngcontent-%COMP%]{flex-direction:row-reverse}[_nghost-%COMP%]   .control-button[_ngcontent-%COMP%]{color:var(--text-hint-color)}[_nghost-%COMP%]   .control-button.on[_ngcontent-%COMP%]{color:var(--color-primary-default)}[_nghost-%COMP%]   .control-button[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.5em}[_nghost-%COMP%]   .volume[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:0 auto;position:relative;max-width:400px}[_nghost-%COMP%]   .volume[_ngcontent-%COMP%]   .progress-wrap[_ngcontent-%COMP%]{height:2.25rem;margin:0;width:80%}[_nghost-%COMP%]   .volume[_ngcontent-%COMP%]   .progress-wrap[_ngcontent-%COMP%]   .progress-foreground[_ngcontent-%COMP%]{left:auto;margin-top:calc(1rem + 1px);z-index:0;max-width:99.5%}[_nghost-%COMP%]   .volume[_ngcontent-%COMP%]   .progress-wrap[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{height:2.25rem;overflow:visible}[_nghost-%COMP%]   .volume[_ngcontent-%COMP%]   .progress-wrap[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;width:1.5rem;height:1.5rem;background-color:var(--background-basic-color-1);box-shadow:0 .125rem .5rem 0 var(--border-basic-color-3);border:1px solid var(--border-basic-color-3);margin-top:-.75rem;position:relative;z-index:10}[_nghost-%COMP%]   .volume[_ngcontent-%COMP%]   .progress-wrap[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]::-moz-range-thumb{-webkit-appearance:none;-moz-appearance:none;width:1.5rem;height:1.5rem;background-color:var(--background-basic-color-1);box-shadow:0 .125rem .5rem 0 var(--border-basic-color-3);border:1px solid var(--border-basic-color-3);margin-top:-.75rem;position:relative;z-index:10}[_nghost-%COMP%]   .volume[_ngcontent-%COMP%]   .progress-wrap[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]::-ms-thumb{-webkit-appearance:none;-moz-appearance:none;width:1.5rem;height:1.5rem;background-color:var(--background-basic-color-1);box-shadow:0 .125rem .5rem 0 var(--border-basic-color-3);border:1px solid var(--border-basic-color-3);margin-top:-.75rem;position:relative;z-index:10}[_nghost-%COMP%]   .volume-icon[_ngcontent-%COMP%]{font-size:1em;color:var(--text-hint-color)}.collapsed[_nghost-%COMP%]{border:none;height:4.5rem}.collapsed[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{display:none}.collapsed[_nghost-%COMP%]   .body[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:0;overflow:visible}.collapsed[_nghost-%COMP%]   .footer[_ngcontent-%COMP%]{display:none}.collapsed[_nghost-%COMP%]   .track-info[_ngcontent-%COMP%]{height:4.5rem;flex-direction:row;padding:0;flex:none}.collapsed[_nghost-%COMP%]   .track-info[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{height:4.5rem;width:4.5rem;flex:none}.collapsed[_nghost-%COMP%]   .track-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{margin-left:.875rem;text-align:left;padding:0}.collapsed[_nghost-%COMP%]   .track-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:.125rem}.collapsed[_nghost-%COMP%]   .progress-wrap[_ngcontent-%COMP%]{width:calc(100% - 6rem);align-self:flex-start;position:absolute;left:0;margin-top:calc(-.75rem + 1px);margin-left:5.25rem}.collapsed[_nghost-%COMP%]   .timing[_ngcontent-%COMP%]{display:none}.collapsed[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]{padding:0 1rem 0 0;max-width:inherit;width:inherit;margin:0}.collapsed[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}.collapsed[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%], .collapsed[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .skip-forward-button[_ngcontent-%COMP%]{display:block;font-size:1.3rem}@media (max-width: 575.98px){.collapsed[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .play-button[_ngcontent-%COMP%], .collapsed[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .skip-forward-button[_ngcontent-%COMP%]{padding:.5rem}}@media (max-width: 399.98px){.collapsed[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]   .skip-forward-button[_ngcontent-%COMP%]{display:none}}.collapsed[_nghost-%COMP%]   .volume[_ngcontent-%COMP%]{display:none}@media (max-width: 575.98px){.collapsed[_nghost-%COMP%]   .track-info[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;overflow:hidden;text-overflow:ellipsis}}@media (min-width: 992px) and (max-width: 1199.98px){[_nghost-%COMP%]   .controls[_ngcontent-%COMP%]{padding:.5rem}[_nghost-%COMP%]   .control-button.size-medium[_ngcontent-%COMP%]{padding:var(--button-ghost-small-padding)}}"]})}return e})(),nut=(()=>{class e{constructor(t,n){this.themeService=t,this.breakpointService=n,this.breakpoints=this.breakpointService.getBreakpointsMap(),this.themeSubscription=this.themeService.onMediaQueryChange().subscribe(([,r])=>{this.breakpoint=r}),this.themeChangeSubscription=this.themeService.onThemeChange().pipe((0,oS.U)(({name:r})=>"cosmic"===r||"dark"===r)).subscribe(r=>this.isDarkTheme=r)}select(t){this.isSelected(t)?this.expand():this.collapse(),this.selected=t}expand(){this.expanded=!0}collapse(){this.expanded=!1}isCollapsed(){return!this.expanded}isSelected(t){return this.selected===t}ngOnDestroy(){this.themeSubscription.unsubscribe(),this.themeChangeSubscription.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(ct._4W))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-rooms"]],hostVars:2,hostBindings:function(n,r){2&n&&y.\u0275\u0275classProp("expanded",r.expanded)},decls:4,vars:5,consts:[[3,"size"],["icon","arrow-ios-downward","pack","eva",1,"collapse",3,"hidden","click"],[3,"selectEvent"],[3,"collapsed"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card",0)(1,"nb-icon",1),y.\u0275\u0275listener("click",function(){return r.collapse()}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(2,"ngx-room-selector",2),y.\u0275\u0275listener("selectEvent",function(o){return r.select(o)}),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(3,"ngx-player",3),y.\u0275\u0275elementEnd()),2&n&&(y.\u0275\u0275property("size",r.breakpoint.width>=r.breakpoints.sm?"giant":""),y.\u0275\u0275advance(1),y.\u0275\u0275property("hidden",r.isCollapsed()),y.\u0275\u0275advance(1),y.\u0275\u0275classProp("dark-background",r.isDarkTheme),y.\u0275\u0275advance(1),y.\u0275\u0275property("collapsed",r.isCollapsed()&&r.breakpoint.width<=r.breakpoints.md))},dependencies:[ct.Asz,ct.fMN,Jct,iut],styles:["[_nghost-%COMP%]   ngx-room-selector[_ngcontent-%COMP%]{width:70%;border-right:var(--divider-width) var(--divider-style) var(--divider-color);background:url(square_pattern.13e0fedcdb616618.svg) repeat;background-size:75px}[_nghost-%COMP%]   ngx-room-selector.dark-background[_ngcontent-%COMP%]{background-image:url(square_pattern_cosmic.743af9b0bd17d753.svg)}[_nghost-%COMP%]   ngx-player[_ngcontent-%COMP%]{width:30%}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{display:flex;flex-direction:row}[_nghost-%COMP%]   ngx-room-selector[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}[_nghost-%COMP%]   ngx-room-selector[_ngcontent-%COMP%]     .room-selector{display:flex;align-items:center;justify-items:center;flex:1;margin:0 auto;width:90%;max-width:650px;padding-bottom:1rem}@media (max-width: 991.98px){.expanded[_nghost-%COMP%]   ngx-room-selector[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   ngx-room-selector[_ngcontent-%COMP%], [_nghost-%COMP%]   ngx-player[_ngcontent-%COMP%]{width:100%;border:none}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{flex-direction:column;justify-content:space-between}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:inline-block;position:absolute;top:.7rem;left:50%;transform:translate(-50%);font-size:2rem}}"]})}return e})(),rut=(()=>{class e{constructor(t){this.themeService=t,this.themeSubscription=this.themeService.getJsTheme().subscribe(n=>{this.currentTheme=n.name})}ngOnDestroy(){this.themeSubscription.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-kitten"]],decls:16,vars:3,consts:[["size","medium"],[1,"picture"],[1,"details"],[1,"h4"],[1,"description"],["href","https://akveo.github.io/react-native-ui-kitten?utm_campaign=ui_kitten%20-%20home%20-%20ngx_admin%20code%20embed&utm_source=ngx_admin&utm_medium=embedded&utm_content=iot_dashboard_kitten_card","target","_blank"],["icon","globe","pack","eva"],["href","https://itunes.apple.com/us/app/kitten-tricks/id1246143230","target","_blank"],[1,"link-icon","ion-social-apple"],["href","https://play.google.com/store/apps/details?id=com.akveo.kittenTricks","target","_blank"],[1,"link-icon","ion-social-android"],["href","https://github.com/akveo/react-native-ui-kitten","target","_blank"],["icon","github","pack","eva"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card",0),y.\u0275\u0275element(1,"div",1),y.\u0275\u0275elementStart(2,"div",2)(3,"div",3),y.\u0275\u0275text(4,"UI Kitten"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(5,"div",4),y.\u0275\u0275text(6," UI Kitten is a framework that contains a set of commonly used UI components styled in a similar way. The most awesome thing: you can change themes on the fly by just passing a different set of variables. 100% native. Give our kitten a try! "),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(7,"nb-card-footer")(8,"a",5),y.\u0275\u0275element(9,"nb-icon",6),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(10,"a",7),y.\u0275\u0275element(11,"i",8),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(12,"a",9),y.\u0275\u0275element(13,"i",10),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(14,"a",11),y.\u0275\u0275element(15,"nb-icon",12),y.\u0275\u0275elementEnd()()()),2&n&&(y.\u0275\u0275advance(1),y.\u0275\u0275stylePropInterpolate1("background-image","url('assets/images/kitten-",r.currentTheme,".png')"))},dependencies:[ct.Asz,ct.XWE,ct.fMN],styles:["[_nghost-%COMP%]   .picture[_ngcontent-%COMP%]{background-position:center;background-size:cover;position:relative;border-top-left-radius:var(--card-border-radius);border-top-right-radius:var(--card-border-radius);flex:1}[_nghost-%COMP%]   .details[_ngcontent-%COMP%]{padding:var(--card-padding)}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{text-align:justify}[_nghost-%COMP%]   nb-card-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center}[_nghost-%COMP%]   .link-icon[_ngcontent-%COMP%]{font-size:1.75rem}[_nghost-%COMP%]   nb-icon[_ngcontent-%COMP%]{font-size:1.55rem}[_nghost-%COMP%]   nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}"]})}return e})();var aut=dt(6358);function out(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"div",13)(1,"div",14)(2,"span",15),y.\u0275\u0275text(3),y.\u0275\u0275elementEnd()()()),2&e){const t=y.\u0275\u0275nextContext();y.\u0275\u0275advance(1),y.\u0275\u0275styleProp("background-image","url("+t.selectedCamera.source+")"),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(t.selectedCamera.title)}}function sut(e,i){if(1&e){const t=y.\u0275\u0275getCurrentView();y.\u0275\u0275elementStart(0,"div",18),y.\u0275\u0275listener("click",function(){const a=y.\u0275\u0275restoreView(t).$implicit,o=y.\u0275\u0275nextContext(2);return y.\u0275\u0275resetView(o.selectCamera(a))}),y.\u0275\u0275elementStart(1,"span",15),y.\u0275\u0275text(2),y.\u0275\u0275elementEnd()()}if(2&e){const t=i.$implicit;y.\u0275\u0275styleProp("background-image","url("+t.source+")"),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(t.title)}}function lut(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"div",16),y.\u0275\u0275template(1,sut,3,3,"div",17),y.\u0275\u0275elementEnd()),2&e){const t=y.\u0275\u0275nextContext();y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",t.cameras)}}let cut=(()=>{class e{constructor(t,n,r){this.themeService=t,this.breakpointService=n,this.securityCamerasService=r,this.destroy$=new tB.xQ,this.isSingleView=!1,this.actionSize="medium"}ngOnInit(){this.securityCamerasService.getCamerasData().pipe((0,J5.R)(this.destroy$)).subscribe(n=>{this.cameras=n,this.selectedCamera=this.cameras[0]});const t=this.breakpointService.getBreakpointsMap();this.themeService.onMediaQueryChange().pipe((0,oS.U)(([,n])=>n.width)).subscribe(n=>{this.actionSize=n>t.md?"medium":"small"})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}selectCamera(t){this.selectedCamera=t,this.isSingleView=!0}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(ct._4W),y.\u0275\u0275directiveInject(aut.v))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-security-cameras"]],decls:24,vars:5,consts:[["size","giant"],["nbButton","","size","small",1,"single-view-button",3,"appearance","click"],[1,"nb-square"],["nbButton","","size","small",1,"grid-view-button",3,"appearance","click"],["icon","grid","pack","eva"],[1,"grid-container"],["class","single-view",4,"ngIf"],["class","grid-view",4,"ngIf"],["fullWidth","",3,"size"],["icon","pause-circle-outline","pack","eva"],["icon","list-outline","pack","eva"],["icon","search-outline","pack","eva"],["icon","settings-2-outline","pack","eva"],[1,"single-view"],[1,"camera"],[1,"camera-name"],[1,"grid-view"],["class","camera",3,"background-image","click",4,"ngFor","ngForOf"],[1,"camera",3,"click"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card",0)(1,"nb-card-header"),y.\u0275\u0275text(2," Security Cameras "),y.\u0275\u0275elementStart(3,"button",1),y.\u0275\u0275listener("click",function(){return r.isSingleView=!0}),y.\u0275\u0275element(4,"i",2),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(5,"button",3),y.\u0275\u0275listener("click",function(){return r.isSingleView=!1}),y.\u0275\u0275element(6,"nb-icon",4),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(7,"div",5),y.\u0275\u0275template(8,out,4,3,"div",6),y.\u0275\u0275template(9,lut,2,1,"div",7),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(10,"nb-card-footer")(11,"nb-actions",8)(12,"nb-action"),y.\u0275\u0275element(13,"nb-icon",9),y.\u0275\u0275text(14," Pause "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(15,"nb-action"),y.\u0275\u0275element(16,"nb-icon",10),y.\u0275\u0275text(17," Logs "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(18,"nb-action"),y.\u0275\u0275element(19,"nb-icon",11),y.\u0275\u0275text(20," Search "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(21,"nb-action"),y.\u0275\u0275element(22,"nb-icon",12),y.\u0275\u0275text(23," Setup "),y.\u0275\u0275elementEnd()()()()),2&n&&(y.\u0275\u0275advance(3),y.\u0275\u0275property("appearance",r.isSingleView?"filled":"outline"),y.\u0275\u0275advance(2),y.\u0275\u0275property("appearance",r.isSingleView?"outline":"filled"),y.\u0275\u0275advance(3),y.\u0275\u0275property("ngIf",r.isSingleView),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngIf",!r.isSingleView),y.\u0275\u0275advance(2),y.\u0275\u0275property("size",r.actionSize))},dependencies:[me.sg,me.O5,ct.Asz,ct.XWE,ct.ndF,ct.DPz,ct.Bk3,ct.lYD,ct.fMN],styles:['[_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:.625rem;padding-bottom:.625rem}[_nghost-%COMP%]   .single-view-button[_ngcontent-%COMP%]   .nb-square[_ngcontent-%COMP%]{font-size:1.25rem}[dir=ltr]   [_nghost-%COMP%]   .single-view-button[_ngcontent-%COMP%]{margin-left:auto;border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl]   [_nghost-%COMP%]   .single-view-button[_ngcontent-%COMP%]{margin-right:auto;border-top-left-radius:0;border-bottom-left-radius:0}[_nghost-%COMP%]   .grid-view-button[_ngcontent-%COMP%]     svg{vertical-align:top}[dir=ltr]   [_nghost-%COMP%]   .grid-view-button[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}[dir=rtl]   [_nghost-%COMP%]   .grid-view-button[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}[_nghost-%COMP%]   .grid-container[_ngcontent-%COMP%]{height:100%;display:flex}[_nghost-%COMP%]   .single-view[_ngcontent-%COMP%], [_nghost-%COMP%]   .grid-view[_ngcontent-%COMP%]{flex:1 0 100%}[_nghost-%COMP%]   .grid-view[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}[_nghost-%COMP%]   .grid-view[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]{flex:1 0 50%}[_nghost-%COMP%]   .single-view[_ngcontent-%COMP%]   .camera[_ngcontent-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]   .camera[_ngcontent-%COMP%]{background-position:center;background-size:cover;position:relative}[_nghost-%COMP%]   .camera[_ngcontent-%COMP%]:before{background-color:#ffffff1a;content:"";position:absolute;width:100%;height:100%;opacity:1}[_nghost-%COMP%]   .camera[_ngcontent-%COMP%]:hover:before{opacity:0}[_nghost-%COMP%]   .camera-name[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;color:#fff;background:var(--overlay-backdrop-background-color);padding:.5rem 1rem}[dir=ltr]   [_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{margin-right:.5rem}[dir=rtl]   [_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]{margin-left:.5rem}[_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]     svg{vertical-align:top}@media (max-width: 1399.98px){[_nghost-%COMP%]   nb-action[_ngcontent-%COMP%]{padding:0}}']})}return e})();var uut=dt(315),Js=dt(8583),_o=dt(827);let hut=(()=>{class e{constructor(t,n){this.theme=t,this.layoutService=n,this.alive=!0,this.layoutService.onSafeChangeLayoutSize().pipe((0,ae.o)(()=>this.alive)).subscribe(()=>this.resizeChart())}ngAfterViewInit(){this.theme.getJsTheme().pipe((0,ae.o)(()=>this.alive),(0,Js.g)(1)).subscribe(t=>{const n=t.variables.electricity;this.option={grid:{left:0,top:0,right:0,bottom:80},tooltip:{trigger:"axis",axisPointer:{type:"line",lineStyle:{color:n.tooltipLineColor,width:n.tooltipLineWidth}},textStyle:{color:n.tooltipTextColor,fontSize:20,fontWeight:n.tooltipFontWeight},position:"top",backgroundColor:n.tooltipBg,borderColor:n.tooltipBorderColor,borderWidth:1,formatter:"{c0} kWh",extraCssText:n.tooltipExtraCss},xAxis:{type:"category",boundaryGap:!1,offset:25,data:this.data.map(r=>r.label),axisTick:{show:!1},axisLabel:{color:n.xAxisTextColor,fontSize:18},axisLine:{lineStyle:{color:n.axisLineColor,width:"2"}}},yAxis:{boundaryGap:[0,"5%"],axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:n.yAxisSplitLine,width:"1"}}},series:[{type:"line",smooth:!0,symbolSize:20,itemStyle:{normal:{opacity:0},emphasis:{color:"#ffffff",borderColor:n.itemBorderColor,borderWidth:2,opacity:1}},lineStyle:{normal:{width:n.lineWidth,type:n.lineStyle,color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:n.lineGradFrom},{offset:1,color:n.lineGradTo}]),shadowColor:n.lineShadow,shadowBlur:6,shadowOffsetY:12}},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:n.areaGradFrom},{offset:1,color:n.areaGradTo}])}},data:this.data.map(r=>r.value)},{type:"line",smooth:!0,symbol:"none",lineStyle:{normal:{width:n.lineWidth,type:n.lineStyle,color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:n.lineGradFrom},{offset:1,color:n.lineGradTo}]),shadowColor:n.shadowLineDarkBg,shadowBlur:14,opacity:1}},data:this.data.map(r=>r.value)}]}})}onChartInit(t){this.echartsIntance=t}resizeChart(){this.echartsIntance&&this.echartsIntance.resize()}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(_o.P))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-electricity-chart"]],inputs:{data:"data"},decls:1,vars:2,consts:[["echarts","",1,"echart",3,"options","merge","chartInit"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275listener("chartInit",function(o){return r.onChartInit(o)}),y.\u0275\u0275elementEnd()),2&n&&y.\u0275\u0275property("options",r.option)("merge",r.option)},dependencies:[qr],styles:["[_nghost-%COMP%]{display:block;flex:1;position:relative}[_nghost-%COMP%]   .echart[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}"]})}return e})();function dut(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"nb-list-item")(1,"span",12),y.\u0275\u0275text(2),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"span"),y.\u0275\u0275element(4,"nb-icon",13),y.\u0275\u0275text(5),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(6,"span",14),y.\u0275\u0275text(7),y.\u0275\u0275elementStart(8,"span",6),y.\u0275\u0275text(9,"kWh"),y.\u0275\u0275elementEnd(),y.\u0275\u0275text(10),y.\u0275\u0275elementStart(11,"span",6),y.\u0275\u0275text(12,"USD"),y.\u0275\u0275elementEnd()()()),2&e){const t=i.$implicit;y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(t.month),y.\u0275\u0275advance(2),y.\u0275\u0275classProp("down",t.down)("up",!t.down),y.\u0275\u0275property("icon",t.down?"arrow-down":"arrow-up"),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate1(" ",t.delta," "),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate1(" ",t.kWatts," "),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate1(" / ",t.cost," ")}}function fut(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"nb-tab",10)(1,"nb-list"),y.\u0275\u0275template(2,dut,13,9,"nb-list-item",11),y.\u0275\u0275elementEnd()()),2&e){const t=i.$implicit;y.\u0275\u0275property("tabTitle",t.title)("active",t.active),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngForOf",t.months)}}function put(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"nb-option",15),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),2&e){const t=i.$implicit;y.\u0275\u0275property("value",t),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(t)}}let gut=(()=>{class e{constructor(t,n){this.electricityService=t,this.themeService=n,this.alive=!0,this.type="week",this.types=["week","month","year"],this.themeService.getJsTheme().pipe((0,ae.o)(()=>this.alive)).subscribe(r=>{this.currentTheme=r.name}),(0,py.D)(this.electricityService.getListData(),this.electricityService.getChartData()).pipe((0,ae.o)(()=>this.alive)).subscribe(([r,a])=>{this.listData=r,this.chartData=a})}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(uut.w),y.\u0275\u0275directiveInject(ct.WMF))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-electricity"]],decls:25,vars:4,consts:[[1,"cards-container"],["size","large",1,"table-card"],["fullWidth",""],[3,"tabTitle","active",4,"ngFor","ngForOf"],["size","large",1,"chart-card"],[1,"stats"],[1,"caption"],[1,"type-select",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[3,"data"],[3,"tabTitle","active"],[4,"ngFor","ngForOf"],[1,"month"],["pack","eva",3,"icon"],[1,"results"],[3,"value"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card",0)(1,"nb-card",1)(2,"nb-card-header"),y.\u0275\u0275text(3," Electricity Consumption "),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(4,"nb-tabset",2),y.\u0275\u0275template(5,fut,3,3,"nb-tab",3),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(6,"nb-card",4)(7,"nb-card-header")(8,"span",5)(9,"span",6),y.\u0275\u0275text(10,"Consumed"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(11,"span"),y.\u0275\u0275text(12,"816 "),y.\u0275\u0275elementStart(13,"span",6),y.\u0275\u0275text(14,"kWh"),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(15,"span",5)(16,"span",6),y.\u0275\u0275text(17,"Spent"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(18,"span"),y.\u0275\u0275text(19,"291 "),y.\u0275\u0275elementStart(20,"span",6),y.\u0275\u0275text(21,"USD"),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(22,"nb-select",7),y.\u0275\u0275listener("selectedChange",function(o){return r.type=o}),y.\u0275\u0275template(23,put,2,2,"nb-option",8),y.\u0275\u0275elementEnd()(),y.\u0275\u0275element(24,"ngx-electricity-chart",9),y.\u0275\u0275elementEnd()()),2&n&&(y.\u0275\u0275advance(5),y.\u0275\u0275property("ngForOf",r.listData),y.\u0275\u0275advance(17),y.\u0275\u0275property("selected",r.type),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",r.types),y.\u0275\u0275advance(1),y.\u0275\u0275property("data",r.chartData))},dependencies:[me.sg,ct.Asz,ct.ndF,ct.kyn,ct.TR4,ct.rs,ct.q51,ct.zP_,ct.qBV,ct.fMN,hut],styles:["[_nghost-%COMP%]   .cards-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;overflow:hidden}[_nghost-%COMP%]   .table-card[_ngcontent-%COMP%], [_nghost-%COMP%]   .chart-card[_ngcontent-%COMP%]{box-shadow:none;margin-bottom:0;border-width:0}[_nghost-%COMP%]   .table-card[_ngcontent-%COMP%]{flex:0 0 auto}[_nghost-%COMP%]   .chart-card[_ngcontent-%COMP%]{flex:1 0 auto}[_nghost-%COMP%]   .chart-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:var(--card-header-with-select-padding-top);padding-bottom:var(--card-header-with-select-padding-bottom);margin-bottom:-1px}[_nghost-%COMP%]   .type-select[_ngcontent-%COMP%]{margin-left:auto}[_nghost-%COMP%]   .stats[_ngcontent-%COMP%]{margin-right:1rem}[_nghost-%COMP%]   .stats[_ngcontent-%COMP%] > .caption[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   nb-tabset[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}[_nghost-%COMP%]   nb-tab[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   nb-list-item[_ngcontent-%COMP%]{display:flex;align-items:baseline}[_nghost-%COMP%]   nb-list-item[_ngcontent-%COMP%]:first-child{border-top:none}[_nghost-%COMP%]   .month[_ngcontent-%COMP%]{width:2rem}[_nghost-%COMP%]   nb-icon.down[_ngcontent-%COMP%]{color:var(--color-danger-default)}[_nghost-%COMP%]   nb-icon.up[_ngcontent-%COMP%]{color:var(--color-success-default)}[_nghost-%COMP%]   .results[_ngcontent-%COMP%]{margin-left:auto}@media (max-width: 1399.98px){[_nghost-%COMP%]   .table-card[_ngcontent-%COMP%]{display:none}}"]})}return e})(),vut=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-weather"]],decls:56,vars:0,consts:[["size","medium"],[1,"h3","location"],[1,"date"],[1,"today"],[1,"today-temperature","h1"],["icon","sun-outline","pack","eva",1,"today-icon"],[1,"today-details"],[1,"parameter"],[1,"caption","parameter-name"],[1,"parameter-value"],[1,"weekly-forecast"],[1,"day"],[1,"caption"],[1,"weather-icon","ion-ios-cloudy-outline"],[1,"temperature"],[1,"weather-icon","ion-ios-sunny-outline"],[1,"weather-icon","ion-ios-rainy-outline"],[1,"weather-icon","ion-ios-partlysunny-outline"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card",0)(1,"nb-card-body")(2,"span",1),y.\u0275\u0275text(3,"New York"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(4,"span",2),y.\u0275\u0275text(5,"Mon 29 May"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(6,"div",3)(7,"span",4),y.\u0275\u0275text(8,"20\xb0"),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(9,"nb-icon",5),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(10,"div",6)(11,"div",7)(12,"span",8),y.\u0275\u0275text(13,"max"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(14,"span",9),y.\u0275\u0275text(15,"23\xb0"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(16,"div",7)(17,"span",8),y.\u0275\u0275text(18,"min"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(19,"span",9),y.\u0275\u0275text(20,"19\xb0"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(21,"div",7)(22,"span",8),y.\u0275\u0275text(23,"wind"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(24,"span",9),y.\u0275\u0275text(25,"4 km/h"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(26,"div",7)(27,"span",8),y.\u0275\u0275text(28,"hum"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(29,"span",9),y.\u0275\u0275text(30,"87%"),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(31,"div",10)(32,"div",11)(33,"span",12),y.\u0275\u0275text(34,"Sun"),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(35,"i",13),y.\u0275\u0275elementStart(36,"span",14),y.\u0275\u0275text(37,"17\xb0"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(38,"div",11)(39,"span",12),y.\u0275\u0275text(40,"Mon"),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(41,"i",15),y.\u0275\u0275elementStart(42,"span",14),y.\u0275\u0275text(43,"19\xb0"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(44,"div",11)(45,"span",12),y.\u0275\u0275text(46,"Tue"),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(47,"i",16),y.\u0275\u0275elementStart(48,"span",14),y.\u0275\u0275text(49,"22\xb0"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(50,"div",11)(51,"span",12),y.\u0275\u0275text(52,"Wed"),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(53,"i",17),y.\u0275\u0275elementStart(54,"span",14),y.\u0275\u0275text(55,"21\xb0"),y.\u0275\u0275elementEnd()()()()())},dependencies:[ct.Asz,ct.yKW,ct.fMN],styles:["[_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .location[_ngcontent-%COMP%], [_nghost-%COMP%]   .date[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .location[_ngcontent-%COMP%]{margin-bottom:.1rem}[_nghost-%COMP%]   .today[_ngcontent-%COMP%]{display:flex;justify-content:space-around}[_nghost-%COMP%]   .today-temperature[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;margin:2rem 1.5rem}[_nghost-%COMP%]   .today-icon[_ngcontent-%COMP%]{color:var(--color-primary-default);font-size:10rem;line-height:1;margin-top:-4rem;margin-left:auto;margin-right:.4rem}[_nghost-%COMP%]   .today-details[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin-top:2rem}[_nghost-%COMP%]   .parameter[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}[_nghost-%COMP%]   .parameter-name[_ngcontent-%COMP%], [_nghost-%COMP%]   .parameter-value[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .caption[_ngcontent-%COMP%]{text-transform:uppercase}[_nghost-%COMP%]   .weekly-forecast[_ngcontent-%COMP%]{display:flex;justify-content:space-around;margin:auto 0}[_nghost-%COMP%]   .day[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center}[_nghost-%COMP%]   .weather-icon[_ngcontent-%COMP%]{font-size:2.5rem;line-height:2.5rem}"]})}return e})(),mut=(()=>{class e{set chartValue(t){this.value=t,this.option.series&&(this.option.series[0].data[0].value=t,this.option.series[0].data[1].value=100-t,this.option.series[1].data[0].value=t)}constructor(t){this.theme=t,this.value=0,this.option={}}ngAfterViewInit(){this.themeSubscription=this.theme.getJsTheme().pipe((0,Js.g)(1)).subscribe(t=>{const n=t.variables.solar;this.option=Object.assign({},{tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:" ",clockWise:!0,hoverAnimation:!1,type:"pie",center:["45%","50%"],radius:n.radius,data:[{value:this.value,name:" ",label:{normal:{position:"center",formatter:"{d}%",textStyle:{fontSize:"22",fontFamily:t.variables.fontSecondary,fontWeight:"600",color:t.variables.fgHeading}}},tooltip:{show:!1},itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:n.gradientLeft},{offset:1,color:n.gradientRight}]),shadowColor:n.shadowColor,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:3}},hoverAnimation:!1},{value:100-this.value,name:" ",tooltip:{show:!1},label:{normal:{position:"inner"}},itemStyle:{normal:{color:n.secondSeriesFill}}}]},{name:" ",clockWise:!0,hoverAnimation:!1,type:"pie",center:["45%","50%"],radius:n.radius,data:[{value:this.value,name:" ",label:{normal:{position:"inner",show:!1}},tooltip:{show:!1},itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:n.gradientLeft},{offset:1,color:n.gradientRight}]),shadowColor:n.shadowColor,shadowBlur:7}},hoverAnimation:!1},{value:28,name:" ",tooltip:{show:!1},label:{normal:{position:"inner"}},itemStyle:{normal:{color:"none"}}}]}]})})}ngOnDestroy(){this.themeSubscription.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-solar"]],inputs:{chartValue:"chartValue"},decls:12,vars:1,consts:[["size","tiny",1,"solar-card"],["echarts","",1,"echart",3,"options"],[1,"info"],[1,"h4","value"],[1,"details","subtitle-2"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card",0)(1,"nb-card-header"),y.\u0275\u0275text(2,"Solar Energy Consumption"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"nb-card-body"),y.\u0275\u0275element(4,"div",1),y.\u0275\u0275elementStart(5,"div",2)(6,"div",3),y.\u0275\u0275text(7,"6.421 kWh"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(8,"div",4)(9,"span"),y.\u0275\u0275text(10,"out of"),y.\u0275\u0275elementEnd(),y.\u0275\u0275text(11," 8.421 kWh"),y.\u0275\u0275elementEnd()()()()),2&n&&(y.\u0275\u0275advance(4),y.\u0275\u0275property("options",r.option))},dependencies:[ct.Asz,ct.yKW,ct.ndF,qr],styles:["[_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{overflow:hidden}[_nghost-%COMP%]   .echart[_ngcontent-%COMP%]{position:absolute;left:1em;height:calc(100% - 2rem);width:40%}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]{margin-left:45%;padding-top:1rem}[_nghost-%COMP%]   .value[_ngcontent-%COMP%]{margin:0}[_nghost-%COMP%]   .details[_ngcontent-%COMP%]{color:var(--text-hint-color)}"]})}return e})();var yut=dt(5870);let _ut=(()=>{class e{constructor(t,n){this.theme=t,this.layoutService=n,this.alive=!0,this.type="month",this.types=["week","month","year"],this.option={},this.layoutService.onSafeChangeLayoutSize().pipe((0,ae.o)(()=>this.alive)).subscribe(()=>this.resizeChart())}ngAfterViewInit(){this.theme.getJsTheme().pipe((0,Js.g)(1),(0,ae.o)(()=>this.alive)).subscribe(t=>{const n=t.variables.traffic;this.option=Object.assign({},{grid:{left:0,top:0,right:0,bottom:0},xAxis:{type:"category",boundaryGap:!1,data:this.points},yAxis:{boundaryGap:[0,"5%"],axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:n.yAxisSplitLine,width:"1"}}},tooltip:{axisPointer:{type:"shadow"},textStyle:{color:n.tooltipTextColor,fontWeight:n.tooltipFontWeight,fontSize:16},position:"top",backgroundColor:n.tooltipBg,borderColor:n.tooltipBorderColor,borderWidth:1,formatter:"{c0} MB",extraCssText:n.tooltipExtraCss},series:[{type:"line",symbol:"circle",symbolSize:8,sampling:"average",silent:!0,itemStyle:{normal:{color:n.shadowLineDarkBg},emphasis:{color:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",borderWidth:0}},lineStyle:{normal:{width:2,color:n.shadowLineDarkBg}},data:this.points.map(r=>r-15)},{type:"line",symbol:"circle",symbolSize:6,sampling:"average",itemStyle:{normal:{color:n.itemColor,borderColor:n.itemBorderColor,borderWidth:2},emphasis:{color:"white",borderColor:n.itemEmphasisBorderColor,borderWidth:2}},lineStyle:{normal:{width:2,color:n.lineBg,shadowColor:n.lineBg,shadowBlur:n.lineShadowBlur}},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:n.gradFrom},{offset:1,color:n.gradTo}]),opacity:1}},data:this.points}]})})}onChartInit(t){this.echartsIntance=t}resizeChart(){this.echartsIntance&&this.echartsIntance.resize()}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(_o.P))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-traffic-chart"]],inputs:{points:"points"},decls:1,vars:1,consts:[["echarts","",1,"echart",3,"options","chartInit"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275listener("chartInit",function(o){return r.onChartInit(o)}),y.\u0275\u0275elementEnd()),2&n&&y.\u0275\u0275property("options",r.option)},dependencies:[qr],encapsulation:2})}return e})();function xut(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"nb-option",4),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),2&e){const t=i.$implicit;y.\u0275\u0275property("value",t),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(t)}}let but=(()=>{class e{constructor(t,n){this.themeService=t,this.trafficChartService=n,this.alive=!0,this.type="month",this.types=["week","month","year"],this.themeService.getJsTheme().pipe((0,ae.o)(()=>this.alive)).subscribe(r=>{this.currentTheme=r.name}),this.trafficChartService.getTrafficChartData().pipe((0,ae.o)(()=>this.alive)).subscribe(r=>{this.trafficChartPoints=r})}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(yut.M))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-traffic"]],decls:7,vars:3,consts:[["size","tiny"],[3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[3,"points"],[3,"value"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card",0)(1,"nb-card-header")(2,"span"),y.\u0275\u0275text(3,"Traffic Consumption"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(4,"nb-select",1),y.\u0275\u0275listener("selectedChange",function(o){return r.type=o}),y.\u0275\u0275template(5,xut,2,2,"nb-option",2),y.\u0275\u0275elementEnd()(),y.\u0275\u0275element(6,"ngx-traffic-chart",3),y.\u0275\u0275elementEnd()),2&n&&(y.\u0275\u0275advance(4),y.\u0275\u0275property("selected",r.type),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",r.types),y.\u0275\u0275advance(1),y.\u0275\u0275property("points",r.trafficChartPoints))},dependencies:[me.sg,ct.Asz,ct.ndF,ct.rs,ct.q51,_ut],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{position:relative;overflow:hidden}[_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-top:var(--card-header-with-select-padding-top);padding-bottom:var(--card-header-with-select-padding-bottom);margin-bottom:-1px}[_nghost-%COMP%]   ngx-traffic-chart[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]     .echart{display:block;height:100%;width:100%}[_nghost-%COMP%]     canvas{border-bottom-left-radius:var(--card-border-radius);border-bottom-right-radius:var(--card-border-radius)}"]})}return e})();function Cut(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"div",9)(1,"ngx-status-card",10),y.\u0275\u0275element(2,"i",11),y.\u0275\u0275elementEnd()()),2&e){const t=i.$implicit;y.\u0275\u0275advance(1),y.\u0275\u0275property("title",t.title)("type",t.type),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngClass",t.iconClass)}}let Sut=(()=>{class e{constructor(t,n){this.themeService=t,this.solarService=n,this.alive=!0,this.lightCard={title:"Light",iconClass:"nb-lightbulb",type:"primary"},this.rollerShadesCard={title:"Roller Shades",iconClass:"nb-roller-shades",type:"success"},this.wirelessAudioCard={title:"Wireless Audio",iconClass:"nb-audio",type:"info"},this.coffeeMakerCard={title:"Coffee Maker",iconClass:"nb-coffee-maker",type:"warning"},this.commonStatusCardsSet=[this.lightCard,this.rollerShadesCard,this.wirelessAudioCard,this.coffeeMakerCard],this.statusCardsByThemes={default:this.commonStatusCardsSet,cosmic:this.commonStatusCardsSet,corporate:[{...this.lightCard,type:"warning"},{...this.rollerShadesCard,type:"primary"},{...this.wirelessAudioCard,type:"danger"},{...this.coffeeMakerCard,type:"info"}],dark:this.commonStatusCardsSet},this.themeService.getJsTheme().pipe((0,ae.o)(()=>this.alive)).subscribe(r=>{this.statusCards=this.statusCardsByThemes[r.name]}),this.solarService.getSolarData().pipe((0,ae.o)(()=>this.alive)).subscribe(r=>{this.solarValue=r})}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(Ict.j))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-dashboard"]],decls:20,vars:2,consts:[[1,"row"],["class","col-xxxl-3 col-md-6",4,"ngFor","ngForOf"],[1,"col-xxxl-3","col-xxl-4","col-lg-5","col-md-6"],[1,"col-xxxl-9","col-xxl-8","col-lg-7","col-md-6"],[1,"col-xxxl-9","col-xl-12"],[1,"col-xxxl-3","col-xxl-4","col-lg-7","col-md-6"],[3,"chartValue"],[1,"col-xxxl-3","col-xxl-4","col-md-5"],[1,"col-xxxl-6","col-xxl-12","col-md-7"],[1,"col-xxxl-3","col-md-6"],[3,"title","type"],[3,"ngClass"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275template(1,Cut,3,3,"div",1),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(2,"div",0)(3,"div",2),y.\u0275\u0275element(4,"ngx-temperature"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(5,"div",3),y.\u0275\u0275element(6,"ngx-electricity"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(7,"div",0)(8,"div",4),y.\u0275\u0275element(9,"ngx-rooms"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(10,"div",5),y.\u0275\u0275element(11,"ngx-contacts"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(12,"div",2),y.\u0275\u0275element(13,"ngx-solar",6)(14,"ngx-kitten"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(15,"div",7),y.\u0275\u0275element(16,"ngx-traffic")(17,"ngx-weather"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(18,"div",8),y.\u0275\u0275element(19,"ngx-security-cameras"),y.\u0275\u0275elementEnd()()),2&n&&(y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",r.statusCards),y.\u0275\u0275advance(12),y.\u0275\u0275property("chartValue",r.solarValue))},dependencies:[me.mk,me.sg,Fct,zct,jct,nut,rut,cut,gut,vut,mut,but],styles:["[_nghost-%COMP%]   .solar-card[_ngcontent-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border:none;padding-bottom:0}@media (max-width: 767.98px){[_nghost-%COMP%]   ngx-traffic[_ngcontent-%COMP%]{display:none}}"]})}return e})();var wut=dt(9322);let Tut=(()=>{class e{constructor(t,n){this.theme=t,this.layoutService=n,this.alive=!0,this.linesData={firstLine:[],secondLine:[]},this.options={},this.layoutService.onSafeChangeLayoutSize().pipe((0,ae.o)(()=>this.alive)).subscribe(()=>this.resizeChart())}ngAfterViewInit(){this.theme.getJsTheme().pipe((0,ae.o)(()=>this.alive)).subscribe(t=>{this.setChartOption(t.variables.profitBarAnimationEchart)})}setChartOption(t){this.options={color:[t.firstAnimationBarColor,t.secondAnimationBarColor],grid:{left:0,top:0,right:0,bottom:0},legend:{data:["transactions","orders"],borderWidth:0,borderRadius:0,itemWidth:15,itemHeight:15,textStyle:{color:t.textColor}},tooltip:{axisPointer:{type:"shadow"},textStyle:{color:t.tooltipTextColor,fontWeight:t.tooltipFontWeight,fontSize:t.tooltipFontSize},position:"top",backgroundColor:t.tooltipBg,borderColor:t.tooltipBorderColor,borderWidth:t.tooltipBorderWidth,formatter:n=>`$ ${Math.round(parseInt(n.value,10))}`,extraCssText:t.tooltipExtraCss},xAxis:[{data:this.linesData.firstLine.map((n,r)=>r),silent:!1,axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1}}],yAxis:[{axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:t.splitLineStyleColor,opacity:t.splitLineStyleOpacity,width:t.splitLineStyleWidth}}}],series:[{name:"transactions",type:"bar",data:this.linesData.firstLine,animationDelay:n=>10*n},{name:"orders",type:"bar",data:this.linesData.secondLine,animationDelay:n=>10*n+100}],animationEasing:"elasticOut",animationDelayUpdate:n=>5*n}}onChartInit(t){this.echartsIntance=t}resizeChart(){this.echartsIntance&&this.echartsIntance.resize()}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(_o.P))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-stats-bar-animation-chart"]],inputs:{linesData:"linesData"},decls:1,vars:1,consts:[["echarts","",1,"echart",3,"options","chartInit"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275listener("chartInit",function(o){return r.onChartInit(o)}),y.\u0275\u0275elementEnd()),2&n&&y.\u0275\u0275property("options",r.options)},dependencies:[qr],encapsulation:2})}return e})(),Mut=(()=>{class e{constructor(t){this.profitBarAnimationChartService=t,this.alive=!0,this.profitBarAnimationChartService.getChartData().pipe((0,ae.o)(()=>this.alive)).subscribe(n=>{this.linesData=n})}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(wut.m))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-stats-card-front"]],decls:6,vars:1,consts:[[1,"ion-social-usd"],[1,"title"],[3,"linesData"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card-header"),y.\u0275\u0275element(1,"i",0),y.\u0275\u0275elementStart(2,"span",1),y.\u0275\u0275text(3,"Profit"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(4,"nb-card-body"),y.\u0275\u0275element(5,"ngx-stats-bar-animation-chart",2),y.\u0275\u0275elementEnd()),2&n&&(y.\u0275\u0275advance(5),y.\u0275\u0275property("linesData",r.linesData))},dependencies:[ct.yKW,ct.ndF,Tut],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:.5rem}[_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{margin-bottom:-1px}[_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{position:relative;padding:0;overflow:hidden}[_nghost-%COMP%]   ngx-stats-bar-animation-chart[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   ngx-stats-bar-animation-chart[_ngcontent-%COMP%]     .echart{height:100%;width:100%}"]})}return e})();var Aut=dt(1401);let Lut=(()=>{class e{constructor(t,n){this.theme=t,this.layoutService=n,this.alive=!0,this.option={},this.layoutService.onSafeChangeLayoutSize().pipe((0,ae.o)(()=>this.alive)).subscribe(()=>this.resizeChart())}ngAfterViewInit(){this.theme.getJsTheme().pipe((0,Js.g)(1),(0,ae.o)(()=>this.alive)).subscribe(t=>{const n=t.variables.traffic;this.option=Object.assign({},{grid:{left:0,top:0,right:0,bottom:0},xAxis:{type:"category",boundaryGap:!1,data:this.points},yAxis:{boundaryGap:[0,"5%"],axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!0,lineStyle:{color:n.yAxisSplitLine,width:"1"}}},tooltip:{axisPointer:{type:"shadow"},textStyle:{color:n.tooltipTextColor,fontWeight:n.tooltipFontWeight,fontSize:16},position:"top",backgroundColor:n.tooltipBg,borderColor:n.tooltipBorderColor,borderWidth:1,formatter:"$ {c0}",extraCssText:n.tooltipExtraCss},series:[{type:"line",symbol:"circle",symbolSize:8,sampling:"average",silent:!0,itemStyle:{normal:{color:n.shadowLineDarkBg},emphasis:{color:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",borderWidth:0}},lineStyle:{normal:{width:2,color:n.shadowLineDarkBg}},data:this.points.map(r=>r-15)},{type:"line",symbol:"circle",symbolSize:6,sampling:"average",itemStyle:{normal:{color:n.itemColor,borderColor:n.itemBorderColor,borderWidth:2},emphasis:{color:"white",borderColor:n.itemEmphasisBorderColor,borderWidth:2}},lineStyle:{normal:{width:2,color:n.lineBg,shadowColor:n.lineBg,shadowBlur:n.lineShadowBlur}},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:n.gradFrom},{offset:1,color:n.gradTo}]),opacity:1}},data:this.points}]})})}onChartInit(t){this.echartsIntance=t}resizeChart(){this.echartsIntance&&this.echartsIntance.resize()}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(_o.P))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-stats-ares-chart"]],inputs:{points:"points"},decls:1,vars:1,consts:[["echarts","",1,"echart",3,"options","chartInit"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275listener("chartInit",function(o){return r.onChartInit(o)}),y.\u0275\u0275elementEnd()),2&n&&y.\u0275\u0275property("options",r.option)},dependencies:[qr],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:.5rem}[_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0;overflow:hidden}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.75rem .75rem .5rem}[dir=rtl]   [_nghost-%COMP%]   .info[_ngcontent-%COMP%]{flex-direction:row-reverse}[_nghost-%COMP%]   .period[_ngcontent-%COMP%]{width:49%}[_nghost-%COMP%]   .currency[_ngcontent-%COMP%]{padding-right:.25rem}[_nghost-%COMP%]   ngx-stats-ares-chart[_ngcontent-%COMP%]{flex:1;position:relative}[_nghost-%COMP%]   ngx-stats-ares-chart[_ngcontent-%COMP%]     .echart{position:absolute;height:100%;width:100%}[_nghost-%COMP%]   ngx-stats-ares-chart[_ngcontent-%COMP%]     canvas{border-bottom-left-radius:var(--card-border-radius);border-bottom-right-radius:var(--card-border-radius)}"]})}return e})(),kut=(()=>{class e{constructor(t){this.statsBarData=t,this.alive=!0,this.statsBarData.getStatsBarData().pipe((0,ae.o)(()=>this.alive)).subscribe(n=>{this.chartData=n})}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(Aut.e))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-stats-card-back"]],decls:21,vars:1,consts:[[1,"ion-social-usd"],[1,"title"],[1,"info"],[1,"period"],[1,"caption"],[1,"label"],[1,"currency"],[1,"period","latest"],[3,"points"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card-header"),y.\u0275\u0275element(1,"i",0),y.\u0275\u0275elementStart(2,"span",1),y.\u0275\u0275text(3,"Profit"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(4,"nb-card-body")(5,"div",2)(6,"div",3)(7,"div",4),y.\u0275\u0275text(8,"Jun 1 - Jun 30"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(9,"div",5)(10,"span",6),y.\u0275\u0275text(11,"$"),y.\u0275\u0275elementEnd(),y.\u0275\u0275text(12,"300 "),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(13,"div",7)(14,"div",4),y.\u0275\u0275text(15,"Jul 1 - Jul 31"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(16,"div",5)(17,"span",6),y.\u0275\u0275text(18,"$"),y.\u0275\u0275elementEnd(),y.\u0275\u0275text(19,"860 "),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275element(20,"ngx-stats-ares-chart",8),y.\u0275\u0275elementEnd()),2&n&&(y.\u0275\u0275advance(20),y.\u0275\u0275property("points",r.chartData))},dependencies:[ct.yKW,ct.ndF,Lut],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}[_nghost-%COMP%]   .title[_ngcontent-%COMP%]{padding-left:.5rem}[_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0;overflow:hidden}[_nghost-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:.75rem .75rem .5rem}[dir=rtl]   [_nghost-%COMP%]   .info[_ngcontent-%COMP%]{flex-direction:row-reverse}[_nghost-%COMP%]   .period[_ngcontent-%COMP%]{width:49%}[_nghost-%COMP%]   .currency[_ngcontent-%COMP%]{padding-right:.25rem}[_nghost-%COMP%]   ngx-stats-ares-chart[_ngcontent-%COMP%]{flex:1;position:relative}[_nghost-%COMP%]   ngx-stats-ares-chart[_ngcontent-%COMP%]     .echart{position:absolute;height:100%;width:100%}[_nghost-%COMP%]   ngx-stats-ares-chart[_ngcontent-%COMP%]     canvas{border-bottom-left-radius:var(--card-border-radius);border-bottom-right-radius:var(--card-border-radius)}"]})}return e})(),Dut=(()=>{class e{constructor(){this.flipped=!1}toggleView(){this.flipped=!this.flipped}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-profit-card"]],decls:9,vars:2,consts:[[3,"showToggleButton","flipped"],["size","tiny"],["icon","chevron-right-outline","pack","eva",1,"flip-icon",3,"click"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-flip-card",0)(1,"nb-card-front")(2,"nb-card",1),y.\u0275\u0275element(3,"ngx-stats-card-front"),y.\u0275\u0275elementStart(4,"nb-icon",2),y.\u0275\u0275listener("click",function(){return r.toggleView()}),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(5,"nb-card-back")(6,"nb-card",1),y.\u0275\u0275element(7,"ngx-stats-card-back"),y.\u0275\u0275elementStart(8,"nb-icon",2),y.\u0275\u0275listener("click",function(){return r.toggleView()}),y.\u0275\u0275elementEnd()()()()),2&n&&y.\u0275\u0275property("showToggleButton",!1)("flipped",r.flipped)},dependencies:[ct.Asz,ct.fl2,ct.zO1,ct.wgE,ct.fMN,Mut,kut],styles:["[_nghost-%COMP%]   .flip-icon[_ngcontent-%COMP%]{position:absolute;right:.625rem;top:1rem;cursor:pointer}[dir=rtl]   [_nghost-%COMP%]   .flip-icon[_ngcontent-%COMP%]{right:auto}[dir=rtl]   [_nghost-%COMP%]   .flip-icon[_ngcontent-%COMP%]{left:.625rem}[_nghost-%COMP%]     .front-container{max-width:100%}[_nghost-%COMP%]     .flipped .back-container .flip-icon{transform:scaleX(-1)}[_nghost-%COMP%]     .flipped .front-container .flip-icon{display:none}"]})}return e})();var Put=dt(8691);function Iut(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"div",1),y.\u0275\u0275element(1,"div",2),y.\u0275\u0275elementStart(2,"div",3),y.\u0275\u0275text(3),y.\u0275\u0275elementEnd()()),2&e){const t=i.$implicit;y.\u0275\u0275advance(1),y.\u0275\u0275styleProp("background",t.iconColor),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(t.title)}}let sS=(()=>{class e{constructor(){this.legendItems=[]}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-legend-chart"]],inputs:{legendItems:"legendItems"},decls:1,vars:1,consts:[["class","legend",4,"ngFor","ngForOf"],[1,"legend"],[1,"legend-item-color"],[1,"legend-title"]],template:function(n,r){1&n&&y.\u0275\u0275template(0,Iut,4,3,"div",0),2&n&&y.\u0275\u0275property("ngForOf",r.legendItems)},dependencies:[me.sg],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap}[_nghost-%COMP%]   .legend[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[dir=ltr]   [_nghost-%COMP%]   .legend[_ngcontent-%COMP%]:not(:last-child){margin-right:1rem}[dir=rtl]   [_nghost-%COMP%]   .legend[_ngcontent-%COMP%]:not(:last-child){margin-left:1rem}[_nghost-%COMP%]   .legend-item-color[_ngcontent-%COMP%]{min-width:15px;min-height:15px;border-radius:.2rem}[_nghost-%COMP%]   .legend-title[_ngcontent-%COMP%]{white-space:nowrap}[dir=ltr]   [_nghost-%COMP%]   .legend-title[_ngcontent-%COMP%]{padding-left:.75rem}[dir=rtl]   [_nghost-%COMP%]   .legend-title[_ngcontent-%COMP%]{padding-right:.75rem}"]})}return e})();function Out(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"nb-option",3),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),2&e){const t=i.$implicit;y.\u0275\u0275property("value",t),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate1(" ",t," ")}}let Eut=(()=>{class e{constructor(t,n){this.themeService=t,this.breakpointService=n,this.alive=!0,this.periodChange=new y.EventEmitter,this.type="week",this.types=["week","month","year"],this.breakpoint={name:"",width:0},this.themeService.getJsTheme().pipe((0,ae.o)(()=>this.alive)).subscribe(r=>{const a=r.variables.orderProfitLegend;this.currentTheme=r.name,this.setLegendItems(a)}),this.breakpoints=this.breakpointService.getBreakpointsMap(),this.themeService.onMediaQueryChange().pipe((0,ae.o)(()=>this.alive)).subscribe(([r,a])=>{this.breakpoint=a})}setLegendItems(t){this.chartLegend=[{iconColor:t.firstItem,title:"Payment"},{iconColor:t.secondItem,title:"Canceled"},{iconColor:t.thirdItem,title:"All orders"}]}changePeriod(t){this.type=t,this.periodChange.emit(t)}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(ct._4W))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-chart-panel-header"]],inputs:{type:"type"},outputs:{periodChange:"periodChange"},decls:3,vars:3,consts:[[3,"legendItems"],[1,"period-select",3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,r){1&n&&(y.\u0275\u0275element(0,"ngx-legend-chart",0),y.\u0275\u0275elementStart(1,"nb-select",1),y.\u0275\u0275listener("selectedChange",function(o){return r.changePeriod(o)}),y.\u0275\u0275template(2,Out,2,2,"nb-option",2),y.\u0275\u0275elementEnd()),2&n&&(y.\u0275\u0275property("legendItems",r.chartLegend),y.\u0275\u0275advance(1),y.\u0275\u0275property("selected",r.type),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",r.types))},dependencies:[me.sg,ct.rs,ct.q51,sS],styles:["[_nghost-%COMP%]{padding:1.5rem 4.5rem;display:flex;flex-wrap:wrap;align-items:center;margin:-1rem}[_nghost-%COMP%]   ngx-legend-chart[_ngcontent-%COMP%], [_nghost-%COMP%]   .period-select[_ngcontent-%COMP%]{padding-top:1rem}[dir=ltr]   [_nghost-%COMP%]   ngx-legend-chart[_ngcontent-%COMP%], [dir=ltr]   [_nghost-%COMP%]   .period-select[_ngcontent-%COMP%]{padding-left:.5rem}[dir=rtl]   [_nghost-%COMP%]   ngx-legend-chart[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   .period-select[_ngcontent-%COMP%]{padding-right:.5rem}@media (min-width: 768px){[dir=ltr]   [_nghost-%COMP%]   .period-select[_ngcontent-%COMP%]{margin-left:auto}[dir=rtl]   [_nghost-%COMP%]   .period-select[_ngcontent-%COMP%]{margin-right:auto}}"]})}return e})();function Fut(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"div")(1,"div"),y.\u0275\u0275text(2),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"div",2),y.\u0275\u0275text(4),y.\u0275\u0275elementEnd()()),2&e){const t=i.$implicit;y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(t.title),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(t.value)}}let Rut=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-chart-panel-summary"]],inputs:{summary:"summary"},decls:2,vars:1,consts:[[1,"summary-container"],[4,"ngFor","ngForOf"],[1,"h6"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275template(1,Fut,5,2,"div",1),y.\u0275\u0275elementEnd()),2&n&&(y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",r.summary))},dependencies:[me.sg],styles:["[_nghost-%COMP%]   .summary-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex:1;background-color:var(--background-basic-color-2);justify-content:space-between;padding:1.5rem 4rem 1rem;border:1px solid var(--border-basic-color-3);border-left:none;border-right:none}"]})}return e})(),But=(()=>{class e{ngOnChanges(){this.option&&this.updateOrdersChartOptions(this.ordersChartData)}constructor(t,n){this.theme=t,this.layoutService=n,this.alive=!0,this.layoutService.onSafeChangeLayoutSize().pipe((0,ae.o)(()=>this.alive)).subscribe(()=>this.resizeChart())}ngAfterViewInit(){this.theme.getJsTheme().pipe((0,ae.o)(()=>this.alive),(0,Js.g)(1)).subscribe(t=>{this.setOptions(t.variables.orders),this.updateOrdersChartOptions(this.ordersChartData)})}setOptions(t){this.option={grid:{left:40,top:20,right:0,bottom:40},tooltip:{trigger:"item",axisPointer:{type:"line",lineStyle:{color:t.tooltipLineColor,width:t.tooltipLineWidth}},textStyle:{color:t.tooltipTextColor,fontSize:t.tooltipFontSize,fontWeight:t.tooltipFontWeight},position:"top",backgroundColor:t.tooltipBg,borderColor:t.tooltipBorderColor,borderWidth:1,formatter:n=>Math.round(parseInt(n.value,10)),extraCssText:t.tooltipExtraCss},xAxis:{type:"category",boundaryGap:!1,offset:5,data:[],axisTick:{show:!1},axisLabel:{color:t.axisTextColor,fontSize:t.axisFontSize},axisLine:{lineStyle:{color:t.axisLineColor,width:"2"}}},yAxis:{type:"value",boundaryGap:!1,axisLine:{lineStyle:{color:t.axisLineColor,width:"1"}},axisLabel:{color:t.axisTextColor,fontSize:t.axisFontSize},axisTick:{show:!1},splitLine:{lineStyle:{color:t.yAxisSplitLine,width:"1"}}},series:[this.getFirstLine(t),this.getSecondLine(t),this.getThirdLine(t)]}}getFirstLine(t){return{type:"line",smooth:!0,symbolSize:20,itemStyle:{normal:{opacity:0},emphasis:{opacity:0}},lineStyle:{normal:{width:0}},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:t.firstAreaGradFrom},{offset:1,color:t.firstAreaGradTo}]),opacity:1}},data:[]}}getSecondLine(t){return{type:"line",smooth:!0,symbolSize:20,itemStyle:{normal:{opacity:0},emphasis:{color:"#ffffff",borderColor:t.itemBorderColor,borderWidth:2,opacity:1}},lineStyle:{normal:{width:t.lineWidth,type:t.lineStyle,color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:t.secondLineGradFrom},{offset:1,color:t.secondLineGradTo}])}},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:t.secondAreaGradFrom},{offset:1,color:t.secondAreaGradTo}])}},data:[]}}getThirdLine(t){return{type:"line",smooth:!0,symbolSize:20,itemStyle:{normal:{opacity:0},emphasis:{color:"#ffffff",borderColor:t.itemBorderColor,borderWidth:2,opacity:1}},lineStyle:{normal:{width:t.lineWidth,type:t.lineStyle,color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:t.thirdLineGradFrom},{offset:1,color:t.thirdLineGradTo}])}},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:t.thirdAreaGradFrom},{offset:1,color:t.thirdAreaGradTo}])}},data:[]}}updateOrdersChartOptions(t){const n=this.option,r=this.getNewSeries(n.series,t.linesData),a=this.getNewXAxis(n.xAxis,t.chartLabel);this.option={...n,xAxis:a,series:r}}getNewSeries(t,n){return t.map((r,a)=>({...r,data:n[a]}))}getNewXAxis(t,n){return{...t,data:n}}onChartInit(t){this.echartsIntance=t}resizeChart(){this.echartsIntance&&setTimeout(()=>{this.echartsIntance.resize()},0)}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(_o.P))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-orders-chart"]],inputs:{ordersChartData:"ordersChartData"},features:[y.\u0275\u0275NgOnChangesFeature],decls:1,vars:2,consts:[["echarts","",1,"echart",3,"options","merge","chartInit"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275listener("chartInit",function(o){return r.onChartInit(o)}),y.\u0275\u0275elementEnd()),2&n&&y.\u0275\u0275property("options",r.option)("merge",r.option)},dependencies:[qr],styles:["[_nghost-%COMP%]{flex:1}[_nghost-%COMP%]   .echart[_ngcontent-%COMP%]{display:block;height:100%;width:100%}"]})}return e})(),Vut=(()=>{class e{constructor(t,n){this.theme=t,this.layoutService=n,this.alive=!0,this.options={},this.layoutService.onSafeChangeLayoutSize().pipe((0,ae.o)(()=>this.alive)).subscribe(()=>this.resizeChart())}ngOnChanges(){this.echartsIntance&&this.updateProfitChartOptions(this.profitChartData)}ngAfterViewInit(){this.theme.getJsTheme().pipe((0,ae.o)(()=>this.alive)).subscribe(t=>{this.setOptions(t.variables.profit)})}setOptions(t){this.options={backgroundColor:t.bg,tooltip:{trigger:"axis",axisPointer:{type:"shadow",shadowStyle:{color:"rgba(0, 0, 0, 0.3)"}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:this.profitChartData.chartLabel,axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:t.axisLineColor}},axisLabel:{color:t.axisTextColor,fontSize:t.axisFontSize}}],yAxis:[{type:"value",axisLine:{lineStyle:{color:t.axisLineColor}},splitLine:{lineStyle:{color:t.splitLineColor}},axisLabel:{color:t.axisTextColor,fontSize:t.axisFontSize}}],series:[{name:"Canceled",type:"bar",barGap:0,barWidth:"20%",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:t.firstLineGradFrom},{offset:1,color:t.firstLineGradTo}])}},data:this.profitChartData.data[0]},{name:"Payment",type:"bar",barWidth:"20%",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:t.secondLineGradFrom},{offset:1,color:t.secondLineGradTo}])}},data:this.profitChartData.data[1]},{name:"All orders",type:"bar",barWidth:"20%",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:t.thirdLineGradFrom},{offset:1,color:t.thirdLineGradTo}])}},data:this.profitChartData.data[2]}]}}updateProfitChartOptions(t){const r=this.getNewSeries(this.options.series,t.data);this.echartsIntance.setOption({series:r,xAxis:{data:this.profitChartData.chartLabel}})}getNewSeries(t,n){return t.map((r,a)=>({...r,data:n[a]}))}onChartInit(t){this.echartsIntance=t}resizeChart(){this.echartsIntance&&setTimeout(()=>{this.echartsIntance.resize()},0)}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(_o.P))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-profit-chart"]],inputs:{profitChartData:"profitChartData"},features:[y.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[["echarts","",1,"echart",3,"options","chartInit"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275listener("chartInit",function(o){return r.onChartInit(o)}),y.\u0275\u0275elementEnd()),2&n&&y.\u0275\u0275property("options",r.options)},dependencies:[qr],styles:["[_nghost-%COMP%]{flex:1}[_nghost-%COMP%]   .echart[_ngcontent-%COMP%]{display:block;height:100%;width:100%}"]})}return e})();const zut=["ordersChart"],Nut=["profitChart"];let Gut=(()=>{class e{constructor(t){this.ordersProfitChartService=t,this.alive=!0,this.period="week",this.ordersProfitChartService.getOrderProfitChartSummary().pipe((0,ae.o)(()=>this.alive)).subscribe(n=>{this.chartPanelSummary=n}),this.getOrdersChartData(this.period),this.getProfitChartData(this.period)}setPeriodAndGetChartData(t){this.period!==t&&(this.period=t),this.getOrdersChartData(t),this.getProfitChartData(t)}changeTab(t){"Profit"===t.tabTitle?this.profitChart.resizeChart():this.ordersChart.resizeChart()}getOrdersChartData(t){this.ordersProfitChartService.getOrdersChartData(t).pipe((0,ae.o)(()=>this.alive)).subscribe(n=>{this.ordersChartData=n})}getProfitChartData(t){this.ordersProfitChartService.getProfitChartData(t).pipe((0,ae.o)(()=>this.alive)).subscribe(n=>{this.profitChartData=n})}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(Put.N))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-ecommerce-charts"]],viewQuery:function(n,r){if(1&n&&(y.\u0275\u0275viewQuery(zut,7),y.\u0275\u0275viewQuery(Nut,7)),2&n){let a;y.\u0275\u0275queryRefresh(a=y.\u0275\u0275loadQuery())&&(r.ordersChart=a.first),y.\u0275\u0275queryRefresh(a=y.\u0275\u0275loadQuery())&&(r.profitChart=a.first)}},decls:14,vars:7,consts:[["size","large"],["fullWidth","",3,"changeTab"],["tabTitle","Orders"],[1,"chart-container"],[3,"summary"],[3,"type","periodChange"],[3,"ordersChartData"],["ordersChart",""],["tabTitle","Profit",3,"lazyLoad"],[3,"profitChartData"],["profitChart",""]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card",0)(1,"nb-tabset",1),y.\u0275\u0275listener("changeTab",function(o){return r.changeTab(o)}),y.\u0275\u0275elementStart(2,"nb-tab",2)(3,"div",3),y.\u0275\u0275element(4,"ngx-chart-panel-summary",4),y.\u0275\u0275elementStart(5,"ngx-chart-panel-header",5),y.\u0275\u0275listener("periodChange",function(o){return r.setPeriodAndGetChartData(o)}),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(6,"ngx-orders-chart",6,7),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(8,"nb-tab",8)(9,"div",3),y.\u0275\u0275element(10,"ngx-chart-panel-summary",4),y.\u0275\u0275elementStart(11,"ngx-chart-panel-header",5),y.\u0275\u0275listener("periodChange",function(o){return r.setPeriodAndGetChartData(o)}),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(12,"ngx-profit-chart",9,10),y.\u0275\u0275elementEnd()()()()),2&n&&(y.\u0275\u0275advance(4),y.\u0275\u0275property("summary",r.chartPanelSummary),y.\u0275\u0275advance(1),y.\u0275\u0275property("type",r.period),y.\u0275\u0275advance(1),y.\u0275\u0275property("ordersChartData",r.ordersChartData),y.\u0275\u0275advance(2),y.\u0275\u0275property("lazyLoad",!0),y.\u0275\u0275advance(2),y.\u0275\u0275property("summary",r.chartPanelSummary),y.\u0275\u0275advance(1),y.\u0275\u0275property("type",r.period),y.\u0275\u0275advance(1),y.\u0275\u0275property("profitChartData",r.profitChartData))},dependencies:[ct.Asz,ct.kyn,ct.TR4,Eut,Rut,But,Vut],styles:["[_nghost-%COMP%]   nb-tabset[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}[_nghost-%COMP%]   nb-tabset[_ngcontent-%COMP%]     ul{border-color:transparent;padding-bottom:1px}[_nghost-%COMP%]   nb-tabset[_ngcontent-%COMP%]     ul .tab-link{padding:1.25rem 2rem}[_nghost-%COMP%]   nb-tab[_ngcontent-%COMP%]{flex:1;padding:0 0 1.25rem}[_nghost-%COMP%]   .chart-container[_ngcontent-%COMP%]{flex:1;height:100%;display:flex;flex-direction:column;overflow:hidden}[_nghost-%COMP%]   ngx-profit-chart[_ngcontent-%COMP%], [_nghost-%COMP%]   ngx-orders-chart[_ngcontent-%COMP%]{padding:0 1.25rem}"]})}return e})();var Hut=dt(3530),Wut=dt(1360);let Yut=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-traffic-bar"]],inputs:{barData:"barData",successDelta:"successDelta"},decls:8,vars:10,consts:[[1,"value-prev","caption"],[1,"progress-line-container"],[1,"progress-line-prev"],[1,"progress-line-now"],[1,"value-now","caption"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"span",0),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(2,"div",1),y.\u0275\u0275element(3,"div",2),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(4,"div",1),y.\u0275\u0275element(5,"div",3),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(6,"span",4),y.\u0275\u0275text(7),y.\u0275\u0275elementEnd()),2&n&&(y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(r.barData.prevDate),y.\u0275\u0275advance(1),y.\u0275\u0275styleProp("height",r.barData.prevValue,"%"),y.\u0275\u0275advance(2),y.\u0275\u0275styleProp("height",r.barData.nextValue,"%"),y.\u0275\u0275advance(1),y.\u0275\u0275classProp("success",r.successDelta)("failure",!r.successDelta),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(r.barData.nextDate))},styles:["[_nghost-%COMP%]{display:flex;align-items:flex-end;height:var(--list-item-line-height);max-width:7rem}[_nghost-%COMP%]   .value-prev[_ngcontent-%COMP%], [_nghost-%COMP%]   .value-now[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .progress-line-container[_ngcontent-%COMP%]{flex:1;margin-bottom:.1875rem}[_nghost-%COMP%]   .progress-line-prev[_ngcontent-%COMP%], [_nghost-%COMP%]   .progress-line-now[_ngcontent-%COMP%]{height:100%;width:.7rem}[_nghost-%COMP%]   .progress-line-prev[_ngcontent-%COMP%]{background-color:var(--border-basic-color-3)}[dir=ltr]   [_nghost-%COMP%]   .progress-line-prev[_ngcontent-%COMP%]{margin-left:auto;margin-right:.25rem}[dir=rtl]   [_nghost-%COMP%]   .progress-line-prev[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:auto}[dir=ltr]   [_nghost-%COMP%]   .progress-line-now[_ngcontent-%COMP%]{margin-left:.25rem;margin-right:auto}[dir=rtl]   [_nghost-%COMP%]   .progress-line-now[_ngcontent-%COMP%]{margin-left:auto;margin-right:.25rem}[_nghost-%COMP%]   .progress-line-now.success[_ngcontent-%COMP%]{background-color:var(--color-success-default)}[_nghost-%COMP%]   .progress-line-now.failure[_ngcontent-%COMP%]{background-color:var(--color-danger-default)}"]})}return e})();function Xut(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"nb-list-item",1)(1,"span"),y.\u0275\u0275text(2),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"span"),y.\u0275\u0275text(4),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(5,"span",2),y.\u0275\u0275element(6,"nb-icon",3),y.\u0275\u0275text(7),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(8,"ngx-traffic-bar",4),y.\u0275\u0275elementEnd()),2&e){const t=i.$implicit;y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(t.date),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(t.value),y.\u0275\u0275advance(1),y.\u0275\u0275classProp("up",t.delta.up)("down",!t.delta.up),y.\u0275\u0275advance(1),y.\u0275\u0275property("icon",t.delta.up?"arrow-up":"arrow-down"),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate1(" ",t.delta.value,"% "),y.\u0275\u0275advance(1),y.\u0275\u0275property("barData",t.comparison)("successDelta",t.delta.up)}}let Uut=(()=>{class e{constructor(t){this.themeService=t,this.alive=!0,this.themeService.getJsTheme().pipe((0,ae.o)(()=>this.alive)).subscribe(n=>{this.currentTheme=n.name})}trackByDate(t,n){return n.date}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-traffic-front-card"]],inputs:{frontCardData:"frontCardData"},decls:2,vars:2,consts:[["class","item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"item"],[1,"delta"],["pack","eva",3,"icon"],[3,"barData","successDelta"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-list"),y.\u0275\u0275template(1,Xut,9,10,"nb-list-item",0),y.\u0275\u0275elementEnd()),2&n&&(y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",r.frontCardData)("ngForTrackBy",r.trackByDate))},dependencies:[me.sg,ct.fMN,ct.zP_,ct.qBV,Yut],styles:["[_nghost-%COMP%]{overflow:auto}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}[_nghost-%COMP%]   .item[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .item[_ngcontent-%COMP%]:first-child{border-top:none}[_nghost-%COMP%]   .delta[_ngcontent-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   .delta.down[_ngcontent-%COMP%]{color:var(--color-danger-default)}[_nghost-%COMP%]   .delta.up[_ngcontent-%COMP%]{color:var(--color-success-default)}@media (max-width: 575.98px){[_nghost-%COMP%]   ngx-traffic-bar[_ngcontent-%COMP%]{display:none}}"]})}return e})(),Zut=(()=>{class e{constructor(t,n){this.theme=t,this.layoutService=n,this.alive=!0,this.option={},this.layoutService.onSafeChangeLayoutSize().pipe((0,ae.o)(()=>this.alive)).subscribe(()=>this.resizeChart())}onChartInit(t){this.echartsInstance=t}resizeChart(){this.echartsInstance&&this.echartsInstance.resize()}ngOnChanges(t){!t.data.isFirstChange()&&!t.labels.isFirstChange()&&this.echartsInstance.setOption({series:[{data:this.data}],xAxis:{data:this.labels},tooltip:{formatter:this.formatter}})}ngAfterViewInit(){this.theme.getJsTheme().pipe((0,ae.o)(()=>this.alive)).subscribe(t=>{const n=t.variables.trafficBarEchart;this.option=Object.assign({},{grid:{left:0,top:0,right:0,bottom:0,containLabel:!0},xAxis:{type:"category",data:this.labels,axisLabel:{color:n.axisTextColor,fontSize:n.axisFontSize},axisLine:{show:!1},axisTick:{show:!1}},yAxis:{show:!1,axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},boundaryGap:[0,"5%"]},tooltip:{axisPointer:{type:"shadow"},textStyle:{color:n.tooltipTextColor,fontWeight:n.tooltipFontWeight,fontSize:16},position:"top",backgroundColor:n.tooltipBg,borderColor:n.tooltipBorderColor,borderWidth:1,formatter:this.formatter,extraCssText:n.tooltipExtraCss},series:[{type:"bar",barWidth:"40%",data:this.data,itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:n.gradientFrom},{offset:1,color:n.gradientTo}]),opacity:1,shadowColor:n.gradientFrom,shadowBlur:n.shadowBlur}}}]})})}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(_o.P))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-traffic-bar-chart"]],inputs:{data:"data",labels:"labels",formatter:"formatter"},features:[y.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[["echarts","",1,"echart",3,"options","chartInit"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275listener("chartInit",function(o){return r.onChartInit(o)}),y.\u0275\u0275elementEnd()),2&n&&y.\u0275\u0275property("options",r.option)},dependencies:[qr],encapsulation:2})}return e})(),$ut=(()=>{class e{constructor(t){this.themeService=t,this.alive=!0,this.themeService.getJsTheme().pipe((0,ae.o)(()=>this.alive)).subscribe(n=>{this.currentTheme=n.name})}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-traffic-back-card"]],inputs:{trafficBarData:"trafficBarData"},decls:2,vars:3,consts:[[3,"data","labels","formatter"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card-body"),y.\u0275\u0275element(1,"ngx-traffic-bar-chart",0),y.\u0275\u0275elementEnd()),2&n&&(y.\u0275\u0275advance(1),y.\u0275\u0275property("data",r.trafficBarData.data)("labels",r.trafficBarData.labels)("formatter",r.trafficBarData.formatter))},dependencies:[ct.yKW,Zut],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}[_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{overflow:hidden;position:relative;display:flex;flex-direction:column}[_nghost-%COMP%]   ngx-traffic-bar-chart[_ngcontent-%COMP%]{flex:1;position:relative}[_nghost-%COMP%]   ngx-traffic-bar-chart[_ngcontent-%COMP%]     canvas{border-bottom-left-radius:var(--card-border-radius);border-bottom-right-radius:var(--card-border-radius)}[_nghost-%COMP%]   ngx-traffic-bar-chart[_ngcontent-%COMP%]     .echart{height:100%;width:100%}"]})}return e})();function jut(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"nb-option",2),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),2&e){const t=i.$implicit;y.\u0275\u0275property("value",t),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(t)}}let qut=(()=>{class e{constructor(t){this.themeService=t,this.alive=!0,this.periodChange=new y.EventEmitter,this.type="week",this.types=["week","month","year"],this.themeService.getJsTheme().pipe((0,ae.o)(()=>this.alive)).subscribe(n=>{this.currentTheme=n.name})}changePeriod(t){this.type=t,this.periodChange.emit(t)}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-traffic-cards-header"]],inputs:{type:"type"},outputs:{periodChange:"periodChange"},decls:5,vars:2,consts:[[3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card-header")(1,"span"),y.\u0275\u0275text(2,"Traffic"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"nb-select",0),y.\u0275\u0275listener("selectedChange",function(o){return r.changePeriod(o)}),y.\u0275\u0275template(4,jut,2,2,"nb-option",1),y.\u0275\u0275elementEnd()()),2&n&&(y.\u0275\u0275advance(3),y.\u0275\u0275property("selected",r.type),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",r.types))},dependencies:[me.sg,ct.ndF,ct.rs,ct.q51],styles:["[_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding-top:var(--card-header-with-select-padding-top);padding-bottom:var(--card-header-with-select-padding-bottom)}[dir=ltr]   [_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{padding-right:4rem}[dir=rtl]   [_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{padding-left:4rem}"]})}return e})(),Kut=(()=>{class e{constructor(t,n){this.trafficListService=t,this.trafficBarService=n,this.alive=!0,this.revealed=!1,this.period="week",this.getTrafficFrontCardData(this.period),this.getTrafficBackCardData(this.period)}toggleView(){this.revealed=!this.revealed}setPeriodAngGetData(t){this.period=t,this.getTrafficFrontCardData(t),this.getTrafficBackCardData(t)}getTrafficBackCardData(t){this.trafficBarService.getTrafficBarData(t).pipe((0,ae.o)(()=>this.alive)).subscribe(n=>{this.trafficBarData=n})}getTrafficFrontCardData(t){this.trafficListService.getTrafficListData(t).pipe((0,ae.o)(()=>this.alive)).subscribe(n=>{this.trafficListData=n})}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(Hut.b),y.\u0275\u0275directiveInject(Wut.y))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-traffic-reveal-card"]],decls:11,vars:6,consts:[[3,"showToggleButton","revealed"],["size","small"],[3,"type","periodChange"],[3,"frontCardData"],["icon","chevron-up-outline","pack","eva",1,"toggle-icon",3,"click"],[3,"trafficBarData"],["icon","chevron-down-outline","pack","eva",1,"toggle-icon",3,"click"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-reveal-card",0)(1,"nb-card-front")(2,"nb-card",1)(3,"ngx-traffic-cards-header",2),y.\u0275\u0275listener("periodChange",function(o){return r.setPeriodAngGetData(o)}),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(4,"ngx-traffic-front-card",3),y.\u0275\u0275elementStart(5,"nb-icon",4),y.\u0275\u0275listener("click",function(){return r.toggleView()}),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(6,"nb-card-back")(7,"nb-card",1)(8,"ngx-traffic-cards-header",2),y.\u0275\u0275listener("periodChange",function(o){return r.setPeriodAngGetData(o)}),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(9,"ngx-traffic-back-card",5),y.\u0275\u0275elementStart(10,"nb-icon",6),y.\u0275\u0275listener("click",function(){return r.toggleView()}),y.\u0275\u0275elementEnd()()()()),2&n&&(y.\u0275\u0275property("showToggleButton",!1)("revealed",r.revealed),y.\u0275\u0275advance(3),y.\u0275\u0275property("type",r.period),y.\u0275\u0275advance(1),y.\u0275\u0275property("frontCardData",r.trafficListData),y.\u0275\u0275advance(4),y.\u0275\u0275property("type",r.period),y.\u0275\u0275advance(1),y.\u0275\u0275property("trafficBarData",r.trafficBarData))},dependencies:[ct.Asz,ct.hbZ,ct.zO1,ct.wgE,ct.fMN,Uut,$ut,qut],styles:["[_nghost-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1.25rem;cursor:pointer}[dir=rtl]   [_nghost-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{right:auto}[dir=rtl]   [_nghost-%COMP%]   .toggle-icon[_ngcontent-%COMP%]{left:1.25rem}"]})}return e})();var Qut=dt(7141),Jut=dt(3426);let tht=(()=>{class e{constructor(t,n){this.ecMapService=t,this.theme=n,this.selectEvent=new y.EventEmitter,this.layers=[],this.alive=!0,this.options={zoom:2,minZoom:2,maxZoom:6,zoomControl:!1,center:Br.latLng({lat:38.991709,lng:-76.886109}),maxBounds:new Br.LatLngBounds(new Br.LatLng(-89.98155760646617,-180),new Br.LatLng(89.99346179538875,180)),maxBoundsViscosity:1},(0,Jut.aj)([this.ecMapService.getCords(),this.theme.getJsTheme()]).pipe((0,ae.o)(()=>this.alive)).subscribe(([r,a])=>{this.currentTheme=a.variables.countryOrders,this.layers=[this.createGeoJsonLayer(r)],this.selectFeature(this.findFeatureLayerByCountryId(this.countryId))})}mapReady(t){t.addControl(Br.control.zoom({position:"bottomright"})),setTimeout(()=>{t.invalidateSize()},0)}createGeoJsonLayer(t){return Br.geoJSON(t,{style:()=>({weight:this.currentTheme.countryBorderWidth,fillColor:this.currentTheme.countryFillColor,fillOpacity:1,color:this.currentTheme.countryBorderColor,opacity:1}),onEachFeature:(n,r)=>{this.onEachFeature(n,r)}})}onEachFeature(t,n){n.on({mouseover:r=>this.highlightFeature(r.target),mouseout:r=>this.moveout(r.target),click:r=>this.selectFeature(r.target)})}highlightFeature(t){t&&(t.setStyle({weight:this.currentTheme.hoveredCountryBorderWidth,fillColor:this.currentTheme.hoveredCountryFillColor,color:this.currentTheme.hoveredCountryBorderColor}),!Br.Browser.ie&&!Br.Browser.opera12&&!Br.Browser.edge&&t.bringToFront())}moveout(t){t!==this.selectedCountry&&(this.resetHighlight(t),this.highlightFeature(this.selectedCountry))}resetHighlight(t){t&&this.layers[0].resetStyle(t)}selectFeature(t){t!==this.selectedCountry&&(this.resetHighlight(this.selectedCountry),this.highlightFeature(t),this.selectedCountry=t,this.selectEvent.emit(t.feature.properties.name))}findFeatureLayerByCountryId(t){return this.layers[0].getLayers().find(a=>a.feature.id===t)||null}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(j5),y.\u0275\u0275directiveInject(ct.WMF))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-country-orders-map"]],inputs:{countryId:"countryId"},outputs:{selectEvent:"selectEvent"},decls:1,vars:2,consts:[["leaflet","",3,"leafletOptions","leafletLayers","leafletMapReady"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275listener("leafletMapReady",function(o){return r.mapReady(o)}),y.\u0275\u0275elementEnd()),2&n&&y.\u0275\u0275property("leafletOptions",r.options)("leafletLayers",r.layers)},dependencies:[Qs,Sct],styles:["[_nghost-%COMP%]{display:block;height:100%;width:60%}[_nghost-%COMP%]   .leaflet-container[_ngcontent-%COMP%]{height:100%;background-color:var(--background-basic-color-2)}[_nghost-%COMP%]     .leaflet-top, [_nghost-%COMP%]     .leaflet-bottom{z-index:997}[_nghost-%COMP%]     .leaflet-bar{box-shadow:none}[_nghost-%COMP%]     .leaflet-control-zoom{border:none}[_nghost-%COMP%]     .leaflet-control-zoom a{background-color:var(--color-primary-default);color:var(--text-alternate-color);border-bottom:none}[_nghost-%COMP%]     .leaflet-control-zoom .leaflet-disabled{background-color:var(--color-primary-disabled)}[_nghost-%COMP%]     .leaflet-control-zoom .leaflet-control-zoom-in{border-top-left-radius:var(--button-rectangle-border-radius);border-top-right-radius:var(--button-rectangle-border-radius)}[_nghost-%COMP%]     .leaflet-control-zoom .leaflet-control-zoom-out{margin-top:1px;border-bottom-left-radius:var(--button-rectangle-border-radius);border-bottom-right-radius:var(--button-rectangle-border-radius)}[_nghost-%COMP%]     .leaflet-control-attribution{background:transparent}@media (max-width: 767.98px){[_nghost-%COMP%]{width:100%;height:50%}}"]})}return e})(),eht=(()=>{class e{constructor(t,n){this.theme=t,this.layoutService=n,this.alive=!0,this.option={},this.layoutService.onSafeChangeLayoutSize().pipe((0,ae.o)(()=>this.alive)).subscribe(()=>this.resizeChart())}ngOnChanges(t){t.data&&!t.data.isFirstChange()&&this.echartsInstance&&this.echartsInstance.setOption({series:[{data:this.data.map(n=>this.maxValue)},{data:this.data},{data:this.data}]})}initChartOptions(){this.theme.getJsTheme().pipe((0,ae.o)(()=>this.alive)).subscribe(t=>{const n=t.variables.countryOrders;this.option=Object.assign({},{grid:{left:"3%",right:"3%",bottom:"3%",top:"3%",containLabel:!0},xAxis:{axisLabel:{color:n.chartAxisTextColor,fontSize:n.chartAxisFontSize},axisLine:{lineStyle:{color:n.chartAxisLineColor,width:"2"}},axisTick:{show:!1},splitLine:{lineStyle:{color:n.chartAxisSplitLine,width:"1"}}},yAxis:{data:this.labels,axisLabel:{color:n.chartAxisTextColor,fontSize:n.chartAxisFontSize},axisLine:{lineStyle:{color:n.chartAxisLineColor,width:"2"}},axisTick:{show:!1}},series:[{type:"bar",data:this.data.map(r=>this.maxValue),cursor:"default",itemStyle:{normal:{color:n.chartInnerLineColor},opacity:1},barWidth:"40%",barGap:"-100%",barCategoryGap:"30%",animation:!1,z:1},{type:"bar",data:this.data,cursor:"default",itemStyle:{normal:{color:n.chartLineBottomShadowColor},opacity:1},barWidth:"40%",barGap:"-100%",barCategoryGap:"30%",z:2},{type:"bar",barWidth:"35%",data:this.data,cursor:"default",itemStyle:{normal:{color:new echarts.graphic.LinearGradient(1,0,0,0,[{offset:0,color:n.chartGradientFrom},{offset:1,color:n.chartGradientTo}])}},z:3}]})})}onChartInit(t){this.echartsInstance=t,this.initChartOptions()}resizeChart(){this.echartsInstance&&this.echartsInstance.resize()}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(_o.P))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-country-orders-chart"]],inputs:{countryName:"countryName",data:"data",maxValue:"maxValue",labels:"labels"},features:[y.\u0275\u0275NgOnChangesFeature],decls:6,vars:2,consts:[[1,"header"],[1,"caption"],[1,"h4"],["echarts","",1,"echart",3,"options","chartInit"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"div",0)(1,"span",1),y.\u0275\u0275text(2,"Selected Country/Region"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"h2",2),y.\u0275\u0275text(4),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(5,"div",3),y.\u0275\u0275listener("chartInit",function(o){return r.onChartInit(o)}),y.\u0275\u0275elementEnd()),2&n&&(y.\u0275\u0275advance(4),y.\u0275\u0275textInterpolate(r.countryName),y.\u0275\u0275advance(1),y.\u0275\u0275property("options",r.option))},dependencies:[qr],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;flex:1;padding:var(--card-padding)}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{margin-left:1rem}[_nghost-%COMP%]   .echart[_ngcontent-%COMP%]{height:75%}@media (max-width: 767.98px){[_nghost-%COMP%]{height:50%}}"]})}return e})(),iht=(()=>{class e{constructor(t,n,r){this.themeService=t,this.breakpointService=n,this.countryOrderService=r,this.alive=!0,this.countryName="",this.countryData=[],this.breakpoint={name:"",width:0},this.breakpoints=this.breakpointService.getBreakpointsMap()}ngOnInit(){this.themeService.onMediaQueryChange().pipe((0,ae.o)(()=>this.alive)).subscribe(([t,n])=>{this.breakpoint=n}),this.countryOrderService.getCountriesCategories().pipe((0,ae.o)(()=>this.alive)).subscribe(t=>{this.countriesCategories=t})}selectCountryById(t){this.countryName=t,this.countryOrderService.getCountriesCategoriesData(t).pipe((0,ae.o)(()=>this.alive)).subscribe(n=>{this.countryData=n})}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(ct._4W),y.\u0275\u0275directiveInject(Qut.R))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-country-orders"]],decls:6,vars:4,consts:[[3,"size"],["countryId","USA",3,"selectEvent"],["maxValue","20",3,"countryName","data","labels"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card",0)(1,"nb-card-header"),y.\u0275\u0275text(2,"Country Orders Statistics"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-country-orders-map",1),y.\u0275\u0275listener("selectEvent",function(o){return r.selectCountryById(o)}),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(5,"ngx-country-orders-chart",2),y.\u0275\u0275elementEnd()()),2&n&&(y.\u0275\u0275property("size",r.breakpoint.width>=r.breakpoints.md?"medium":"giant"),y.\u0275\u0275advance(5),y.\u0275\u0275property("countryName",r.countryName)("data",r.countryData)("labels",r.countriesCategories))},dependencies:[ct.Asz,ct.yKW,ct.ndF,tht,eht],styles:["[_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{display:flex;height:100%;padding:0}@media (max-width: 767.98px){[_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{flex-direction:column}}"]})}return e})();var nht=dt(5797);let rht=(()=>{class e{constructor(t,n){this.theme=t,this.layoutService=n,this.alive=!0,this.layoutService.onSafeChangeLayoutSize().pipe((0,ae.o)(()=>this.alive)).subscribe(()=>this.resizeChart())}ngAfterViewInit(){this.theme.getJsTheme().pipe((0,Js.g)(1),(0,ae.o)(()=>this.alive)).subscribe(t=>{this.setOptions(t.variables.visitors)})}setOptions(t){this.option={grid:{left:40,top:20,right:0,bottom:60},tooltip:{trigger:"axis",axisPointer:{type:"line",lineStyle:{color:t.tooltipLineColor,width:t.tooltipLineWidth}},textStyle:{color:t.tooltipTextColor,fontSize:20,fontWeight:t.tooltipFontWeight},position:"top",backgroundColor:t.tooltipBg,borderColor:t.tooltipBorderColor,borderWidth:1,formatter:n=>Math.round(parseInt(n[0].value,10)),extraCssText:t.tooltipExtraCss},xAxis:{type:"category",boundaryGap:!1,offset:25,data:this.chartData.outerLine.map(n=>n.label),axisTick:{show:!1},axisLabel:{color:t.axisTextColor,fontSize:t.axisFontSize},axisLine:{lineStyle:{color:t.axisLineColor,width:"2"}}},yAxis:{type:"value",boundaryGap:!1,axisLine:{lineStyle:{color:t.axisLineColor,width:"1"}},axisLabel:{color:t.axisTextColor,fontSize:t.axisFontSize},axisTick:{show:!1},splitLine:{lineStyle:{color:t.yAxisSplitLine,width:"1"}}},series:[this.getInnerLine(t),this.getOuterLine(t)]}}getOuterLine(t){return{type:"line",smooth:!0,symbolSize:20,itemStyle:{normal:{opacity:0},emphasis:{color:"#ffffff",borderColor:t.itemBorderColor,borderWidth:2,opacity:1}},lineStyle:{normal:{width:t.lineWidth,type:t.lineStyle,color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:t.lineGradFrom},{offset:1,color:t.lineGradTo}]),shadowColor:t.lineShadow,shadowBlur:6,shadowOffsetY:12}},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:t.areaGradFrom},{offset:1,color:t.areaGradTo}])}},data:this.chartData.outerLine.map(n=>n.value)}}getInnerLine(t){return{type:"line",smooth:!0,symbolSize:20,tooltip:{show:!1,extraCssText:""},itemStyle:{normal:{opacity:0},emphasis:{opacity:0}},lineStyle:{normal:{width:t.innerLineWidth,type:t.innerLineStyle,color:new echarts.graphic.LinearGradient(0,0,0,1)}},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:t.innerAreaGradFrom},{offset:1,color:t.innerAreaGradTo}]),opacity:1}},data:this.chartData.innerLine}}onChartInit(t){this.echartsIntance=t}resizeChart(){this.echartsIntance&&this.echartsIntance.resize()}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(_o.P))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-visitors-analytics-chart"]],inputs:{chartData:"chartData"},decls:1,vars:2,consts:[["echarts","",1,"echart",3,"options","merge","chartInit"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275listener("chartInit",function(o){return r.onChartInit(o)}),y.\u0275\u0275elementEnd()),2&n&&y.\u0275\u0275property("options",r.option)("merge",r.option)},dependencies:[qr],styles:["[_nghost-%COMP%]{display:block;height:17.5rem;width:100%}[_nghost-%COMP%]   .echart[_ngcontent-%COMP%]{display:block;height:100%;width:100%}"]})}return e})(),aht=(()=>{class e{constructor(t,n){this.theme=t,this.layoutService=n,this.alive=!0,this.option={},this.layoutService.onSafeChangeLayoutSize().pipe((0,ae.o)(()=>this.alive)).subscribe(()=>this.resizeChart())}ngAfterViewInit(){this.theme.getJsTheme().pipe((0,ae.o)(()=>this.alive),(0,Js.g)(1)).subscribe(t=>{const r=t.variables.visitorsPieLegend;this.setOptions(t.variables),this.setLegendItems(r)})}setLegendItems(t){this.chartLegend=[{iconColor:t.firstSection,title:"New Visitors"},{iconColor:t.secondSection,title:"Return Visitors"}]}setOptions(t){const n=t.visitorsPie;this.option={tooltip:{trigger:"item",formatter:""},series:[{name:" ",clockWise:!0,hoverAnimation:!1,type:"pie",center:["50%","50%"],radius:n.firstPieRadius,data:[{value:this.value,name:" ",label:{normal:{position:"center",formatter:"",textStyle:{fontSize:"22",fontFamily:t.fontSecondary,fontWeight:"600",color:t.fgHeading}}},tooltip:{show:!1},itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:n.firstPieGradientLeft},{offset:1,color:n.firstPieGradientRight}]),shadowColor:n.firstPieShadowColor,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:3}},hoverAnimation:!1},{value:100-this.value,name:" ",tooltip:{show:!1},label:{normal:{position:"inner"}},itemStyle:{normal:{color:t.layoutBg}}}]},{name:" ",clockWise:!0,hoverAnimation:!1,type:"pie",center:["50%","50%"],radius:n.secondPieRadius,data:[{value:this.value,name:" ",label:{normal:{position:"center",formatter:"",textStyle:{fontSize:"22",fontFamily:t.fontSecondary,fontWeight:"600",color:t.fgHeading}}},tooltip:{show:!1},itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1)}},hoverAnimation:!1},{value:100-this.value,name:" ",tooltip:{show:!1},label:{normal:{position:"inner"}},itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:n.secondPieGradientLeft},{offset:1,color:n.secondPieGradientRight}]),shadowColor:n.secondPieShadowColor,shadowBlur:0,shadowOffsetX:n.shadowOffsetX,shadowOffsetY:n.shadowOffsetY}}}]}]}}onChartInit(t){this.echartsIntance=t}resizeChart(){this.echartsIntance&&this.echartsIntance.resize()}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(_o.P))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-visitors-statistics"]],inputs:{value:"value"},decls:14,vars:2,consts:[[1,"visitors-statistics"],[1,"h1"],[1,"visitors-title"],[1,"statistics-chart"],["echarts","",1,"echart",3,"options","chartInit"],[1,"statistics-footer"],[1,"chart-values","h5"],[1,"chart-value"],[1,"visitors-statistics-legend",3,"legendItems"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"div",0)(1,"h4",1),y.\u0275\u0275text(2,"1,100"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"div",2),y.\u0275\u0275text(4,"New Visitors"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(5,"div",3)(6,"div",4),y.\u0275\u0275listener("chartInit",function(o){return r.onChartInit(o)}),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(7,"div",5)(8,"div",6)(9,"span",7),y.\u0275\u0275text(10,"25%"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(11,"span",7),y.\u0275\u0275text(12,"75%"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275element(13,"ngx-legend-chart",8),y.\u0275\u0275elementEnd()()),2&n&&(y.\u0275\u0275advance(6),y.\u0275\u0275property("options",r.option),y.\u0275\u0275advance(7),y.\u0275\u0275property("legendItems",r.chartLegend))},dependencies:[qr,sS],styles:["[_nghost-%COMP%]   .visitors-statistics[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .visitors-title[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .statistics-chart[_ngcontent-%COMP%]{margin:1.5rem 0;width:100%}[_nghost-%COMP%]   .statistics-chart[_ngcontent-%COMP%]   .echart[_ngcontent-%COMP%]{display:block;height:13.75rem;width:100%}[_nghost-%COMP%]   .chart-values[_ngcontent-%COMP%]{display:flex}[_nghost-%COMP%]   .chart-value[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .visitors-statistics-legend[_ngcontent-%COMP%]     .legends{padding:0;margin-left:0}[_nghost-%COMP%]   .visitors-statistics-legend[_ngcontent-%COMP%]     .legend{flex:1;margin-left:0;justify-content:flex-start}"]})}return e})();const oht=["*"];let sht=(()=>{class e{constructor(){this.showVisitorsStatistics=!1}toggleStatistics(){this.showVisitorsStatistics=!this.showVisitorsStatistics}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-slide-out"]],inputs:{showVisitorsStatistics:"showVisitorsStatistics"},ngContentSelectors:oht,decls:4,vars:5,consts:[["pack","eva",1,"show-hide-toggle",3,"icon","click"],[1,"slide-out-container"],[1,"content-wrapper"]],template:function(n,r){1&n&&(y.\u0275\u0275projectionDef(),y.\u0275\u0275elementStart(0,"nb-icon",0),y.\u0275\u0275listener("click",function(){return r.toggleStatistics()}),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(1,"div",1)(2,"div",2),y.\u0275\u0275projection(3),y.\u0275\u0275elementEnd()()),2&n&&(y.\u0275\u0275property("icon",r.showVisitorsStatistics?"arrow-forward-outline":"arrow-back-outline"),y.\u0275\u0275advance(1),y.\u0275\u0275classProp("expanded",r.showVisitorsStatistics)("collapsed",!r.showVisitorsStatistics))},dependencies:[ct.fMN],styles:['[_nghost-%COMP%]   .show-hide-toggle[_ngcontent-%COMP%]{display:block;position:absolute;top:1.5rem;cursor:pointer;background-color:transparent;z-index:2}[dir=ltr]   [_nghost-%COMP%]   .show-hide-toggle[_ngcontent-%COMP%]{right:1.5rem}[dir=rtl]   [_nghost-%COMP%]   .show-hide-toggle[_ngcontent-%COMP%]{left:1.5rem}[_nghost-%COMP%]   .slide-out-container[_ngcontent-%COMP%]{position:absolute;padding:1.5rem;width:40%}[dir=ltr]   [_nghost-%COMP%]   .slide-out-container[_ngcontent-%COMP%]{border-top-right-radius:var(--card-border-radius);border-bottom-right-radius:var(--card-border-radius)}[dir=rtl]   [_nghost-%COMP%]   .slide-out-container[_ngcontent-%COMP%]{border-top-left-radius:var(--card-border-radius);border-bottom-left-radius:var(--card-border-radius)}[_nghost-%COMP%]   .slide-out-container[_ngcontent-%COMP%], [_nghost-%COMP%]   .slide-out-container[_ngcontent-%COMP%]:before{display:block;height:100%;top:0;overflow:hidden;transition:all .2s ease-out}[_nghost-%COMP%]   .slide-out-container[_ngcontent-%COMP%]:before{content:"";width:100%;position:absolute;background:var(--slide-out-background);box-shadow:var(--slide-out-shadow-color);opacity:.9;z-index:1}[dir=ltr]   [_nghost-%COMP%]   .slide-out-container[_ngcontent-%COMP%]:before{right:0}[dir=rtl]   [_nghost-%COMP%]   .slide-out-container[_ngcontent-%COMP%]:before{left:0}[dir=rtl]   [_nghost-%COMP%]   .slide-out-container[_ngcontent-%COMP%]:before{box-shadow:var(--slide-out-shadow-color-rtl)}[dir=ltr]   [_nghost-%COMP%]   .slide-out-container.collapsed[_ngcontent-%COMP%]{left:calc(100% - 6rem)}[dir=rtl]   [_nghost-%COMP%]   .slide-out-container.collapsed[_ngcontent-%COMP%]{right:calc(100% - 6rem)}[_nghost-%COMP%]   .slide-out-container.expanded[_ngcontent-%COMP%]{left:calc(60% + 1px)}[dir=rtl]   [_nghost-%COMP%]   .slide-out-container.expanded[_ngcontent-%COMP%]{left:auto}[dir=rtl]   [_nghost-%COMP%]   .slide-out-container.expanded[_ngcontent-%COMP%]{right:60%}[_nghost-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{z-index:1;position:relative;width:100%;margin:0 6rem;transition:all .2s ease-out}[_nghost-%COMP%]   .expanded[_ngcontent-%COMP%]   .content-wrapper[_ngcontent-%COMP%]{margin:0}@media (max-width: 991.98px){[_nghost-%COMP%]   .slide-out-container[_ngcontent-%COMP%]{width:50%}[_nghost-%COMP%]   .slide-out-container.expanded[_ngcontent-%COMP%]{left:calc(50% + 1px)}[dir=rtl]   [_nghost-%COMP%]   .slide-out-container.expanded[_ngcontent-%COMP%]{right:calc(50% + 1px)}}@media (max-width: 575.98px){[_nghost-%COMP%]   .show-hide-toggle[_ngcontent-%COMP%]{right:.5rem}[_nghost-%COMP%]   .slide-out-container[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .slide-out-container.collapsed[_ngcontent-%COMP%]{left:calc(100% + 1px - 3rem)}[dir=rtl]   [_nghost-%COMP%]   .slide-out-container.collapsed[_ngcontent-%COMP%]{right:calc(100% - 3rem)}[_nghost-%COMP%]   .slide-out-container.expanded[_ngcontent-%COMP%]{left:calc(0% + 1px)}[dir=rtl]   [_nghost-%COMP%]   .slide-out-container.expanded[_ngcontent-%COMP%]{right:0%}}']})}return e})(),lht=(()=>{class e{constructor(t,n){this.themeService=t,this.visitorsAnalyticsChartService=n,this.alive=!0,this.themeService.getJsTheme().pipe((0,ae.o)(()=>this.alive)).subscribe(r=>{this.setLegendItems(r.variables.visitorsLegend)}),(0,py.D)(this.visitorsAnalyticsChartService.getInnerLineChartData(),this.visitorsAnalyticsChartService.getOutlineLineChartData(),this.visitorsAnalyticsChartService.getPieChartData()).pipe((0,ae.o)(()=>this.alive)).subscribe(([r,a,o])=>{this.visitorsAnalyticsData={innerLine:r,outerLine:a},this.pieChartValue=o})}setLegendItems(t){this.chartLegend=[{iconColor:t.firstIcon,title:"Unique Visitors"},{iconColor:t.secondIcon,title:"Page Views"}]}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(nht.Y))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-ecommerce-visitors-analytics"]],decls:13,vars:4,consts:[["size","medium"],[1,"subtitle"],[1,"chart-container"],[1,"chart-header"],[3,"legendItems"],[3,"chartData"],[3,"showVisitorsStatistics"],[3,"value"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card",0)(1,"nb-card-header")(2,"h3"),y.\u0275\u0275text(3,"Visitors Analytics"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(4,"div",1),y.\u0275\u0275text(5,"Consumption"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(6,"nb-card-body")(7,"div",2)(8,"div",3),y.\u0275\u0275element(9,"ngx-legend-chart",4),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(10,"ngx-visitors-analytics-chart",5),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(11,"ngx-slide-out",6),y.\u0275\u0275element(12,"ngx-visitors-statistics",7),y.\u0275\u0275elementEnd()()),2&n&&(y.\u0275\u0275advance(9),y.\u0275\u0275property("legendItems",r.chartLegend),y.\u0275\u0275advance(1),y.\u0275\u0275property("chartData",r.visitorsAnalyticsData),y.\u0275\u0275advance(1),y.\u0275\u0275property("showVisitorsStatistics",!0),y.\u0275\u0275advance(1),y.\u0275\u0275property("value",r.pieChartValue))},dependencies:[ct.Asz,ct.yKW,ct.ndF,rht,aht,sS,sht],styles:["[_nghost-%COMP%]{position:relative;display:block;overflow:hidden}[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{border-bottom:none}[_nghost-%COMP%]   .subtitle[_ngcontent-%COMP%]{color:var(--text-hint-color)}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;flex-direction:row}[_nghost-%COMP%]   .chart-container[_ngcontent-%COMP%]{flex:1;height:100%;display:flex;flex-direction:column;overflow:hidden;position:relative}[_nghost-%COMP%]   .chart-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:2.125rem}@media (max-width: 575.98px){[_nghost-%COMP%]   ngx-legend-chart[_ngcontent-%COMP%]     .legends{padding-left:0}}"]})}return e})();var cht=dt(4345);function uht(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"nb-option",5),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),2&e){const t=i.$implicit;y.\u0275\u0275property("value",t),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(t)}}function hht(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"nb-list-item")(1,"div",6),y.\u0275\u0275text(2),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"div",7)(4,"div",8),y.\u0275\u0275text(5,"Pages Visit"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(6,"div",9),y.\u0275\u0275text(7),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(8,"div",10)(9,"div",8),y.\u0275\u0275text(10,"New visits, %"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(11,"div",11),y.\u0275\u0275element(12,"nb-icon",12),y.\u0275\u0275text(13),y.\u0275\u0275elementEnd()()()),2&e){const t=i.$implicit;y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate1(" ",t.date," "),y.\u0275\u0275advance(5),y.\u0275\u0275textInterpolate(t.pagesVisitCount),y.\u0275\u0275advance(4),y.\u0275\u0275classProp("up",t.deltaUp)("down",!t.deltaUp),y.\u0275\u0275advance(1),y.\u0275\u0275property("icon",t.deltaUp?"arrow-up":"arrow-down"),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate1(" ",t.newVisits,"% ")}}let dht=(()=>{class e{constructor(t,n){this.themeService=t,this.userActivityService=n,this.alive=!0,this.userActivity=[],this.type="month",this.types=["week","month","year"],this.themeService.getJsTheme().pipe((0,ae.o)(()=>this.alive)).subscribe(r=>{this.currentTheme=r.name}),this.getUserActivity(this.type)}getUserActivity(t){this.userActivityService.getUserActivityData(t).pipe((0,ae.o)(()=>this.alive)).subscribe(n=>{this.userActivity=n})}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(cht.m))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-user-activity"]],decls:8,vars:3,consts:[["size","medium"],[3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"user-activity-list"],[4,"ngFor","ngForOf"],[3,"value"],[1,"visited-date"],[1,"visited-pages-count"],[1,"caption"],[1,"value"],[1,"visited-percentages"],[1,"delta","value"],["pack","eva",3,"icon"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card",0)(1,"nb-card-header")(2,"span"),y.\u0275\u0275text(3,"User Activity"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(4,"nb-select",1),y.\u0275\u0275listener("selectedChange",function(o){return r.getUserActivity(o),r.type=o}),y.\u0275\u0275template(5,uht,2,2,"nb-option",2),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(6,"nb-list",3),y.\u0275\u0275template(7,hht,14,8,"nb-list-item",4),y.\u0275\u0275elementEnd()()),2&n&&(y.\u0275\u0275advance(4),y.\u0275\u0275property("selected",r.type),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",r.types),y.\u0275\u0275advance(2),y.\u0275\u0275property("ngForOf",r.userActivity))},dependencies:[me.sg,ct.Asz,ct.ndF,ct.fMN,ct.rs,ct.q51,ct.zP_,ct.qBV],styles:["[_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;border:none;padding-top:var(--card-header-with-select-padding-top);padding-bottom:var(--card-header-with-select-padding-bottom)}[_nghost-%COMP%]   nb-list[_ngcontent-%COMP%]{overflow-x:hidden}[_nghost-%COMP%]   nb-list-item[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:space-between;margin:0 -.25rem}[_nghost-%COMP%]   .visited-date[_ngcontent-%COMP%], [_nghost-%COMP%]   .visited-pages-count[_ngcontent-%COMP%], [_nghost-%COMP%]   .visited-percentages[_ngcontent-%COMP%]{flex:1 0 auto;margin:0 .25rem}[_nghost-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:.25rem;color:var(--color-success-default)}[_nghost-%COMP%]   .delta[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative}[_nghost-%COMP%]   .delta.down[_ngcontent-%COMP%]{color:var(--color-danger-default)}[_nghost-%COMP%]   .delta.up[_ngcontent-%COMP%]{color:var(--color-success-default)}[_nghost-%COMP%]   .delta[_ngcontent-%COMP%]   nb-icon[_ngcontent-%COMP%]     svg{vertical-align:top}"]})}return e})();var fht=dt(1166),eB=dt(4138);function pht(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"div",2)(1,"div",3),y.\u0275\u0275text(2),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(3,"div",4),y.\u0275\u0275text(4),y.\u0275\u0275pipe(5,"ngxNumberWithCommas"),y.\u0275\u0275elementEnd(),y.\u0275\u0275element(6,"nb-progress-bar",5),y.\u0275\u0275elementStart(7,"div",6)(8,"bdi"),y.\u0275\u0275text(9),y.\u0275\u0275elementEnd()()()),2&e){const t=i.$implicit;y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(t.title),y.\u0275\u0275advance(2),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(5,4,t.value)),y.\u0275\u0275advance(2),y.\u0275\u0275property("value",t.activeProgress),y.\u0275\u0275advance(3),y.\u0275\u0275textInterpolate(t.description)}}let ght=(()=>{class e{constructor(t){this.statsProgressBarService=t,this.alive=!0,this.statsProgressBarService.getProgressInfoData().pipe((0,ae.o)(()=>this.alive)).subscribe(n=>{this.progressInfoData=n})}ngOnDestroy(){this.alive=!0}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(fht.B))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-progress-section"]],decls:3,vars:1,consts:[["size","medium"],["class","progress-info",4,"ngFor","ngForOf"],[1,"progress-info"],[1,"subtitle"],[1,"h3"],[3,"value"],[1,"caption","description"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card",0)(1,"nb-card-body"),y.\u0275\u0275template(2,pht,10,6,"div",1),y.\u0275\u0275elementEnd()()),2&n&&(y.\u0275\u0275advance(2),y.\u0275\u0275property("ngForOf",r.progressInfoData))},dependencies:[me.sg,ct.Asz,ct.yKW,ct.bSZ,eB.$],styles:["[_nghost-%COMP%]   .progress-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;margin-top:2rem}[_nghost-%COMP%]   .progress-info[_ngcontent-%COMP%]:first-child{margin-top:0}[_nghost-%COMP%]   .description[_ngcontent-%COMP%]{margin-top:.5rem}"]})}return e})();var vht=dt(1715),iB=dt(9222);let mht=(()=>{class e{constructor(t,n){this.theme=t,this.layoutService=n,this.alive=!0,this.layoutService.onSafeChangeLayoutSize().pipe((0,ae.o)(()=>this.alive)).subscribe(()=>this.resizeChart())}ngOnChanges(){this.option&&this.updateChartOptions(this.liveUpdateChartData)}ngAfterViewInit(){this.theme.getJsTheme().pipe((0,Js.g)(1),(0,ae.o)(()=>this.alive)).subscribe(t=>{this.setChartOption(t.variables.earningLine)})}setChartOption(t){this.option={grid:{left:0,top:0,right:0,bottom:0},xAxis:{type:"time",axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},yAxis:{boundaryGap:[0,"5%"],axisLine:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1}},tooltip:{axisPointer:{type:"shadow"},textStyle:{color:t.tooltipTextColor,fontWeight:t.tooltipFontWeight,fontSize:t.tooltipFontSize},position:"top",backgroundColor:t.tooltipBg,borderColor:t.tooltipBorderColor,borderWidth:t.tooltipBorderWidth,formatter:n=>`$ ${Math.round(parseInt(n.value[1],10))}`,extraCssText:t.tooltipExtraCss},series:[{type:"line",symbol:"circle",sampling:"average",itemStyle:{normal:{opacity:0},emphasis:{opacity:0}},lineStyle:{normal:{width:0}},areaStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:t.gradFrom},{offset:1,color:t.gradTo}]),opacity:1}},data:this.liveUpdateChartData}],animation:!0}}updateChartOptions(t){this.echartsInstance.setOption({series:[{data:t}]})}onChartInit(t){this.echartsInstance=t}resizeChart(){this.echartsInstance&&this.echartsInstance.resize()}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(_o.P))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-earning-live-update-chart"]],inputs:{liveUpdateChartData:"liveUpdateChartData"},features:[y.\u0275\u0275NgOnChangesFeature],decls:1,vars:1,consts:[["echarts","",1,"echart",3,"options","chartInit"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275listener("chartInit",function(o){return r.onChartInit(o)}),y.\u0275\u0275elementEnd()),2&n&&y.\u0275\u0275property("options",r.option)},dependencies:[qr],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}[_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{flex-direction:row;padding-top:var(--card-header-with-select-padding-top);padding-bottom:var(--card-header-with-select-padding-bottom)}[_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:1rem 0 0;flex-direction:column;flex:1}[_nghost-%COMP%]   .chart-info[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;margin:0 var(--card-padding)}[_nghost-%COMP%]   .delta.up[_ngcontent-%COMP%]   .direction[_ngcontent-%COMP%]{color:var(--color-success-default)}[_nghost-%COMP%]   .delta.down[_ngcontent-%COMP%]   .direction[_ngcontent-%COMP%]{color:var(--color-danger-default)}[_nghost-%COMP%]   .delta[_ngcontent-%COMP%]{position:absolute;display:inline-block;top:0;right:0}[dir=rtl]   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]{left:0}[dir=rtl]   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]{right:auto}[_nghost-%COMP%]   ngx-earning-live-update-chart[_ngcontent-%COMP%]{flex:1;position:relative}[_nghost-%COMP%]   ngx-earning-live-update-chart[_ngcontent-%COMP%]     canvas{border-bottom-left-radius:var(--card-border-radius);border-bottom-right-radius:var(--card-border-radius)}[_nghost-%COMP%]   ngx-earning-live-update-chart[_ngcontent-%COMP%]     .echart{position:absolute;height:100%;width:100%}"]})}return e})();function yht(e,i){if(1&e&&(y.\u0275\u0275elementStart(0,"nb-option",7),y.\u0275\u0275text(1),y.\u0275\u0275elementEnd()),2&e){const t=i.$implicit;y.\u0275\u0275property("value",t),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(t)}}let _ht=(()=>{class e{constructor(t,n){this.themeService=t,this.earningService=n,this.alive=!0,this.selectedCurrency="Bitcoin",this.currencies=["Bitcoin","Tether","Ethereum"],this.themeService.getJsTheme().pipe((0,ae.o)(()=>this.alive)).subscribe(r=>{this.currentTheme=r.name})}ngOnInit(){this.getEarningCardData(this.selectedCurrency)}changeCurrency(t){this.selectedCurrency!==t&&(this.selectedCurrency=t,this.getEarningCardData(this.selectedCurrency))}getEarningCardData(t){this.earningService.getEarningCardData(t).pipe((0,ae.o)(()=>this.alive)).subscribe(n=>{this.earningLiveUpdateCardData=n,this.liveUpdateChartData=n.liveChart,this.startReceivingLiveData(t)})}startReceivingLiveData(t){this.intervalSubscription&&this.intervalSubscription.unsubscribe(),this.intervalSubscription=(0,vht.F)(200).pipe((0,ae.o)(()=>this.alive),(0,kF.w)(()=>this.earningService.getEarningLiveUpdateCardData(t))).subscribe(n=>{this.liveUpdateChartData=[...n]})}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF),y.\u0275\u0275directiveInject(iB.Q))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-earning-card-front"]],inputs:{selectedCurrency:"selectedCurrency"},decls:14,vars:12,consts:[[3,"selected","selectedChange"],[3,"value",4,"ngFor","ngForOf"],[1,"chart-info"],[1,"h6"],[1,"delta"],["pack","eva",1,"direction",3,"icon"],[3,"liveUpdateChartData"],[3,"value"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card-header")(1,"nb-select",0),y.\u0275\u0275listener("selectedChange",function(o){return r.changeCurrency(o)}),y.\u0275\u0275template(2,yht,2,2,"nb-option",1),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(3,"nb-card-body")(4,"div",2)(5,"div"),y.\u0275\u0275text(6,"Daily Income"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(7,"div",3),y.\u0275\u0275text(8),y.\u0275\u0275pipe(9,"ngxNumberWithCommas"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(10,"div",4),y.\u0275\u0275element(11,"nb-icon",5),y.\u0275\u0275text(12),y.\u0275\u0275elementEnd()(),y.\u0275\u0275element(13,"ngx-earning-live-update-chart",6),y.\u0275\u0275elementEnd()),2&n&&(y.\u0275\u0275advance(1),y.\u0275\u0275property("selected",r.selectedCurrency),y.\u0275\u0275advance(1),y.\u0275\u0275property("ngForOf",r.currencies),y.\u0275\u0275advance(6),y.\u0275\u0275textInterpolate(y.\u0275\u0275pipeBind1(9,10,r.earningLiveUpdateCardData.dailyIncome)),y.\u0275\u0275advance(2),y.\u0275\u0275classProp("up",r.earningLiveUpdateCardData.delta.up)("down",!r.earningLiveUpdateCardData.delta.up),y.\u0275\u0275advance(1),y.\u0275\u0275property("icon",r.earningLiveUpdateCardData.delta.up?"arrow-up":"arrow-down"),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate1(" ",r.earningLiveUpdateCardData.delta.value,"% "),y.\u0275\u0275advance(1),y.\u0275\u0275property("liveUpdateChartData",r.liveUpdateChartData))},dependencies:[me.sg,ct.yKW,ct.ndF,ct.fMN,ct.rs,ct.q51,mht,eB.$],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1}[_nghost-%COMP%]   nb-card-header[_ngcontent-%COMP%]{flex-direction:row;padding-top:var(--card-header-with-select-padding-top);padding-bottom:var(--card-header-with-select-padding-bottom)}[_nghost-%COMP%]   nb-card-body[_ngcontent-%COMP%]{padding:1rem 0 0;flex-direction:column;flex:1}[_nghost-%COMP%]   .chart-info[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;margin:0 var(--card-padding)}[_nghost-%COMP%]   .delta.up[_ngcontent-%COMP%]   .direction[_ngcontent-%COMP%]{color:var(--color-success-default)}[_nghost-%COMP%]   .delta.down[_ngcontent-%COMP%]   .direction[_ngcontent-%COMP%]{color:var(--color-danger-default)}[_nghost-%COMP%]   .delta[_ngcontent-%COMP%]{position:absolute;display:inline-block;top:0;right:0}[dir=rtl]   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]{left:0}[dir=rtl]   [_nghost-%COMP%]   .delta[_ngcontent-%COMP%]{right:auto}[_nghost-%COMP%]   ngx-earning-live-update-chart[_ngcontent-%COMP%]{flex:1;position:relative}[_nghost-%COMP%]   ngx-earning-live-update-chart[_ngcontent-%COMP%]     canvas{border-bottom-left-radius:var(--card-border-radius);border-bottom-right-radius:var(--card-border-radius)}[_nghost-%COMP%]   ngx-earning-live-update-chart[_ngcontent-%COMP%]     .echart{position:absolute;height:100%;width:100%}"]})}return e})(),xht=(()=>{class e{constructor(t){this.theme=t,this.selectPie=new y.EventEmitter,this.alive=!0,this.options={}}onChartInit(t){this.echartsInstance=t}onChartClick(t){this.emitSelectPie({value:t.value,name:t.name,color:t.color.colorStops[0].color})}emitSelectPie(t){this.selectPie.emit(t)}ngAfterViewInit(){this.theme.getJsTheme().pipe((0,ae.o)(()=>this.alive),(0,Js.g)(1)).subscribe(t=>{this.options=this.getOptions(t.variables);const r=this.options.series[0].data.find(s=>s.name===this.defaultSelectedCurrency);this.emitSelectPie({value:r.value,name:r.name,color:r.itemStyle.normal.color.colorStops[0].color})})}getOptions(t){const n=t.earningPie;return{tooltip:{trigger:"item",formatter:""},series:[{name:" ",clockWise:!0,hoverAnimation:!1,type:"pie",center:n.center,radius:n.radius,data:[{value:this.values[0].value,name:this.values[0].name,label:{normal:{position:"center",formatter:"",textStyle:{fontSize:"22",fontFamily:t.fontSecondary,fontWeight:"600",color:t.fgHeading}}},tooltip:{show:!1},itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:n.firstPieGradientLeft},{offset:1,color:n.firstPieGradientRight}]),shadowColor:n.firstPieShadowColor,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:3}}},{value:this.values[1].value,name:this.values[1].name,label:{normal:{position:"center",formatter:"",textStyle:{fontSize:"22",fontFamily:t.fontSecondary,fontWeight:"600",color:t.fgHeading}}},tooltip:{show:!1},itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:n.secondPieGradientLeft},{offset:1,color:n.secondPieGradientRight}]),shadowColor:n.secondPieShadowColor,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:3}}},{value:this.values[2].value,name:this.values[2].name,label:{normal:{position:"center",formatter:"",textStyle:{fontSize:"22",fontFamily:t.fontSecondary,fontWeight:"600",color:t.fgHeading}}},tooltip:{show:!1},itemStyle:{normal:{color:new echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:n.thirdPieGradientLeft},{offset:1,color:n.thirdPieGradientRight}]),shadowColor:n.thirdPieShadowColor,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:3}}}]}]}}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(ct.WMF))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-earning-pie-chart"]],inputs:{values:"values",defaultSelectedCurrency:"defaultSelectedCurrency"},outputs:{selectPie:"selectPie"},decls:1,vars:1,consts:[["echarts","",1,"echart",3,"options","chartInit","chartClick"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"div",0),y.\u0275\u0275listener("chartInit",function(o){return r.onChartInit(o)})("chartClick",function(o){return r.onChartClick(o)}),y.\u0275\u0275elementEnd()),2&n&&y.\u0275\u0275property("options",r.options)},dependencies:[qr],styles:["[_nghost-%COMP%]   ngx-earning-pie-chart[_ngcontent-%COMP%], [_nghost-%COMP%]   .chart-info[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .chart-info[_ngcontent-%COMP%]{padding-top:.7rem}[_nghost-%COMP%]   .time-period[_ngcontent-%COMP%]{margin-top:1.5rem}[_nghost-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:.2rem}[_nghost-%COMP%]   .echart[_ngcontent-%COMP%]{position:absolute;width:calc(50% - 1.25rem);height:calc(100% - 2rem)}@media (min-width: 1200px) and (max-width: 1399.98px){[_nghost-%COMP%]   ngx-earning-pie-chart[_ngcontent-%COMP%]{flex:2}}@media (min-width: 576px) and (max-width: 767.98px){[_nghost-%COMP%]   ngx-earning-pie-chart[_ngcontent-%COMP%]{flex:2}}"]})}return e})(),bht=(()=>{class e{constructor(t){this.earningService=t,this.alive=!0,this.defaultSelectedCurrency="Bitcoin",this.earningService.getEarningPieChartData().pipe((0,ae.o)(()=>this.alive)).subscribe(n=>{this.earningPieChartData=n})}changeChartInfo(t){this.value=t.value,this.name=t.name,this.color=t.color}ngOnDestroy(){this.alive=!1}static#t=this.\u0275fac=function(n){return new(n||e)(y.\u0275\u0275directiveInject(iB.Q))};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-earning-card-back"]],decls:11,vars:6,consts:[[1,"chart-info"],[1,"time-period","caption"],[1,"h6"],[3,"values","defaultSelectedCurrency","selectPie"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-card-header"),y.\u0275\u0275text(1," Earnings\n"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(2,"nb-card-body")(3,"div",0)(4,"div"),y.\u0275\u0275text(5),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(6,"div",1),y.\u0275\u0275text(7,"Last week:"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(8,"div",2),y.\u0275\u0275text(9),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(10,"ngx-earning-pie-chart",3),y.\u0275\u0275listener("selectPie",function(o){return r.changeChartInfo(o)}),y.\u0275\u0275elementEnd()()),2&n&&(y.\u0275\u0275advance(4),y.\u0275\u0275styleProp("color",r.color),y.\u0275\u0275advance(1),y.\u0275\u0275textInterpolate(r.name),y.\u0275\u0275advance(4),y.\u0275\u0275textInterpolate1("",r.value,"%"),y.\u0275\u0275advance(1),y.\u0275\u0275property("values",r.earningPieChartData)("defaultSelectedCurrency",r.defaultSelectedCurrency))},dependencies:[ct.yKW,ct.ndF,xht],styles:["[_nghost-%COMP%]   ngx-earning-pie-chart[_ngcontent-%COMP%], [_nghost-%COMP%]   .chart-info[_ngcontent-%COMP%]{flex:1}[_nghost-%COMP%]   .chart-info[_ngcontent-%COMP%]{padding-top:.7rem}[_nghost-%COMP%]   .time-period[_ngcontent-%COMP%]{margin-top:1.5rem}[_nghost-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:.2rem}[_nghost-%COMP%]   .echart[_ngcontent-%COMP%]{position:absolute;width:calc(50% - 1.25rem);height:calc(100% - 2rem)}@media (min-width: 1200px) and (max-width: 1399.98px){[_nghost-%COMP%]   ngx-earning-pie-chart[_ngcontent-%COMP%]{flex:2}}@media (min-width: 576px) and (max-width: 767.98px){[_nghost-%COMP%]   ngx-earning-pie-chart[_ngcontent-%COMP%]{flex:2}}"]})}return e})(),Cht=(()=>{class e{constructor(){this.flipped=!1}toggleView(){this.flipped=!this.flipped}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-earning-card"]],decls:9,vars:2,consts:[[3,"showToggleButton","flipped"],["size","tiny"],["icon","chevron-right-outline","pack","eva",1,"flip-icon",3,"click"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"nb-flip-card",0)(1,"nb-card-front")(2,"nb-card",1),y.\u0275\u0275element(3,"ngx-earning-card-front"),y.\u0275\u0275elementStart(4,"nb-icon",2),y.\u0275\u0275listener("click",function(){return r.toggleView()}),y.\u0275\u0275elementEnd()()(),y.\u0275\u0275elementStart(5,"nb-card-back")(6,"nb-card",1),y.\u0275\u0275element(7,"ngx-earning-card-back"),y.\u0275\u0275elementStart(8,"nb-icon",2),y.\u0275\u0275listener("click",function(){return r.toggleView()}),y.\u0275\u0275elementEnd()()()()),2&n&&y.\u0275\u0275property("showToggleButton",!1)("flipped",r.flipped)},dependencies:[ct.Asz,ct.fl2,ct.zO1,ct.wgE,ct.fMN,_ht,bht],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{position:relative}[_nghost-%COMP%]   .flip-icon[_ngcontent-%COMP%]{position:absolute;right:.625rem;top:1rem;cursor:pointer}[dir=rtl]   [_nghost-%COMP%]   .flip-icon[_ngcontent-%COMP%]{right:auto}[dir=rtl]   [_nghost-%COMP%]   .flip-icon[_ngcontent-%COMP%]{left:.625rem}[_nghost-%COMP%]     .flipped .back-container .flip-icon{transform:scaleX(-1)}[_nghost-%COMP%]     .flipped .front-container .flip-icon{display:none}[_nghost-%COMP%]   ngx-earning-card-back[_ngcontent-%COMP%], [_nghost-%COMP%]   ngx-earning-card-front[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}[_nghost-%COMP%]     nb-card-body{overflow:hidden;display:flex}"]})}return e})(),Sht=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-ecommerce"]],decls:20,vars:0,consts:[[1,"row"],[1,"col-xxl-5"],[1,"col-md-6"],[1,"col-xxl-7"],[1,"col-xxl-9"],[1,"col-xxl-3"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"div",0)(3,"div",2),y.\u0275\u0275element(4,"ngx-profit-card"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(5,"div",2),y.\u0275\u0275element(6,"ngx-earning-card"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275element(7,"ngx-traffic-reveal-card"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(8,"div",3),y.\u0275\u0275element(9,"ngx-ecommerce-charts"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(10,"div",0)(11,"div",4),y.\u0275\u0275element(12,"ngx-country-orders"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(13,"div",5),y.\u0275\u0275element(14,"ngx-progress-section"),y.\u0275\u0275elementEnd()(),y.\u0275\u0275elementStart(15,"div",0)(16,"div",4),y.\u0275\u0275element(17,"ngx-ecommerce-visitors-analytics"),y.\u0275\u0275elementEnd(),y.\u0275\u0275elementStart(18,"div",5),y.\u0275\u0275element(19,"ngx-user-activity"),y.\u0275\u0275elementEnd()())},dependencies:[Dut,Gut,Kut,iht,lht,dht,ght,Cht],encapsulation:2})}return e})();const wht=[{title:"E-commerce",icon:"shopping-cart-outline",link:"/pages/dashboard",home:!0},{title:"IoT Dashboard",icon:"home-outline",link:"/pages/iot-dashboard"},{title:"Customers",icon:"people-outline",link:"/pages/customers"},{title:"Appointments",icon:"calendar-outline",link:"/pages/appointments"},{title:"Products",icon:"pie-chart-outline",children:[{title:"Devices",link:"/pages/products/devices"},{title:"Accessories",link:"/pages/products/accessories"},{title:"Utilities",link:"/pages/products/utilities"},{title:"Services",link:"/pages/products/services"}]},{title:"SETTINGS",group:!0},{title:"Setup",icon:"settings-2-outline",children:[{title:"Employee",link:"/pages/setup/employee"},{title:"Rooms",link:"/pages/setup/rooms"},{title:"Locations",link:"/pages/setup/locations"},{title:"Clinics",link:"/pages/setup/clinics"},{title:"Doctors",link:"/pages/setup/doctors"}]}];var Tht=dt(6405);const Mht=[{path:"",component:(()=>{class e{constructor(){this.menu=wht}static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275cmp=y.\u0275\u0275defineComponent({type:e,selectors:[["ngx-pages"]],decls:3,vars:1,consts:[[3,"items"]],template:function(n,r){1&n&&(y.\u0275\u0275elementStart(0,"ngx-one-column-layout"),y.\u0275\u0275element(1,"nb-menu",0)(2,"router-outlet"),y.\u0275\u0275elementEnd()),2&n&&(y.\u0275\u0275advance(1),y.\u0275\u0275property("items",r.menu))},dependencies:[Dd.lC,Tht.s,ct.mBz],styles:["[_nghost-%COMP%]     router-outlet+*{display:block;animation:_ngcontent-%COMP%_fade 1s}@keyframes _ngcontent-%COMP%_fade{0%{opacity:0}to{opacity:1}}"]})}return e})(),children:[{path:"appointments",loadChildren:()=>dt.e(915).then(dt.bind(dt,3915)).then(e=>e.AppointmentsModule)},{path:"products",loadChildren:()=>Promise.all([dt.e(135),dt.e(932)]).then(dt.bind(dt,4932)).then(e=>e.ProductsModule)},{path:"customers",loadChildren:()=>Promise.all([dt.e(135),dt.e(592),dt.e(404)]).then(dt.bind(dt,1404)).then(e=>e.CustomersModule)},{path:"dashboard",component:Sht},{path:"iot-dashboard",component:Sut},{path:"setup",loadChildren:()=>Promise.all([dt.e(135),dt.e(592),dt.e(564)]).then(dt.bind(dt,9564)).then(e=>e.SetupModule)},{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"**",component:K5.w}]}];let Aht=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=y.\u0275\u0275defineNgModule({type:e});static#i=this.\u0275inj=y.\u0275\u0275defineInjector({imports:[Dd.Bz.forChild(Mht),Dd.Bz]})}return e})(),Lht=(()=>{class e{static#t=this.\u0275fac=function(n){return new(n||e)};static#e=this.\u0275mod=y.\u0275\u0275defineNgModule({type:e});static#i=this.\u0275inj=y.\u0275\u0275defineInjector({imports:[Aht,Qt.O,ct.j5J,uet,Act,Pct]})}return e})()},2463:(tl,Qi,dt)=>{"use strict";var Te=dt(4650),ct=dt(4650),Qt=function(){function y(Ot){this.elementRef=Ot}return y.prototype.ngOnInit=function(){this.create()},y.prototype.ngOnChanges=function(Ot){var ot=this;if(this.chart)if(Ot.type||Ot.options)this.create();else if(Ot.data){var pe=Ot.data.currentValue;["datasets","labels","xLabels","yLabels"].forEach(function(se){ot.chart.data[se]=pe[se]}),this.chart.update()}},y.prototype.create=function(){this.canvas&&this.elementRef.nativeElement.removeChild(this.canvas),this.canvas=document.createElement("canvas"),this.elementRef.nativeElement.appendChild(this.canvas),this.chart=new Chart(this.canvas,{type:this.type,data:this.data,options:this.options})},y.ctorParameters=function(){return[{type:Te.ElementRef}]},y.propDecorators={type:[{type:Te.Input}],data:[{type:Te.Input}],options:[{type:Te.Input}]},y.\u0275fac=function(ot){return new(ot||y)(ct.\u0275\u0275directiveInject(ct.ElementRef))},y.\u0275cmp=ct.\u0275\u0275defineComponent({type:y,selectors:[["chart"]],inputs:{type:"type",data:"data",options:"options"},features:[ct.\u0275\u0275NgOnChangesFeature],decls:0,vars:0,template:function(ot,pe){},styles:["[_nghost-%COMP%] { display: block; }"]}),y}();Qi.ChartComponent=Qt},6251:(tl,Qi,dt)=>{"use strict";"object"==typeof window&&dt(354),dt(4650),dt(2463);var Qt=dt(4650),Ot=(dt(2463),function(){function ot(){}return ot.ctorParameters=function(){return[]},ot.\u0275fac=function(se){return new(se||ot)},ot.\u0275mod=Qt.\u0275\u0275defineNgModule({type:ot}),ot.\u0275inj=Qt.\u0275\u0275defineInjector({}),ot}());Qi.ChartModule=Ot},9256:(tl,Qi,dt)=>{"use strict";function Te(ct){for(var Qt in ct)Qi.hasOwnProperty(Qt)||(Qi[Qt]=ct[Qt])}Te(dt(2463)),Te(dt(6251))},354:function(tl,Qi,dt){tl.exports=function(Te){"use strict";Te=Te&&Te.hasOwnProperty("default")?Te.default:Te;var y={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ot=function ct(d,v){return d(v={exports:{}},v.exports),v.exports}(function(d){var v={};for(var x in y)y.hasOwnProperty(x)&&(v[y[x]]=x);var C=d.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var M in C)if(C.hasOwnProperty(M)){if(!("channels"in C[M]))throw new Error("missing channels property: "+M);if(!("labels"in C[M]))throw new Error("missing channel labels property: "+M);if(C[M].labels.length!==C[M].channels)throw new Error("channel and label counts mismatch: "+M);var D=C[M].channels,I=C[M].labels;delete C[M].channels,delete C[M].labels,Object.defineProperty(C[M],"channels",{value:D}),Object.defineProperty(C[M],"labels",{value:I})}function B(E,z){return Math.pow(E[0]-z[0],2)+Math.pow(E[1]-z[1],2)+Math.pow(E[2]-z[2],2)}C.rgb.hsl=function(E){var at,wt,z=E[0]/255,W=E[1]/255,$=E[2]/255,Q=Math.min(z,W,$),it=Math.max(z,W,$),nt=it-Q;return it===Q?at=0:z===it?at=(W-$)/nt:W===it?at=2+($-z)/nt:$===it&&(at=4+(z-W)/nt),(at=Math.min(60*at,360))<0&&(at+=360),wt=(Q+it)/2,[at,100*(it===Q?0:wt<=.5?nt/(it+Q):nt/(2-it-Q)),100*wt]},C.rgb.hsv=function(E){var z,W,$,Q,it,nt=E[0]/255,at=E[1]/255,ht=E[2]/255,wt=Math.max(nt,at,ht),Nt=wt-Math.min(nt,at,ht),Xt=function(xe){return(wt-xe)/6/Nt+.5};return 0===Nt?Q=it=0:(it=Nt/wt,z=Xt(nt),W=Xt(at),$=Xt(ht),nt===wt?Q=$-W:at===wt?Q=1/3+z-$:ht===wt&&(Q=2/3+W-z),Q<0?Q+=1:Q>1&&(Q-=1)),[360*Q,100*it,100*wt]},C.rgb.hwb=function(E){var z=E[0],W=E[1],$=E[2];return[C.rgb.hsl(E)[0],1/255*Math.min(z,Math.min(W,$))*100,100*($=1-1/255*Math.max(z,Math.max(W,$)))]},C.rgb.cmyk=function(E){var at,z=E[0]/255,W=E[1]/255,$=E[2]/255;return[100*((1-z-(at=Math.min(1-z,1-W,1-$)))/(1-at)||0),100*((1-W-at)/(1-at)||0),100*((1-$-at)/(1-at)||0),100*at]},C.rgb.keyword=function(E){var z=v[E];if(z)return z;var $,W=1/0;for(var Q in y)if(y.hasOwnProperty(Q)){var nt=B(E,y[Q]);nt<W&&(W=nt,$=Q)}return $},C.keyword.rgb=function(E){return y[E]},C.rgb.xyz=function(E){var z=E[0]/255,W=E[1]/255,$=E[2]/255;return[100*(.4124*(z=z>.04045?Math.pow((z+.055)/1.055,2.4):z/12.92)+.3576*(W=W>.04045?Math.pow((W+.055)/1.055,2.4):W/12.92)+.1805*($=$>.04045?Math.pow(($+.055)/1.055,2.4):$/12.92)),100*(.2126*z+.7152*W+.0722*$),100*(.0193*z+.1192*W+.9505*$)]},C.rgb.lab=function(E){var z=C.rgb.xyz(E),W=z[0],$=z[1],Q=z[2];return $/=100,Q/=108.883,W=(W/=95.047)>.008856?Math.pow(W,1/3):7.787*W+16/116,[116*($=$>.008856?Math.pow($,1/3):7.787*$+16/116)-16,500*(W-$),200*($-(Q=Q>.008856?Math.pow(Q,1/3):7.787*Q+16/116))]},C.hsl.rgb=function(E){var Q,it,nt,at,ht,z=E[0]/360,W=E[1]/100,$=E[2]/100;if(0===W)return[ht=255*$,ht,ht];Q=2*$-(it=$<.5?$*(1+W):$+W-$*W),at=[0,0,0];for(var wt=0;wt<3;wt++)(nt=z+1/3*-(wt-1))<0&&nt++,nt>1&&nt--,at[wt]=255*(ht=6*nt<1?Q+6*(it-Q)*nt:2*nt<1?it:3*nt<2?Q+(it-Q)*(2/3-nt)*6:Q);return at},C.hsl.hsv=function(E){var z=E[0],W=E[1]/100,$=E[2]/100,Q=W,it=Math.max($,.01);return W*=($*=2)<=1?$:2-$,Q*=it<=1?it:2-it,[z,100*(0===$?2*Q/(it+Q):2*W/($+W)),($+W)/2*100]},C.hsv.rgb=function(E){var z=E[0]/60,W=E[1]/100,$=E[2]/100,Q=Math.floor(z)%6,it=z-Math.floor(z),nt=255*$*(1-W),at=255*$*(1-W*it),ht=255*$*(1-W*(1-it));switch($*=255,Q){case 0:return[$,ht,nt];case 1:return[at,$,nt];case 2:return[nt,$,ht];case 3:return[nt,at,$];case 4:return[ht,nt,$];case 5:return[$,nt,at]}},C.hsv.hsl=function(E){var it,nt,at,z=E[0],W=E[1]/100,$=E[2]/100,Q=Math.max($,.01);return at=(2-W)*$,nt=W*Q,[z,100*(nt=(nt/=(it=(2-W)*Q)<=1?it:2-it)||0),100*(at/=2)]},C.hwb.rgb=function(E){var it,nt,at,ht,wt,Nt,Xt,z=E[0]/360,W=E[1]/100,$=E[2]/100,Q=W+$;switch(Q>1&&(W/=Q,$/=Q),at=6*z-(it=Math.floor(6*z)),1&it&&(at=1-at),ht=W+at*((nt=1-$)-W),it){default:case 6:case 0:wt=nt,Nt=ht,Xt=W;break;case 1:wt=ht,Nt=nt,Xt=W;break;case 2:wt=W,Nt=nt,Xt=ht;break;case 3:wt=W,Nt=ht,Xt=nt;break;case 4:wt=ht,Nt=W,Xt=nt;break;case 5:wt=nt,Nt=W,Xt=ht}return[255*wt,255*Nt,255*Xt]},C.cmyk.rgb=function(E){var W=E[1]/100,$=E[2]/100,Q=E[3]/100;return[255*(1-Math.min(1,E[0]/100*(1-Q)+Q)),255*(1-Math.min(1,W*(1-Q)+Q)),255*(1-Math.min(1,$*(1-Q)+Q))]},C.xyz.rgb=function(E){var Q,it,nt,z=E[0]/100,W=E[1]/100,$=E[2]/100;return it=-.9689*z+1.8758*W+.0415*$,nt=.0557*z+-.204*W+1.057*$,Q=(Q=3.2406*z+-1.5372*W+-.4986*$)>.0031308?1.055*Math.pow(Q,1/2.4)-.055:12.92*Q,it=it>.0031308?1.055*Math.pow(it,1/2.4)-.055:12.92*it,nt=nt>.0031308?1.055*Math.pow(nt,1/2.4)-.055:12.92*nt,[255*(Q=Math.min(Math.max(0,Q),1)),255*(it=Math.min(Math.max(0,it),1)),255*(nt=Math.min(Math.max(0,nt),1))]},C.xyz.lab=function(E){var z=E[0],W=E[1],$=E[2];return W/=100,$/=108.883,z=(z/=95.047)>.008856?Math.pow(z,1/3):7.787*z+16/116,[116*(W=W>.008856?Math.pow(W,1/3):7.787*W+16/116)-16,500*(z-W),200*(W-($=$>.008856?Math.pow($,1/3):7.787*$+16/116))]},C.lab.xyz=function(E){var Q,it,nt;Q=E[1]/500+(it=(E[0]+16)/116),nt=it-E[2]/200;var at=Math.pow(it,3),ht=Math.pow(Q,3),wt=Math.pow(nt,3);return it=at>.008856?at:(it-16/116)/7.787,Q=ht>.008856?ht:(Q-16/116)/7.787,nt=wt>.008856?wt:(nt-16/116)/7.787,[Q*=95.047,it*=100,nt*=108.883]},C.lab.lch=function(E){var it,z=E[0],W=E[1],$=E[2];return(it=360*Math.atan2($,W)/2/Math.PI)<0&&(it+=360),[z,Math.sqrt(W*W+$*$),it]},C.lch.lab=function(E){var nt,W=E[1];return nt=E[2]/360*2*Math.PI,[E[0],W*Math.cos(nt),W*Math.sin(nt)]},C.rgb.ansi16=function(E){var z=E[0],W=E[1],$=E[2],Q=1 in arguments?arguments[1]:C.rgb.hsv(E)[2];if(0===(Q=Math.round(Q/50)))return 30;var it=30+(Math.round($/255)<<2|Math.round(W/255)<<1|Math.round(z/255));return 2===Q&&(it+=60),it},C.hsv.ansi16=function(E){return C.rgb.ansi16(C.hsv.rgb(E),E[2])},C.rgb.ansi256=function(E){var z=E[0],W=E[1],$=E[2];return z===W&&W===$?z<8?16:z>248?231:Math.round((z-8)/247*24)+232:16+36*Math.round(z/255*5)+6*Math.round(W/255*5)+Math.round($/255*5)},C.ansi16.rgb=function(E){var z=E%10;if(0===z||7===z)return E>50&&(z+=3.5),[z=z/10.5*255,z,z];var W=.5*(1+~~(E>50));return[(1&z)*W*255,(z>>1&1)*W*255,(z>>2&1)*W*255]},C.ansi256.rgb=function(E){if(E>=232){var z=10*(E-232)+8;return[z,z,z]}var W;return E-=16,[Math.floor(E/36)/5*255,Math.floor((W=E%36)/6)/5*255,W%6/5*255]},C.rgb.hex=function(E){var W=(((255&Math.round(E[0]))<<16)+((255&Math.round(E[1]))<<8)+(255&Math.round(E[2]))).toString(16).toUpperCase();return"000000".substring(W.length)+W},C.hex.rgb=function(E){var z=E.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!z)return[0,0,0];var W=z[0];3===z[0].length&&(W=W.split("").map(function(at){return at+at}).join(""));var $=parseInt(W,16);return[$>>16&255,$>>8&255,255&$]},C.rgb.hcg=function(E){var ht,z=E[0]/255,W=E[1]/255,$=E[2]/255,Q=Math.max(Math.max(z,W),$),it=Math.min(Math.min(z,W),$),nt=Q-it;return ht=nt<=0?0:Q===z?(W-$)/nt%6:Q===W?2+($-z)/nt:4+(z-W)/nt+4,ht/=6,[360*(ht%=1),100*nt,100*(nt<1?it/(1-nt):0)]},C.hsl.hcg=function(E){var $,z=E[1]/100,W=E[2]/100,Q=0;return($=W<.5?2*z*W:2*z*(1-W))<1&&(Q=(W-.5*$)/(1-$)),[E[0],100*$,100*Q]},C.hsv.hcg=function(E){var W=E[2]/100,$=E[1]/100*W,Q=0;return $<1&&(Q=(W-$)/(1-$)),[E[0],100*$,100*Q]},C.hcg.rgb=function(E){var W=E[1]/100,$=E[2]/100;if(0===W)return[255*$,255*$,255*$];var ht,Q=[0,0,0],it=E[0]/360%1*6,nt=it%1,at=1-nt;switch(Math.floor(it)){case 0:Q[0]=1,Q[1]=nt,Q[2]=0;break;case 1:Q[0]=at,Q[1]=1,Q[2]=0;break;case 2:Q[0]=0,Q[1]=1,Q[2]=nt;break;case 3:Q[0]=0,Q[1]=at,Q[2]=1;break;case 4:Q[0]=nt,Q[1]=0,Q[2]=1;break;default:Q[0]=1,Q[1]=0,Q[2]=at}return[255*(W*Q[0]+(ht=(1-W)*$)),255*(W*Q[1]+ht),255*(W*Q[2]+ht)]},C.hcg.hsv=function(E){var z=E[1]/100,$=z+E[2]/100*(1-z),Q=0;return $>0&&(Q=z/$),[E[0],100*Q,100*$]},C.hcg.hsl=function(E){var z=E[1]/100,$=E[2]/100*(1-z)+.5*z,Q=0;return $>0&&$<.5?Q=z/(2*$):$>=.5&&$<1&&(Q=z/(2*(1-$))),[E[0],100*Q,100*$]},C.hcg.hwb=function(E){var z=E[1]/100,$=z+E[2]/100*(1-z);return[E[0],100*($-z),100*(1-$)]},C.hwb.hcg=function(E){var $=1-E[2]/100,Q=$-E[1]/100,it=0;return Q<1&&(it=($-Q)/(1-Q)),[E[0],100*Q,100*it]},C.apple.rgb=function(E){return[E[0]/65535*255,E[1]/65535*255,E[2]/65535*255]},C.rgb.apple=function(E){return[E[0]/255*65535,E[1]/255*65535,E[2]/255*65535]},C.gray.rgb=function(E){return[E[0]/100*255,E[0]/100*255,E[0]/100*255]},C.gray.hsl=C.gray.hsv=function(E){return[0,0,E[0]]},C.gray.hwb=function(E){return[0,100,E[0]]},C.gray.cmyk=function(E){return[0,0,0,E[0]]},C.gray.lab=function(E){return[E[0],0,0]},C.gray.hex=function(E){var z=255&Math.round(E[0]/100*255),$=((z<<16)+(z<<8)+z).toString(16).toUpperCase();return"000000".substring($.length)+$},C.rgb.gray=function(E){return[(E[0]+E[1]+E[2])/3/255*100]}});function Pd(d){var v=function xo(){for(var d={},v=Object.keys(Ot),x=v.length,C=0;C<x;C++)d[v[C]]={distance:-1,parent:null};return d}(),x=[d];for(v[d].distance=0;x.length;)for(var C=x.pop(),M=Object.keys(Ot[C]),D=M.length,I=0;I<D;I++){var B=M[I],E=v[B];-1===E.distance&&(E.distance=v[C].distance+1,E.parent=C,x.unshift(B))}return v}function Id(d,v){return function(x){return v(d(x))}}function Gu(d,v){for(var x=[v[d].parent,d],C=Ot[v[d].parent][d],M=v[d].parent;v[M].parent;)x.unshift(v[M].parent),C=Id(Ot[v[M].parent][M],C),M=v[M].parent;return C.conversion=x,C}var Ai={};Object.keys(Ot).forEach(function(d){Ai[d]={},Object.defineProperty(Ai[d],"channels",{value:Ot[d].channels}),Object.defineProperty(Ai[d],"labels",{value:Ot[d].labels});var v=function(d){for(var v=Pd(d),x={},C=Object.keys(v),M=C.length,D=0;D<M;D++){var I=C[D];null!==v[I].parent&&(x[I]=Gu(I,v))}return x}(d);Object.keys(v).forEach(function(C){var M=v[C];Ai[d][C]=function ia(d){var v=function(x){if(null==x)return x;arguments.length>1&&(x=Array.prototype.slice.call(arguments));var C=d(x);if("object"==typeof C)for(var M=C.length,D=0;D<M;D++)C[D]=Math.round(C[D]);return C};return"conversion"in d&&(v.conversion=d.conversion),v}(M),Ai[d][C].raw=function Yp(d){var v=function(x){return null==x?x:(arguments.length>1&&(x=Array.prototype.slice.call(arguments)),d(x))};return"conversion"in d&&(v.conversion=d.conversion),v}(M)})});var Xp=Ai,Ji={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},tn={getRgba:re,getHsla:Fe,getRgb:function fr(d){var v=re(d);return v&&v.slice(0,3)},getHsl:function en(d){var v=Fe(d);return v&&v.slice(0,3)},getHwb:Yt,getAlpha:function ni(d){var v=re(d);return v||(v=Fe(d))||(v=Yt(d))?v[3]:void 0},hexString:function Qe(d,x){return x=void 0!==x&&3===d.length?x:d[3],"#"+ra(d[0])+ra(d[1])+ra(d[2])+(x>=0&&x<1?ra(Math.round(255*x)):"")},rgbString:function gi(d,v){return v<1||d[3]&&d[3]<1?pr(d,v):"rgb("+d[0]+", "+d[1]+", "+d[2]+")"},rgbaString:pr,percentString:function na(d,v){return v<1||d[3]&&d[3]<1?il(d,v):"rgb("+Math.round(d[0]/255*100)+"%, "+Math.round(d[1]/255*100)+"%, "+Math.round(d[2]/255*100)+"%)"},percentaString:il,hslString:function xn(d,v){return v<1||d[3]&&d[3]<1?as(d,v):"hsl("+d[0]+", "+d[1]+"%, "+d[2]+"%)"},hslaString:as,hwbString:function nl(d,v){return void 0===v&&(v=void 0!==d[3]?d[3]:1),"hwb("+d[0]+", "+d[1]+"%, "+d[2]+"%"+(void 0!==v&&1!==v?", "+v:"")+")"},keyword:function Hu(d){return rl[d.slice(0,3)]}};function re(d){if(d){var I=[0,0,0],B=1,E=d.match(/^#([a-fA-F0-9]{3,4})$/i),z="";if(E){z=(E=E[1])[3];for(var W=0;W<I.length;W++)I[W]=parseInt(E[W]+E[W],16);z&&(B=Math.round(parseInt(z+z,16)/255*100)/100)}else if(E=d.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(z=E[2],E=E[1],W=0;W<I.length;W++)I[W]=parseInt(E.slice(2*W,2*W+2),16);z&&(B=Math.round(parseInt(z,16)/255*100)/100)}else if(E=d.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(W=0;W<I.length;W++)I[W]=parseInt(E[W+1]);B=parseFloat(E[4])}else if(E=d.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(W=0;W<I.length;W++)I[W]=Math.round(2.55*parseFloat(E[W+1]));B=parseFloat(E[4])}else if(E=d.match(/(\w+)/)){if("transparent"==E[1])return[0,0,0,0];if(!(I=Ji[E[1]]))return}for(W=0;W<I.length;W++)I[W]=Hi(I[W],0,255);return B=B||0==B?Hi(B,0,1):1,I[3]=B,I}}function Fe(d){if(d){var x=d.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(x){var C=parseFloat(x[4]);return[Hi(parseInt(x[1]),0,360),Hi(parseFloat(x[2]),0,100),Hi(parseFloat(x[3]),0,100),Hi(isNaN(C)?1:C,0,1)]}}}function Yt(d){if(d){var x=d.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(x){var C=parseFloat(x[4]);return[Hi(parseInt(x[1]),0,360),Hi(parseFloat(x[2]),0,100),Hi(parseFloat(x[3]),0,100),Hi(isNaN(C)?1:C,0,1)]}}}function pr(d,v){return void 0===v&&(v=void 0!==d[3]?d[3]:1),"rgba("+d[0]+", "+d[1]+", "+d[2]+", "+v+")"}function il(d,v){return"rgba("+Math.round(d[0]/255*100)+"%, "+Math.round(d[1]/255*100)+"%, "+Math.round(d[2]/255*100)+"%, "+(v||d[3]||1)+")"}function as(d,v){return void 0===v&&(v=void 0!==d[3]?d[3]:1),"hsla("+d[0]+", "+d[1]+"%, "+d[2]+"%, "+v+")"}function Hi(d,v,x){return Math.min(Math.max(v,d),x)}function ra(d){var v=d.toString(16).toUpperCase();return v.length<2?"0"+v:v}var rl={};for(var os in Ji)rl[Ji[os]]=os;var xi=function(d){return d instanceof xi?d:this instanceof xi?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof d?(v=tn.getRgba(d))?this.setValues("rgb",v):(v=tn.getHsla(d))?this.setValues("hsl",v):(v=tn.getHwb(d))&&this.setValues("hwb",v):"object"==typeof d&&(void 0!==(v=d).r||void 0!==v.red?this.setValues("rgb",v):void 0!==v.l||void 0!==v.lightness?this.setValues("hsl",v):void 0!==v.v||void 0!==v.value?this.setValues("hsv",v):void 0!==v.w||void 0!==v.whiteness?this.setValues("hwb",v):(void 0!==v.c||void 0!==v.cyan)&&this.setValues("cmyk",v)))):new xi(d);var v};xi.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var d=this.values;return 1!==d.alpha?d.hwb.concat([d.alpha]):d.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var d=this.values;return d.rgb.concat([d.alpha])},hslaArray:function(){var d=this.values;return d.hsl.concat([d.alpha])},alpha:function(d){return void 0===d?this.values.alpha:(this.setValues("alpha",d),this)},red:function(d){return this.setChannel("rgb",0,d)},green:function(d){return this.setChannel("rgb",1,d)},blue:function(d){return this.setChannel("rgb",2,d)},hue:function(d){return d&&(d=(d%=360)<0?360+d:d),this.setChannel("hsl",0,d)},saturation:function(d){return this.setChannel("hsl",1,d)},lightness:function(d){return this.setChannel("hsl",2,d)},saturationv:function(d){return this.setChannel("hsv",1,d)},whiteness:function(d){return this.setChannel("hwb",1,d)},blackness:function(d){return this.setChannel("hwb",2,d)},value:function(d){return this.setChannel("hsv",2,d)},cyan:function(d){return this.setChannel("cmyk",0,d)},magenta:function(d){return this.setChannel("cmyk",1,d)},yellow:function(d){return this.setChannel("cmyk",2,d)},black:function(d){return this.setChannel("cmyk",3,d)},hexString:function(){return tn.hexString(this.values.rgb)},rgbString:function(){return tn.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return tn.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return tn.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return tn.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return tn.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return tn.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return tn.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var d=this.values.rgb;return d[0]<<16|d[1]<<8|d[2]},luminosity:function(){for(var d=this.values.rgb,v=[],x=0;x<d.length;x++){var C=d[x]/255;v[x]=C<=.03928?C/12.92:Math.pow((C+.055)/1.055,2.4)}return.2126*v[0]+.7152*v[1]+.0722*v[2]},contrast:function(d){var v=this.luminosity(),x=d.luminosity();return v>x?(v+.05)/(x+.05):(x+.05)/(v+.05)},level:function(d){var v=this.contrast(d);return v>=7.1?"AAA":v>=4.5?"AA":""},dark:function(){var d=this.values.rgb;return(299*d[0]+587*d[1]+114*d[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var d=[],v=0;v<3;v++)d[v]=255-this.values.rgb[v];return this.setValues("rgb",d),this},lighten:function(d){var v=this.values.hsl;return v[2]+=v[2]*d,this.setValues("hsl",v),this},darken:function(d){var v=this.values.hsl;return v[2]-=v[2]*d,this.setValues("hsl",v),this},saturate:function(d){var v=this.values.hsl;return v[1]+=v[1]*d,this.setValues("hsl",v),this},desaturate:function(d){var v=this.values.hsl;return v[1]-=v[1]*d,this.setValues("hsl",v),this},whiten:function(d){var v=this.values.hwb;return v[1]+=v[1]*d,this.setValues("hwb",v),this},blacken:function(d){var v=this.values.hwb;return v[2]+=v[2]*d,this.setValues("hwb",v),this},greyscale:function(){var d=this.values.rgb,v=.3*d[0]+.59*d[1]+.11*d[2];return this.setValues("rgb",[v,v,v]),this},clearer:function(d){var v=this.values.alpha;return this.setValues("alpha",v-v*d),this},opaquer:function(d){var v=this.values.alpha;return this.setValues("alpha",v+v*d),this},rotate:function(d){var v=this.values.hsl,x=(v[0]+d)%360;return v[0]=x<0?360+x:x,this.setValues("hsl",v),this},mix:function(d,v){var x=this,C=d,M=void 0===v?.5:v,D=2*M-1,I=x.alpha()-C.alpha(),B=((D*I==-1?D:(D+I)/(1+D*I))+1)/2,E=1-B;return this.rgb(B*x.red()+E*C.red(),B*x.green()+E*C.green(),B*x.blue()+E*C.blue()).alpha(x.alpha()*M+C.alpha()*(1-M))},toJSON:function(){return this.rgb()},clone:function(){var C,M,d=new xi,v=this.values,x=d.values;for(var D in v)v.hasOwnProperty(D)&&("[object Array]"===(M={}.toString.call(C=v[D]))?x[D]=C.slice(0):"[object Number]"===M?x[D]=C:console.error("unexpected color value:",C));return d}},xi.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},xi.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},xi.prototype.getValues=function(d){for(var v=this.values,x={},C=0;C<d.length;C++)x[d.charAt(C)]=v[d][C];return 1!==v.alpha&&(x.a=v.alpha),x},xi.prototype.setValues=function(d,v){var I,E,x=this.values,C=this.spaces,M=this.maxes,D=1;if(this.valid=!0,"alpha"===d)D=v;else if(v.length)x[d]=v.slice(0,d.length),D=v[d.length];else if(void 0!==v[d.charAt(0)]){for(I=0;I<d.length;I++)x[d][I]=v[d.charAt(I)];D=v.a}else if(void 0!==v[C[d][0]]){var B=C[d];for(I=0;I<d.length;I++)x[d][I]=v[B[I]];D=v.alpha}if(x.alpha=Math.max(0,Math.min(1,void 0===D?x.alpha:D)),"alpha"===d)return!1;for(I=0;I<d.length;I++)E=Math.max(0,Math.min(M[d][I],x[d][I])),x[d][I]=Math.round(E);for(var z in C)z!==d&&(x[z]=Xp[d][z](x[d]));return!0},xi.prototype.setSpace=function(d,v){var x=v[0];return void 0===x?this.getValues(d):("number"==typeof x&&(x=Array.prototype.slice.call(v)),this.setValues(d,x),this)},xi.prototype.setChannel=function(d,v,x){var C=this.values[d];return void 0===x?C[v]:(x===C[v]||(C[v]=x,this.setValues(d,C)),this)},typeof window<"u"&&(window.Color=xi);var aa=xi;function ss(d){return-1===["__proto__","prototype","constructor"].indexOf(d)}var d,Ce={noop:function(){},uid:(d=0,function(){return d++}),isNullOrUndef:function(d){return null===d||typeof d>"u"},isArray:function(d){if(Array.isArray&&Array.isArray(d))return!0;var v=Object.prototype.toString.call(d);return"[object"===v.substr(0,7)&&"Array]"===v.substr(-6)},isObject:function(d){return null!==d&&"[object Object]"===Object.prototype.toString.call(d)},isFinite:function(d){return("number"==typeof d||d instanceof Number)&&isFinite(d)},valueOrDefault:function(d,v){return typeof d>"u"?v:d},valueAtIndexOrDefault:function(d,v,x){return Ce.valueOrDefault(Ce.isArray(d)?d[v]:d,x)},callback:function(d,v,x){if(d&&"function"==typeof d.call)return d.apply(x,v)},each:function(d,v,x,C){var M,D,I;if(Ce.isArray(d))if(D=d.length,C)for(M=D-1;M>=0;M--)v.call(x,d[M],M);else for(M=0;M<D;M++)v.call(x,d[M],M);else if(Ce.isObject(d))for(D=(I=Object.keys(d)).length,M=0;M<D;M++)v.call(x,d[I[M]],I[M])},arrayEquals:function(d,v){var x,C,M,D;if(!d||!v||d.length!==v.length)return!1;for(x=0,C=d.length;x<C;++x)if(D=v[x],(M=d[x])instanceof Array&&D instanceof Array){if(!Ce.arrayEquals(M,D))return!1}else if(M!==D)return!1;return!0},clone:function(d){if(Ce.isArray(d))return d.map(Ce.clone);if(Ce.isObject(d)){for(var v=Object.create(d),x=Object.keys(d),C=x.length,M=0;M<C;++M)v[x[M]]=Ce.clone(d[x[M]]);return v}return d},_merger:function(d,v,x,C){if(ss(d)){var M=v[d],D=x[d];Ce.isObject(M)&&Ce.isObject(D)?Ce.merge(M,D,C):v[d]=Ce.clone(D)}},_mergerIf:function(d,v,x){if(ss(d)){var C=v[d],M=x[d];Ce.isObject(C)&&Ce.isObject(M)?Ce.mergeIf(C,M):v.hasOwnProperty(d)||(v[d]=Ce.clone(M))}},merge:function(d,v,x){var D,I,B,E,z,C=Ce.isArray(v)?v:[v],M=C.length;if(!Ce.isObject(d))return d;for(D=(x=x||{}).merger||Ce._merger,I=0;I<M;++I)if(Ce.isObject(v=C[I]))for(z=0,E=(B=Object.keys(v)).length;z<E;++z)D(B[z],d,v,x);return d},mergeIf:function(d,v){return Ce.merge(d,v,{merger:Ce._mergerIf})},extend:Object.assign||function(d){return Ce.merge(d,[].slice.call(arguments,1),{merger:function(v,x,C){x[v]=C[v]}})},inherits:function(d){var v=this,x=d&&d.hasOwnProperty("constructor")?d.constructor:function(){return v.apply(this,arguments)},C=function(){this.constructor=x};return C.prototype=v.prototype,x.prototype=new C,x.extend=Ce.inherits,d&&Ce.extend(x.prototype,d),x.__super__=v.prototype,x},_deprecated:function(d,v,x,C){void 0!==v&&console.warn(d+': "'+x+'" is deprecated. Please use "'+C+'" instead')}},Di=Ce;Ce.callCallback=Ce.callback,Ce.indexOf=function(d,v,x){return Array.prototype.indexOf.call(d,v,x)},Ce.getValueOrDefault=Ce.valueOrDefault,Ce.getValueAtIndexOrDefault=Ce.valueAtIndexOrDefault;var Oa={linear:function(d){return d},easeInQuad:function(d){return d*d},easeOutQuad:function(d){return-d*(d-2)},easeInOutQuad:function(d){return(d/=.5)<1?.5*d*d:-.5*(--d*(d-2)-1)},easeInCubic:function(d){return d*d*d},easeOutCubic:function(d){return(d-=1)*d*d+1},easeInOutCubic:function(d){return(d/=.5)<1?.5*d*d*d:.5*((d-=2)*d*d+2)},easeInQuart:function(d){return d*d*d*d},easeOutQuart:function(d){return-((d-=1)*d*d*d-1)},easeInOutQuart:function(d){return(d/=.5)<1?.5*d*d*d*d:-.5*((d-=2)*d*d*d-2)},easeInQuint:function(d){return d*d*d*d*d},easeOutQuint:function(d){return(d-=1)*d*d*d*d+1},easeInOutQuint:function(d){return(d/=.5)<1?.5*d*d*d*d*d:.5*((d-=2)*d*d*d*d+2)},easeInSine:function(d){return 1-Math.cos(d*(Math.PI/2))},easeOutSine:function(d){return Math.sin(d*(Math.PI/2))},easeInOutSine:function(d){return-.5*(Math.cos(Math.PI*d)-1)},easeInExpo:function(d){return 0===d?0:Math.pow(2,10*(d-1))},easeOutExpo:function(d){return 1===d?1:1-Math.pow(2,-10*d)},easeInOutExpo:function(d){return 0===d?0:1===d?1:(d/=.5)<1?.5*Math.pow(2,10*(d-1)):.5*(2-Math.pow(2,-10*--d))},easeInCirc:function(d){return d>=1?d:-(Math.sqrt(1-d*d)-1)},easeOutCirc:function(d){return Math.sqrt(1-(d-=1)*d)},easeInOutCirc:function(d){return(d/=.5)<1?-.5*(Math.sqrt(1-d*d)-1):.5*(Math.sqrt(1-(d-=2)*d)+1)},easeInElastic:function(d){var v=1.70158,x=0,C=1;return 0===d?0:1===d?1:(x||(x=.3),C<1?(C=1,v=x/4):v=x/(2*Math.PI)*Math.asin(1/C),-C*Math.pow(2,10*(d-=1))*Math.sin((d-v)*(2*Math.PI)/x))},easeOutElastic:function(d){var v=1.70158,x=0,C=1;return 0===d?0:1===d?1:(x||(x=.3),C<1?(C=1,v=x/4):v=x/(2*Math.PI)*Math.asin(1/C),C*Math.pow(2,-10*d)*Math.sin((d-v)*(2*Math.PI)/x)+1)},easeInOutElastic:function(d){var v=1.70158,x=0,C=1;return 0===d?0:2==(d/=.5)?1:(x||(x=.45),C<1?(C=1,v=x/4):v=x/(2*Math.PI)*Math.asin(1/C),d<1?C*Math.pow(2,10*(d-=1))*Math.sin((d-v)*(2*Math.PI)/x)*-.5:C*Math.pow(2,-10*(d-=1))*Math.sin((d-v)*(2*Math.PI)/x)*.5+1)},easeInBack:function(d){var v=1.70158;return d*d*((v+1)*d-v)},easeOutBack:function(d){var v=1.70158;return(d-=1)*d*((v+1)*d+v)+1},easeInOutBack:function(d){var v=1.70158;return(d/=.5)<1?d*d*((1+(v*=1.525))*d-v)*.5:.5*((d-=2)*d*((1+(v*=1.525))*d+v)+2)},easeInBounce:function(d){return 1-Oa.easeOutBounce(1-d)},easeOutBounce:function(d){return d<1/2.75?7.5625*d*d:d<2/2.75?7.5625*(d-=1.5/2.75)*d+.75:d<2.5/2.75?7.5625*(d-=2.25/2.75)*d+.9375:7.5625*(d-=2.625/2.75)*d+.984375},easeInOutBounce:function(d){return d<.5?.5*Oa.easeInBounce(2*d):.5*Oa.easeOutBounce(2*d-1)+.5}},ls={effects:Oa};Di.easingEffects=Oa;var Pi=Math.PI,Gt=Pi/180,ie=2*Pi,nn=Pi/2,ft=Pi/4,Rt=2*Pi/3,cs={clear:function(d){d.ctx.clearRect(0,0,d.width,d.height)},roundedRect:function(d,v,x,C,M,D){if(D){var I=Math.min(D,M/2,C/2),B=v+I,E=x+I,z=v+C-I,W=x+M-I;d.moveTo(v,E),B<z&&E<W?(d.arc(B,E,I,-Pi,-nn),d.arc(z,E,I,-nn,0),d.arc(z,W,I,0,nn),d.arc(B,W,I,nn,Pi)):B<z?(d.moveTo(B,x),d.arc(z,E,I,-nn,nn),d.arc(B,E,I,nn,Pi+nn)):E<W?(d.arc(B,E,I,-Pi,0),d.arc(B,W,I,0,Pi)):d.arc(B,E,I,-Pi,Pi),d.closePath(),d.moveTo(v,x)}else d.rect(v,x,C,M)},drawPoint:function(d,v,x,C,M,D){var I,B,E,z,W,$=(D||0)*Gt;if(v&&"object"==typeof v&&("[object HTMLImageElement]"===(I=v.toString())||"[object HTMLCanvasElement]"===I))return d.save(),d.translate(C,M),d.rotate($),d.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),void d.restore();if(!(isNaN(x)||x<=0)){switch(d.beginPath(),v){default:d.arc(C,M,x,0,ie),d.closePath();break;case"triangle":d.moveTo(C+Math.sin($)*x,M-Math.cos($)*x),$+=Rt,d.lineTo(C+Math.sin($)*x,M-Math.cos($)*x),$+=Rt,d.lineTo(C+Math.sin($)*x,M-Math.cos($)*x),d.closePath();break;case"rectRounded":z=x-(W=.516*x),B=Math.cos($+ft)*z,E=Math.sin($+ft)*z,d.arc(C-B,M-E,W,$-Pi,$-nn),d.arc(C+E,M-B,W,$-nn,$),d.arc(C+B,M+E,W,$,$+nn),d.arc(C-E,M+B,W,$+nn,$+Pi),d.closePath();break;case"rect":if(!D){z=Math.SQRT1_2*x,d.rect(C-z,M-z,2*z,2*z);break}$+=ft;case"rectRot":B=Math.cos($)*x,E=Math.sin($)*x,d.moveTo(C-B,M-E),d.lineTo(C+E,M-B),d.lineTo(C+B,M+E),d.lineTo(C-E,M+B),d.closePath();break;case"crossRot":$+=ft;case"cross":B=Math.cos($)*x,E=Math.sin($)*x,d.moveTo(C-B,M-E),d.lineTo(C+B,M+E),d.moveTo(C+E,M-B),d.lineTo(C-E,M+B);break;case"star":B=Math.cos($)*x,E=Math.sin($)*x,d.moveTo(C-B,M-E),d.lineTo(C+B,M+E),d.moveTo(C+E,M-B),d.lineTo(C-E,M+B),$+=ft,B=Math.cos($)*x,E=Math.sin($)*x,d.moveTo(C-B,M-E),d.lineTo(C+B,M+E),d.moveTo(C+E,M-B),d.lineTo(C-E,M+B);break;case"line":B=Math.cos($)*x,E=Math.sin($)*x,d.moveTo(C-B,M-E),d.lineTo(C+B,M+E);break;case"dash":d.moveTo(C,M),d.lineTo(C+Math.cos($)*x,M+Math.sin($)*x)}d.fill(),d.stroke()}},_isPointInArea:function(d,v){var x=1e-6;return d.x>v.left-x&&d.x<v.right+x&&d.y>v.top-x&&d.y<v.bottom+x},clipArea:function(d,v){d.save(),d.beginPath(),d.rect(v.left,v.top,v.right-v.left,v.bottom-v.top),d.clip()},unclipArea:function(d){d.restore()},lineTo:function(d,v,x,C){var M=x.steppedLine;if(M){if("middle"===M){var D=(v.x+x.x)/2;d.lineTo(D,C?x.y:v.y),d.lineTo(D,C?v.y:x.y)}else"after"===M&&!C||"after"!==M&&C?d.lineTo(v.x,x.y):d.lineTo(x.x,v.y);d.lineTo(x.x,x.y)}else x.tension?d.bezierCurveTo(C?v.controlPointPreviousX:v.controlPointNextX,C?v.controlPointPreviousY:v.controlPointNextY,C?x.controlPointNextX:x.controlPointPreviousX,C?x.controlPointNextY:x.controlPointPreviousY,x.x,x.y):d.lineTo(x.x,x.y)}},oe=cs;Di.clear=cs.clear,Di.drawRoundedRectangle=function(d){d.beginPath(),cs.roundedRect.apply(cs,arguments)};var bn={_set:function(d,v){return Di.merge(this[d]||(this[d]={}),v)}};bn._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var It=bn,Li=Di.valueOrDefault;var mt={toLineHeight:function(d,v){var x=(""+d).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!x||"normal"===x[1])return 1.2*v;switch(d=+x[2],x[3]){case"px":return d;case"%":d/=100}return v*d},toPadding:function(d){var v,x,C,M;return Di.isObject(d)?(v=+d.top||0,x=+d.right||0,C=+d.bottom||0,M=+d.left||0):v=x=C=M=+d||0,{top:v,right:x,bottom:C,left:M,height:v+C,width:M+x}},_parseFont:function(d){var v=It.global,x=Li(d.fontSize,v.defaultFontSize),C={family:Li(d.fontFamily,v.defaultFontFamily),lineHeight:Di.options.toLineHeight(Li(d.lineHeight,v.defaultLineHeight),x),size:x,style:Li(d.fontStyle,v.defaultFontStyle),weight:null,string:""};return C.string=function U(d){return!d||Di.isNullOrUndef(d.size)||Di.isNullOrUndef(d.family)?null:(d.style?d.style+" ":"")+(d.weight?d.weight+" ":"")+d.size+"px "+d.family}(C),C},resolve:function(d,v,x,C){var D,I,B,M=!0;for(D=0,I=d.length;D<I;++D)if(void 0!==(B=d[D])&&(void 0!==v&&"function"==typeof B&&(B=B(v),M=!1),void 0!==x&&Di.isArray(B)&&(B=B[x],M=!1),void 0!==B))return C&&!M&&(C.cacheable=!1),B}},bi={_factorize:function(d){var C,v=[],x=Math.sqrt(d);for(C=1;C<x;C++)d%C==0&&(v.push(C),v.push(d/C));return x===(0|x)&&v.push(x),v.sort(function(M,D){return M-D}).pop(),v},log10:Math.log10||function(d){var v=Math.log(d)*Math.LOG10E,x=Math.round(v);return d===Math.pow(10,x)?x:v}},ve=bi;Di.log10=bi.log10;var Z=Di,us=oe,_e=mt,Bt=ve,al={getRtlAdapter:function(d,v,x){return d?function(d,v){return{x:function(x){return d+d+v-x},setWidth:function(x){v=x},textAlign:function(x){return"center"===x?x:"right"===x?"left":"right"},xPlus:function(x,C){return x-C},leftForLtr:function(x,C){return x-C}}}(v,x):{x:function(d){return d},setWidth:function(d){},textAlign:function(d){return d},xPlus:function(d,v){return d+v},leftForLtr:function(d,v){return d}}},overrideTextDirection:function(d,v){var x,C;("ltr"===v||"rtl"===v)&&(C=[(x=d.canvas.style).getPropertyValue("direction"),x.getPropertyPriority("direction")],x.setProperty("direction",v,"important"),d.prevTextDirection=C)},restoreTextDirection:function(d){var v=d.prevTextDirection;void 0!==v&&(delete d.prevTextDirection,d.canvas.style.setProperty("direction",v[0],v[1]))}};Z.easing=ls,Z.canvas=us,Z.options=_e,Z.math=Bt,Z.rtl=al;var Cn=function(d){Z.extend(this,d),this.initialize.apply(this,arguments)};Z.extend(Cn.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var d=this;return d._view||(d._view=Z.extend({},d._model)),d._start={},d},transition:function(d){var v=this,x=v._model,C=v._start,M=v._view;return x&&1!==d?(M||(M=v._view={}),C||(C=v._start={}),function fn(d,v,x,C){var D,I,B,E,z,W,$,Q,it,M=Object.keys(x);for(D=0,I=M.length;D<I;++D)if(W=x[B=M[D]],v.hasOwnProperty(B)||(v[B]=W),(E=v[B])!==W&&"_"!==B[0]){if(d.hasOwnProperty(B)||(d[B]=E),($=typeof W)==typeof(z=d[B]))if("string"===$){if((Q=aa(z)).valid&&(it=aa(W)).valid){v[B]=it.mix(Q,C).rgbString();continue}}else if(Z.isFinite(z)&&Z.isFinite(W)){v[B]=z+(W-z)*C;continue}v[B]=W}}(C,M,x,d),v):(v._view=Z.extend({},x),v._start=null,v)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return Z.isNumber(this._model.x)&&Z.isNumber(this._model.y)}}),Cn.extend=Z.inherits;var pn=Cn,hs=pn.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),ic=hs;Object.defineProperty(hs.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(hs.prototype,"chartInstance",{get:function(){return this.chart},set:function(d){this.chart=d}}),It._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:Z.noop,onComplete:Z.noop}});var Ea={animations:[],request:null,addAnimation:function(d,v,x,C){var D,I,M=this.animations;for(v.chart=d,v.startTime=Date.now(),v.duration=x,C||(d.animating=!0),D=0,I=M.length;D<I;++D)if(M[D].chart===d)return void(M[D]=v);M.push(v),1===M.length&&this.requestAnimationFrame()},cancelAnimation:function(d){var v=Z.findIndex(this.animations,function(x){return x.chart===d});-1!==v&&(this.animations.splice(v,1),d.animating=!1)},requestAnimationFrame:function(){var d=this;null===d.request&&(d.request=Z.requestAnimFrame.call(window,function(){d.request=null,d.startDigest()}))},startDigest:function(){var d=this;d.advance(),d.animations.length>0&&d.requestAnimationFrame()},advance:function(){for(var v,x,C,M,d=this.animations,D=0;D<d.length;)x=(v=d[D]).chart,C=v.numSteps,M=Math.floor((Date.now()-v.startTime)/v.duration*C)+1,v.currentStep=Math.min(M,C),Z.callback(v.render,[x,v],x),Z.callback(v.onAnimationProgress,[v],x),v.currentStep>=C?(Z.callback(v.onAnimationComplete,[v],x),x.animating=!1,d.splice(D,1)):++D}},hi=Z.options.resolve,qt=["push","pop","shift","splice","unshift"];function ds(d,v){var x=d._chartjs;if(x){var C=x.listeners,M=C.indexOf(v);-1!==M&&C.splice(M,1),!(C.length>0)&&(qt.forEach(function(D){delete d[D]}),delete d._chartjs)}}var Fa=function(d,v){this.initialize(d,v)};Z.extend(Fa.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(d,v){var x=this;x.chart=d,x.index=v,x.linkScales(),x.addElements(),x._type=x.getMeta().type},updateIndex:function(d){this.index=d},linkScales:function(){var d=this,v=d.getMeta(),x=d.chart,C=x.scales,M=d.getDataset(),D=x.options.scales;(null===v.xAxisID||!(v.xAxisID in C)||M.xAxisID)&&(v.xAxisID=M.xAxisID||D.xAxes[0].id),(null===v.yAxisID||!(v.yAxisID in C)||M.yAxisID)&&(v.yAxisID=M.yAxisID||D.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(d){return this.chart.scales[d]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&ds(this._data,this)},createMetaDataset:function(){var d=this,v=d.datasetElementType;return v&&new v({_chart:d.chart,_datasetIndex:d.index})},createMetaData:function(d){var v=this,x=v.dataElementType;return x&&new x({_chart:v.chart,_datasetIndex:v.index,_index:d})},addElements:function(){var M,D,d=this,v=d.getMeta(),x=d.getDataset().data||[],C=v.data;for(M=0,D=x.length;M<D;++M)C[M]=C[M]||d.createMetaData(M);v.dataset=v.dataset||d.createMetaDataset()},addElementAndReset:function(d){var v=this.createMetaData(d);this.getMeta().data.splice(d,0,v),this.updateElement(v,d,!0)},buildOrUpdateElements:function(){var d=this,v=d.getDataset(),x=v.data||(v.data=[]);d._data!==x&&(d._data&&ds(d._data,d),x&&Object.isExtensible(x)&&function gr(d,v){d._chartjs?d._chartjs.listeners.push(v):(Object.defineProperty(d,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[v]}}),qt.forEach(function(x){var C="onData"+x.charAt(0).toUpperCase()+x.slice(1),M=d[x];Object.defineProperty(d,x,{configurable:!0,enumerable:!1,value:function(){var D=Array.prototype.slice.call(arguments),I=M.apply(this,D);return Z.each(d._chartjs.listeners,function(B){"function"==typeof B[C]&&B[C].apply(B,D)}),I}})}))}(x,d),d._data=x),d.resyncElements()},_configure:function(){var d=this;d._config=Z.merge(Object.create(null),[d.chart.options.datasets[d._type],d.getDataset()],{merger:function(v,x,C){"_meta"!==v&&"data"!==v&&Z._merger(v,x,C)}})},_update:function(d){var v=this;v._configure(),v._cachedDataOpts=null,v.update(d)},update:Z.noop,transition:function(d){for(var v=this.getMeta(),x=v.data||[],C=x.length,M=0;M<C;++M)x[M].transition(d);v.dataset&&v.dataset.transition(d)},draw:function(){var d=this.getMeta(),v=d.data||[],x=v.length,C=0;for(d.dataset&&d.dataset.draw();C<x;++C)v[C].draw()},getStyle:function(d){var M,v=this,x=v.getMeta(),C=x.dataset;return v._configure(),(!1===(M=C&&void 0===d?v._resolveDatasetElementOptions(C||{}):v._resolveDataElementOptions(x.data[d=d||0]||{},d)).fill||null===M.fill)&&(M.backgroundColor=M.borderColor),M},_resolveDatasetElementOptions:function(d,v){var z,W,$,Q,x=this,C=x.chart,M=x._config,D=d.custom||{},I=C.options.elements[x.datasetElementType.prototype._type]||{},B=x._datasetElementOptions,E={},it={chart:C,dataset:x.getDataset(),datasetIndex:x.index,hover:v};for(z=0,W=B.length;z<W;++z)$=B[z],Q=v?"hover"+$.charAt(0).toUpperCase()+$.slice(1):$,E[$]=hi([D[Q],M[Q],I[Q]],it);return E},_resolveDataElementOptions:function(d,v){var x=this,C=d&&d.custom,M=x._cachedDataOpts;if(M&&!C)return M;var Q,it,nt,at,D=x.chart,I=x._config,B=D.options.elements[x.dataElementType.prototype._type]||{},E=x._dataElementOptions,z={},W={chart:D,dataIndex:v,dataset:x.getDataset(),datasetIndex:x.index},$={cacheable:!C};if(C=C||{},Z.isArray(E))for(it=0,nt=E.length;it<nt;++it)z[at=E[it]]=hi([C[at],I[at],B[at]],W,v,$);else for(it=0,nt=(Q=Object.keys(E)).length;it<nt;++it)z[at=Q[it]]=hi([C[at],I[E[at]],I[at],B[at]],W,v,$);return $.cacheable&&(x._cachedDataOpts=Object.freeze(z)),z},removeHoverStyle:function(d){Z.merge(d._model,d.$previousStyle||{}),delete d.$previousStyle},setHoverStyle:function(d){var v=this.chart.data.datasets[d._datasetIndex],x=d._index,C=d.custom||{},M=d._model,D=Z.getHoverColor;d.$previousStyle={backgroundColor:M.backgroundColor,borderColor:M.borderColor,borderWidth:M.borderWidth},M.backgroundColor=hi([C.hoverBackgroundColor,v.hoverBackgroundColor,D(M.backgroundColor)],void 0,x),M.borderColor=hi([C.hoverBorderColor,v.hoverBorderColor,D(M.borderColor)],void 0,x),M.borderWidth=hi([C.hoverBorderWidth,v.hoverBorderWidth,M.borderWidth],void 0,x)},_removeDatasetHoverStyle:function(){var d=this.getMeta().dataset;d&&this.removeHoverStyle(d)},_setDatasetHoverStyle:function(){var x,C,M,D,I,B,d=this.getMeta().dataset,v={};if(d){for(B=d._model,I=this._resolveDatasetElementOptions(d,!0),x=0,C=(D=Object.keys(I)).length;x<C;++x)v[M=D[x]]=B[M],B[M]=I[M];d.$previousStyle=v}},resyncElements:function(){var d=this,v=d.getMeta(),x=d.getDataset().data,C=v.data.length,M=x.length;M<C?v.data.splice(M,C-M):M>C&&d.insertElements(C,M-C)},insertElements:function(d,v){for(var x=0;x<v;++x)this.addElementAndReset(d+x)},onDataPush:function(){var d=arguments.length;this.insertElements(this.getDataset().data.length-d,d)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(d,v){this.getMeta().data.splice(d,v),this.insertElements(d,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),Fa.extend=Z.inherits;var ti=Fa,Ci=2*Math.PI;function bo(d,v){var x=v.startAngle,C=v.endAngle,M=v.pixelMargin,D=M/v.outerRadius,I=v.x,B=v.y;d.beginPath(),d.arc(I,B,v.outerRadius,x-D,C+D),v.innerRadius>M?d.arc(I,B,v.innerRadius-M,C+(D=M/v.innerRadius),x-D,!0):d.arc(I,B,M,C+Math.PI/2,x-Math.PI/2),d.closePath(),d.clip()}function vr(d,v,x){var C="inner"===v.borderAlign;C?(d.lineWidth=2*v.borderWidth,d.lineJoin="round"):(d.lineWidth=v.borderWidth,d.lineJoin="bevel"),x.fullCircles&&function Ra(d,v,x,C){var D,M=x.endAngle;for(C&&(x.endAngle=x.startAngle+Ci,bo(d,x),x.endAngle=M,x.endAngle===x.startAngle&&x.fullCircles&&(x.endAngle+=Ci,x.fullCircles--)),d.beginPath(),d.arc(x.x,x.y,x.innerRadius,x.startAngle+Ci,x.startAngle,!0),D=0;D<x.fullCircles;++D)d.stroke();for(d.beginPath(),d.arc(x.x,x.y,v.outerRadius,x.startAngle,x.startAngle+Ci),D=0;D<x.fullCircles;++D)d.stroke()}(d,v,x,C),C&&bo(d,x),d.beginPath(),d.arc(x.x,x.y,v.outerRadius,x.startAngle,x.endAngle),d.arc(x.x,x.y,x.innerRadius,x.endAngle,x.startAngle,!0),d.closePath(),d.stroke()}It._set("global",{elements:{arc:{backgroundColor:It.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var Yu=pn.extend({_type:"arc",inLabelRange:function(d){var v=this._view;return!!v&&Math.pow(d-v.x,2)<Math.pow(v.radius+v.hoverRadius,2)},inRange:function(d,v){var x=this._view;if(x){for(var C=Z.getAngleFromPoint(x,{x:d,y:v}),M=C.angle,D=C.distance,I=x.startAngle,B=x.endAngle;B<I;)B+=Ci;for(;M>B;)M-=Ci;for(;M<I;)M+=Ci;return M>=I&&M<=B&&D>=x.innerRadius&&D<=x.outerRadius}return!1},getCenterPoint:function(){var d=this._view,v=(d.startAngle+d.endAngle)/2,x=(d.innerRadius+d.outerRadius)/2;return{x:d.x+Math.cos(v)*x,y:d.y+Math.sin(v)*x}},getArea:function(){var d=this._view;return Math.PI*((d.endAngle-d.startAngle)/(2*Math.PI))*(Math.pow(d.outerRadius,2)-Math.pow(d.innerRadius,2))},tooltipPosition:function(){var d=this._view,v=d.startAngle+(d.endAngle-d.startAngle)/2,x=(d.outerRadius-d.innerRadius)/2+d.innerRadius;return{x:d.x+Math.cos(v)*x,y:d.y+Math.sin(v)*x}},draw:function(){var M,d=this._chart.ctx,v=this._view,x="inner"===v.borderAlign?.33:0,C={x:v.x,y:v.y,innerRadius:v.innerRadius,outerRadius:Math.max(v.outerRadius-x,0),pixelMargin:x,startAngle:v.startAngle,endAngle:v.endAngle,fullCircles:Math.floor(v.circumference/Ci)};if(d.save(),d.fillStyle=v.backgroundColor,d.strokeStyle=v.borderColor,C.fullCircles){for(C.endAngle=C.startAngle+Ci,d.beginPath(),d.arc(C.x,C.y,C.outerRadius,C.startAngle,C.endAngle),d.arc(C.x,C.y,C.innerRadius,C.endAngle,C.startAngle,!0),d.closePath(),M=0;M<C.fullCircles;++M)d.fill();C.endAngle=C.startAngle+v.circumference%Ci}d.beginPath(),d.arc(C.x,C.y,C.outerRadius,C.startAngle,C.endAngle),d.arc(C.x,C.y,C.innerRadius,C.endAngle,C.startAngle,!0),d.closePath(),d.fill(),v.borderWidth&&vr(d,v,C),d.restore()}}),ol=Z.valueOrDefault,Me=It.global.defaultColor;It._set("global",{elements:{line:{tension:.4,backgroundColor:Me,borderWidth:3,borderColor:Me,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var qn=pn.extend({_type:"line",draw:function(){var z,W,$,d=this,v=d._view,x=d._chart.ctx,C=v.spanGaps,M=d._children.slice(),D=It.global,I=D.elements.line,B=-1,E=d._loop;if(M.length){if(d._loop){for(z=0;z<M.length;++z)if(W=Z.previousItem(M,z),!M[z]._view.skip&&W._view.skip){M=M.slice(z).concat(M.slice(0,z)),E=C;break}E&&M.push(M[0])}for(x.save(),x.lineCap=v.borderCapStyle||I.borderCapStyle,x.setLineDash&&x.setLineDash(v.borderDash||I.borderDash),x.lineDashOffset=ol(v.borderDashOffset,I.borderDashOffset),x.lineJoin=v.borderJoinStyle||I.borderJoinStyle,x.lineWidth=ol(v.borderWidth,I.borderWidth),x.strokeStyle=v.borderColor||D.defaultColor,x.beginPath(),($=M[0]._view).skip||(x.moveTo($.x,$.y),B=0),z=1;z<M.length;++z)$=M[z]._view,W=-1===B?Z.previousItem(M,z):M[B],$.skip||(B!==z-1&&!C||-1===B?x.moveTo($.x,$.y):Z.canvas.lineTo(x,W._view,$),B=z);E&&x.closePath(),x.stroke(),x.restore()}}}),Mt=Z.valueOrDefault,sa=It.global.defaultColor;function Ba(d){var v=this._view;return!!v&&Math.abs(d-v.x)<v.radius+v.hitRadius}It._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:sa,borderColor:sa,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var Pt=pn.extend({_type:"point",inRange:function(d,v){var x=this._view;return!!x&&Math.pow(d-x.x,2)+Math.pow(v-x.y,2)<Math.pow(x.hitRadius+x.radius,2)},inLabelRange:Ba,inXRange:Ba,inYRange:function la(d){var v=this._view;return!!v&&Math.abs(d-v.y)<v.radius+v.hitRadius},getCenterPoint:function(){var d=this._view;return{x:d.x,y:d.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var d=this._view;return{x:d.x,y:d.y,padding:d.radius+d.borderWidth}},draw:function(d){var v=this._view,x=this._chart.ctx,C=v.pointStyle,M=v.rotation,D=v.radius,I=v.x,B=v.y,E=It.global,z=E.defaultColor;v.skip||(void 0===d||Z.canvas._isPointInArea(v,d))&&(x.strokeStyle=v.borderColor||z,x.lineWidth=Mt(v.borderWidth,E.elements.point.borderWidth),x.fillStyle=v.backgroundColor||z,Z.canvas.drawPoint(x,C,D,I,B,M))}}),Je=It.global.defaultColor;function Ii(d){return d&&void 0!==d.width}function Sn(d){var v,x,C,M,D;return Ii(d)?(v=d.x-(D=d.width/2),x=d.x+D,C=Math.min(d.y,d.base),M=Math.max(d.y,d.base)):(D=d.height/2,v=Math.min(d.x,d.base),x=Math.max(d.x,d.base),C=d.y-D,M=d.y+D),{left:v,top:C,right:x,bottom:M}}function Ye(d,v,x){return d===v?x:d===x?v:d}function Ed(d,v,x){var D,I,B,E,C=d.borderWidth,M=function Xu(d){var v=d.borderSkipped,x={};return v&&(d.horizontal?d.base>d.x&&(v=Ye(v,"left","right")):d.base<d.y&&(v=Ye(v,"bottom","top")),x[v]=!0),x}(d);return Z.isObject(C)?(D=+C.top||0,I=+C.right||0,B=+C.bottom||0,E=+C.left||0):D=I=B=E=+C||0,{t:M.top||D<0?0:D>x?x:D,r:M.right||I<0?0:I>v?v:I,b:M.bottom||B<0?0:B>x?x:B,l:M.left||E<0?0:E>v?v:E}}function Co(d,v,x){var C=null===v,M=null===x,D=!(!d||C&&M)&&Sn(d);return D&&(C||v>=D.left&&v<=D.right)&&(M||x>=D.top&&x<=D.bottom)}It._set("global",{elements:{rectangle:{backgroundColor:Je,borderColor:Je,borderSkipped:"bottom",borderWidth:0}}});var Zu=pn.extend({_type:"rectangle",draw:function(){var d=this._chart.ctx,v=this._view,x=function Uu(d){var v=Sn(d),x=v.right-v.left,C=v.bottom-v.top,M=Ed(d,x/2,C/2);return{outer:{x:v.left,y:v.top,w:x,h:C},inner:{x:v.left+M.l,y:v.top+M.t,w:x-M.l-M.r,h:C-M.t-M.b}}}(v),C=x.outer,M=x.inner;d.fillStyle=v.backgroundColor,d.fillRect(C.x,C.y,C.w,C.h),(C.w!==M.w||C.h!==M.h)&&(d.save(),d.beginPath(),d.rect(C.x,C.y,C.w,C.h),d.clip(),d.fillStyle=v.borderColor,d.rect(M.x,M.y,M.w,M.h),d.fill("evenodd"),d.restore())},height:function(){var d=this._view;return d.base-d.y},inRange:function(d,v){return Co(this._view,d,v)},inLabelRange:function(d,v){var x=this._view;return Ii(x)?Co(x,d,null):Co(x,null,v)},inXRange:function(d){return Co(this._view,d,null)},inYRange:function(d){return Co(this._view,null,d)},getCenterPoint:function(){var v,x,d=this._view;return Ii(d)?(v=d.x,x=(d.y+d.base)/2):(v=(d.x+d.base)/2,x=d.y),{x:v,y:x}},getArea:function(){var d=this._view;return Ii(d)?d.width*Math.abs(d.y-d.base):d.height*Math.abs(d.x-d.base)},tooltipPosition:function(){var d=this._view;return{x:d.x,y:d.y}}}),Wi={},ju=qn,Up=Pt,sl=Zu;Wi.Arc=Yu,Wi.Line=ju,Wi.Point=Up,Wi.Rectangle=sl;var zr=Z._deprecated,So=Z.valueOrDefault;function ll(d,v,x){var B,E,C=x.barThickness,M=v.stackCount,D=v.pixels[d],I=Z.isNullOrUndef(C)?function Fd(d,v){var C,M,D,I,x=d._length;for(D=1,I=v.length;D<I;++D)x=Math.min(x,Math.abs(v[D]-v[D-1]));for(D=0,I=d.getTicks().length;D<I;++D)M=d.getPixelForTick(D),x=D>0?Math.min(x,Math.abs(M-C)):x,C=M;return x}(v.scale,v.pixels):-1;return Z.isNullOrUndef(C)?(B=I*x.categoryPercentage,E=x.barPercentage):(B=C*M,E=1),{chunk:B/M,ratio:E,start:D-B/2}}It._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),It._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var di=ti.extend({dataElementType:Wi.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var v,x,d=this;ti.prototype.initialize.apply(d,arguments),(v=d.getMeta()).stack=d.getDataset().stack,v.bar=!0,x=d._getIndexScale().options,zr("bar chart",x.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),zr("bar chart",x.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),zr("bar chart",x.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),zr("bar chart",d._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),zr("bar chart",x.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(d){var C,M,v=this,x=v.getMeta().data;for(v._ruler=v.getRuler(),C=0,M=x.length;C<M;++C)v.updateElement(x[C],C,d)},updateElement:function(d,v,x){var C=this,M=C.getMeta(),D=C.getDataset(),I=C._resolveDataElementOptions(d,v);d._xScale=C.getScaleForId(M.xAxisID),d._yScale=C.getScaleForId(M.yAxisID),d._datasetIndex=C.index,d._index=v,d._model={backgroundColor:I.backgroundColor,borderColor:I.borderColor,borderSkipped:I.borderSkipped,borderWidth:I.borderWidth,datasetLabel:D.label,label:C.chart.data.labels[v]},Z.isArray(D.data[v])&&(d._model.borderSkipped=null),C._updateElementGeometry(d,v,x,I),d.pivot()},_updateElementGeometry:function(d,v,x,C){var M=this,D=d._model,I=M._getValueScale(),B=I.getBasePixel(),E=I.isHorizontal(),z=M._ruler||M.getRuler(),W=M.calculateBarValuePixels(M.index,v,C),$=M.calculateBarIndexPixels(M.index,v,z,C);D.horizontal=E,D.base=x?B:W.base,D.x=E?x?B:W.head:$.center,D.y=E?$.center:x?B:W.head,D.height=E?$.size:void 0,D.width=E?void 0:$.size},_getStacks:function(d){var B,E,x=this._getIndexScale(),C=x._getMatchingVisibleMetas(this._type),M=x.options.stacked,D=C.length,I=[];for(B=0;B<D&&(E=C[B],(!1===M||-1===I.indexOf(E.stack)||void 0===M&&void 0===E.stack)&&I.push(E.stack),E.index!==d);++B);return I},getStackCount:function(){return this._getStacks().length},getStackIndex:function(d,v){var x=this._getStacks(d),C=void 0!==v?x.indexOf(v):-1;return-1===C?x.length-1:C},getRuler:function(){var C,M,d=this,v=d._getIndexScale(),x=[];for(C=0,M=d.getMeta().data.length;C<M;++C)x.push(v.getPixelForValue(null,C,d.index));return{pixels:x,start:v._startPixel,end:v._endPixel,stackCount:d.getStackCount(),scale:v}},calculateBarValuePixels:function(d,v,x){var ht,wt,Nt,Xt,xe,be,We,C=this,M=C.chart,D=C._getValueScale(),I=D.isHorizontal(),B=M.data.datasets,E=D._getMatchingVisibleMetas(C._type),z=D._parseValue(B[d].data[v]),W=x.minBarLength,$=D.options.stacked,Q=C.getMeta().stack,it=void 0===z.start?0:z.max>=0&&z.min>=0?z.min:z.max,nt=void 0===z.start?z.end:z.max>=0&&z.min>=0?z.max-z.min:z.min-z.max,at=E.length;if($||void 0===$&&void 0!==Q)for(ht=0;ht<at&&(wt=E[ht]).index!==d;++ht)wt.stack===Q&&(Nt=void 0===(We=D._parseValue(B[wt.index].data[v])).start?We.end:We.min>=0&&We.max>=0?We.max:We.min,(z.min<0&&Nt<0||z.max>=0&&Nt>0)&&(it+=Nt));return Xt=D.getPixelForValue(it),be=(xe=D.getPixelForValue(it+nt))-Xt,void 0!==W&&Math.abs(be)<W&&(be=W,xe=nt>=0&&!I||nt<0&&I?Xt-W:Xt+W),{size:be,base:Xt,head:xe,center:xe+be/2}},calculateBarIndexPixels:function(d,v,x,C){var D="flex"===C.barThickness?function Re(d,v,x){var E,C=v.pixels,M=C[d],D=d>0?C[d-1]:null,I=d<C.length-1?C[d+1]:null,B=x.categoryPercentage;return null===D&&(D=M-(null===I?v.end-v.start:I-M)),null===I&&(I=M+M-D),E=M-(M-Math.min(D,I))/2*B,{chunk:Math.abs(I-D)/2*B/v.stackCount,ratio:x.barPercentage,start:E}}(v,x,C):ll(v,x,C),I=this.getStackIndex(d,this.getMeta().stack),B=D.start+D.chunk*I+D.chunk/2,E=Math.min(So(C.maxBarThickness,1/0),D.chunk*D.ratio);return{base:B-E/2,head:B+E/2,center:B,size:E}},draw:function(){var d=this,v=d.chart,x=d._getValueScale(),C=d.getMeta().data,M=d.getDataset(),D=C.length,I=0;for(Z.canvas.clipArea(v.ctx,v.chartArea);I<D;++I){var B=x._parseValue(M.data[I]);!isNaN(B.min)&&!isNaN(B.max)&&C[I].draw()}Z.canvas.unclipArea(v.ctx)},_resolveDataElementOptions:function(){var d=this,v=Z.extend({},ti.prototype._resolveDataElementOptions.apply(d,arguments)),x=d._getIndexScale().options,C=d._getValueScale().options;return v.barPercentage=So(x.barPercentage,v.barPercentage),v.barThickness=So(x.barThickness,v.barThickness),v.categoryPercentage=So(x.categoryPercentage,v.categoryPercentage),v.maxBarThickness=So(x.maxBarThickness,v.maxBarThickness),v.minBarLength=So(C.minBarLength,v.minBarLength),v}}),cl=Z.valueOrDefault,fs=Z.options.resolve;It._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(d,v){return(v.datasets[d.datasetIndex].label||"")+": ("+d.xLabel+", "+d.yLabel+", "+v.datasets[d.datasetIndex].data[d.index].r+")"}}}});var ps=ti.extend({dataElementType:Wi.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(d){var v=this,x=v.getMeta();Z.each(x.data,function(M,D){v.updateElement(M,D,d)})},updateElement:function(d,v,x){var C=this,M=C.getMeta(),D=d.custom||{},I=C.getScaleForId(M.xAxisID),B=C.getScaleForId(M.yAxisID),E=C._resolveDataElementOptions(d,v),z=C.getDataset().data[v],W=C.index,$=x?I.getPixelForDecimal(.5):I.getPixelForValue("object"==typeof z?z:NaN,v,W),Q=x?B.getBasePixel():B.getPixelForValue(z,v,W);d._xScale=I,d._yScale=B,d._options=E,d._datasetIndex=W,d._index=v,d._model={backgroundColor:E.backgroundColor,borderColor:E.borderColor,borderWidth:E.borderWidth,hitRadius:E.hitRadius,pointStyle:E.pointStyle,rotation:E.rotation,radius:x?0:E.radius,skip:D.skip||isNaN($)||isNaN(Q),x:$,y:Q},d.pivot()},setHoverStyle:function(d){var v=d._model,x=d._options,C=Z.getHoverColor;d.$previousStyle={backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,radius:v.radius},v.backgroundColor=cl(x.hoverBackgroundColor,C(x.backgroundColor)),v.borderColor=cl(x.hoverBorderColor,C(x.borderColor)),v.borderWidth=cl(x.hoverBorderWidth,x.borderWidth),v.radius=x.radius+x.hoverRadius},_resolveDataElementOptions:function(d,v){var x=this,C=x.chart,M=x.getDataset(),D=d.custom||{},I=M.data[v]||{},B=ti.prototype._resolveDataElementOptions.apply(x,arguments),E={chart:C,dataIndex:v,dataset:M,datasetIndex:x.index};return x._cachedDataOpts===B&&(B=Z.extend({},B)),B.radius=fs([D.radius,I.r,x._config.radius,C.options.elements.point.radius],E,v),B}}),wo=Z.valueOrDefault,ke=Math.PI,Ue=2*ke,ca=ke/2;It._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(d){var D,I,B,v=document.createElement("ul"),x=d.data,C=x.datasets,M=x.labels;if(v.setAttribute("class",d.id+"-legend"),C.length)for(D=0,I=C[0].data.length;D<I;++D)(B=v.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=C[0].backgroundColor[D],M[D]&&B.appendChild(document.createTextNode(M[D]));return v.outerHTML},legend:{labels:{generateLabels:function(d){var v=d.data;return v.labels.length&&v.datasets.length?v.labels.map(function(x,C){var M=d.getDatasetMeta(0),D=M.controller.getStyle(C);return{text:x,fillStyle:D.backgroundColor,strokeStyle:D.borderColor,lineWidth:D.borderWidth,hidden:isNaN(v.datasets[0].data[C])||M.data[C].hidden,index:C}}):[]}},onClick:function(d,v){var M,D,I,x=v.index,C=this.chart;for(M=0,D=(C.data.datasets||[]).length;M<D;++M)(I=C.getDatasetMeta(M)).data[x]&&(I.data[x].hidden=!I.data[x].hidden);C.update()}},cutoutPercentage:50,rotation:-ca,circumference:Ue,tooltips:{callbacks:{title:function(){return""},label:function(d,v){var x=v.labels[d.index],C=": "+v.datasets[d.datasetIndex].data[d.index];return Z.isArray(x)?(x=x.slice())[0]+=C:x+=C,x}}}});var ul=ti.extend({dataElementType:Wi.Arc,linkScales:Z.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(d){for(var v=0,x=0;x<d;++x)this.chart.isDatasetVisible(x)&&++v;return v},update:function(d){var ht,wt,v=this,x=v.chart,C=x.chartArea,M=x.options,D=1,I=1,B=0,E=0,z=v.getMeta(),W=z.data,$=M.cutoutPercentage/100||0,Q=M.circumference,it=v._getRingWeight(v.index);if(Q<Ue){var Nt=M.rotation%Ue,Xt=(Nt+=Nt>=ke?-Ue:Nt<-ke?Ue:0)+Q,xe=Math.cos(Nt),be=Math.sin(Nt),We=Math.cos(Xt),Ge=Math.sin(Xt),Pe=Nt<=0&&Xt>=0||Xt>=Ue,ei=Nt<=ca&&Xt>=ca||Xt>=Ue+ca,Bi=Nt<=-ca&&Xt>=-ca||Xt>=ke+ca,_i=Nt===-ke||Xt>=ke?-1:Math.min(xe,xe*$,We,We*$),Vi=Bi?-1:Math.min(be,be*$,Ge,Ge*$),Ms=Pe?1:Math.max(xe,xe*$,We,We*$),Sl=ei?1:Math.max(be,be*$,Ge,Ge*$);D=(Ms-_i)/2,I=(Sl-Vi)/2,B=-(Ms+_i)/2,E=-(Sl+Vi)/2}for(ht=0,wt=W.length;ht<wt;++ht)W[ht]._options=v._resolveDataElementOptions(W[ht],ht);for(x.borderWidth=v.getMaxBorderWidth(),x.outerRadius=Math.max(Math.min((C.right-C.left-x.borderWidth)/D,(C.bottom-C.top-x.borderWidth)/I)/2,0),x.innerRadius=Math.max(x.outerRadius*$,0),x.radiusLength=(x.outerRadius-x.innerRadius)/(v._getVisibleDatasetWeightTotal()||1),x.offsetX=B*x.outerRadius,x.offsetY=E*x.outerRadius,z.total=v.calculateTotal(),v.outerRadius=x.outerRadius-x.radiusLength*v._getRingWeightOffset(v.index),v.innerRadius=Math.max(v.outerRadius-x.radiusLength*it,0),ht=0,wt=W.length;ht<wt;++ht)v.updateElement(W[ht],ht,d)},updateElement:function(d,v,x){var C=this,M=C.chart,D=M.chartArea,I=M.options,B=I.animation,E=(D.left+D.right)/2,z=(D.top+D.bottom)/2,W=I.rotation,$=I.rotation,Q=C.getDataset(),it=x&&B.animateRotate||d.hidden?0:C.calculateCircumference(Q.data[v])*(I.circumference/Ue),ht=d._options||{};Z.extend(d,{_datasetIndex:C.index,_index:v,_model:{backgroundColor:ht.backgroundColor,borderColor:ht.borderColor,borderWidth:ht.borderWidth,borderAlign:ht.borderAlign,x:E+M.offsetX,y:z+M.offsetY,startAngle:W,endAngle:$,circumference:it,outerRadius:x&&B.animateScale?0:C.outerRadius,innerRadius:x&&B.animateScale?0:C.innerRadius,label:Z.valueAtIndexOrDefault(Q.label,v,M.data.labels[v])}});var wt=d._model;(!x||!B.animateRotate)&&(wt.startAngle=0===v?I.rotation:C.getMeta().data[v-1]._model.endAngle,wt.endAngle=wt.startAngle+wt.circumference),d.pivot()},calculateTotal:function(){var C,d=this.getDataset(),v=this.getMeta(),x=0;return Z.each(v.data,function(M,D){C=d.data[D],!isNaN(C)&&!M.hidden&&(x+=Math.abs(C))}),x},calculateCircumference:function(d){var v=this.getMeta().total;return v>0&&!isNaN(d)?Ue*(Math.abs(d)/v):0},getMaxBorderWidth:function(d){var M,D,I,B,E,z,W,$,x=0,C=this.chart;if(!d)for(M=0,D=C.data.datasets.length;M<D;++M)if(C.isDatasetVisible(M)){d=(I=C.getDatasetMeta(M)).data,M!==this.index&&(E=I.controller);break}if(!d)return 0;for(M=0,D=d.length;M<D;++M)B=d[M],E?(E._configure(),z=E._resolveDataElementOptions(B,M)):z=B._options,"inner"!==z.borderAlign&&(x=($=z.hoverBorderWidth)>(x=(W=z.borderWidth)>x?W:x)?$:x);return x},setHoverStyle:function(d){var v=d._model,x=d._options,C=Z.getHoverColor;d.$previousStyle={backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth},v.backgroundColor=wo(x.hoverBackgroundColor,C(x.backgroundColor)),v.borderColor=wo(x.hoverBorderColor,C(x.borderColor)),v.borderWidth=wo(x.hoverBorderWidth,x.borderWidth)},_getRingWeightOffset:function(d){for(var v=0,x=0;x<d;++x)this.chart.isDatasetVisible(x)&&(v+=this._getRingWeight(x));return v},_getRingWeight:function(d){return Math.max(wo(this.chart.data.datasets[d].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});It._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),It._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Oi=di.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),fi=Z.valueOrDefault,Bn=Z.options.resolve,Nr=Z.canvas._isPointInArea;function yi(d,v){var x=d&&d.options.ticks||{},C=x.reverse,M=void 0===x.min?v:0,D=void 0===x.max?v:0;return{start:C?D:M,end:C?M:D}}It._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var ua=ti.extend({datasetElementType:Wi.Line,dataElementType:Wi.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(d){var E,z,v=this,x=v.getMeta(),C=x.dataset,M=x.data||[],I=v._config,B=v._showLine=fi(I.showLine,v.chart.options.showLines);for(v._xScale=v.getScaleForId(x.xAxisID),v._yScale=v.getScaleForId(x.yAxisID),B&&(void 0!==I.tension&&void 0===I.lineTension&&(I.lineTension=I.tension),C._scale=v._yScale,C._datasetIndex=v.index,C._children=M,C._model=v._resolveDatasetElementOptions(C),C.pivot()),E=0,z=M.length;E<z;++E)v.updateElement(M[E],E,d);for(B&&0!==C._model.tension&&v.updateBezierControlPoints(),E=0,z=M.length;E<z;++E)M[E].pivot()},updateElement:function(d,v,x){var Q,it,C=this,M=C.getMeta(),D=d.custom||{},I=C.getDataset(),B=C.index,E=I.data[v],z=C._xScale,W=C._yScale,$=M.dataset._model,nt=C._resolveDataElementOptions(d,v);Q=z.getPixelForValue("object"==typeof E?E:NaN,v,B),it=x?W.getBasePixel():C.calculatePointY(E,v,B),d._xScale=z,d._yScale=W,d._options=nt,d._datasetIndex=B,d._index=v,d._model={x:Q,y:it,skip:D.skip||isNaN(Q)||isNaN(it),radius:nt.radius,pointStyle:nt.pointStyle,rotation:nt.rotation,backgroundColor:nt.backgroundColor,borderColor:nt.borderColor,borderWidth:nt.borderWidth,tension:fi(D.tension,$?$.tension:0),steppedLine:!!$&&$.steppedLine,hitRadius:nt.hitRadius}},_resolveDatasetElementOptions:function(d){var v=this,x=v._config,C=d.custom||{},M=v.chart.options,D=M.elements.line,I=ti.prototype._resolveDatasetElementOptions.apply(v,arguments);return I.spanGaps=fi(x.spanGaps,M.spanGaps),I.tension=fi(x.lineTension,D.tension),I.steppedLine=Bn([C.steppedLine,x.steppedLine,D.stepped]),I.clip=function Kn(d){var v,x,C,M;return Z.isObject(d)?(v=d.top,x=d.right,C=d.bottom,M=d.left):v=x=C=M=d,{top:v,right:x,bottom:C,left:M}}(fi(x.clip,function Gr(d,v,x){var C=x/2,M=yi(d,C),D=yi(v,C);return{top:D.end,right:M.end,bottom:D.start,left:M.start}}(v._xScale,v._yScale,I.borderWidth))),I},calculatePointY:function(d,v,x){var E,W,$,Q,it,nt,M=this.chart,D=this._yScale,I=0,B=0;if(D.options.stacked){for(Q=+D.getRightValue(d),nt=(it=M._getSortedVisibleDatasetMetas()).length,E=0;E<nt&&(W=it[E]).index!==x;++E)"line"===W.type&&W.yAxisID===D.id&&(($=+D.getRightValue(M.data.datasets[W.index].data[v]))<0?B+=$||0:I+=$||0);return D.getPixelForValue(Q<0?B+Q:I+Q)}return D.getPixelForValue(d)},updateBezierControlPoints:function(){var I,B,E,z,v=this.chart,x=this.getMeta(),C=x.dataset._model,M=v.chartArea,D=x.data||[];function W($,Q,it){return Math.max(Math.min($,it),Q)}if(C.spanGaps&&(D=D.filter(function($){return!$._model.skip})),"monotone"===C.cubicInterpolationMode)Z.splineCurveMonotone(D);else for(I=0,B=D.length;I<B;++I)E=D[I]._model,z=Z.splineCurve(Z.previousItem(D,I)._model,E,Z.nextItem(D,I)._model,C.tension),E.controlPointPreviousX=z.previous.x,E.controlPointPreviousY=z.previous.y,E.controlPointNextX=z.next.x,E.controlPointNextY=z.next.y;if(v.options.elements.line.capBezierPoints)for(I=0,B=D.length;I<B;++I)Nr(E=D[I]._model,M)&&(I>0&&Nr(D[I-1]._model,M)&&(E.controlPointPreviousX=W(E.controlPointPreviousX,M.left,M.right),E.controlPointPreviousY=W(E.controlPointPreviousY,M.top,M.bottom)),I<D.length-1&&Nr(D[I+1]._model,M)&&(E.controlPointNextX=W(E.controlPointNextX,M.left,M.right),E.controlPointNextY=W(E.controlPointNextY,M.top,M.bottom)))},draw:function(){var E,d=this,v=d.chart,x=d.getMeta(),C=x.data||[],M=v.chartArea,D=v.canvas,I=0,B=C.length;for(d._showLine&&(Z.canvas.clipArea(v.ctx,{left:!1===(E=x.dataset._model.clip).left?0:M.left-E.left,right:!1===E.right?D.width:M.right+E.right,top:!1===E.top?0:M.top-E.top,bottom:!1===E.bottom?D.height:M.bottom+E.bottom}),x.dataset.draw(),Z.canvas.unclipArea(v.ctx));I<B;++I)C[I].draw(M)},setHoverStyle:function(d){var v=d._model,x=d._options,C=Z.getHoverColor;d.$previousStyle={backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,radius:v.radius},v.backgroundColor=fi(x.hoverBackgroundColor,C(x.backgroundColor)),v.borderColor=fi(x.hoverBorderColor,C(x.borderColor)),v.borderWidth=fi(x.hoverBorderWidth,x.borderWidth),v.radius=fi(x.hoverRadius,x.radius)}}),qu=Z.options.resolve;It._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(d){var D,I,B,v=document.createElement("ul"),x=d.data,C=x.datasets,M=x.labels;if(v.setAttribute("class",d.id+"-legend"),C.length)for(D=0,I=C[0].data.length;D<I;++D)(B=v.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=C[0].backgroundColor[D],M[D]&&B.appendChild(document.createTextNode(M[D]));return v.outerHTML},legend:{labels:{generateLabels:function(d){var v=d.data;return v.labels.length&&v.datasets.length?v.labels.map(function(x,C){var M=d.getDatasetMeta(0),D=M.controller.getStyle(C);return{text:x,fillStyle:D.backgroundColor,strokeStyle:D.borderColor,lineWidth:D.borderWidth,hidden:isNaN(v.datasets[0].data[C])||M.data[C].hidden,index:C}}):[]}},onClick:function(d,v){var M,D,I,x=v.index,C=this.chart;for(M=0,D=(C.data.datasets||[]).length;M<D;++M)(I=C.getDatasetMeta(M)).data[x].hidden=!I.data[x].hidden;C.update()}},tooltips:{callbacks:{title:function(){return""},label:function(d,v){return v.labels[d.index]+": "+d.yLabel}}}});var gs=ti.extend({dataElementType:Wi.Arc,linkScales:Z.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(d){var E,z,W,v=this,x=v.getDataset(),C=v.getMeta(),M=v.chart.options.startAngle||0,D=v._starts=[],I=v._angles=[],B=C.data;for(v._updateRadius(),C.count=v.countVisibleElements(),E=0,z=x.data.length;E<z;E++)D[E]=M,W=v._computeAngle(E),I[E]=W,M+=W;for(E=0,z=B.length;E<z;++E)B[E]._options=v._resolveDataElementOptions(B[E],E),v.updateElement(B[E],E,d)},_updateRadius:function(){var d=this,v=d.chart,x=v.chartArea,C=v.options,M=Math.min(x.right-x.left,x.bottom-x.top);v.outerRadius=Math.max(M/2,0),v.innerRadius=Math.max(C.cutoutPercentage?v.outerRadius/100*C.cutoutPercentage:1,0),v.radiusLength=(v.outerRadius-v.innerRadius)/v.getVisibleDatasetCount(),d.outerRadius=v.outerRadius-v.radiusLength*d.index,d.innerRadius=d.outerRadius-v.radiusLength},updateElement:function(d,v,x){var C=this,M=C.chart,D=C.getDataset(),I=M.options,B=I.animation,E=M.scale,z=M.data.labels,W=E.xCenter,$=E.yCenter,Q=I.startAngle,it=d.hidden?0:E.getDistanceFromCenterForValue(D.data[v]),nt=C._starts[v],at=nt+(d.hidden?0:C._angles[v]),ht=B.animateScale?0:E.getDistanceFromCenterForValue(D.data[v]),wt=d._options||{};Z.extend(d,{_datasetIndex:C.index,_index:v,_scale:E,_model:{backgroundColor:wt.backgroundColor,borderColor:wt.borderColor,borderWidth:wt.borderWidth,borderAlign:wt.borderAlign,x:W,y:$,innerRadius:0,outerRadius:x?ht:it,startAngle:x&&B.animateRotate?Q:nt,endAngle:x&&B.animateRotate?Q:at,label:Z.valueAtIndexOrDefault(z,v,z[v])}}),d.pivot()},countVisibleElements:function(){var d=this.getDataset(),v=this.getMeta(),x=0;return Z.each(v.data,function(C,M){!isNaN(d.data[M])&&!C.hidden&&x++}),x},setHoverStyle:function(d){var v=d._model,x=d._options,C=Z.getHoverColor,M=Z.valueOrDefault;d.$previousStyle={backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth},v.backgroundColor=M(x.hoverBackgroundColor,C(x.backgroundColor)),v.borderColor=M(x.hoverBorderColor,C(x.borderColor)),v.borderWidth=M(x.hoverBorderWidth,x.borderWidth)},_computeAngle:function(d){var v=this,x=this.getMeta().count,C=v.getDataset(),M=v.getMeta();return isNaN(C.data[d])||M.data[d].hidden?0:qu([v.chart.options.elements.arc.angle,2*Math.PI/x],{chart:v.chart,dataIndex:d,dataset:C,datasetIndex:v.index},d)}});It._set("pie",Z.clone(It.doughnut)),It._set("pie",{cutoutPercentage:0});var Ku=ul,ha=Z.valueOrDefault;It._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var nc=ti.extend({datasetElementType:Wi.Line,dataElementType:Wi.Point,linkScales:Z.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(d){var B,E,v=this,x=v.getMeta(),C=x.dataset,M=x.data||[],D=v.chart.scale,I=v._config;for(void 0!==I.tension&&void 0===I.lineTension&&(I.lineTension=I.tension),C._scale=D,C._datasetIndex=v.index,C._children=M,C._loop=!0,C._model=v._resolveDatasetElementOptions(C),C.pivot(),B=0,E=M.length;B<E;++B)v.updateElement(M[B],B,d);for(v.updateBezierControlPoints(),B=0,E=M.length;B<E;++B)M[B].pivot()},updateElement:function(d,v,x){var C=this,M=d.custom||{},D=C.getDataset(),I=C.chart.scale,B=I.getPointPositionForValue(v,D.data[v]),E=C._resolveDataElementOptions(d,v),z=C.getMeta().dataset._model,W=x?I.xCenter:B.x,$=x?I.yCenter:B.y;d._scale=I,d._options=E,d._datasetIndex=C.index,d._index=v,d._model={x:W,y:$,skip:M.skip||isNaN(W)||isNaN($),radius:E.radius,pointStyle:E.pointStyle,rotation:E.rotation,backgroundColor:E.backgroundColor,borderColor:E.borderColor,borderWidth:E.borderWidth,tension:ha(M.tension,z?z.tension:0),hitRadius:E.hitRadius}},_resolveDatasetElementOptions:function(){var d=this,v=d._config,x=d.chart.options,C=ti.prototype._resolveDatasetElementOptions.apply(d,arguments);return C.spanGaps=ha(v.spanGaps,x.spanGaps),C.tension=ha(v.lineTension,x.elements.line.tension),C},updateBezierControlPoints:function(){var M,D,I,B,v=this.getMeta(),x=this.chart.chartArea,C=v.data||[];function E(z,W,$){return Math.max(Math.min(z,$),W)}for(v.dataset._model.spanGaps&&(C=C.filter(function(z){return!z._model.skip})),M=0,D=C.length;M<D;++M)I=C[M]._model,B=Z.splineCurve(Z.previousItem(C,M,!0)._model,I,Z.nextItem(C,M,!0)._model,I.tension),I.controlPointPreviousX=E(B.previous.x,x.left,x.right),I.controlPointPreviousY=E(B.previous.y,x.top,x.bottom),I.controlPointNextX=E(B.next.x,x.left,x.right),I.controlPointNextY=E(B.next.y,x.top,x.bottom)},setHoverStyle:function(d){var v=d._model,x=d._options,C=Z.getHoverColor;d.$previousStyle={backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,radius:v.radius},v.backgroundColor=ha(x.hoverBackgroundColor,C(x.backgroundColor)),v.borderColor=ha(x.hoverBorderColor,C(x.borderColor)),v.borderWidth=ha(x.hoverBorderWidth,x.borderWidth),v.radius=ha(x.hoverRadius,x.radius)}});It._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(d){return"("+d.xLabel+", "+d.yLabel+")"}}}}),It._set("global",{datasets:{scatter:{showLine:!1}}});var Va={bar:di,bubble:ps,doughnut:ul,horizontalBar:Oi,line:ua,polarArea:gs,pie:Ku,radar:nc,scatter:ua};function rn(d,v){return d.native?{x:d.x,y:d.y}:Z.getRelativePosition(d,v)}function za(d,v){var C,M,D,I,B,E,x=d._getSortedVisibleDatasetMetas();for(M=0,I=x.length;M<I;++M)for(D=0,B=(C=x[M].data).length;D<B;++D)(E=C[D])._view.skip||v(E)}function Qn(d,v){var x=[];return za(d,function(C){C.inRange(v.x,v.y)&&x.push(C)}),x}function Be(d,v,x,C){var M=Number.POSITIVE_INFINITY,D=[];return za(d,function(I){if(!x||I.inRange(v.x,v.y)){var B=I.getCenterPoint(),E=C(v,B);E<M?(D=[I],M=E):E===M&&D.push(I)}}),D}function Hr(d){var v=-1!==d.indexOf("x"),x=-1!==d.indexOf("y");return function(C,M){var D=v?Math.abs(C.x-M.x):0,I=x?Math.abs(C.y-M.y):0;return Math.sqrt(Math.pow(D,2)+Math.pow(I,2))}}function Vn(d,v,x){var C=rn(v,d);x.axis=x.axis||"x";var M=Hr(x.axis),D=x.intersect?Qn(d,C):Be(d,C,!1,M),I=[];return D.length?(d._getSortedVisibleDatasetMetas().forEach(function(B){var E=B.data[D[0]._index];E&&!E._view.skip&&I.push(E)}),I):[]}var wn={modes:{single:function(d,v){var x=rn(v,d),C=[];return za(d,function(M){if(M.inRange(x.x,x.y))return C.push(M),C}),C.slice(0,1)},label:Vn,index:Vn,dataset:function(d,v,x){var C=rn(v,d);x.axis=x.axis||"xy";var M=Hr(x.axis),D=x.intersect?Qn(d,C):Be(d,C,!1,M);return D.length>0&&(D=d.getDatasetMeta(D[0]._datasetIndex).data),D},"x-axis":function(d,v){return Vn(d,v,{intersect:!1})},point:function(d,v){return Qn(d,rn(v,d))},nearest:function(d,v,x){var C=rn(v,d);x.axis=x.axis||"xy";var M=Hr(x.axis);return Be(d,C,x.intersect,M)},x:function(d,v,x){var C=rn(v,d),M=[],D=!1;return za(d,function(I){I.inXRange(C.x)&&M.push(I),I.inRange(C.x,C.y)&&(D=!0)}),x.intersect&&!D&&(M=[]),M},y:function(d,v,x){var C=rn(v,d),M=[],D=!1;return za(d,function(I){I.inYRange(C.y)&&M.push(I),I.inRange(C.x,C.y)&&(D=!0)}),x.intersect&&!D&&(M=[]),M}}},Si=Z.extend;function zn(d,v){return Z.where(d,function(x){return x.pos===v})}function Tn(d,v){return d.sort(function(x,C){var M=v?C:x,D=v?x:C;return M.weight===D.weight?M.index-D.index:M.weight-D.weight})}function hl(d,v,x,C){return Math.max(d[x],v[x])+Math.max(d[C],v[C])}function Nn(d,v,x){var D,I,C=x.box,M=d.maxPadding;if(x.size&&(d[x.pos]-=x.size),x.size=x.horizontal?C.height:C.width,d[x.pos]+=x.size,C.getPadding){var B=C.getPadding();M.top=Math.max(M.top,B.top),M.left=Math.max(M.left,B.left),M.bottom=Math.max(M.bottom,B.bottom),M.right=Math.max(M.right,B.right)}if(D=v.outerWidth-hl(M,d,"left","right"),I=v.outerHeight-hl(M,d,"top","bottom"),D!==d.w||I!==d.h){d.w=D,d.h=I;var E=x.horizontal?[D,d.w]:[I,d.h];return!(E[0]===E[1]||isNaN(E[0])&&isNaN(E[1]))}}function rc(d,v){var x=v.maxPadding;return function C(M){var D={left:0,top:0,right:0,bottom:0};return M.forEach(function(I){D[I]=Math.max(v[I],x[I])}),D}(d?["left","right"]:["top","bottom"])}function Mo(d,v,x){var M,D,I,B,E,z,C=[];for(M=0,D=d.length;M<D;++M)(B=(I=d[M]).box).update(I.width||v.w,I.height||v.h,rc(I.horizontal,v)),Nn(v,x,I)&&(z=!0,C.length&&(E=!0)),B.fullWidth||C.push(I);return E&&Mo(C,v,x)||z}function dl(d,v,x){var I,B,E,z,C=x.padding,M=v.x,D=v.y;for(I=0,B=d.length;I<B;++I)z=(E=d[I]).box,E.horizontal?(z.left=z.fullWidth?C.left:v.left,z.right=z.fullWidth?x.outerWidth-C.right:v.left+v.w,z.top=D,z.bottom=D+z.height,z.width=z.right-z.left,D=z.bottom):(z.left=M,z.right=M+z.width,z.top=v.top,z.bottom=v.top+v.h,z.height=z.bottom-z.top,M=z.right);v.x=M,v.y=D}It._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var Yi={defaults:{},addBox:function(d,v){d.boxes||(d.boxes=[]),v.fullWidth=v.fullWidth||!1,v.position=v.position||"top",v.weight=v.weight||0,v._layers=v._layers||function(){return[{z:0,draw:function(){v.draw.apply(v,arguments)}}]},d.boxes.push(v)},removeBox:function(d,v){var x=d.boxes?d.boxes.indexOf(v):-1;-1!==x&&d.boxes.splice(x,1)},configure:function(d,v,x){for(var I,C=["fullWidth","position","weight"],M=C.length,D=0;D<M;++D)x.hasOwnProperty(I=C[D])&&(v[I]=x[I])},update:function(d,v,x){if(d){var M=Z.options.toPadding((d.options.layout||{}).padding),D=v-M.width,I=x-M.height,B=function Rd(d){var v=function To(d){var x,C,M,v=[];for(x=0,C=(d||[]).length;x<C;++x)v.push({index:x,box:M=d[x],pos:M.position,horizontal:M.isHorizontal(),weight:M.weight});return v}(d),x=Tn(zn(v,"left"),!0),C=Tn(zn(v,"right")),M=Tn(zn(v,"top"),!0),D=Tn(zn(v,"bottom"));return{leftAndTop:x.concat(M),rightAndBottom:C.concat(D),chartArea:zn(v,"chartArea"),vertical:x.concat(C),horizontal:M.concat(D)}}(d.boxes),E=B.vertical,z=B.horizontal,W=Object.freeze({outerWidth:v,outerHeight:x,padding:M,availableWidth:D,vBoxMaxWidth:D/2/E.length,hBoxMaxHeight:I/2}),$=Si({maxPadding:Si({},M),w:D,h:I,x:M.left,y:M.top},M);(function Ju(d,v){var x,C,M;for(x=0,C=d.length;x<C;++x)(M=d[x]).width=M.horizontal?M.box.fullWidth&&v.availableWidth:v.vBoxMaxWidth,M.height=M.horizontal&&v.hBoxMaxHeight})(E.concat(z),W),Mo(E,$,W),Mo(z,$,W)&&Mo(E,$,W),function Wr(d){var v=d.maxPadding;function x(C){var M=Math.max(v[C]-d[C],0);return d[C]+=M,M}d.y+=x("top"),d.x+=x("left"),x("right"),x("bottom")}($),dl(B.leftAndTop,$,W),$.x+=$.w,$.y+=$.h,dl(B.rightAndBottom,$,W),d.chartArea={left:$.left,top:$.top,right:$.left+$.w,bottom:$.top+$.h},Z.each(B.chartArea,function(Q){var it=Q.box;Si(it,d.chartArea),it.update($.w,$.h)})}}},Bd=function Qt(d){return d&&d.default||d}(Object.freeze({__proto__:null,default:"/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n"})),Xi="$chartjs",vs="chartjs-",ac=vs+"size-monitor",Fi=vs+"render-monitor",eh=vs+"render-animation",Ga=["animationstart","webkitAnimationStart"],Ha={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function pl(d,v){var x=Z.getStyle(d,v),C=x&&x.match(/^(\d+)(\.\d+)?px$/);return C?Number(C[1]):void 0}var gn=!!function(){var d=!1;try{var v=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("e",null,v)}catch{}return d}()&&{passive:!0};function ms(d,v,x){d.addEventListener(v,x,gn)}function Lo(d,v,x){d.removeEventListener(v,x,gn)}function oc(d,v,x,C,M){return{type:d,chart:v,native:M||null,x:void 0!==x?x:null,y:void 0!==C?C:null}}function ys(d){var v=document.createElement("div");return v.className=d||"",v}function ci(d,v,x){var C=d[Xi]||(d[Xi]={}),M=C.resizer=function ih(d){var v=1e6,x=ys(ac),C=ys(ac+"-expand"),M=ys(ac+"-shrink");C.appendChild(ys()),M.appendChild(ys()),x.appendChild(C),x.appendChild(M),x._reset=function(){C.scrollLeft=v,C.scrollTop=v,M.scrollLeft=v,M.scrollTop=v};var D=function(){x._reset(),d()};return ms(C,"scroll",D.bind(C,"expand")),ms(M,"scroll",D.bind(M,"shrink")),x}(function gl(d,v){var x=!1,C=[];return function(){C=Array.prototype.slice.call(arguments),v=v||this,x||(x=!0,Z.requestAnimFrame.call(window,function(){x=!1,d.apply(v,C)}))}}(function(){if(C.resizer){var D=x.options.maintainAspectRatio&&d.parentNode,I=D?D.clientWidth:0;v(oc("resize",x)),D&&D.clientWidth<I&&x.canvas&&v(oc("resize",x))}}));!function nh(d,v){var x=d[Xi]||(d[Xi]={}),C=x.renderProxy=function(M){M.animationName===eh&&v()};Z.each(Ga,function(M){ms(d,M,C)}),x.reflow=!!d.offsetParent,d.classList.add(Fi)}(d,function(){if(C.resizer){var D=d.parentNode;D&&D!==M.parentNode&&D.insertBefore(M,D.firstChild),M._reset()}})}function Yr(d){var v=d[Xi]||{},x=v.resizer;delete v.resizer,function sc(d){var v=d[Xi]||{},x=v.renderProxy;x&&(Z.each(Ga,function(C){Lo(d,C,x)}),delete v.renderProxy),d.classList.remove(Fi)}(d),x&&x.parentNode&&x.parentNode.removeChild(x)}var Ui={disableCSSInjection:!1,_enabled:typeof window<"u"&&typeof document<"u",_ensureLoaded:function(d){if(!this.disableCSSInjection){var v=d.getRootNode?d.getRootNode():document;!function lc(d,v){var x=d[Xi]||(d[Xi]={});if(!x.containsStyles){x.containsStyles=!0,v="/* Chart.js */\n"+v;var C=document.createElement("style");C.setAttribute("type","text/css"),C.appendChild(document.createTextNode(v)),d.appendChild(C)}}(v.host?v:document.head,Bd)}},acquireContext:function(d,v){"string"==typeof d?d=document.getElementById(d):d.length&&(d=d[0]),d&&d.canvas&&(d=d.canvas);var x=d&&d.getContext&&d.getContext("2d");return x&&x.canvas===d?(this._ensureLoaded(d),function Ao(d,v){var x=d.style,C=d.getAttribute("height"),M=d.getAttribute("width");if(d[Xi]={initial:{height:C,width:M,style:{display:x.display,height:x.height,width:x.width}}},x.display=x.display||"block",null===M||""===M){var D=pl(d,"width");void 0!==D&&(d.width=D)}if(null===C||""===C)if(""===d.style.height)d.height=d.width/(v.options.aspectRatio||2);else{var I=pl(d,"height");void 0!==D&&(d.height=I)}return d}(d,v),x):null},releaseContext:function(d){var v=d.canvas;if(v[Xi]){var x=v[Xi].initial;["height","width"].forEach(function(C){var M=x[C];Z.isNullOrUndef(M)?v.removeAttribute(C):v.setAttribute(C,M)}),Z.each(x.style||{},function(C,M){v.style[M]=C}),v.width=v.width,delete v[Xi]}},addEventListener:function(d,v,x){var C=d.canvas;if("resize"!==v){var M=x[Xi]||(x[Xi]={});ms(C,v,(M.proxies||(M.proxies={}))[d.id+"_"+v]=function(B){x(function tr(d,v){var x=Ha[d.type]||d.type,C=Z.getRelativePosition(d,v);return oc(x,v,C.x,C.y,d)}(B,d))})}else ci(C,x,d)},removeEventListener:function(d,v,x){var C=d.canvas;if("resize"!==v){var I=((x[Xi]||{}).proxies||{})[d.id+"_"+v];I&&Lo(C,v,I)}else Yr(C)}};Z.addEvent=ms,Z.removeEvent=Lo;var Ri=Z.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Ui._enabled?Ui:{acquireContext:function(d){return d&&d.canvas&&(d=d.canvas),d&&d.getContext("2d")||null}});It._set("global",{plugins:{}});var Ze={_plugins:[],_cacheId:0,register:function(d){var v=this._plugins;[].concat(d).forEach(function(x){-1===v.indexOf(x)&&v.push(x)}),this._cacheId++},unregister:function(d){var v=this._plugins;[].concat(d).forEach(function(x){var C=v.indexOf(x);-1!==C&&v.splice(C,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(d,v,x){var D,I,B,E,z,C=this.descriptors(d),M=C.length;for(D=0;D<M;++D)if("function"==typeof(z=(B=(I=C[D]).plugin)[v])&&((E=[d].concat(x||[])).push(I.options),!1===z.apply(B,E)))return!1;return!0},descriptors:function(d){var v=d.$plugins||(d.$plugins={});if(v.id===this._cacheId)return v.descriptors;var x=[],C=[],M=d&&d.config||{},D=M.options&&M.options.plugins||{};return this._plugins.concat(M.plugins||[]).forEach(function(I){if(-1===x.indexOf(I)){var E=I.id,z=D[E];!1!==z&&(!0===z&&(z=Z.clone(It.global.plugins[E])),x.push(I),C.push({plugin:I,options:z||{}}))}}),v.descriptors=C,v.id=this._cacheId,C},_invalidate:function(d){delete d.$plugins}},vn={constructors:{},defaults:{},registerScaleType:function(d,v,x){this.constructors[d]=v,this.defaults[d]=Z.clone(x)},getScaleConstructor:function(d){return this.constructors.hasOwnProperty(d)?this.constructors[d]:void 0},getScaleDefaults:function(d){return this.defaults.hasOwnProperty(d)?Z.merge(Object.create(null),[It.scale,this.defaults[d]]):{}},updateScaleDefaults:function(d,v){var x=this;x.defaults.hasOwnProperty(d)&&(x.defaults[d]=Z.extend(x.defaults[d],v))},addScalesToLayout:function(d){Z.each(d.scales,function(v){v.fullWidth=v.options.fullWidth,v.position=v.options.position,v.weight=v.options.weight,Yi.addBox(d,v)})}},yr=Z.valueOrDefault,Wa=Z.rtl.getRtlAdapter;It._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:Z.noop,title:function(d,v){var x="",C=v.labels,M=C?C.length:0;if(d.length>0){var D=d[0];D.label?x=D.label:D.xLabel?x=D.xLabel:M>0&&D.index<M&&(x=C[D.index])}return x},afterTitle:Z.noop,beforeBody:Z.noop,beforeLabel:Z.noop,label:function(d,v){var x=v.datasets[d.datasetIndex].label||"";return x&&(x+=": "),Z.isNullOrUndef(d.value)?x+=d.yLabel:x+=d.value,x},labelColor:function(d,v){var M=v.getDatasetMeta(d.datasetIndex).data[d.index]._view;return{borderColor:M.borderColor,backgroundColor:M.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:Z.noop,afterBody:Z.noop,beforeFooter:Z.noop,footer:Z.noop,afterFooter:Z.noop}}});var ee={average:function(d){if(!d.length)return!1;var v,x,C=0,M=0,D=0;for(v=0,x=d.length;v<x;++v){var I=d[v];if(I&&I.hasValue()){var B=I.tooltipPosition();C+=B.x,M+=B.y,++D}}return{x:C/D,y:M/D}},nearest:function(d,v){var D,I,B,x=v.x,C=v.y,M=Number.POSITIVE_INFINITY;for(D=0,I=d.length;D<I;++D){var E=d[D];if(E&&E.hasValue()){var z=E.getCenterPoint(),W=Z.distanceBetweenPoints(v,z);W<M&&(M=W,B=E)}}if(B){var $=B.tooltipPosition();x=$.x,C=$.y}return{x,y:C}}};function wi(d,v){return v&&(Z.isArray(v)?Array.prototype.push.apply(d,v):d.push(v)),d}function an(d){return("string"==typeof d||d instanceof String)&&d.indexOf("\n")>-1?d.split("\n"):d}function Ya(d){var v=d._xScale,x=d._yScale||d._scale,C=d._index,M=d._datasetIndex,D=d._chart.getDatasetMeta(M).controller,I=D._getIndexScale(),B=D._getValueScale();return{xLabel:v?v.getLabelForIndex(C,M):"",yLabel:x?x.getLabelForIndex(C,M):"",label:I?""+I.getLabelForIndex(C,M):"",value:B?""+B.getLabelForIndex(C,M):"",index:C,datasetIndex:M,x:d._model.x,y:d._model.y}}function _r(d){var v=It.global;return{xPadding:d.xPadding,yPadding:d.yPadding,xAlign:d.xAlign,yAlign:d.yAlign,rtl:d.rtl,textDirection:d.textDirection,bodyFontColor:d.bodyFontColor,_bodyFontFamily:yr(d.bodyFontFamily,v.defaultFontFamily),_bodyFontStyle:yr(d.bodyFontStyle,v.defaultFontStyle),_bodyAlign:d.bodyAlign,bodyFontSize:yr(d.bodyFontSize,v.defaultFontSize),bodySpacing:d.bodySpacing,titleFontColor:d.titleFontColor,_titleFontFamily:yr(d.titleFontFamily,v.defaultFontFamily),_titleFontStyle:yr(d.titleFontStyle,v.defaultFontStyle),titleFontSize:yr(d.titleFontSize,v.defaultFontSize),_titleAlign:d.titleAlign,titleSpacing:d.titleSpacing,titleMarginBottom:d.titleMarginBottom,footerFontColor:d.footerFontColor,_footerFontFamily:yr(d.footerFontFamily,v.defaultFontFamily),_footerFontStyle:yr(d.footerFontStyle,v.defaultFontStyle),footerFontSize:yr(d.footerFontSize,v.defaultFontSize),_footerAlign:d.footerAlign,footerSpacing:d.footerSpacing,footerMarginTop:d.footerMarginTop,caretSize:d.caretSize,cornerRadius:d.cornerRadius,backgroundColor:d.backgroundColor,opacity:0,legendColorBackground:d.multiKeyBackground,displayColors:d.displayColors,borderColor:d.borderColor,borderWidth:d.borderWidth}}function Mn(d,v){return"center"===v?d.x+d.width/2:"right"===v?d.x+d.width-d.xPadding:d.x+d.xPadding}function rh(d){return wi([],an(d))}var $t=pn.extend({initialize:function(){this._model=_r(this._options),this._lastActive=[]},getTitle:function(){var d=this,x=d._options.callbacks,C=x.beforeTitle.apply(d,arguments),M=x.title.apply(d,arguments),D=x.afterTitle.apply(d,arguments),I=[];return I=wi(I,an(C)),I=wi(I,an(M)),wi(I,an(D))},getBeforeBody:function(){return rh(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(d,v){var x=this,C=x._options.callbacks,M=[];return Z.each(d,function(D){var I={before:[],lines:[],after:[]};wi(I.before,an(C.beforeLabel.call(x,D,v))),wi(I.lines,C.label.call(x,D,v)),wi(I.after,an(C.afterLabel.call(x,D,v))),M.push(I)}),M},getAfterBody:function(){return rh(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var d=this,v=d._options.callbacks,x=v.beforeFooter.apply(d,arguments),C=v.footer.apply(d,arguments),M=v.afterFooter.apply(d,arguments),D=[];return D=wi(D,an(x)),D=wi(D,an(C)),wi(D,an(M))},update:function(d){var $,Q,v=this,x=v._options,C=v._model,M=v._model=_r(x),D=v._active,I=v._data,B={xAlign:C.xAlign,yAlign:C.yAlign},E={x:C.x,y:C.y},z={width:C.width,height:C.height},W={x:C.caretX,y:C.caretY};if(D.length){M.opacity=1;var it=[],nt=[];W=ee[x.position].call(v,D,v._eventPosition);var at=[];for($=0,Q=D.length;$<Q;++$)at.push(Ya(D[$]));x.filter&&(at=at.filter(function(ht){return x.filter(ht,I)})),x.itemSort&&(at=at.sort(function(ht,wt){return x.itemSort(ht,wt,I)})),Z.each(at,function(ht){it.push(x.callbacks.labelColor.call(v,ht,v._chart)),nt.push(x.callbacks.labelTextColor.call(v,ht,v._chart))}),M.title=v.getTitle(at,I),M.beforeBody=v.getBeforeBody(at,I),M.body=v.getBody(at,I),M.afterBody=v.getAfterBody(at,I),M.footer=v.getFooter(at,I),M.x=W.x,M.y=W.y,M.caretPadding=x.caretPadding,M.labelColors=it,M.labelTextColors=nt,M.dataPoints=at,E=function _s(d,v,x,C){var M=d.x,D=d.y,B=d.caretPadding,z=x.xAlign,W=x.yAlign,$=d.caretSize+B,Q=d.cornerRadius+B;return"right"===z?M-=v.width:"center"===z&&((M-=v.width/2)+v.width>C.width&&(M=C.width-v.width),M<0&&(M=0)),"top"===W?D+=$:D-="bottom"===W?v.height+$:v.height/2,"center"===W?"left"===z?M+=$:"right"===z&&(M-=$):"left"===z?M-=Q:"right"===z&&(M+=Q),{x:M,y:D}}(M,z=function Xa(d,v){var x=d._chart.ctx,C=2*v.yPadding,M=0,D=v.body,I=D.reduce(function(nt,at){return nt+at.before.length+at.lines.length+at.after.length},0),B=v.title.length,E=v.footer.length,z=v.titleFontSize,W=v.bodyFontSize,$=v.footerFontSize;C+=B*z,C+=B?(B-1)*v.titleSpacing:0,C+=B?v.titleMarginBottom:0,C+=(I+=v.beforeBody.length+v.afterBody.length)*W,C+=I?(I-1)*v.bodySpacing:0,C+=E?v.footerMarginTop:0,C+=E*$,C+=E?(E-1)*v.footerSpacing:0;var Q=0,it=function(nt){M=Math.max(M,x.measureText(nt).width+Q)};return x.font=Z.fontString(z,v._titleFontStyle,v._titleFontFamily),Z.each(v.title,it),x.font=Z.fontString(W,v._bodyFontStyle,v._bodyFontFamily),Z.each(v.beforeBody.concat(v.afterBody),it),Q=v.displayColors?W+2:0,Z.each(D,function(nt){Z.each(nt.before,it),Z.each(nt.lines,it),Z.each(nt.after,it)}),Q=0,x.font=Z.fontString($,v._footerFontStyle,v._footerFontFamily),Z.each(v.footer,it),{width:M+=2*v.xPadding,height:C}}(this,M),B=function on(d,v){var x=d._model,C=d._chart,M=d._chart.chartArea,D="center",I="center";x.y<v.height?I="top":x.y>C.height-v.height&&(I="bottom");var B,E,z,W,$,Q=(M.left+M.right)/2,it=(M.top+M.bottom)/2;"center"===I?(B=function(at){return at<=Q},E=function(at){return at>Q}):(B=function(at){return at<=v.width/2},E=function(at){return at>=C.width-v.width/2}),z=function(at){return at+v.width+x.caretSize+x.caretPadding>C.width},W=function(at){return at-v.width-x.caretSize-x.caretPadding<0},$=function(at){return at<=it?"top":"bottom"},B(x.x)?(D="left",z(x.x)&&(D="center",I=$(x.y))):E(x.x)&&(D="right",W(x.x)&&(D="center",I=$(x.y)));var nt=d._options;return{xAlign:nt.xAlign?nt.xAlign:D,yAlign:nt.yAlign?nt.yAlign:I}}(this,z),v._chart)}else M.opacity=0;return M.xAlign=B.xAlign,M.yAlign=B.yAlign,M.x=E.x,M.y=E.y,M.width=z.width,M.height=z.height,M.caretX=W.x,M.caretY=W.y,v._model=M,d&&x.custom&&x.custom.call(v,M),v},drawCaret:function(d,v){var x=this._chart.ctx,M=this.getCaretPosition(d,v,this._view);x.lineTo(M.x1,M.y1),x.lineTo(M.x2,M.y2),x.lineTo(M.x3,M.y3)},getCaretPosition:function(d,v,x){var C,M,D,I,B,E,z=x.caretSize,W=x.cornerRadius,$=x.xAlign,Q=x.yAlign,it=d.x,nt=d.y,at=v.width,ht=v.height;if("center"===Q)B=nt+ht/2,"left"===$?(M=(C=it)-z,D=C,I=B+z,E=B-z):(M=(C=it+at)+z,D=C,I=B-z,E=B+z);else if("left"===$?(C=(M=it+W+z)-z,D=M+z):"right"===$?(C=(M=it+at-W-z)-z,D=M+z):(C=(M=x.caretX)-z,D=M+z),"top"===Q)B=(I=nt)-z,E=I;else{B=(I=nt+ht)+z,E=I;var wt=D;D=C,C=wt}return{x1:C,x2:M,x3:D,y1:I,y2:B,y3:E}},drawTitle:function(d,v,x){var D,I,B,C=v.title,M=C.length;if(M){var E=Wa(v.rtl,v.x,v.width);for(d.x=Mn(v,v._titleAlign),x.textAlign=E.textAlign(v._titleAlign),x.textBaseline="middle",D=v.titleFontSize,I=v.titleSpacing,x.fillStyle=v.titleFontColor,x.font=Z.fontString(D,v._titleFontStyle,v._titleFontFamily),B=0;B<M;++B)x.fillText(C[B],E.x(d.x),d.y+D/2),d.y+=D+I,B+1===M&&(d.y+=v.titleMarginBottom-I)}},drawBody:function(d,v,x){var Q,it,nt,at,ht,wt,Nt,Xt,C=v.bodyFontSize,M=v.bodySpacing,D=v._bodyAlign,I=v.body,B=v.displayColors,E=0,z=B?Mn(v,"left"):0,W=Wa(v.rtl,v.x,v.width),$=function(We){x.fillText(We,W.x(d.x+E),d.y+C/2),d.y+=C+M},xe=W.textAlign(D);for(x.textAlign=D,x.textBaseline="middle",x.font=Z.fontString(C,v._bodyFontStyle,v._bodyFontFamily),d.x=Mn(v,xe),x.fillStyle=v.bodyFontColor,Z.each(v.beforeBody,$),E=B&&"right"!==xe?"center"===D?C/2+1:C+2:0,ht=0,Nt=I.length;ht<Nt;++ht){for(Q=I[ht],nt=v.labelColors[ht],x.fillStyle=it=v.labelTextColors[ht],Z.each(Q.before,$),wt=0,Xt=(at=Q.lines).length;wt<Xt;++wt){if(B){var be=W.x(z);x.fillStyle=v.legendColorBackground,x.fillRect(W.leftForLtr(be,C),d.y,C,C),x.lineWidth=1,x.strokeStyle=nt.borderColor,x.strokeRect(W.leftForLtr(be,C),d.y,C,C),x.fillStyle=nt.backgroundColor,x.fillRect(W.leftForLtr(W.xPlus(be,1),C-2),d.y+1,C-2,C-2),x.fillStyle=it}$(at[wt])}Z.each(Q.after,$)}E=0,Z.each(v.afterBody,$),d.y-=M},drawFooter:function(d,v,x){var D,I,C=v.footer,M=C.length;if(M){var B=Wa(v.rtl,v.x,v.width);for(d.x=Mn(v,v._footerAlign),d.y+=v.footerMarginTop,x.textAlign=B.textAlign(v._footerAlign),x.textBaseline="middle",D=v.footerFontSize,x.fillStyle=v.footerFontColor,x.font=Z.fontString(D,v._footerFontStyle,v._footerFontFamily),I=0;I<M;++I)x.fillText(C[I],B.x(d.x),d.y+D/2),d.y+=D+v.footerSpacing}},drawBackground:function(d,v,x,C){x.fillStyle=v.backgroundColor,x.strokeStyle=v.borderColor,x.lineWidth=v.borderWidth;var M=v.xAlign,D=v.yAlign,I=d.x,B=d.y,E=C.width,z=C.height,W=v.cornerRadius;x.beginPath(),x.moveTo(I+W,B),"top"===D&&this.drawCaret(d,C),x.lineTo(I+E-W,B),x.quadraticCurveTo(I+E,B,I+E,B+W),"center"===D&&"right"===M&&this.drawCaret(d,C),x.lineTo(I+E,B+z-W),x.quadraticCurveTo(I+E,B+z,I+E-W,B+z),"bottom"===D&&this.drawCaret(d,C),x.lineTo(I+W,B+z),x.quadraticCurveTo(I,B+z,I,B+z-W),"center"===D&&"left"===M&&this.drawCaret(d,C),x.lineTo(I,B+W),x.quadraticCurveTo(I,B,I+W,B),x.closePath(),x.fill(),v.borderWidth>0&&x.stroke()},draw:function(){var d=this._chart.ctx,v=this._view;if(0!==v.opacity){var x={width:v.width,height:v.height},C={x:v.x,y:v.y},M=Math.abs(v.opacity<.001)?0:v.opacity;this._options.enabled&&(v.title.length||v.beforeBody.length||v.body.length||v.afterBody.length||v.footer.length)&&(d.save(),d.globalAlpha=M,this.drawBackground(C,v,d,x),C.y+=v.yPadding,Z.rtl.overrideTextDirection(d,v.textDirection),this.drawTitle(C,v,d),this.drawBody(C,v,d),this.drawFooter(C,v,d),Z.rtl.restoreTextDirection(d,v.textDirection),d.restore())}},handleEvent:function(d){var C,v=this,x=v._options;return v._lastActive=v._lastActive||[],"mouseout"===d.type?v._active=[]:(v._active=v._chart.getElementsAtEventForMode(d,x.mode,x),x.reverse&&v._active.reverse()),(C=!Z.arrayEquals(v._active,v._lastActive))&&(v._lastActive=v._active,(x.enabled||x.custom)&&(v._eventPosition={x:d.x,y:d.y},v.update(!0),v.pivot())),C}}),xs=$t;xs.positioners=ee;var ko=Z.valueOrDefault;function ml(){return Z.merge(Object.create(null),[].slice.call(arguments),{merger:function(d,v,x,C){if("xAxes"===d||"yAxes"===d){var D,I,B,M=x[d].length;for(v[d]||(v[d]=[]),D=0;D<M;++D)I=ko((B=x[d][D]).type,"xAxes"===d?"category":"linear"),D>=v[d].length&&v[d].push({}),Z.merge(v[d][D],!v[d][D].type||B.type&&B.type!==v[d][D].type?[vn.getScaleDefaults(I),B]:B)}else Z._merger(d,v,x,C)}})}function xr(){return Z.merge(Object.create(null),[].slice.call(arguments),{merger:function(d,v,x,C){var M=v[d]||Object.create(null),D=x[d];"scales"===d?v[d]=ml(M,D):"scale"===d?v[d]=Z.merge(M,[vn.getScaleDefaults(D.type),D]):Z._merger(d,v,x,C)}})}function bs(d,v,x){var C,M=function(D){return D.id===C};do{C=v+x++}while(Z.findIndex(d,M)>=0);return C}function cc(d){return"top"===d||"bottom"===d}function uc(d,v){return function(x,C){return x[d]===C[d]?x[v]-C[v]:x[d]-C[d]}}It._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var er=function(d,v){return this.construct(d,v),this};Z.extend(er.prototype,{construct:function(d,v){var x=this;v=function Do(d){var v=(d=d||Object.create(null)).data=d.data||{};return v.datasets=v.datasets||[],v.labels=v.labels||[],d.options=xr(It.global,It[d.type],d.options||{}),d}(v);var C=Ri.acquireContext(d,v),M=C&&C.canvas,D=M&&M.height,I=M&&M.width;x.id=Z.uid(),x.ctx=C,x.canvas=M,x.config=v,x.width=I,x.height=D,x.aspectRatio=D?I/D:null,x.options=v.options,x._bufferedRender=!1,x._layers=[],x.chart=x,x.controller=x,er.instances[x.id]=x,Object.defineProperty(x,"data",{get:function(){return x.config.data},set:function(B){x.config.data=B}}),C&&M?(x.initialize(),x.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var d=this;return Ze.notify(d,"beforeInit"),Z.retinaScale(d,d.options.devicePixelRatio),d.bindEvents(),d.options.responsive&&d.resize(!0),d.initToolTip(),Ze.notify(d,"afterInit"),d},clear:function(){return Z.canvas.clear(this),this},stop:function(){return Ea.cancelAnimation(this),this},resize:function(d){var v=this,x=v.options,C=v.canvas,M=x.maintainAspectRatio&&v.aspectRatio||null,D=Math.max(0,Math.floor(Z.getMaximumWidth(C))),I=Math.max(0,Math.floor(M?D/M:Z.getMaximumHeight(C)));if((v.width!==D||v.height!==I)&&(C.width=v.width=D,C.height=v.height=I,C.style.width=D+"px",C.style.height=I+"px",Z.retinaScale(v,x.devicePixelRatio),!d)){var B={width:D,height:I};Ze.notify(v,"resize",[B]),x.onResize&&x.onResize(v,B),v.stop(),v.update({duration:x.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var d=this.options,v=d.scales||{},x=d.scale;Z.each(v.xAxes,function(C,M){C.id||(C.id=bs(v.xAxes,"x-axis-",M))}),Z.each(v.yAxes,function(C,M){C.id||(C.id=bs(v.yAxes,"y-axis-",M))}),x&&(x.id=x.id||"scale")},buildOrUpdateScales:function(){var d=this,v=d.options,x=d.scales||{},C=[],M=Object.keys(x).reduce(function(D,I){return D[I]=!1,D},{});v.scales&&(C=C.concat((v.scales.xAxes||[]).map(function(D){return{options:D,dtype:"category",dposition:"bottom"}}),(v.scales.yAxes||[]).map(function(D){return{options:D,dtype:"linear",dposition:"left"}}))),v.scale&&C.push({options:v.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),Z.each(C,function(D){var I=D.options,B=I.id,E=ko(I.type,D.dtype);cc(I.position)!==cc(D.dposition)&&(I.position=D.dposition),M[B]=!0;var z=null;if(B in x&&x[B].type===E)(z=x[B]).options=I,z.ctx=d.ctx,z.chart=d;else{var W=vn.getScaleConstructor(E);if(!W)return;z=new W({id:B,type:E,options:I,ctx:d.ctx,chart:d}),x[z.id]=z}z.mergeTicksOptions(),D.isDefault&&(d.scale=z)}),Z.each(M,function(D,I){D||delete x[I]}),d.scales=x,vn.addScalesToLayout(this)},buildOrUpdateControllers:function(){var C,M,d=this,v=[],x=d.data.datasets;for(C=0,M=x.length;C<M;C++){var D=x[C],I=d.getDatasetMeta(C),B=D.type||d.config.type;if(I.type&&I.type!==B&&(d.destroyDatasetMeta(C),I=d.getDatasetMeta(C)),I.type=B,I.order=D.order||0,I.index=C,I.controller)I.controller.updateIndex(C),I.controller.linkScales();else{var E=Va[I.type];if(void 0===E)throw new Error('"'+I.type+'" is not a chart type.');I.controller=new E(d,C),v.push(I.controller)}}return v},resetElements:function(){var d=this;Z.each(d.data.datasets,function(v,x){d.getDatasetMeta(x).controller.reset()},d)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(d){var x,C,v=this;if((!d||"object"!=typeof d)&&(d={duration:d,lazy:arguments[1]}),function Po(d){var v=d.options;Z.each(d.scales,function(x){Yi.removeBox(d,x)}),v=xr(It.global,It[d.config.type],v),d.options=d.config.options=v,d.ensureScalesHaveIDs(),d.buildOrUpdateScales(),d.tooltip._options=v.tooltips,d.tooltip.initialize()}(v),Ze._invalidate(v),!1!==Ze.notify(v,"beforeUpdate")){v.tooltip._data=v.data;var M=v.buildOrUpdateControllers();for(x=0,C=v.data.datasets.length;x<C;x++)v.getDatasetMeta(x).controller.buildOrUpdateElements();v.updateLayout(),v.options.animation&&v.options.animation.duration&&Z.each(M,function(D){D.reset()}),v.updateDatasets(),v.tooltip.initialize(),v.lastActive=[],Ze.notify(v,"afterUpdate"),v._layers.sort(uc("z","_idx")),v._bufferedRender?v._bufferedRequest={duration:d.duration,easing:d.easing,lazy:d.lazy}:v.render(d)}},updateLayout:function(){var d=this;!1!==Ze.notify(d,"beforeLayout")&&(Yi.update(this,this.width,this.height),d._layers=[],Z.each(d.boxes,function(v){v._configure&&v._configure(),d._layers.push.apply(d._layers,v._layers())},d),d._layers.forEach(function(v,x){v._idx=x}),Ze.notify(d,"afterScaleUpdate"),Ze.notify(d,"afterLayout"))},updateDatasets:function(){var d=this;if(!1!==Ze.notify(d,"beforeDatasetsUpdate")){for(var v=0,x=d.data.datasets.length;v<x;++v)d.updateDataset(v);Ze.notify(d,"afterDatasetsUpdate")}},updateDataset:function(d){var v=this,x=v.getDatasetMeta(d),C={meta:x,index:d};!1!==Ze.notify(v,"beforeDatasetUpdate",[C])&&(x.controller._update(),Ze.notify(v,"afterDatasetUpdate",[C]))},render:function(d){var v=this;(!d||"object"!=typeof d)&&(d={duration:d,lazy:arguments[1]});var x=v.options.animation,C=ko(d.duration,x&&x.duration),M=d.lazy;if(!1!==Ze.notify(v,"beforeRender")){var D=function(B){Ze.notify(v,"afterRender"),Z.callback(x&&x.onComplete,[B],v)};if(x&&C){var I=new ic({numSteps:C/16.66,easing:d.easing||x.easing,render:function(B,E){var W=E.currentStep,$=W/E.numSteps;B.draw((0,Z.easing.effects[E.easing])($),$,W)},onAnimationProgress:x.onProgress,onAnimationComplete:D});Ea.addAnimation(v,I,C,M)}else v.draw(),D(new ic({numSteps:0,chart:v}));return v}},draw:function(d){var x,C,v=this;if(v.clear(),Z.isNullOrUndef(d)&&(d=1),v.transition(d),!(v.width<=0||v.height<=0)&&!1!==Ze.notify(v,"beforeDraw",[d])){for(C=v._layers,x=0;x<C.length&&C[x].z<=0;++x)C[x].draw(v.chartArea);for(v.drawDatasets(d);x<C.length;++x)C[x].draw(v.chartArea);v._drawTooltip(d),Ze.notify(v,"afterDraw",[d])}},transition:function(d){for(var v=this,x=0,C=(v.data.datasets||[]).length;x<C;++x)v.isDatasetVisible(x)&&v.getDatasetMeta(x).controller.transition(d);v.tooltip.transition(d)},_getSortedDatasetMetas:function(d){var M,D,v=this,C=[];for(M=0,D=(v.data.datasets||[]).length;M<D;++M)(!d||v.isDatasetVisible(M))&&C.push(v.getDatasetMeta(M));return C.sort(uc("order","index")),C},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(d){var x,C,v=this;if(!1!==Ze.notify(v,"beforeDatasetsDraw",[d])){for(C=(x=v._getSortedVisibleDatasetMetas()).length-1;C>=0;--C)v.drawDataset(x[C],d);Ze.notify(v,"afterDatasetsDraw",[d])}},drawDataset:function(d,v){var C={meta:d,index:d.index,easingValue:v};!1!==Ze.notify(this,"beforeDatasetDraw",[C])&&(d.controller.draw(v),Ze.notify(this,"afterDatasetDraw",[C]))},_drawTooltip:function(d){var v=this,x=v.tooltip,C={tooltip:x,easingValue:d};!1!==Ze.notify(v,"beforeTooltipDraw",[C])&&(x.draw(),Ze.notify(v,"afterTooltipDraw",[C]))},getElementAtEvent:function(d){return wn.modes.single(this,d)},getElementsAtEvent:function(d){return wn.modes.label(this,d,{intersect:!0})},getElementsAtXAxis:function(d){return wn.modes["x-axis"](this,d,{intersect:!0})},getElementsAtEventForMode:function(d,v,x){var C=wn.modes[v];return"function"==typeof C?C(this,d,x):[]},getDatasetAtEvent:function(d){return wn.modes.dataset(this,d,{intersect:!0})},getDatasetMeta:function(d){var v=this,x=v.data.datasets[d];x._meta||(x._meta={});var C=x._meta[v.id];return C||(C=x._meta[v.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:x.order||0,index:d}),C},getVisibleDatasetCount:function(){for(var d=0,v=0,x=this.data.datasets.length;v<x;++v)this.isDatasetVisible(v)&&d++;return d},isDatasetVisible:function(d){var v=this.getDatasetMeta(d);return"boolean"==typeof v.hidden?!v.hidden:!this.data.datasets[d].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(d){var v=this.id,x=this.data.datasets[d],C=x._meta&&x._meta[v];C&&(C.controller.destroy(),delete x._meta[v])},destroy:function(){var x,C,d=this,v=d.canvas;for(d.stop(),x=0,C=d.data.datasets.length;x<C;++x)d.destroyDatasetMeta(x);v&&(d.unbindEvents(),Z.canvas.clear(d),Ri.releaseContext(d.ctx),d.canvas=null,d.ctx=null),Ze.notify(d,"destroy"),delete er.instances[d.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var d=this;d.tooltip=new xs({_chart:d,_chartInstance:d,_data:d.data,_options:d.options.tooltips},d)},bindEvents:function(){var d=this,v=d._listeners={},x=function(){d.eventHandler.apply(d,arguments)};Z.each(d.options.events,function(C){Ri.addEventListener(d,C,x),v[C]=x}),d.options.responsive&&(x=function(){d.resize()},Ri.addEventListener(d,"resize",x),v.resize=x)},unbindEvents:function(){var d=this,v=d._listeners;v&&(delete d._listeners,Z.each(v,function(x,C){Ri.removeEventListener(d,C,x)}))},updateHoverStyle:function(d,v,x){var M,D,I,C=x?"set":"remove";for(D=0,I=d.length;D<I;++D)(M=d[D])&&this.getDatasetMeta(M._datasetIndex).controller[C+"HoverStyle"](M);"dataset"===v&&this.getDatasetMeta(d[0]._datasetIndex).controller["_"+C+"DatasetHoverStyle"]()},eventHandler:function(d){var v=this,x=v.tooltip;if(!1!==Ze.notify(v,"beforeEvent",[d])){v._bufferedRender=!0,v._bufferedRequest=null;var C=v.handleEvent(d);x&&(C=x._start?x.handleEvent(d):C|x.handleEvent(d)),Ze.notify(v,"afterEvent",[d]);var M=v._bufferedRequest;return M?v.render(M):C&&!v.animating&&(v.stop(),v.render({duration:v.options.hover.animationDuration,lazy:!0})),v._bufferedRender=!1,v._bufferedRequest=null,v}},handleEvent:function(d){var M,v=this,x=v.options||{},C=x.hover;return v.lastActive=v.lastActive||[],v.active="mouseout"===d.type?[]:v.getElementsAtEventForMode(d,C.mode,C),Z.callback(x.onHover||x.hover.onHover,[d.native,v.active],v),("mouseup"===d.type||"click"===d.type)&&x.onClick&&x.onClick.call(v,d.native,v.active),v.lastActive.length&&v.updateHoverStyle(v.lastActive,C.mode,!1),v.active.length&&C.mode&&v.updateHoverStyle(v.active,C.mode,!0),M=!Z.arrayEquals(v.active,v.lastActive),v.lastActive=v.active,M}}),er.instances={};var Se=er;er.Controller=er,er.types={},Z.configMerge=xr,Z.scaleMerge=ml;function ir(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function Gn(d){this.options=d||{}}Z.extend(Gn.prototype,{formats:ir,parse:ir,format:ir,add:ir,diff:ir,startOf:ir,endOf:ir,_create:function(d){return d}}),Gn.override=function(d){Z.extend(Gn.prototype,d)};var dc={_date:Gn},nr={formatters:{values:function(d){return Z.isArray(d)?d:""+d},linear:function(d,v,x){var C=x.length>3?x[2]-x[1]:x[1]-x[0];Math.abs(C)>1&&d!==Math.floor(d)&&(C=d-Math.floor(d));var M=Z.log10(Math.abs(C)),D="";if(0!==d)if(Math.max(Math.abs(x[0]),Math.abs(x[x.length-1]))<1e-4){var B=Z.log10(Math.abs(d)),E=Math.floor(B)-Math.floor(M);E=Math.max(Math.min(E,20),0),D=d.toExponential(E)}else{var z=-1*Math.floor(M);z=Math.max(Math.min(z,20),0),D=d.toFixed(z)}else D="0";return D},logarithmic:function(d,v,x){var C=d/Math.pow(10,Math.floor(Z.log10(d)));return 0===d?"0":1===C||2===C||5===C||0===v||v===x.length-1?d.toExponential():""}}},Xr=Z.isArray,da=Z.isNullOrUndef,Za=Z.valueOrDefault,rr=Z.valueAtIndexOrDefault;function br(d,v,x){var z,C=d.getTicks().length,M=Math.min(v,C-1),D=d.getPixelForTick(M),I=d._startPixel,B=d._endPixel,E=1e-6;if(!(x&&(z=1===C?Math.max(D-I,B-D):0===v?(d.getPixelForTick(1)-D)/2:(D-d.getPixelForTick(M-1))/2,D+=M<v?z:-z,D<I-E||D>B+E)))return D}function fc(d,v,x,C){var W,$,Q,it,nt,at,ht,wt,Nt,Xt,xe,be,We,M=x.length,D=[],I=[],B=[],E=0,z=0;for(W=0;W<M;++W){if(it=x[W].label,d.font=at=(nt=x[W].major?v.major:v.minor).string,ht=C[at]=C[at]||{data:{},gc:[]},wt=nt.lineHeight,Nt=Xt=0,da(it)||Xr(it)){if(Xr(it))for($=0,Q=it.length;$<Q;++$)!da(xe=it[$])&&!Xr(xe)&&(Nt=Z.measureText(d,ht.data,ht.gc,Nt,xe),Xt+=wt)}else Nt=Z.measureText(d,ht.data,ht.gc,Nt,it),Xt=wt;D.push(Nt),I.push(Xt),B.push(wt/2),E=Math.max(Nt,E),z=Math.max(Xt,z)}function Ge(Pe){return{width:D[Pe]||0,height:I[Pe]||0,offset:B[Pe]||0}}return function $a(d,v){Z.each(d,function(x){var D,C=x.gc,M=C.length/2;if(M>v){for(D=0;D<M;++D)delete x.data[C[D]];C.splice(0,M)}})}(C,M),be=D.indexOf(E),We=I.indexOf(z),{first:Ge(0),last:Ge(M-1),widest:Ge(be),highest:Ge(We)}}function ja(d){return d.drawTicks?d.tickMarkLength:0}function Ln(d){var v,x;return d.display?(v=Z.options._parseFont(d),x=Z.options.toPadding(d.padding),v.lineHeight+x.height):0}function yl(d,v){return Z.extend(Z.options._parseFont({fontFamily:Za(v.fontFamily,d.fontFamily),fontSize:Za(v.fontSize,d.fontSize),fontStyle:Za(v.fontStyle,d.fontStyle),lineHeight:Za(v.lineHeight,d.lineHeight)}),{color:Z.options.resolve([v.fontColor,d.fontColor,It.global.defaultFontColor])})}function Cs(d){var v=yl(d,d.minor);return{minor:v,major:d.major.enabled?yl(d,d.major):v}}function fa(d){var x,C,M,v=[];for(C=0,M=d.length;C<M;++C)typeof(x=d[C])._index<"u"&&v.push(x);return v}function Hn(d,v,x,C){var B,E,z,W,M=Za(x,0),D=Math.min(Za(C,d.length),d.length),I=0;for(v=Math.ceil(v),C&&(v=(B=C-x)/Math.floor(B/v)),W=M;W<0;)I++,W=Math.round(M+I*v);for(E=Math.max(M,0);E<D;E++)z=d[E],E===W?(z._index=E,I++,W=Math.round(M+I*v)):delete z.label}It._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:nr.formatters.values,minor:{},major:{}}});var Oo=pn.extend({zeroLineIndex:0,getPadding:function(){var d=this;return{left:d.paddingLeft||0,top:d.paddingTop||0,right:d.paddingRight||0,bottom:d.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var d=this.chart.data;return this.options.labels||(this.isHorizontal()?d.xLabels:d.yLabels)||d.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){Z.callback(this.options.beforeUpdate,[this])},update:function(d,v,x){var I,B,E,z,W,C=this,M=C.options.ticks,D=M.sampleSize;if(C.beforeUpdate(),C.maxWidth=d,C.maxHeight=v,C.margins=Z.extend({left:0,right:0,top:0,bottom:0},x),C._ticks=null,C.ticks=null,C._labelSizes=null,C._maxLabelLines=0,C.longestLabelWidth=0,C.longestTextCache=C.longestTextCache||{},C._gridLineItems=null,C._labelItems=null,C.beforeSetDimensions(),C.setDimensions(),C.afterSetDimensions(),C.beforeDataLimits(),C.determineDataLimits(),C.afterDataLimits(),C.beforeBuildTicks(),z=C.buildTicks()||[],(!(z=C.afterBuildTicks(z)||z)||!z.length)&&C.ticks)for(z=[],I=0,B=C.ticks.length;I<B;++I)z.push({value:C.ticks[I],major:!1});return C._ticks=z,E=C._convertTicksToLabels((W=D<z.length)?function An(d,v){for(var x=[],C=d.length/v,M=0,D=d.length;M<D;M+=C)x.push(d[Math.floor(M)]);return x}(z,D):z),C._configure(),C.beforeCalculateTickRotation(),C.calculateTickRotation(),C.afterCalculateTickRotation(),C.beforeFit(),C.fit(),C.afterFit(),C._ticksToDraw=M.display&&(M.autoSkip||"auto"===M.source)?C._autoSkip(z):z,W&&(E=C._convertTicksToLabels(C._ticksToDraw)),C.ticks=E,C.afterUpdate(),C.minSize},_configure:function(){var x,C,d=this,v=d.options.ticks.reverse;d.isHorizontal()?(x=d.left,C=d.right):(x=d.top,C=d.bottom,v=!v),d._startPixel=x,d._endPixel=C,d._reversePixels=v,d._length=C-x},afterUpdate:function(){Z.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){Z.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var d=this;d.isHorizontal()?(d.width=d.maxWidth,d.left=0,d.right=d.width):(d.height=d.maxHeight,d.top=0,d.bottom=d.height),d.paddingLeft=0,d.paddingTop=0,d.paddingRight=0,d.paddingBottom=0},afterSetDimensions:function(){Z.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){Z.callback(this.options.beforeDataLimits,[this])},determineDataLimits:Z.noop,afterDataLimits:function(){Z.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){Z.callback(this.options.beforeBuildTicks,[this])},buildTicks:Z.noop,afterBuildTicks:function(d){var v=this;return Xr(d)&&d.length?Z.callback(v.options.afterBuildTicks,[v,d]):(v.ticks=Z.callback(v.options.afterBuildTicks,[v,v.ticks])||v.ticks,d)},beforeTickToLabelConversion:function(){Z.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var d=this,v=d.options.ticks;d.ticks=d.ticks.map(v.userCallback||v.callback,this)},afterTickToLabelConversion:function(){Z.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){Z.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var B,E,z,W,$,Q,it,d=this,v=d.options,x=v.ticks,C=d.getTicks().length,M=x.minRotation||0,D=x.maxRotation,I=M;!d._isVisible()||!x.display||M>=D||C<=1||!d.isHorizontal()?d.labelRotation=M:(E=(B=d._getLabelSizes()).widest.width,z=B.highest.height-B.highest.offset,W=Math.min(d.maxWidth,d.chart.width-E),E+6>($=v.offset?d.maxWidth/C:W/(C-1))&&($=W/(C-(v.offset?.5:1)),Q=d.maxHeight-ja(v.gridLines)-x.padding-Ln(v.scaleLabel),it=Math.sqrt(E*E+z*z),I=Z.toDegrees(Math.min(Math.asin(Math.min((B.highest.height+6)/$,1)),Math.asin(Math.min(Q/it,1))-Math.asin(z/it))),I=Math.max(M,Math.min(D,I))),d.labelRotation=I)},afterCalculateTickRotation:function(){Z.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){Z.callback(this.options.beforeFit,[this])},fit:function(){var d=this,v=d.minSize={width:0,height:0},x=d.chart,C=d.options,M=C.ticks,D=C.scaleLabel,I=C.gridLines,B=d._isVisible(),E="bottom"===C.position,z=d.isHorizontal();if(z?v.width=d.maxWidth:B&&(v.width=ja(I)+Ln(D)),z?B&&(v.height=ja(I)+Ln(D)):v.height=d.maxHeight,M.display&&B){var W=Cs(M),$=d._getLabelSizes(),Q=$.first,it=$.last,nt=$.widest,at=$.highest,ht=.4*W.minor.lineHeight,wt=M.padding;if(z){var Nt=0!==d.labelRotation,Xt=Z.toRadians(d.labelRotation),xe=Math.cos(Xt),be=Math.sin(Xt);v.height=Math.min(d.maxHeight,v.height+(be*nt.width+xe*(at.height-(Nt?at.offset:0))+(Nt?0:ht))+wt);var ei,$i,Ge=d.getPixelForTick(0)-d.left,Pe=d.right-d.getPixelForTick(d.getTicks().length-1);Nt?(ei=E?xe*Q.width+be*Q.offset:be*(Q.height-Q.offset),$i=E?be*(it.height-it.offset):xe*it.width+be*it.offset):(ei=Q.width/2,$i=it.width/2),d.paddingLeft=Math.max((ei-Ge)*d.width/(d.width-Ge),0)+3,d.paddingRight=Math.max(($i-Pe)*d.width/(d.width-Pe),0)+3}else v.width=Math.min(d.maxWidth,v.width+(M.mirror?0:nt.width+wt+ht)),d.paddingTop=Q.height/2,d.paddingBottom=it.height/2}d.handleMargins(),z?(d.width=d._length=x.width-d.margins.left-d.margins.right,d.height=v.height):(d.width=v.width,d.height=d._length=x.height-d.margins.top-d.margins.bottom)},handleMargins:function(){var d=this;d.margins&&(d.margins.left=Math.max(d.paddingLeft,d.margins.left),d.margins.top=Math.max(d.paddingTop,d.margins.top),d.margins.right=Math.max(d.paddingRight,d.margins.right),d.margins.bottom=Math.max(d.paddingBottom,d.margins.bottom))},afterFit:function(){Z.callback(this.options.afterFit,[this])},isHorizontal:function(){var d=this.options.position;return"top"===d||"bottom"===d},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(d){if(da(d))return NaN;if(("number"==typeof d||d instanceof Number)&&!isFinite(d))return NaN;if(d)if(this.isHorizontal()){if(void 0!==d.x)return this.getRightValue(d.x)}else if(void 0!==d.y)return this.getRightValue(d.y);return d},_convertTicksToLabels:function(d){var x,C,M,v=this;for(v.ticks=d.map(function(D){return D.value}),v.beforeTickToLabelConversion(),x=v.convertTicksToLabels(d)||v.ticks,v.afterTickToLabelConversion(),C=0,M=d.length;C<M;++C)d[C].label=x[C];return x},_getLabelSizes:function(){var d=this,v=d._labelSizes;return v||(d._labelSizes=v=fc(d.ctx,Cs(d.options.ticks),d.getTicks(),d.longestTextCache),d.longestLabelWidth=v.widest.width),v},_parseValue:function(d){var v,x,C,M;return Xr(d)?(v=+this.getRightValue(d[0]),x=+this.getRightValue(d[1]),C=Math.min(v,x),M=Math.max(v,x)):(v=void 0,x=d=+this.getRightValue(d),C=d,M=d),{min:C,max:M,start:v,end:x}},_getScaleLabel:function(d){var v=this._parseValue(d);return void 0!==v.start?"["+v.start+", "+v.end+"]":+this.getRightValue(d)},getLabelForIndex:Z.noop,getPixelForValue:Z.noop,getValueForPixel:Z.noop,getPixelForTick:function(d){var v=this,x=v.options.offset,C=v._ticks.length,M=1/Math.max(C-(x?0:1),1);return d<0||d>C-1?null:v.getPixelForDecimal(d*M+(x?M/2:0))},getPixelForDecimal:function(d){var v=this;return v._reversePixels&&(d=1-d),v._startPixel+d*v._length},getDecimalForPixel:function(d){var v=(d-this._startPixel)/this._length;return this._reversePixels?1-v:v},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var d=this,v=d.min,x=d.max;return d.beginAtZero?0:v<0&&x<0?x:v>0&&x>0?v:0},_autoSkip:function(d){var z,W,$,Q,v=this,x=v.options.ticks,C=v._length,M=x.maxTicksLimit||C/v._tickSize()+1,D=x.major.enabled?function Ka(d){var x,C,v=[];for(x=0,C=d.length;x<C;x++)d[x].major&&v.push(x);return v}(d):[],I=D.length,B=D[0],E=D[I-1];if(I>M)return function Io(d,v,x){var D,I,C=0,M=v[0];for(x=Math.ceil(x),D=0;D<d.length;D++)I=d[D],D===M?(I._index=D,M=v[++C*x]):delete I.label}(d,D,I/M),fa(d);if($=function qa(d,v,x,C){var I,B,E,z,M=function pc(d){var x,C,v=d.length;if(v<2)return!1;for(C=d[0],x=1;x<v;++x)if(d[x]-d[x-1]!==C)return!1;return C}(d),D=(v.length-1)/C;if(!M)return Math.max(D,1);for(E=0,z=(I=Z.math._factorize(M)).length-1;E<z;E++)if((B=I[E])>D)return B;return Math.max(D,1)}(D,d,0,M),I>0){for(z=0,W=I-1;z<W;z++)Hn(d,$,D[z],D[z+1]);return Hn(d,$,Z.isNullOrUndef(Q=I>1?(E-B)/(I-1):null)?0:B-Q,B),Hn(d,$,E,Z.isNullOrUndef(Q)?d.length:E+Q),fa(d)}return Hn(d,$),fa(d)},_tickSize:function(){var d=this,v=d.options.ticks,x=Z.toRadians(d.labelRotation),C=Math.abs(Math.cos(x)),M=Math.abs(Math.sin(x)),D=d._getLabelSizes(),I=v.autoSkipPadding||0,B=D?D.widest.width+I:0,E=D?D.highest.height+I:0;return d.isHorizontal()?E*C>B*M?B/C:E/M:E*M<B*C?E/C:B/M},_isVisible:function(){var C,M,D,d=this,v=d.chart,x=d.options.display;if("auto"!==x)return!!x;for(C=0,M=v.data.datasets.length;C<M;++C)if(v.isDatasetVisible(C)&&((D=v.getDatasetMeta(C)).xAxisID===d.id||D.yAxisID===d.id))return!0;return!1},_computeGridLineItems:function(d){var ht,wt,Nt,Xt,xe,be,We,Ge,Pe,ei,$i,Bi,_i,Vi,Ms,Sl,Xd,v=this,x=v.chart,C=v.options,M=C.gridLines,D=C.position,I=M.offsetGridLines,B=v.isHorizontal(),E=v._ticksToDraw,z=E.length+(I?1:0),W=ja(M),$=[],Q=M.drawBorder?rr(M.lineWidth,0,0):0,it=Q/2,nt=Z._alignPixel,at=function(eg){return nt(x,eg,Q)};for("top"===D?(ht=at(v.bottom),We=v.bottom-W,Pe=ht-it,$i=at(d.top)+it,_i=d.bottom):"bottom"===D?(ht=at(v.top),$i=d.top,_i=at(d.bottom)-it,We=ht+it,Pe=v.top+W):"left"===D?(ht=at(v.right),be=v.right-W,Ge=ht-it,ei=at(d.left)+it,Bi=d.right):(ht=at(v.left),ei=d.left,Bi=at(d.right)-it,be=ht+it,Ge=v.left+W),wt=0;wt<z;++wt)!(da((Nt=E[wt]||{}).label)&&wt<E.length)&&(wt===v.zeroLineIndex&&C.offset===I?(Vi=M.zeroLineWidth,Ms=M.zeroLineColor,Sl=M.zeroLineBorderDash||[],Xd=M.zeroLineBorderDashOffset||0):(Vi=rr(M.lineWidth,wt,1),Ms=rr(M.color,wt,"rgba(0,0,0,0.1)"),Sl=M.borderDash||[],Xd=M.borderDashOffset||0),void 0!==(Xt=br(v,Nt._index||wt,I))&&(xe=nt(x,Xt,Vi),B?be=Ge=ei=Bi=xe:We=Pe=$i=_i=xe,$.push({tx1:be,ty1:We,tx2:Ge,ty2:Pe,x1:ei,y1:$i,x2:Bi,y2:_i,width:Vi,color:Ms,borderDash:Sl,borderDashOffset:Xd})));return $.ticksLength=z,$.borderValue=ht,$},_computeLabelItems:function(){var Q,it,nt,at,ht,wt,Nt,Xt,xe,be,We,Ge,d=this,v=d.options,x=v.ticks,C=v.position,M=x.mirror,D=d.isHorizontal(),I=d._ticksToDraw,B=Cs(x),E=x.padding,z=ja(v.gridLines),W=-Z.toRadians(d.labelRotation),$=[];for("top"===C?(wt=d.bottom-z-E,Nt=W?"left":"center"):"bottom"===C?(wt=d.top+z+E,Nt=W?"right":"center"):"left"===C?(ht=d.right-(M?0:z)-E,Nt=M?"left":"right"):(ht=d.left+(M?0:z)+E,Nt=M?"right":"left"),Q=0,it=I.length;Q<it;++Q)!da(at=(nt=I[Q]).label)&&(Xt=d.getPixelForTick(nt._index||Q)+x.labelOffset,be=(xe=nt.major?B.major:B.minor).lineHeight,We=Xr(at)?at.length:1,D?(ht=Xt,Ge="top"===C?((W?1:.5)-We)*be:(W?0:.5)*be):(wt=Xt,Ge=(1-We)*be/2),$.push({x:ht,y:wt,rotation:W,label:at,font:xe,textOffset:Ge,textAlign:Nt}));return $},_drawGrid:function(d){var v=this,x=v.options.gridLines;if(x.display){var E,z,W,$,Q,C=v.ctx,M=v.chart,D=Z._alignPixel,I=x.drawBorder?rr(x.lineWidth,0,0):0,B=v._gridLineItems||(v._gridLineItems=v._computeGridLineItems(d));for(W=0,$=B.length;W<$;++W)z=(Q=B[W]).color,(E=Q.width)&&z&&(C.save(),C.lineWidth=E,C.strokeStyle=z,C.setLineDash&&(C.setLineDash(Q.borderDash),C.lineDashOffset=Q.borderDashOffset),C.beginPath(),x.drawTicks&&(C.moveTo(Q.tx1,Q.ty1),C.lineTo(Q.tx2,Q.ty2)),x.drawOnChartArea&&(C.moveTo(Q.x1,Q.y1),C.lineTo(Q.x2,Q.y2)),C.stroke(),C.restore());if(I){var ht,wt,Nt,Xt,it=I,nt=rr(x.lineWidth,B.ticksLength-1,1),at=B.borderValue;v.isHorizontal()?(ht=D(M,v.left,it)-it/2,wt=D(M,v.right,nt)+nt/2,Nt=Xt=at):(Nt=D(M,v.top,it)-it/2,Xt=D(M,v.bottom,nt)+nt/2,ht=wt=at),C.lineWidth=I,C.strokeStyle=rr(x.color,0),C.beginPath(),C.moveTo(ht,Nt),C.lineTo(wt,Xt),C.stroke()}}},_drawLabels:function(){var d=this;if(d.options.ticks.display){var M,D,I,B,E,z,W,$,x=d.ctx,C=d._labelItems||(d._labelItems=d._computeLabelItems());for(M=0,I=C.length;M<I;++M){if(z=(E=C[M]).font,x.save(),x.translate(E.x,E.y),x.rotate(E.rotation),x.font=z.string,x.fillStyle=z.color,x.textBaseline="middle",x.textAlign=E.textAlign,$=E.textOffset,Xr(W=E.label))for(D=0,B=W.length;D<B;++D)x.fillText(""+W[D],0,$),$+=z.lineHeight;else x.fillText(W,0,$);x.restore()}}},_drawTitle:function(){var d=this,v=d.ctx,x=d.options,C=x.scaleLabel;if(C.display){var W,$,M=Za(C.fontColor,It.global.defaultFontColor),D=Z.options._parseFont(C),I=Z.options.toPadding(C.padding),B=D.lineHeight/2,E=x.position,z=0;if(d.isHorizontal())W=d.left+d.width/2,$="bottom"===E?d.bottom-B-I.bottom:d.top+B+I.top;else{var Q="left"===E;W=Q?d.left+B+I.top:d.right-B-I.top,$=d.top+d.height/2,z=Q?-.5*Math.PI:.5*Math.PI}v.save(),v.translate(W,$),v.rotate(z),v.textAlign="center",v.textBaseline="middle",v.fillStyle=M,v.font=D.string,v.fillText(C.labelString,0,0),v.restore()}},draw:function(d){var v=this;v._isVisible()&&(v._drawGrid(d),v._drawTitle(),v._drawLabels())},_layers:function(){var d=this,v=d.options,x=v.ticks&&v.ticks.z||0,C=v.gridLines&&v.gridLines.z||0;return d._isVisible()&&x!==C&&d.draw===d._draw?[{z:C,draw:function(){d._drawGrid.apply(d,arguments),d._drawTitle.apply(d,arguments)}},{z:x,draw:function(){d._drawLabels.apply(d,arguments)}}]:[{z:x,draw:function(){d.draw.apply(d,arguments)}}]},_getMatchingVisibleMetas:function(d){var v=this,x=v.isHorizontal();return v.chart._getSortedVisibleDatasetMetas().filter(function(C){return(!d||C.type===d)&&(x?C.xAxisID===v.id:C.yAxisID===v.id)})}});Oo.prototype._draw=Oo.prototype.draw;var Zi=Oo,Ss=Z.isNullOrUndef,Wn=Zi.extend({determineDataLimits:function(){var B,d=this,v=d._getLabels(),x=d.options.ticks,C=x.min,M=x.max,D=0,I=v.length-1;void 0!==C&&(B=v.indexOf(C))>=0&&(D=B),void 0!==M&&(B=v.indexOf(M))>=0&&(I=B),d.minIndex=D,d.maxIndex=I,d.min=v[D],d.max=v[I]},buildTicks:function(){var d=this,v=d._getLabels(),x=d.minIndex,C=d.maxIndex;d.ticks=0===x&&C===v.length-1?v:v.slice(x,C+1)},getLabelForIndex:function(d,v){var x=this,C=x.chart;return C.getDatasetMeta(v).controller._getValueScaleId()===x.id?x.getRightValue(C.data.datasets[v].data[d]):x._getLabels()[d]},_configure:function(){var d=this,v=d.options.offset,x=d.ticks;Zi.prototype._configure.call(d),d.isHorizontal()||(d._reversePixels=!d._reversePixels),x&&(d._startValue=d.minIndex-(v?.5:0),d._valueRange=Math.max(x.length-(v?0:1),1))},getPixelForValue:function(d,v,x){var M,D,I,C=this;return!Ss(v)&&!Ss(x)&&(d=C.chart.data.datasets[x].data[v]),Ss(d)||(M=C.isHorizontal()?d.x:d.y),(void 0!==M||void 0!==d&&isNaN(v))&&(D=C._getLabels(),d=Z.valueOrDefault(M,d),v=-1!==(I=D.indexOf(d))?I:v,isNaN(v)&&(v=d)),C.getPixelForDecimal((v-C._startValue)/C._valueRange)},getPixelForTick:function(d){var v=this.ticks;return d<0||d>v.length-1?null:this.getPixelForValue(v[d],d+this.minIndex)},getValueForPixel:function(d){var v=this,x=Math.round(v._startValue+v.getDecimalForPixel(d)*v._valueRange);return Math.min(Math.max(x,0),v.ticks.length-1)},getBasePixel:function(){return this.bottom}});Wn._defaults={position:"bottom"};var sn=Z.isNullOrUndef;var vi=Zi.extend({getRightValue:function(d){return"string"==typeof d?+d:Zi.prototype.getRightValue.call(this,d)},handleTickRangeOptions:function(){var d=this,x=d.options.ticks;if(x.beginAtZero){var C=Z.sign(d.min),M=Z.sign(d.max);C<0&&M<0?d.max=0:C>0&&M>0&&(d.min=0)}var D=void 0!==x.min||void 0!==x.suggestedMin,I=void 0!==x.max||void 0!==x.suggestedMax;void 0!==x.min?d.min=x.min:void 0!==x.suggestedMin&&(d.min=null===d.min?x.suggestedMin:Math.min(d.min,x.suggestedMin)),void 0!==x.max?d.max=x.max:void 0!==x.suggestedMax&&(d.max=null===d.max?x.suggestedMax:Math.max(d.max,x.suggestedMax)),D!==I&&d.min>=d.max&&(D?d.max=d.min+1:d.min=d.max-1),d.min===d.max&&(d.max++,x.beginAtZero||d.min--)},getTickLimit:function(){var M,d=this,v=d.options.ticks,x=v.stepSize,C=v.maxTicksLimit;return x?M=Math.ceil(d.max/x)-Math.floor(d.min/x)+1:(M=d._computeTickLimit(),C=C||11),C&&(M=Math.min(C,M)),M},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:Z.noop,buildTicks:function(){var d=this,x=d.options.ticks,C=d.getTickLimit(),M={maxTicks:C=Math.max(2,C),min:x.min,max:x.max,precision:x.precision,stepSize:Z.valueOrDefault(x.fixedStepSize,x.stepSize)},D=d.ticks=function ah(d,v){var it,nt,at,ht,x=[],M=d.stepSize,D=M||1,I=d.maxTicks-1,B=d.min,E=d.max,z=d.precision,W=v.min,$=v.max,Q=Z.niceNum(($-W)/I/D)*D;if(Q<1e-14&&sn(B)&&sn(E))return[W,$];(ht=Math.ceil($/Q)-Math.floor(W/Q))>I&&(Q=Z.niceNum(ht*Q/I/D)*D),M||sn(z)?it=Math.pow(10,Z._decimalPlaces(Q)):(it=Math.pow(10,z),Q=Math.ceil(Q*it)/it),nt=Math.floor(W/Q)*Q,at=Math.ceil($/Q)*Q,M&&(!sn(B)&&Z.almostWhole(B/Q,Q/1e3)&&(nt=B),!sn(E)&&Z.almostWhole(E/Q,Q/1e3)&&(at=E)),ht=Z.almostEquals(ht=(at-nt)/Q,Math.round(ht),Q/1e3)?Math.round(ht):Math.ceil(ht),nt=Math.round(nt*it)/it,at=Math.round(at*it)/it,x.push(sn(B)?nt:B);for(var wt=1;wt<ht;++wt)x.push(Math.round((nt+wt*Q)*it)/it);return x.push(sn(E)?at:E),x}(M,d);d.handleDirectionalChanges(),d.max=Z.max(D),d.min=Z.min(D),x.reverse?(D.reverse(),d.start=d.max,d.end=d.min):(d.start=d.min,d.end=d.max)},convertTicksToLabels:function(){var d=this;d.ticksAsNumbers=d.ticks.slice(),d.zeroLineIndex=d.ticks.indexOf(0),Zi.prototype.convertTicksToLabels.call(d)},_configure:function(){var M,d=this,v=d.getTicks(),x=d.min,C=d.max;Zi.prototype._configure.call(d),d.options.offset&&v.length&&(x-=M=(C-x)/Math.max(v.length-1,1)/2,C+=M),d._startValue=x,d._endValue=C,d._valueRange=C-x}}),g={position:"left",ticks:{callback:nr.formatters.linear}};function Y(d,v,x,C){var W,$,M=d.options,I=function R(d,v,x){var C=[x.type,void 0===v&&void 0===x.stack?x.index:"",x.stack].join(".");return void 0===d[C]&&(d[C]={pos:[],neg:[]}),d[C]}(v,M.stacked,x),B=I.pos,E=I.neg,z=C.length;for(W=0;W<z;++W)$=d._parseValue(C[W]),!(isNaN($.min)||isNaN($.max)||x.data[W].hidden)&&(B[W]=B[W]||0,E[W]=E[W]||0,M.relativePoints?B[W]=100:$.min<0||$.max<0?E[W]+=$.min:B[W]+=$.max)}function K(d,v,x){var M,D,C=x.length;for(M=0;M<C;++M)D=d._parseValue(x[M]),!(isNaN(D.min)||isNaN(D.max)||v.data[M].hidden)&&(d.min=Math.min(d.min,D.min),d.max=Math.max(d.max,D.max))}var rt=vi.extend({determineDataLimits:function(){var E,z,W,$,d=this,v=d.options,C=d.chart.data.datasets,M=d._getMatchingVisibleMetas(),D=v.stacked,I={},B=M.length;if(d.min=Number.POSITIVE_INFINITY,d.max=Number.NEGATIVE_INFINITY,void 0===D)for(E=0;!D&&E<B;++E)D=void 0!==(z=M[E]).stack;for(E=0;E<B;++E)W=C[(z=M[E]).index].data,D?Y(d,I,z,W):K(d,z,W);Z.each(I,function(Q){$=Q.pos.concat(Q.neg),d.min=Math.min(d.min,Z.min($)),d.max=Math.max(d.max,Z.max($))}),d.min=Z.isFinite(d.min)&&!isNaN(d.min)?d.min:0,d.max=Z.isFinite(d.max)&&!isNaN(d.max)?d.max:1,d.handleTickRangeOptions()},_computeTickLimit:function(){var v,d=this;return d.isHorizontal()?Math.ceil(d.width/40):(v=Z.options._parseFont(d.options.ticks),Math.ceil(d.height/v.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(d,v){return this._getScaleLabel(this.chart.data.datasets[v].data[d])},getPixelForValue:function(d){var v=this;return v.getPixelForDecimal((+v.getRightValue(d)-v._startValue)/v._valueRange)},getValueForPixel:function(d){return this._startValue+this.getDecimalForPixel(d)*this._valueRange},getPixelForTick:function(d){var v=this.ticksAsNumbers;return d<0||d>v.length-1?null:this.getPixelForValue(v[d])}});rt._defaults=g;var xt=Z.valueOrDefault,Ct=Z.math.log10;var ce={position:"left",ticks:{callback:nr.formatters.logarithmic}};function Ae(d,v){return Z.isFinite(d)&&d>=0?d:v}var Cr=Zi.extend({determineDataLimits:function(){var I,B,E,z,W,$,d=this,v=d.options,x=d.chart,C=x.data.datasets,M=d.isHorizontal();function D(ht){return M?ht.xAxisID===d.id:ht.yAxisID===d.id}d.min=Number.POSITIVE_INFINITY,d.max=Number.NEGATIVE_INFINITY,d.minNotZero=Number.POSITIVE_INFINITY;var Q=v.stacked;if(void 0===Q)for(I=0;I<C.length;I++)if(B=x.getDatasetMeta(I),x.isDatasetVisible(I)&&D(B)&&void 0!==B.stack){Q=!0;break}if(v.stacked||Q){var it={};for(I=0;I<C.length;I++){var nt=[(B=x.getDatasetMeta(I)).type,void 0===v.stacked&&void 0===B.stack?I:"",B.stack].join(".");if(x.isDatasetVisible(I)&&D(B))for(void 0===it[nt]&&(it[nt]=[]),W=0,$=(z=C[I].data).length;W<$;W++){var at=it[nt];E=d._parseValue(z[W]),!(isNaN(E.min)||isNaN(E.max)||B.data[W].hidden||E.min<0||E.max<0)&&(at[W]=at[W]||0,at[W]+=E.max)}}Z.each(it,function(ht){if(ht.length>0){var wt=Z.min(ht),Nt=Z.max(ht);d.min=Math.min(d.min,wt),d.max=Math.max(d.max,Nt)}})}else for(I=0;I<C.length;I++)if(B=x.getDatasetMeta(I),x.isDatasetVisible(I)&&D(B))for(W=0,$=(z=C[I].data).length;W<$;W++)E=d._parseValue(z[W]),!(isNaN(E.min)||isNaN(E.max)||B.data[W].hidden||E.min<0||E.max<0)&&(d.min=Math.min(E.min,d.min),d.max=Math.max(E.max,d.max),0!==E.min&&(d.minNotZero=Math.min(E.min,d.minNotZero)));d.min=Z.isFinite(d.min)?d.min:null,d.max=Z.isFinite(d.max)?d.max:null,d.minNotZero=Z.isFinite(d.minNotZero)?d.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var d=this,v=d.options.ticks;d.min=Ae(v.min,d.min),d.max=Ae(v.max,d.max),d.min===d.max&&(0!==d.min&&null!==d.min?(d.min=Math.pow(10,Math.floor(Ct(d.min))-1),d.max=Math.pow(10,Math.floor(Ct(d.max))+1)):(d.min=1,d.max=10)),null===d.min&&(d.min=Math.pow(10,Math.floor(Ct(d.max))-1)),null===d.max&&(d.max=0!==d.min?Math.pow(10,Math.floor(Ct(d.min))+1):10),null===d.minNotZero&&(d.minNotZero=d.min>0?d.min:d.max<1?Math.pow(10,Math.floor(Ct(d.max))):1)},buildTicks:function(){var d=this,v=d.options.ticks,x=!d.isHorizontal(),C={min:Ae(v.min),max:Ae(v.max)},M=d.ticks=function Wt(d,v){var I,B,x=[],C=xt(d.min,Math.pow(10,Math.floor(Ct(v.min)))),M=Math.floor(Ct(v.max)),D=Math.ceil(v.max/Math.pow(10,M));0===C?(I=Math.floor(Ct(v.minNotZero)),B=Math.floor(v.minNotZero/Math.pow(10,I)),x.push(C),C=B*Math.pow(10,I)):(I=Math.floor(Ct(C)),B=Math.floor(C/Math.pow(10,I)));var E=I<0?Math.pow(10,Math.abs(I)):1;do{x.push(C),10==++B&&(B=1,E=++I>=0?1:E),C=Math.round(B*Math.pow(10,I)*E)/E}while(I<M||I===M&&B<D);var z=xt(d.max,C);return x.push(z),x}(C,d);d.max=Z.max(M),d.min=Z.min(M),v.reverse?(x=!x,d.start=d.max,d.end=d.min):(d.start=d.min,d.end=d.max),x&&M.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),Zi.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(d,v){return this._getScaleLabel(this.chart.data.datasets[v].data[d])},getPixelForTick:function(d){var v=this.tickValues;return d<0||d>v.length-1?null:this.getPixelForValue(v[d])},_getFirstTickValue:function(d){var v=Math.floor(Ct(d));return Math.floor(d/Math.pow(10,v))*Math.pow(10,v)},_configure:function(){var d=this,v=d.min,x=0;Zi.prototype._configure.call(d),0===v&&(v=d._getFirstTickValue(d.minNotZero),x=xt(d.options.ticks.fontSize,It.global.defaultFontSize)/d._length),d._startValue=Ct(v),d._valueOffset=x,d._valueRange=(Ct(d.max)-Ct(v))/(1-x)},getPixelForValue:function(d){var v=this,x=0;return(d=+v.getRightValue(d))>v.min&&d>0&&(x=(Ct(d)-v._startValue)/v._valueRange+v._valueOffset),v.getPixelForDecimal(x)},getValueForPixel:function(d){var v=this,x=v.getDecimalForPixel(d);return 0===x&&0===v.min?0:Math.pow(10,v._startValue+(x-v._valueOffset)*v._valueRange)}});Cr._defaults=ce;var Eo=Z.valueOrDefault,Sr=Z.valueAtIndexOrDefault,gc=Z.options.resolve,Vd={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:nr.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(d){return d}}};function vc(d){var v=d.ticks;return v.display&&d.display?Eo(v.fontSize,It.global.defaultFontSize)+2*v.backdropPaddingY:0}function Ts(d,v,x){return Z.isArray(x)?{w:Z.longestText(d,d.font,x),h:x.length*v}:{w:d.measureText(x).width,h:v}}function _l(d,v,x,C,M){return d===C||d===M?{start:v-x/2,end:v+x/2}:d<C||d>M?{start:v-x,end:v}:{start:v,end:v+x}}function oh(d){return 0===d||180===d?"center":d<180?"left":"right"}function ui(d,v,x,C){var D,I,M=x.y+C/2;if(Z.isArray(v))for(D=0,I=v.length;D<I;++D)d.fillText(v[D],x.x,M),M+=C;else d.fillText(v,x.x,M)}function Fo(d,v,x){90===d||270===d?x.y-=v.h/2:(d>270||d<90)&&(x.y-=v.h)}function or(d){return Z.isNumber(d)?d:0}var ln=vi.extend({setDimensions:function(){var d=this;d.width=d.maxWidth,d.height=d.maxHeight,d.paddingTop=vc(d.options)/2,d.xCenter=Math.floor(d.width/2),d.yCenter=Math.floor((d.height-d.paddingTop)/2),d.drawingArea=Math.min(d.height-d.paddingTop,d.width)/2},determineDataLimits:function(){var d=this,v=d.chart,x=Number.POSITIVE_INFINITY,C=Number.NEGATIVE_INFINITY;Z.each(v.data.datasets,function(M,D){if(v.isDatasetVisible(D)){var I=v.getDatasetMeta(D);Z.each(M.data,function(B,E){var z=+d.getRightValue(B);isNaN(z)||I.data[E].hidden||(x=Math.min(z,x),C=Math.max(z,C))})}}),d.min=x===Number.POSITIVE_INFINITY?0:x,d.max=C===Number.NEGATIVE_INFINITY?0:C,d.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/vc(this.options))},convertTicksToLabels:function(){var d=this;vi.prototype.convertTicksToLabels.call(d),d.pointLabels=d.chart.data.labels.map(function(){var v=Z.callback(d.options.pointLabels.callback,arguments,d);return v||0===v?v:""})},getLabelForIndex:function(d,v){return+this.getRightValue(this.chart.data.datasets[v].data[d])},fit:function(){var d=this,v=d.options;v.display&&v.pointLabels.display?function ar(d){var M,D,I,v=Z.options._parseFont(d.options.pointLabels),x={l:0,r:d.width,t:0,b:d.height-d.paddingTop},C={};d.ctx.font=v.string,d._pointLabelSizes=[];var B=d.chart.data.labels.length;for(M=0;M<B;M++){I=d.getPointPosition(M,d.drawingArea+5),D=Ts(d.ctx,v.lineHeight,d.pointLabels[M]),d._pointLabelSizes[M]=D;var E=d.getIndexAngle(M),z=Z.toDegrees(E)%360,W=_l(z,I.x,D.w,0,180),$=_l(z,I.y,D.h,90,270);W.start<x.l&&(x.l=W.start,C.l=E),W.end>x.r&&(x.r=W.end,C.r=E),$.start<x.t&&(x.t=$.start,C.t=E),$.end>x.b&&(x.b=$.end,C.b=E)}d.setReductions(d.drawingArea,x,C)}(d):d.setCenterPoint(0,0,0,0)},setReductions:function(d,v,x){var C=this,M=v.l/Math.sin(x.l),D=Math.max(v.r-C.width,0)/Math.sin(x.r),I=-v.t/Math.cos(x.t),B=-Math.max(v.b-(C.height-C.paddingTop),0)/Math.cos(x.b);M=or(M),D=or(D),I=or(I),B=or(B),C.drawingArea=Math.min(Math.floor(d-(M+D)/2),Math.floor(d-(I+B)/2)),C.setCenterPoint(M,D,I,B)},setCenterPoint:function(d,v,x,C){var M=this,B=x+M.drawingArea,E=M.height-M.paddingTop-C-M.drawingArea;M.xCenter=Math.floor((d+M.drawingArea+(M.width-v-M.drawingArea))/2+M.left),M.yCenter=Math.floor((B+E)/2+M.top+M.paddingTop)},getIndexAngle:function(d){var v=this.chart,D=(d*(360/v.data.labels.length)+((v.options||{}).startAngle||0))%360;return(D<0?D+360:D)*Math.PI*2/360},getDistanceFromCenterForValue:function(d){var v=this;if(Z.isNullOrUndef(d))return NaN;var x=v.drawingArea/(v.max-v.min);return v.options.ticks.reverse?(v.max-d)*x:(d-v.min)*x},getPointPosition:function(d,v){var x=this,C=x.getIndexAngle(d)-Math.PI/2;return{x:Math.cos(C)*v+x.xCenter,y:Math.sin(C)*v+x.yCenter}},getPointPositionForValue:function(d,v){return this.getPointPosition(d,this.getDistanceFromCenterForValue(v))},getBasePosition:function(d){var v=this,x=v.min,C=v.max;return v.getPointPositionForValue(d||0,v.beginAtZero?0:x<0&&C<0?C:x>0&&C>0?x:0)},_drawGrid:function(){var B,E,z,d=this,v=d.ctx,x=d.options,C=x.gridLines,M=x.angleLines,D=Eo(M.lineWidth,C.lineWidth),I=Eo(M.color,C.color);if(x.pointLabels.display&&function Ja(d){var v=d.ctx,x=d.options,C=x.pointLabels,M=vc(x),D=d.getDistanceFromCenterForValue(x.ticks.reverse?d.min:d.max),I=Z.options._parseFont(C);v.save(),v.font=I.string,v.textBaseline="middle";for(var B=d.chart.data.labels.length-1;B>=0;B--){var z=d.getPointPosition(B,D+(0===B?M/2:0)+5),W=Sr(C.fontColor,B,It.global.defaultFontColor);v.fillStyle=W;var $=d.getIndexAngle(B),Q=Z.toDegrees($);v.textAlign=oh(Q),Fo(Q,d._pointLabelSizes[B],z),ui(v,d.pointLabels[B],z,I.lineHeight)}v.restore()}(d),C.display&&Z.each(d.ticks,function(W,$){0!==$&&(E=d.getDistanceFromCenterForValue(d.ticksAsNumbers[$]),function mc(d,v,x,C){var z,M=d.ctx,D=v.circular,I=d.chart.data.labels.length,B=Sr(v.color,C-1),E=Sr(v.lineWidth,C-1);if((D||I)&&B&&E){if(M.save(),M.strokeStyle=B,M.lineWidth=E,M.setLineDash&&(M.setLineDash(v.borderDash||[]),M.lineDashOffset=v.borderDashOffset||0),M.beginPath(),D)M.arc(d.xCenter,d.yCenter,x,0,2*Math.PI);else{z=d.getPointPosition(0,x),M.moveTo(z.x,z.y);for(var W=1;W<I;W++)z=d.getPointPosition(W,x),M.lineTo(z.x,z.y)}M.closePath(),M.stroke(),M.restore()}}(d,C,E,$))}),M.display&&D&&I){for(v.save(),v.lineWidth=D,v.strokeStyle=I,v.setLineDash&&(v.setLineDash(gc([M.borderDash,C.borderDash,[]])),v.lineDashOffset=gc([M.borderDashOffset,C.borderDashOffset,0])),B=d.chart.data.labels.length-1;B>=0;B--)E=d.getDistanceFromCenterForValue(x.ticks.reverse?d.min:d.max),z=d.getPointPosition(B,E),v.beginPath(),v.moveTo(d.xCenter,d.yCenter),v.lineTo(z.x,z.y),v.stroke();v.restore()}},_drawLabels:function(){var d=this,v=d.ctx,C=d.options.ticks;if(C.display){var B,E,M=d.getIndexAngle(0),D=Z.options._parseFont(C),I=Eo(C.fontColor,It.global.defaultFontColor);v.save(),v.font=D.string,v.translate(d.xCenter,d.yCenter),v.rotate(M),v.textAlign="center",v.textBaseline="middle",Z.each(d.ticks,function(z,W){0===W&&!C.reverse||(B=d.getDistanceFromCenterForValue(d.ticksAsNumbers[W]),C.showLabelBackdrop&&(E=v.measureText(z).width,v.fillStyle=C.backdropColor,v.fillRect(-E/2-C.backdropPaddingX,-B-D.size/2-C.backdropPaddingY,E+2*C.backdropPaddingX,D.size+2*C.backdropPaddingY)),v.fillStyle=I,v.fillText(z,0,-B))}),v.restore()}},_drawTitle:Z.noop});ln._defaults=Vd;var bl=Z._deprecated,yc=Z.options.resolve,Cl=Z.valueOrDefault,Dn=Number.MIN_SAFE_INTEGER||-9007199254740991,_c=Number.MAX_SAFE_INTEGER||9007199254740991,sh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},mn=Object.keys(sh);function gy(d,v){return d-v}function vy(d){return Z.valueOrDefault(d.time.min,d.ticks.min)}function Zp(d){return Z.valueOrDefault(d.time.max,d.ticks.max)}function to(d,v,x,C){var M=function xc(d,v,x){for(var D,I,B,C=0,M=d.length-1;C>=0&&C<=M;){if(B=d[D=C+M>>1],!(I=d[D-1]||null))return{lo:null,hi:B};if(B[v]<x)C=D+1;else{if(!(I[v]>x))return{lo:I,hi:B};M=D-1}}return{lo:B,hi:null}}(d,v,x),D=M.lo?M.hi?M.lo:d[d.length-2]:d[0],I=M.lo?M.hi?M.hi:d[d.length-1]:d[1],B=I[v]-D[v];return D[C]+(I[C]-D[C])*(B?(x-D[v])/B:0)}function wr(d,v){var x=d._adapter,C=d.options.time,M=C.parser,D=M||C.format,I=v;return"function"==typeof M&&(I=M(I)),Z.isFinite(I)||(I="string"==typeof D?x.parse(I,D):x.parse(I)),null!==I?+I:(!M&&"function"==typeof D&&(I=D(v),Z.isFinite(I)||(I=x.parse(I))),I)}function pa(d,v){if(Z.isNullOrUndef(v))return null;var x=d.options.time,C=wr(d,d.getRightValue(v));return null===C||x.round&&(C=+d._adapter.startOf(C,x.round)),C}function my(d,v,x,C){var D,I,M=mn.length;for(D=mn.indexOf(d);D<M-1;++D)if((I=sh[mn[D]]).common&&Math.ceil((x-v)/((I.steps?I.steps:_c)*I.size))<=C)return mn[D];return mn[M-1]}function eo(d,v,x){var I,B,C=[],M={},D=v.length;for(I=0;I<D;++I)M[B=v[I]]=I,C.push({value:B,major:!1});return 0!==D&&x?function jp(d,v,x,C){var B,E,M=d._adapter,D=+M.startOf(v[0].value,C),I=v[v.length-1].value;for(B=D;B<=I;B=+M.add(B,1,C))(E=x[B])>=0&&(v[E].major=!0);return v}(d,C,M,x):C}var ch=Zi.extend({initialize:function(){this.mergeTicksOptions(),Zi.prototype.initialize.call(this)},update:function(){var d=this,v=d.options,x=v.time||(v.time={}),C=d._adapter=new dc._date(v.adapters.date);return bl("time scale",x.format,"time.format","time.parser"),bl("time scale",x.min,"time.min","ticks.min"),bl("time scale",x.max,"time.max","ticks.max"),Z.mergeIf(x.displayFormats,C.formats()),Zi.prototype.update.apply(d,arguments)},getRightValue:function(d){return d&&void 0!==d.t&&(d=d.t),Zi.prototype.getRightValue.call(this,d)},determineDataLimits:function(){var W,$,Q,it,nt,at,ht,d=this,v=d.chart,x=d._adapter,C=d.options,M=C.time.unit||"day",D=_c,I=Dn,B=[],E=[],z=[],wt=d._getLabels();for(W=0,Q=wt.length;W<Q;++W)z.push(pa(d,wt[W]));for(W=0,Q=(v.data.datasets||[]).length;W<Q;++W)if(v.isDatasetVisible(W))if(Z.isObject((nt=v.data.datasets[W].data)[0]))for(E[W]=[],$=0,it=nt.length;$<it;++$)at=pa(d,nt[$]),B.push(at),E[W][$]=at;else E[W]=z.slice(0),ht||(B=B.concat(z),ht=!0);else E[W]=[];z.length&&(D=Math.min(D,z[0]),I=Math.max(I,z[z.length-1])),B.length&&(B=Q>1?function zd(d){var C,M,D,v={},x=[];for(C=0,M=d.length;C<M;++C)v[D=d[C]]||(v[D]=!0,x.push(D));return x}(B).sort(gy):B.sort(gy),D=Math.min(D,B[0]),I=Math.max(I,B[B.length-1])),D=pa(d,vy(C))||D,I=pa(d,Zp(C))||I,D=D===_c?+x.startOf(Date.now(),M):D,I=I===Dn?+x.endOf(Date.now(),M)+1:I,d.min=Math.min(D,I),d.max=Math.max(D+1,I),d._table=[],d._timestamps={data:B,datasets:E,labels:z}},buildTicks:function(){var $,Q,it,d=this,v=d.min,x=d.max,C=d.options,M=C.ticks,D=C.time,I=d._timestamps,B=[],E=d.getLabelCapacity(v),z=M.source,W=C.distribution;for(I="data"===z||"auto"===z&&"series"===W?I.data:"labels"===z?I.labels:function bc(d,v,x,C){var Q,M=d._adapter,D=d.options,I=D.time,B=I.unit||my(I.minUnit,v,x,C),E=yc([I.stepSize,I.unitStepSize,1]),z="week"===B&&I.isoWeekday,W=v,$=[];if(z&&(W=+M.startOf(W,"isoWeek",z)),W=+M.startOf(W,z?"day":B),M.diff(x,v,B)>1e5*E)throw v+" and "+x+" are too far apart with stepSize of "+E+" "+B;for(Q=W;Q<x;Q=+M.add(Q,E,B))$.push(Q);return(Q===x||"ticks"===D.bounds)&&$.push(Q),$}(d,v,x,E),"ticks"===C.bounds&&I.length&&(v=I[0],x=I[I.length-1]),v=pa(d,vy(C))||v,x=pa(d,Zp(C))||x,$=0,Q=I.length;$<Q;++$)(it=I[$])>=v&&it<=x&&B.push(it);return d.min=v,d.max=x,d._unit=D.unit||(M.autoSkip?my(D.minUnit,d.min,d.max,E):function $p(d,v,x,C,M){var D,I;for(D=mn.length-1;D>=mn.indexOf(x);D--)if(sh[I=mn[D]].common&&d._adapter.diff(M,C,I)>=v-1)return I;return mn[x?mn.indexOf(x):0]}(d,B.length,D.minUnit,d.min,d.max)),d._majorUnit=M.major.enabled&&"year"!==d._unit?function Nd(d){for(var v=mn.indexOf(d)+1,x=mn.length;v<x;++v)if(sh[mn[v]].common)return mn[v]}(d._unit):void 0,d._table=function cS(d,v,x,C){if("linear"===C||!d.length)return[{time:v,pos:0},{time:x,pos:1}];var I,B,E,z,W,M=[],D=[v];for(I=0,B=d.length;I<B;++I)(z=d[I])>v&&z<x&&D.push(z);for(D.push(x),I=0,B=D.length;I<B;++I)W=D[I+1],z=D[I],(void 0===(E=D[I-1])||void 0===W||Math.round((W+E)/2)!==z)&&M.push({time:z,pos:I/(B-1)});return M}(d._timestamps.data,v,x,W),d._offsets=function Cc(d,v,x,C,M){var B,E,D=0,I=0;return M.offset&&v.length&&(B=to(d,"time",v[0],"pos"),D=1===v.length?1-B:(to(d,"time",v[1],"pos")-B)/2,E=to(d,"time",v[v.length-1],"pos"),I=1===v.length?E:(E-to(d,"time",v[v.length-2],"pos"))/2),{start:D,end:I,factor:1/(D+1+I)}}(d._table,B,0,0,C),M.reverse&&B.reverse(),eo(d,B,d._majorUnit)},getLabelForIndex:function(d,v){var x=this,C=x._adapter,M=x.chart.data,D=x.options.time,I=M.labels&&d<M.labels.length?M.labels[d]:"",B=M.datasets[v].data[d];return Z.isObject(B)&&(I=x.getRightValue(B)),D.tooltipFormat?C.format(wr(x,I),D.tooltipFormat):"string"==typeof I?I:C.format(wr(x,I),D.displayFormats.datetime)},tickFormatFunction:function(d,v,x,C){var M=this,I=M.options,B=I.time.displayFormats,z=M._majorUnit,W=B[z],$=x[v],Q=I.ticks,it=z&&W&&$&&$.major,nt=M._adapter.format(d,C||(it?W:B[M._unit])),at=it?Q.major:Q.minor,ht=yc([at.callback,at.userCallback,Q.callback,Q.userCallback]);return ht?ht(nt,v,x):nt},convertTicksToLabels:function(d){var x,C,v=[];for(x=0,C=d.length;x<C;++x)v.push(this.tickFormatFunction(d[x].value,x,d));return v},getPixelForOffset:function(d){var v=this,x=v._offsets,C=to(v._table,"time",d,"pos");return v.getPixelForDecimal((x.start+C)*x.factor)},getPixelForValue:function(d,v,x){var C=this,M=null;if(void 0!==v&&void 0!==x&&(M=C._timestamps.datasets[x][v]),null===M&&(M=pa(C,d)),null!==M)return C.getPixelForOffset(M)},getPixelForTick:function(d){var v=this.getTicks();return d>=0&&d<v.length?this.getPixelForOffset(v[d].value):null},getValueForPixel:function(d){var v=this,x=v._offsets,C=v.getDecimalForPixel(d)/x.factor-x.end,M=to(v._table,"pos",C,"time");return v._adapter._create(M)},_getLabelSize:function(d){var v=this,x=v.options.ticks,C=v.ctx.measureText(d).width,M=Z.toRadians(v.isHorizontal()?x.maxRotation:x.minRotation),D=Math.cos(M),I=Math.sin(M),B=Cl(x.fontSize,It.global.defaultFontSize);return{w:C*D+B*I,h:C*I+B*D}},getLabelWidth:function(d){return this._getLabelSize(d).w},getLabelCapacity:function(d){var v=this,x=v.options.time,C=x.displayFormats,M=C[x.unit]||C.millisecond,D=v.tickFormatFunction(d,0,eo(v,[d],v._majorUnit),M),I=v._getLabelSize(D),B=Math.floor(v.isHorizontal()?v.width/I.w:v.height/I.h);return v.options.offset&&B--,B>0?B:1}});ch._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var yy={category:Wn,linear:rt,logarithmic:Cr,radialLinear:ln,time:ch},_y={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};dc._date.override("function"==typeof Te?{_id:"moment",formats:function(){return _y},parse:function(d,v){return"string"==typeof d&&"string"==typeof v?d=Te(d,v):d instanceof Te||(d=Te(d)),d.isValid()?d.valueOf():null},format:function(d,v){return Te(d).format(v)},add:function(d,v,x){return Te(d).add(v,x).valueOf()},diff:function(d,v,x){return Te(d).diff(Te(v),x)},startOf:function(d,v,x){return d=Te(d),"isoWeek"===v?d.isoWeekday(x).valueOf():d.startOf(v).valueOf()},endOf:function(d,v){return Te(d).endOf(v).valueOf()},_create:function(d){return Te(d)}}:{}),It._set("global",{plugins:{filler:{propagate:!0}}});var xy={dataset:function(d){var v=d.fill,x=d.chart,C=x.getDatasetMeta(v),D=C&&x.isDatasetVisible(v)&&C.dataset._children||[],I=D.length||0;return I?function(B,E){return E<I&&D[E]._view||null}:null},boundary:function(d){var v=d.boundary,x=v?v.x:null,C=v?v.y:null;return Z.isArray(v)?function(M,D){return v[D]}:function(M){return{x:null===x?M.x:x,y:null===C?M.y:C}}}};function by(d,v,x){var D,C=d._model||{},M=C.fill;if(void 0===M&&(M=!!C.backgroundColor),!1===M||null===M)return!1;if(!0===M)return"origin";if(D=parseFloat(M,10),isFinite(D)&&Math.floor(D)===D)return("-"===M[0]||"+"===M[0])&&(D=v+D),!(D===v||D<0||D>=x)&&D;switch(M){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return M;default:return!1}}function qp(d){return(d.el._scale||{}).getPointPositionForValue?function hS(d){var I,B,E,z,W,v=d.el._scale,x=v.options,C=v.chart.data.labels.length,M=d.fill,D=[];if(!C)return null;for(B=x.ticks.reverse?v.min:v.max,E=v.getPointPositionForValue(0,I=x.ticks.reverse?v.max:v.min),z=0;z<C;++z)W="start"===M||"end"===M?v.getPointPositionForValue(z,"start"===M?I:B):v.getBasePosition(z),x.gridLines.circular&&(W.cx=E.x,W.cy=E.y,W.angle=v.getIndexAngle(z)-Math.PI/2),D.push(W);return D}(d):function Cy(d){var D,v=d.el._model||{},x=d.el._scale||{},C=d.fill,M=null;if(isFinite(C))return null;if("start"===C?M=void 0===v.scaleBottom?x.bottom:v.scaleBottom:"end"===C?M=void 0===v.scaleTop?x.top:v.scaleTop:void 0!==v.scaleZero?M=v.scaleZero:x.getBasePixel&&(M=x.getBasePixel()),null!=M){if(void 0!==M.x&&void 0!==M.y)return M;if(Z.isFinite(M))return{x:(D=x.isHorizontal())?M:null,y:D?null:M}}return null}(d)}function Sy(d,v,x){var I,M=d[v].fill,D=[v];if(!x)return M;for(;!1!==M&&-1===D.indexOf(M);){if(!isFinite(M))return M;if(!(I=d[M]))return!1;if(I.visible)return M;D.push(M),M=I.fill}return!1}function Gd(d){var v=d.fill,x="dataset";return!1===v?null:(isFinite(v)||(x="boundary"),xy[x](d))}function Hd(d){return d&&!d.skip}function Wd(d,v,x,C,M){var D,I,B,E;if(C&&M){for(d.moveTo(v[0].x,v[0].y),D=1;D<C;++D)Z.canvas.lineTo(d,v[D-1],v[D]);if(void 0!==x[0].angle){for(I=x[0].cx,B=x[0].cy,E=Math.sqrt(Math.pow(x[0].x-I,2)+Math.pow(x[0].y-B,2)),D=M-1;D>0;--D)d.arc(I,B,E,x[D].angle,x[D-1].angle,!0);return}for(d.lineTo(x[M-1].x,x[M-1].y),D=M-1;D>0;--D)Z.canvas.lineTo(d,x[D],x[D-1],!0)}}function Kp(d,v,x,C,M,D){var Q,it,nt,at,ht,wt,Nt,Xt,I=v.length,B=C.spanGaps,E=[],z=[],W=0,$=0;for(d.beginPath(),Q=0,it=I;Q<it;++Q)ht=x(at=v[nt=Q%I]._view,nt,C),wt=Hd(at),Nt=Hd(ht),D&&void 0===Xt&&wt&&(it=I+(Xt=Q+1)),wt&&Nt?(W=E.push(at),$=z.push(ht)):W&&$&&(B?(wt&&E.push(at),Nt&&z.push(ht)):(Wd(d,E,z,W,$),W=$=0,E=[],z=[]));Wd(d,E,z,W,$),d.closePath(),d.fillStyle=M,d.fill()}var uh={id:"filler",afterDatasetsUpdate:function(d,v){var D,I,B,E,x=(d.data.datasets||[]).length,C=v.propagate,M=[];for(I=0;I<x;++I)E=null,(B=(D=d.getDatasetMeta(I)).dataset)&&B._model&&B instanceof Wi.Line&&(E={visible:d.isDatasetVisible(I),fill:by(B,I,x),chart:d,el:B}),D.$filler=E,M.push(E);for(I=0;I<x;++I)(E=M[I])&&(E.fill=Sy(M,I,C),E.boundary=qp(E),E.mapper=Gd(E))},beforeDatasetsDraw:function(d){var C,M,D,I,B,E,z,v=d._getSortedVisibleDatasetMetas(),x=d.ctx;for(M=v.length-1;M>=0;--M)(C=v[M].$filler)&&C.visible&&(B=(D=C.el)._children||[],z=(I=D._view).backgroundColor||It.global.defaultColor,(E=C.mapper)&&z&&B.length&&(Z.canvas.clipArea(x,d.chartArea),Kp(x,B,E,I,z,D._loop),Z.canvas.unclipArea(x)))}},Qp=Z.rtl.getRtlAdapter,io=Z.noop,Ro=Z.valueOrDefault;function Sc(d,v){return d.usePointStyle&&d.boxWidth>v?v:d.boxWidth}It._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(d,v){var x=v.datasetIndex,C=this.chart,M=C.getDatasetMeta(x);M.hidden=null===M.hidden?!C.data.datasets[x].hidden:null,C.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(d){var v=d.data.datasets,x=d.options.legend||{},C=x.labels&&x.labels.usePointStyle;return d._getSortedDatasetMetas().map(function(M){var D=M.controller.getStyle(C?0:void 0);return{text:v[M.index].label,fillStyle:D.backgroundColor,hidden:!d.isDatasetVisible(M.index),lineCap:D.borderCapStyle,lineDash:D.borderDash,lineDashOffset:D.borderDashOffset,lineJoin:D.borderJoinStyle,lineWidth:D.borderWidth,strokeStyle:D.borderColor,pointStyle:D.pointStyle,rotation:D.rotation,datasetIndex:M.index}},this)}}},legendCallback:function(d){var C,M,D,v=document.createElement("ul"),x=d.data.datasets;for(v.setAttribute("class",d.id+"-legend"),C=0,M=x.length;C<M;C++)(D=v.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=x[C].backgroundColor,x[C].label&&D.appendChild(document.createTextNode(x[C].label));return v.outerHTML}});var ga=pn.extend({initialize:function(d){var v=this;Z.extend(v,d),v.legendHitBoxes=[],v._hoveredItem=null,v.doughnutMode=!1},beforeUpdate:io,update:function(d,v,x){var C=this;return C.beforeUpdate(),C.maxWidth=d,C.maxHeight=v,C.margins=x,C.beforeSetDimensions(),C.setDimensions(),C.afterSetDimensions(),C.beforeBuildLabels(),C.buildLabels(),C.afterBuildLabels(),C.beforeFit(),C.fit(),C.afterFit(),C.afterUpdate(),C.minSize},afterUpdate:io,beforeSetDimensions:io,setDimensions:function(){var d=this;d.isHorizontal()?(d.width=d.maxWidth,d.left=0,d.right=d.width):(d.height=d.maxHeight,d.top=0,d.bottom=d.height),d.paddingLeft=0,d.paddingTop=0,d.paddingRight=0,d.paddingBottom=0,d.minSize={width:0,height:0}},afterSetDimensions:io,beforeBuildLabels:io,buildLabels:function(){var d=this,v=d.options.labels||{},x=Z.callback(v.generateLabels,[d.chart],d)||[];v.filter&&(x=x.filter(function(C){return v.filter(C,d.chart.data)})),d.options.reverse&&x.reverse(),d.legendItems=x},afterBuildLabels:io,beforeFit:io,fit:function(){var d=this,v=d.options,x=v.labels,C=v.display,M=d.ctx,D=Z.options._parseFont(x),I=D.size,B=d.legendHitBoxes=[],E=d.minSize,z=d.isHorizontal();if(z?(E.width=d.maxWidth,E.height=C?10:0):(E.width=C?10:0,E.height=d.maxHeight),C){if(M.font=D.string,z){var W=d.lineWidths=[0],$=0;M.textAlign="left",M.textBaseline="middle",Z.each(d.legendItems,function(Nt,Xt){var be=Sc(x,I)+I/2+M.measureText(Nt.text).width;(0===Xt||W[W.length-1]+be+2*x.padding>E.width)&&($+=I+x.padding,W[W.length-(Xt>0?0:1)]=0),B[Xt]={left:0,top:0,width:be,height:I},W[W.length-1]+=be+x.padding}),E.height+=$}else{var Q=x.padding,it=d.columnWidths=[],nt=d.columnHeights=[],at=x.padding,ht=0,wt=0;Z.each(d.legendItems,function(Nt,Xt){var be=Sc(x,I)+I/2+M.measureText(Nt.text).width;Xt>0&&wt+I+2*Q>E.height&&(at+=ht+x.padding,it.push(ht),nt.push(wt),ht=0,wt=0),ht=Math.max(ht,be),wt+=I+Q,B[Xt]={left:0,top:0,width:be,height:I}}),at+=ht,it.push(ht),nt.push(wt),E.width+=at}d.width=E.width,d.height=E.height}else d.width=E.width=d.height=E.height=0},afterFit:io,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var d=this,v=d.options,x=v.labels,C=It.global,M=C.defaultColor,D=C.elements.line,I=d.height,B=d.columnHeights,E=d.width,z=d.lineWidths;if(v.display){var at,W=Qp(v.rtl,d.left,d.minSize.width),$=d.ctx,Q=Ro(x.fontColor,C.defaultFontColor),it=Z.options._parseFont(x),nt=it.size;$.textAlign=W.textAlign("left"),$.textBaseline="middle",$.lineWidth=.5,$.strokeStyle=Q,$.fillStyle=Q,$.font=it.string;var ht=Sc(x,nt),wt=d.legendHitBoxes,xe=function(Ge,Pe){switch(v.align){case"start":return x.padding;case"end":return Ge-Pe;default:return(Ge-Pe+x.padding)/2}},be=d.isHorizontal();at=be?{x:d.left+xe(E,z[0]),y:d.top+x.padding,line:0}:{x:d.left+x.padding,y:d.top+xe(I,B[0]),line:0},Z.rtl.overrideTextDirection(d.ctx,v.textDirection);var We=nt+x.padding;Z.each(d.legendItems,function(Ge,Pe){var ei=$.measureText(Ge.text).width,$i=ht+nt/2+ei,Bi=at.x,_i=at.y;W.setWidth(d.minSize.width),be?Pe>0&&Bi+$i+x.padding>d.left+d.minSize.width&&(_i=at.y+=We,at.line++,Bi=at.x=d.left+xe(E,z[at.line])):Pe>0&&_i+We>d.top+d.minSize.height&&(Bi=at.x=Bi+d.columnWidths[at.line]+x.padding,at.line++,_i=at.y=d.top+xe(I,B[at.line]));var Vi=W.x(Bi);(function(Ge,Pe,ei){if(!(isNaN(ht)||ht<=0)){$.save();var $i=Ro(ei.lineWidth,D.borderWidth);if($.fillStyle=Ro(ei.fillStyle,M),$.lineCap=Ro(ei.lineCap,D.borderCapStyle),$.lineDashOffset=Ro(ei.lineDashOffset,D.borderDashOffset),$.lineJoin=Ro(ei.lineJoin,D.borderJoinStyle),$.lineWidth=$i,$.strokeStyle=Ro(ei.strokeStyle,M),$.setLineDash&&$.setLineDash(Ro(ei.lineDash,D.borderDash)),x&&x.usePointStyle){var Bi=ht*Math.SQRT2/2,_i=W.xPlus(Ge,ht/2);Z.canvas.drawPoint($,ei.pointStyle,Bi,_i,Pe+nt/2,ei.rotation)}else $.fillRect(W.leftForLtr(Ge,ht),Pe,ht,nt),0!==$i&&$.strokeRect(W.leftForLtr(Ge,ht),Pe,ht,nt);$.restore()}})(Vi,_i,Ge),wt[Pe].left=W.leftForLtr(Vi,wt[Pe].width),wt[Pe].top=_i,function(Ge,Pe,ei,$i){var Bi=nt/2,_i=W.xPlus(Ge,ht+Bi),Vi=Pe+Bi;$.fillText(ei.text,_i,Vi),ei.hidden&&($.beginPath(),$.lineWidth=2,$.moveTo(_i,Vi),$.lineTo(W.xPlus(_i,$i),Vi),$.stroke())}(Vi,_i,Ge,ei),be?at.x+=$i+x.padding:at.y+=We}),Z.rtl.restoreTextDirection(d.ctx,v.textDirection)}},_getLegendItemAt:function(d,v){var C,M,D,x=this;if(d>=x.left&&d<=x.right&&v>=x.top&&v<=x.bottom)for(D=x.legendHitBoxes,C=0;C<D.length;++C)if(d>=(M=D[C]).left&&d<=M.left+M.width&&v>=M.top&&v<=M.top+M.height)return x.legendItems[C];return null},handleEvent:function(d){var M,v=this,x=v.options,C="mouseup"===d.type?"click":d.type;if("mousemove"===C){if(!x.onHover&&!x.onLeave)return}else{if("click"!==C)return;if(!x.onClick)return}M=v._getLegendItemAt(d.x,d.y),"click"===C?M&&x.onClick&&x.onClick.call(v,d.native,M):(x.onLeave&&M!==v._hoveredItem&&(v._hoveredItem&&x.onLeave.call(v,d.native,v._hoveredItem),v._hoveredItem=M),x.onHover&&M&&x.onHover.call(v,d.native,M))}});function hh(d,v){var x=new ga({ctx:d.ctx,options:v,chart:d});Yi.configure(d,x,v),Yi.addBox(d,x),d.legend=x}var wy={id:"legend",_element:ga,beforeInit:function(d){var v=d.options.legend;v&&hh(d,v)},beforeUpdate:function(d){var v=d.options.legend,x=d.legend;v?(Z.mergeIf(v,It.global.legend),x?(Yi.configure(d,x,v),x.options=v):hh(d,v)):x&&(Yi.removeBox(d,x),delete d.legend)},afterEvent:function(d,v){var x=d.legend;x&&x.handleEvent(v)}},Tr=Z.noop;It._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var Yd=pn.extend({initialize:function(d){Z.extend(this,d),this.legendHitBoxes=[]},beforeUpdate:Tr,update:function(d,v,x){var C=this;return C.beforeUpdate(),C.maxWidth=d,C.maxHeight=v,C.margins=x,C.beforeSetDimensions(),C.setDimensions(),C.afterSetDimensions(),C.beforeBuildLabels(),C.buildLabels(),C.afterBuildLabels(),C.beforeFit(),C.fit(),C.afterFit(),C.afterUpdate(),C.minSize},afterUpdate:Tr,beforeSetDimensions:Tr,setDimensions:function(){var d=this;d.isHorizontal()?(d.width=d.maxWidth,d.left=0,d.right=d.width):(d.height=d.maxHeight,d.top=0,d.bottom=d.height),d.paddingLeft=0,d.paddingTop=0,d.paddingRight=0,d.paddingBottom=0,d.minSize={width:0,height:0}},afterSetDimensions:Tr,beforeBuildLabels:Tr,buildLabels:Tr,afterBuildLabels:Tr,beforeFit:Tr,fit:function(){var D,d=this,v=d.options,x=d.minSize={},C=d.isHorizontal();v.display?(D=(Z.isArray(v.text)?v.text.length:1)*Z.options._parseFont(v).lineHeight+2*v.padding,d.width=x.width=C?d.maxWidth:D,d.height=x.height=C?D:d.maxHeight):d.width=x.width=d.height=x.height=0},afterFit:Tr,isHorizontal:function(){var d=this.options.position;return"top"===d||"bottom"===d},draw:function(){var d=this,v=d.ctx,x=d.options;if(x.display){var $,Q,it,C=Z.options._parseFont(x),M=C.lineHeight,D=M/2+x.padding,I=0,B=d.top,E=d.left,z=d.bottom,W=d.right;v.fillStyle=Z.valueOrDefault(x.fontColor,It.global.defaultFontColor),v.font=C.string,d.isHorizontal()?(Q=E+(W-E)/2,it=B+D,$=W-E):(Q="left"===x.position?E+D:W-D,it=B+(z-B)/2,$=z-B,I=Math.PI*("left"===x.position?-.5:.5)),v.save(),v.translate(Q,it),v.rotate(I),v.textAlign="center",v.textBaseline="middle";var nt=x.text;if(Z.isArray(nt))for(var at=0,ht=0;ht<nt.length;++ht)v.fillText(nt[ht],0,at,$),at+=M;else v.fillText(nt,0,0,$);v.restore()}}});function Jp(d,v){var x=new Yd({ctx:d.ctx,options:v,chart:d});Yi.configure(d,x,v),Yi.addBox(d,x),d.titleBlock=x}var Mr={},dh=uh,My=wy,fh={id:"title",_element:Yd,beforeInit:function(d){var v=d.options.title;v&&Jp(d,v)},beforeUpdate:function(d){var v=d.options.title,x=d.titleBlock;v?(Z.mergeIf(v,It.global.title),x?(Yi.configure(d,x,v),x.options=v):Jp(d,v)):x&&(Yi.removeBox(d,x),delete d.titleBlock)}};for(var wc in Mr.filler=dh,Mr.legend=My,Mr.title=fh,Se.helpers=Z,function(){function d(C,M,D){var I;return"string"==typeof C?(I=parseInt(C,10),-1!==C.indexOf("%")&&(I=I/100*M.parentNode[D])):I=C,I}function v(C){return null!=C&&"none"!==C}function x(C,M,D){var I=document.defaultView,B=Z._getParentNode(C),E=I.getComputedStyle(C)[M],z=I.getComputedStyle(B)[M],W=v(E),$=v(z),Q=Number.POSITIVE_INFINITY;return W||$?Math.min(W?d(E,C,D):Q,$?d(z,B,D):Q):"none"}Z.where=function(C,M){if(Z.isArray(C)&&Array.prototype.filter)return C.filter(M);var D=[];return Z.each(C,function(I){M(I)&&D.push(I)}),D},Z.findIndex=Array.prototype.findIndex?function(C,M,D){return C.findIndex(M,D)}:function(C,M,D){D=void 0===D?C:D;for(var I=0,B=C.length;I<B;++I)if(M.call(D,C[I],I,C))return I;return-1},Z.findNextWhere=function(C,M,D){Z.isNullOrUndef(D)&&(D=-1);for(var I=D+1;I<C.length;I++){var B=C[I];if(M(B))return B}},Z.findPreviousWhere=function(C,M,D){Z.isNullOrUndef(D)&&(D=C.length);for(var I=D-1;I>=0;I--){var B=C[I];if(M(B))return B}},Z.isNumber=function(C){return!isNaN(parseFloat(C))&&isFinite(C)},Z.almostEquals=function(C,M,D){return Math.abs(C-M)<D},Z.almostWhole=function(C,M){var D=Math.round(C);return D-M<=C&&D+M>=C},Z.max=function(C){return C.reduce(function(M,D){return isNaN(D)?M:Math.max(M,D)},Number.NEGATIVE_INFINITY)},Z.min=function(C){return C.reduce(function(M,D){return isNaN(D)?M:Math.min(M,D)},Number.POSITIVE_INFINITY)},Z.sign=Math.sign?function(C){return Math.sign(C)}:function(C){return 0==(C=+C)||isNaN(C)?C:C>0?1:-1},Z.toRadians=function(C){return C*(Math.PI/180)},Z.toDegrees=function(C){return C*(180/Math.PI)},Z._decimalPlaces=function(C){if(Z.isFinite(C)){for(var M=1,D=0;Math.round(C*M)/M!==C;)M*=10,D++;return D}},Z.getAngleFromPoint=function(C,M){var D=M.x-C.x,I=M.y-C.y,B=Math.sqrt(D*D+I*I),E=Math.atan2(I,D);return E<-.5*Math.PI&&(E+=2*Math.PI),{angle:E,distance:B}},Z.distanceBetweenPoints=function(C,M){return Math.sqrt(Math.pow(M.x-C.x,2)+Math.pow(M.y-C.y,2))},Z.aliasPixel=function(C){return C%2==0?0:.5},Z._alignPixel=function(C,M,D){var I=C.currentDevicePixelRatio,B=D/2;return Math.round((M-B)*I)/I+B},Z.splineCurve=function(C,M,D,I){var B=C.skip?M:C,E=M,z=D.skip?M:D,W=Math.sqrt(Math.pow(E.x-B.x,2)+Math.pow(E.y-B.y,2)),$=Math.sqrt(Math.pow(z.x-E.x,2)+Math.pow(z.y-E.y,2)),Q=W/(W+$),it=$/(W+$),nt=I*(Q=isNaN(Q)?0:Q),at=I*(it=isNaN(it)?0:it);return{previous:{x:E.x-nt*(z.x-B.x),y:E.y-nt*(z.y-B.y)},next:{x:E.x+at*(z.x-B.x),y:E.y+at*(z.y-B.y)}}},Z.EPSILON=Number.EPSILON||1e-14,Z.splineCurveMonotone=function(C){var I,B,E,z,$,Q,it,nt,at,M=(C||[]).map(function(ht){return{model:ht._model,deltaK:0,mK:0}}),D=M.length;for(I=0;I<D;++I)if(!(E=M[I]).model.skip){if(B=I>0?M[I-1]:null,(z=I<D-1?M[I+1]:null)&&!z.model.skip){var W=z.model.x-E.model.x;E.deltaK=0!==W?(z.model.y-E.model.y)/W:0}E.mK=!B||B.model.skip?E.deltaK:!z||z.model.skip?B.deltaK:this.sign(B.deltaK)!==this.sign(E.deltaK)?0:(B.deltaK+E.deltaK)/2}for(I=0;I<D-1;++I)if(z=M[I+1],!(E=M[I]).model.skip&&!z.model.skip){if(Z.almostEquals(E.deltaK,0,this.EPSILON)){E.mK=z.mK=0;continue}$=E.mK/E.deltaK,Q=z.mK/E.deltaK,!((nt=Math.pow($,2)+Math.pow(Q,2))<=9)&&(it=3/Math.sqrt(nt),E.mK=$*it*E.deltaK,z.mK=Q*it*E.deltaK)}for(I=0;I<D;++I)!(E=M[I]).model.skip&&(z=I<D-1?M[I+1]:null,(B=I>0?M[I-1]:null)&&!B.model.skip&&(E.model.controlPointPreviousX=E.model.x-(at=(E.model.x-B.model.x)/3),E.model.controlPointPreviousY=E.model.y-at*E.mK),z&&!z.model.skip&&(E.model.controlPointNextX=E.model.x+(at=(z.model.x-E.model.x)/3),E.model.controlPointNextY=E.model.y+at*E.mK))},Z.nextItem=function(C,M,D){return D?M>=C.length-1?C[0]:C[M+1]:M>=C.length-1?C[C.length-1]:C[M+1]},Z.previousItem=function(C,M,D){return D?M<=0?C[C.length-1]:C[M-1]:M<=0?C[0]:C[M-1]},Z.niceNum=function(C,M){var D=Math.floor(Z.log10(C)),I=C/Math.pow(10,D);return(M?I<1.5?1:I<3?2:I<7?5:10:I<=1?1:I<=2?2:I<=5?5:10)*Math.pow(10,D)},Z.requestAnimFrame=typeof window>"u"?function(C){C()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(C){return window.setTimeout(C,1e3/60)},Z.getRelativePosition=function(C,M){var D,I,B=C.originalEvent||C,E=C.target||C.srcElement,z=E.getBoundingClientRect(),W=B.touches;W&&W.length>0?(D=W[0].clientX,I=W[0].clientY):(D=B.clientX,I=B.clientY);var $=parseFloat(Z.getStyle(E,"padding-left")),Q=parseFloat(Z.getStyle(E,"padding-top")),it=parseFloat(Z.getStyle(E,"padding-right")),nt=parseFloat(Z.getStyle(E,"padding-bottom")),ht=z.bottom-z.top-Q-nt;return{x:D=Math.round((D-z.left-$)/(z.right-z.left-$-it)*E.width/M.currentDevicePixelRatio),y:I=Math.round((I-z.top-Q)/ht*E.height/M.currentDevicePixelRatio)}},Z.getConstraintWidth=function(C){return x(C,"max-width","clientWidth")},Z.getConstraintHeight=function(C){return x(C,"max-height","clientHeight")},Z._calculatePadding=function(C,M,D){return(M=Z.getStyle(C,M)).indexOf("%")>-1?D*parseInt(M,10)/100:parseInt(M,10)},Z._getParentNode=function(C){var M=C.parentNode;return M&&"[object ShadowRoot]"===M.toString()&&(M=M.host),M},Z.getMaximumWidth=function(C){var M=Z._getParentNode(C);if(!M)return C.clientWidth;var D=M.clientWidth,E=D-Z._calculatePadding(M,"padding-left",D)-Z._calculatePadding(M,"padding-right",D),z=Z.getConstraintWidth(C);return isNaN(z)?E:Math.min(E,z)},Z.getMaximumHeight=function(C){var M=Z._getParentNode(C);if(!M)return C.clientHeight;var D=M.clientHeight,E=D-Z._calculatePadding(M,"padding-top",D)-Z._calculatePadding(M,"padding-bottom",D),z=Z.getConstraintHeight(C);return isNaN(z)?E:Math.min(E,z)},Z.getStyle=function(C,M){return C.currentStyle?C.currentStyle[M]:document.defaultView.getComputedStyle(C,null).getPropertyValue(M)},Z.retinaScale=function(C,M){var D=C.currentDevicePixelRatio=M||typeof window<"u"&&window.devicePixelRatio||1;if(1!==D){var I=C.canvas,B=C.height,E=C.width;I.height=B*D,I.width=E*D,C.ctx.scale(D,D),!I.style.height&&!I.style.width&&(I.style.height=B+"px",I.style.width=E+"px")}},Z.fontString=function(C,M,D){return M+" "+C+"px "+D},Z.longestText=function(C,M,D,I){var B=(I=I||{}).data=I.data||{},E=I.garbageCollect=I.garbageCollect||[];I.font!==M&&(B=I.data={},E=I.garbageCollect=[],I.font=M),C.font=M;var $,Q,it,nt,at,z=0,W=D.length;for($=0;$<W;$++)if(null!=(nt=D[$])&&!0!==Z.isArray(nt))z=Z.measureText(C,B,E,z,nt);else if(Z.isArray(nt))for(Q=0,it=nt.length;Q<it;Q++)null!=(at=nt[Q])&&!Z.isArray(at)&&(z=Z.measureText(C,B,E,z,at));var ht=E.length/2;if(ht>D.length){for($=0;$<ht;$++)delete B[E[$]];E.splice(0,ht)}return z},Z.measureText=function(C,M,D,I,B){var E=M[B];return E||(E=M[B]=C.measureText(B).width,D.push(B)),E>I&&(I=E),I},Z.numberOfLabelLines=function(C){var M=1;return Z.each(C,function(D){Z.isArray(D)&&D.length>M&&(M=D.length)}),M},Z.color=aa?function(C){return C instanceof CanvasGradient&&(C=It.global.defaultColor),aa(C)}:function(C){return console.error("Color.js not found!"),C},Z.getHoverColor=function(C){return C instanceof CanvasPattern||C instanceof CanvasGradient?C:Z.color(C).saturate(.5).darken(.1).rgbString()}}(),Se._adapters=dc,Se.Animation=ic,Se.animationService=Ea,Se.controllers=Va,Se.DatasetController=ti,Se.defaults=It,Se.Element=pn,Se.elements=Wi,Se.Interaction=wn,Se.layouts=Yi,Se.platform=Ri,Se.plugins=Ze,Se.Scale=Zi,Se.scaleService=vn,Se.Ticks=nr,Se.Tooltip=xs,Se.helpers.each(yy,function(d,v){Se.scaleService.registerScaleType(v,d,d._defaults)}),Mr)Mr.hasOwnProperty(wc)&&Se.plugins.register(Mr[wc]);Se.platform.initialize();var tg=Se;return typeof window<"u"&&(window.Chart=Se),Se.Chart=Se,Se.Legend=Mr.legend._element,Se.Title=Mr.title._element,Se.pluginService=Se.plugins,Se.PluginBase=Se.Element.extend({}),Se.canvasHelpers=Se.helpers.canvas,Se.layoutService=Se.layouts,Se.LinearScaleBase=vi,Se.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(d){Se[d]=function(v,x){return new Se(v,Se.helpers.merge(x||{},{type:d.charAt(0).toLowerCase()+d.slice(1)}))}}),tg}(function(){try{return dt(5439)}catch{}}())},8407:function(tl,Qi){!function(dt){"use strict";var ct=Object.freeze;function Qt(g){var S,k,R,Y;for(k=1,R=arguments.length;k<R;k++)for(S in Y=arguments[k])g[S]=Y[S];return g}Object.freeze=function(g){return g};var y=Object.create||function(){function g(){}return function(S){return g.prototype=S,new g}}();function Ot(g,S){var k=Array.prototype.slice;if(g.bind)return g.bind.apply(g,k.call(arguments,1));var R=k.call(arguments,2);return function(){return g.apply(S,R.length?R.concat(k.call(arguments)):arguments)}}var ot=0;function pe(g){return g._leaflet_id=g._leaflet_id||++ot,g._leaflet_id}function se(g,S,k){var R,Y,K,rt;return rt=function(){R=!1,Y&&(K.apply(k,Y),Y=!1)},K=function(){R?Y=arguments:(g.apply(k,arguments),setTimeout(rt,S),R=!0)},K}function $e(g,S,k){var R=S[1],Y=S[0],K=R-Y;return g===R&&k?g:((g-Y)%K+K)%K+Y}function zt(){return!1}function te(g,S){var k=Math.pow(10,S||5);return Math.round(g*k)/k}function li(g){return g.trim?g.trim():g.replace(/^\s+|\s+$/g,"")}function we(g){return li(g).split(/\s+/)}function ye(g,S){for(var k in g.hasOwnProperty("options")||(g.options=g.options?y(g.options):{}),S)g.options[k]=S[k];return g.options}function Ia(g,S,k){var R=[];for(var Y in g)R.push(encodeURIComponent(k?Y.toUpperCase():Y)+"="+encodeURIComponent(g[Y]));return(S&&-1!==S.indexOf("?")?"&":"?")+R.join("&")}var Rn=/\{ *([\w_\-]+) *\}/g;function el(g,S){return g.replace(Rn,function(k,R){var Y=S[R];if(void 0===Y)throw new Error("No value provided for variable "+k);return"function"==typeof Y&&(Y=Y(S)),Y})}var ea=Array.isArray||function(g){return"[object Array]"===Object.prototype.toString.call(g)};function Hp(g,S){for(var k=0;k<g.length;k++)if(g[k]===S)return k;return-1}var Wp="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function xo(g){return window["webkit"+g]||window["moz"+g]||window["ms"+g]}var Pd=0;function Id(g){var S=+new Date,k=Math.max(0,16-(S-Pd));return Pd=S+k,window.setTimeout(g,k)}var Gu=window.requestAnimationFrame||xo("RequestAnimationFrame")||Id,Od=window.cancelAnimationFrame||xo("CancelAnimationFrame")||xo("CancelRequestAnimationFrame")||function(g){window.clearTimeout(g)};function Ai(g,S,k){if(!k||Gu!==Id)return Gu.call(window,Ot(g,S));g.call(S)}function Vr(g){g&&Od.call(window,g)}var Yp=(Object.freeze||Object)({freeze:ct,extend:Qt,create:y,bind:Ot,lastId:ot,stamp:pe,throttle:se,wrapNum:$e,falseFn:zt,formatNum:te,trim:li,splitWords:we,setOptions:ye,getParamString:Ia,template:el,isArray:ea,indexOf:Hp,emptyImageUrl:Wp,requestFn:Gu,cancelFn:Od,requestAnimFrame:Ai,cancelAnimFrame:Vr});function ia(){}ia.extend=function(g){var S=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},k=S.__super__=this.prototype,R=y(k);for(var Y in R.constructor=S,S.prototype=R,this)this.hasOwnProperty(Y)&&"prototype"!==Y&&"__super__"!==Y&&(S[Y]=this[Y]);return g.statics&&(Qt(S,g.statics),delete g.statics),g.includes&&(function Xp(g){if(L&&L.Mixin){g=ea(g)?g:[g];for(var S=0;S<g.length;S++)g[S]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(g.includes),Qt.apply(null,[R].concat(g.includes)),delete g.includes),R.options&&(g.options=Qt(y(R.options),g.options)),Qt(R,g),R._initHooks=[],R.callInitHooks=function(){if(!this._initHooksCalled){k.callInitHooks&&k.callInitHooks.call(this),this._initHooksCalled=!0;for(var K=0,rt=R._initHooks.length;K<rt;K++)R._initHooks[K].call(this)}},S},ia.include=function(g){return Qt(this.prototype,g),this},ia.mergeOptions=function(g){return Qt(this.prototype.options,g),this},ia.addInitHook=function(g){var S=Array.prototype.slice.call(arguments,1),k="function"==typeof g?g:function(){this[g].apply(this,S)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(k),this};var Ji={on:function(g,S,k){if("object"==typeof g)for(var R in g)this._on(R,g[R],S);else for(var Y=0,K=(g=we(g)).length;Y<K;Y++)this._on(g[Y],S,k);return this},off:function(g,S,k){if(g)if("object"==typeof g)for(var R in g)this._off(R,g[R],S);else for(var Y=0,K=(g=we(g)).length;Y<K;Y++)this._off(g[Y],S,k);else delete this._events;return this},_on:function(g,S,k){this._events=this._events||{};var R=this._events[g];R||(this._events[g]=R=[]),k===this&&(k=void 0);for(var Y={fn:S,ctx:k},K=R,rt=0,pt=K.length;rt<pt;rt++)if(K[rt].fn===S&&K[rt].ctx===k)return;K.push(Y)},_off:function(g,S,k){var R,Y,K;if(this._events&&(R=this._events[g])){if(!S){for(Y=0,K=R.length;Y<K;Y++)R[Y].fn=zt;return void delete this._events[g]}if(k===this&&(k=void 0),R)for(Y=0,K=R.length;Y<K;Y++){var rt=R[Y];if(rt.ctx===k&&rt.fn===S)return rt.fn=zt,this._firingCount&&(this._events[g]=R=R.slice()),void R.splice(Y,1)}}},fire:function(g,S,k){if(!this.listens(g,k))return this;var R=Qt({},S,{type:g,target:this});if(this._events){var Y=this._events[g];if(Y){this._firingCount=this._firingCount+1||1;for(var K=0,rt=Y.length;K<rt;K++){var pt=Y[K];pt.fn.call(pt.ctx||this,R)}this._firingCount--}}return k&&this._propagateEvent(R),this},listens:function(g,S){var k=this._events&&this._events[g];if(k&&k.length)return!0;if(S)for(var R in this._eventParents)if(this._eventParents[R].listens(g,S))return!0;return!1},once:function(g,S,k){if("object"==typeof g){for(var R in g)this.once(R,g[R],S);return this}var Y=Ot(function(){this.off(g,S,k).off(g,Y,k)},this);return this.on(g,S,k).on(g,Y,k)},addEventParent:function(g){return this._eventParents=this._eventParents||{},this._eventParents[pe(g)]=g,this},removeEventParent:function(g){return this._eventParents&&delete this._eventParents[pe(g)],this},_propagateEvent:function(g){for(var S in this._eventParents)this._eventParents[S].fire(g.type,Qt({layer:g.target},g),!0)}};Ji.addEventListener=Ji.on,Ji.removeEventListener=Ji.clearAllEventListeners=Ji.off,Ji.addOneTimeEventListener=Ji.once,Ji.fireEvent=Ji.fire,Ji.hasEventListeners=Ji.listens;var tn=ia.extend(Ji);function re(g,S,k){this.x=k?Math.round(g):g,this.y=k?Math.round(S):S}function Fe(g,S,k){return g instanceof re?g:ea(g)?new re(g[0],g[1]):null==g?g:"object"==typeof g&&"x"in g&&"y"in g?new re(g.x,g.y):new re(g,S,k)}function Yt(g,S){if(g)for(var k=S?[g,S]:g,R=0,Y=k.length;R<Y;R++)this.extend(k[R])}function fr(g,S){return!g||g instanceof Yt?g:new Yt(g,S)}function en(g,S){if(g)for(var k=S?[g,S]:g,R=0,Y=k.length;R<Y;R++)this.extend(k[R])}function ni(g,S){return g instanceof en?g:new en(g,S)}function Qe(g,S,k){if(isNaN(g)||isNaN(S))throw new Error("Invalid LatLng object: ("+g+", "+S+")");this.lat=+g,this.lng=+S,void 0!==k&&(this.alt=+k)}function gi(g,S,k){return g instanceof Qe?g:ea(g)&&"object"!=typeof g[0]?3===g.length?new Qe(g[0],g[1],g[2]):2===g.length?new Qe(g[0],g[1]):null:null==g?g:"object"==typeof g&&"lat"in g?new Qe(g.lat,"lng"in g?g.lng:g.lon,g.alt):void 0===S?null:new Qe(g,S,k)}re.prototype={clone:function(){return new re(this.x,this.y)},add:function(g){return this.clone()._add(Fe(g))},_add:function(g){return this.x+=g.x,this.y+=g.y,this},subtract:function(g){return this.clone()._subtract(Fe(g))},_subtract:function(g){return this.x-=g.x,this.y-=g.y,this},divideBy:function(g){return this.clone()._divideBy(g)},_divideBy:function(g){return this.x/=g,this.y/=g,this},multiplyBy:function(g){return this.clone()._multiplyBy(g)},_multiplyBy:function(g){return this.x*=g,this.y*=g,this},scaleBy:function(g){return new re(this.x*g.x,this.y*g.y)},unscaleBy:function(g){return new re(this.x/g.x,this.y/g.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(g){var S=(g=Fe(g)).x-this.x,k=g.y-this.y;return Math.sqrt(S*S+k*k)},equals:function(g){return(g=Fe(g)).x===this.x&&g.y===this.y},contains:function(g){return g=Fe(g),Math.abs(g.x)<=Math.abs(this.x)&&Math.abs(g.y)<=Math.abs(this.y)},toString:function(){return"Point("+te(this.x)+", "+te(this.y)+")"}},Yt.prototype={extend:function(g){return g=Fe(g),this.min||this.max?(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(g.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(g.y,this.max.y)):(this.min=g.clone(),this.max=g.clone()),this},getCenter:function(g){return new re((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,g)},getBottomLeft:function(){return new re(this.min.x,this.max.y)},getTopRight:function(){return new re(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(g){var S,k;return(g="number"==typeof g[0]||g instanceof re?Fe(g):fr(g))instanceof Yt?(S=g.min,k=g.max):S=k=g,S.x>=this.min.x&&k.x<=this.max.x&&S.y>=this.min.y&&k.y<=this.max.y},intersects:function(g){g=fr(g);var S=this.min,k=this.max,R=g.min,Y=g.max;return Y.x>=S.x&&R.x<=k.x&&Y.y>=S.y&&R.y<=k.y},overlaps:function(g){g=fr(g);var S=this.min,k=this.max,R=g.min,Y=g.max;return Y.x>S.x&&R.x<k.x&&Y.y>S.y&&R.y<k.y},isValid:function(){return!(!this.min||!this.max)}},en.prototype={extend:function(g){var R,Y,S=this._southWest,k=this._northEast;if(g instanceof Qe)R=g,Y=g;else{if(!(g instanceof en))return g?this.extend(gi(g)||ni(g)):this;if(Y=g._northEast,!(R=g._southWest)||!Y)return this}return S||k?(S.lat=Math.min(R.lat,S.lat),S.lng=Math.min(R.lng,S.lng),k.lat=Math.max(Y.lat,k.lat),k.lng=Math.max(Y.lng,k.lng)):(this._southWest=new Qe(R.lat,R.lng),this._northEast=new Qe(Y.lat,Y.lng)),this},pad:function(g){var S=this._southWest,k=this._northEast,R=Math.abs(S.lat-k.lat)*g,Y=Math.abs(S.lng-k.lng)*g;return new en(new Qe(S.lat-R,S.lng-Y),new Qe(k.lat+R,k.lng+Y))},getCenter:function(){return new Qe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Qe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Qe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(g){g="number"==typeof g[0]||g instanceof Qe||"lat"in g?gi(g):ni(g);var R,Y,S=this._southWest,k=this._northEast;return g instanceof en?(R=g.getSouthWest(),Y=g.getNorthEast()):R=Y=g,R.lat>=S.lat&&Y.lat<=k.lat&&R.lng>=S.lng&&Y.lng<=k.lng},intersects:function(g){g=ni(g);var S=this._southWest,k=this._northEast,R=g.getSouthWest(),Y=g.getNorthEast();return Y.lat>=S.lat&&R.lat<=k.lat&&Y.lng>=S.lng&&R.lng<=k.lng},overlaps:function(g){g=ni(g);var S=this._southWest,k=this._northEast,R=g.getSouthWest(),Y=g.getNorthEast();return Y.lat>S.lat&&R.lat<k.lat&&Y.lng>S.lng&&R.lng<k.lng},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(g,S){return!!g&&(g=ni(g),this._southWest.equals(g.getSouthWest(),S)&&this._northEast.equals(g.getNorthEast(),S))},isValid:function(){return!(!this._southWest||!this._northEast)}},Qe.prototype={equals:function(g,S){return!!g&&(g=gi(g),Math.max(Math.abs(this.lat-g.lat),Math.abs(this.lng-g.lng))<=(void 0===S?1e-9:S))},toString:function(g){return"LatLng("+te(this.lat,g)+", "+te(this.lng,g)+")"},distanceTo:function(g){return na.distance(this,gi(g))},wrap:function(){return na.wrapLatLng(this)},toBounds:function(g){var S=180*g/40075017,k=S/Math.cos(Math.PI/180*this.lat);return ni([this.lat-S,this.lng-k],[this.lat+S,this.lng+k])},clone:function(){return new Qe(this.lat,this.lng,this.alt)}};var g,pr={latLngToPoint:function(g,S){var k=this.projection.project(g),R=this.scale(S);return this.transformation._transform(k,R)},pointToLatLng:function(g,S){var k=this.scale(S),R=this.transformation.untransform(g,k);return this.projection.unproject(R)},project:function(g){return this.projection.project(g)},unproject:function(g){return this.projection.unproject(g)},scale:function(g){return 256*Math.pow(2,g)},zoom:function(g){return Math.log(g/256)/Math.LN2},getProjectedBounds:function(g){if(this.infinite)return null;var S=this.projection.bounds,k=this.scale(g);return new Yt(this.transformation.transform(S.min,k),this.transformation.transform(S.max,k))},infinite:!1,wrapLatLng:function(g){var S=this.wrapLng?$e(g.lng,this.wrapLng,!0):g.lng;return new Qe(this.wrapLat?$e(g.lat,this.wrapLat,!0):g.lat,S,g.alt)},wrapLatLngBounds:function(g){var S=g.getCenter(),k=this.wrapLatLng(S),R=S.lat-k.lat,Y=S.lng-k.lng;if(0===R&&0===Y)return g;var K=g.getSouthWest(),rt=g.getNorthEast();return new en(new Qe(K.lat-R,K.lng-Y),new Qe(rt.lat-R,rt.lng-Y))}},na=Qt({},pr,{wrapLng:[-180,180],R:6371e3,distance:function(g,S){var k=Math.PI/180,R=g.lat*k,Y=S.lat*k,K=Math.sin(R)*Math.sin(Y)+Math.cos(R)*Math.cos(Y)*Math.cos((S.lng-g.lng)*k);return this.R*Math.acos(Math.min(K,1))}}),il={R:6378137,MAX_LATITUDE:85.0511287798,project:function(g){var S=Math.PI/180,k=this.MAX_LATITUDE,R=Math.max(Math.min(k,g.lat),-k),Y=Math.sin(R*S);return new re(this.R*g.lng*S,this.R*Math.log((1+Y)/(1-Y))/2)},unproject:function(g){var S=180/Math.PI;return new Qe((2*Math.atan(Math.exp(g.y/this.R))-Math.PI/2)*S,g.x*S/this.R)},bounds:(g=6378137*Math.PI,new Yt([-g,-g],[g,g]))};function xn(g,S,k,R){if(ea(g))return this._a=g[0],this._b=g[1],this._c=g[2],void(this._d=g[3]);this._a=g,this._b=S,this._c=k,this._d=R}function as(g,S,k,R){return new xn(g,S,k,R)}xn.prototype={transform:function(g,S){return this._transform(g.clone(),S)},_transform:function(g,S){return g.x=(S=S||1)*(this._a*g.x+this._b),g.y=S*(this._c*g.y+this._d),g},untransform:function(g,S){return new re((g.x/(S=S||1)-this._b)/this._a,(g.y/S-this._d)/this._c)}};var nl=Qt({},na,{code:"EPSG:3857",projection:il,transformation:function(){var g=.5/(Math.PI*il.R);return as(g,.5,-g,.5)}()}),Hu=Qt({},nl,{code:"EPSG:900913"});function Hi(g){return document.createElementNS("http://www.w3.org/2000/svg",g)}function ra(g,S){var R,Y,K,rt,pt,xt,k="";for(R=0,K=g.length;R<K;R++){for(Y=0,rt=(pt=g[R]).length;Y<rt;Y++)k+=(Y?"L":"M")+(xt=pt[Y]).x+" "+xt.y;k+=S?jt?"z":"x":""}return k||"M0 0"}var rl=document.documentElement.style,os="ActiveXObject"in window,xi=os&&!document.addEventListener,aa="msLaunchUri"in navigator&&!("documentMode"in document),ss=Z("webkit"),Ce=Z("android"),Di=Z("android 2")||Z("android 3"),Oa=!!window.opera,ls=Z("chrome"),Pi=Z("gecko")&&!ss&&!Oa&&!os,Gt=!ls&&Z("safari"),ie=Z("phantom"),nn="OTransition"in rl,ft=0===navigator.platform.indexOf("Win"),Rt=os&&"transition"in rl,cs="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Di,oe="MozPerspective"in rl,bn=!window.L_DISABLE_3D&&(Rt||cs||oe)&&!nn&&!ie,It=typeof orientation<"u"||Z("mobile"),Li=It&&ss,U=It&&cs,mt=!window.PointerEvent&&window.MSPointerEvent,bi=!(!window.PointerEvent&&!mt),ve=!window.L_NO_TOUCH&&(bi||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Wu=It&&Oa,he=It&&Pi,oa=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Dt=!!document.createElement("canvas").getContext,jt=!(!document.createElementNS||!Hi("svg").createSVGRect),yt=!jt&&function(){try{var g=document.createElement("div");g.innerHTML='<v:shape adj="1"/>';var S=g.firstChild;return S.style.behavior="url(#default#VML)",S&&"object"==typeof S.adj}catch{return!1}}();function Z(g){return navigator.userAgent.toLowerCase().indexOf(g)>=0}var Lt=(Object.freeze||Object)({ie:os,ielt9:xi,edge:aa,webkit:ss,android:Ce,android23:Di,opera:Oa,chrome:ls,gecko:Pi,safari:Gt,phantom:ie,opera12:nn,win:ft,ie3d:Rt,webkit3d:cs,gecko3d:oe,any3d:bn,mobile:It,mobileWebkit:Li,mobileWebkit3d:U,msPointer:mt,pointer:bi,touch:ve,mobileOpera:Wu,mobileGecko:he,retina:oa,canvas:Dt,svg:jt,vml:yt}),us=mt?"MSPointerDown":"pointerdown",_e=mt?"MSPointerMove":"pointermove",Bt=mt?"MSPointerUp":"pointerup",al=mt?"MSPointerCancel":"pointercancel",fn=["INPUT","SELECT","OPTION"],Cn={},pn=!1,hs=0;function ic(g,S,k,R){return"touchstart"===S?function hi(g,S,k){var R=Ot(function(Y){if("mouse"!==Y.pointerType&&Y.pointerType!==Y.MSPOINTER_TYPE_MOUSE&&Y.pointerType!==Y.MSPOINTER_TYPE_MOUSE){if(!(fn.indexOf(Y.target.tagName)<0))return;Ii(Y)}Fa(Y,S)});g["_leaflet_touchstart"+k]=R,g.addEventListener(us,R,!1),pn||(document.documentElement.addEventListener(us,qt,!0),document.documentElement.addEventListener(_e,gr,!0),document.documentElement.addEventListener(Bt,ds,!0),document.documentElement.addEventListener(al,ds,!0),pn=!0)}(g,k,R):"touchmove"===S?function ti(g,S,k){var R=function(Y){(Y.pointerType===Y.MSPOINTER_TYPE_MOUSE||"mouse"===Y.pointerType)&&0===Y.buttons||Fa(Y,S)};g["_leaflet_touchmove"+k]=R,g.addEventListener(_e,R,!1)}(g,k,R):"touchend"===S&&function Ci(g,S,k){var R=function(Y){Fa(Y,S)};g["_leaflet_touchend"+k]=R,g.addEventListener(Bt,R,!1),g.addEventListener(al,R,!1)}(g,k,R),this}function qt(g){Cn[g.pointerId]=g,hs++}function gr(g){Cn[g.pointerId]&&(Cn[g.pointerId]=g)}function ds(g){delete Cn[g.pointerId],hs--}function Fa(g,S){for(var k in g.touches=[],Cn)g.touches.push(Cn[k]);g.changedTouches=[g],S(g)}var bo=mt?"MSPointerDown":bi?"pointerdown":"touchstart",Ra=mt?"MSPointerUp":bi?"pointerup":"touchend",vr="_leaflet_";function Yu(g,S,k){var R,Y,K=!1,rt=250;function pt(Ct){var Wt;if(bi){if(!aa||"mouse"===Ct.pointerType)return;Wt=hs}else Wt=Ct.touches.length;if(!(Wt>1)){var ce=Date.now(),Ae=ce-(R||ce);Y=Ct.touches?Ct.touches[0]:Ct,K=Ae>0&&Ae<=rt,R=ce}}function xt(Ct){if(K&&!Y.cancelBubble){if(bi){if(!aa||"mouse"===Ct.pointerType)return;var ce,Ae,Wt={};for(Ae in Y)Wt[Ae]=(ce=Y[Ae])&&ce.bind?ce.bind(Y):ce;Y=Wt}Y.type="dblclick",S(Y),R=null}}return g[vr+bo+k]=pt,g[vr+Ra+k]=xt,g[vr+"dblclick"+k]=S,g.addEventListener(bo,pt,!1),g.addEventListener(Ra,xt,!1),g.addEventListener("dblclick",S,!1),this}function ol(g,S){var R=g[vr+Ra+S],Y=g[vr+"dblclick"+S];return g.removeEventListener(bo,g[vr+bo+S],!1),g.removeEventListener(Ra,R,!1),aa||g.removeEventListener("dblclick",Y,!1),this}function Me(g,S,k,R){if("object"==typeof S)for(var Y in S)sa(g,Y,S[Y],k);else for(var K=0,rt=(S=we(S)).length;K<rt;K++)sa(g,S[K],k,R);return this}var qn="_leaflet_events";function Mt(g,S,k,R){if("object"==typeof S)for(var Y in S)Ba(g,Y,S[Y],k);else if(S)for(var K=0,rt=(S=we(S)).length;K<rt;K++)Ba(g,S[K],k,R);else{for(var pt in g[qn])Ba(g,pt,g[qn][pt]);delete g[qn]}return this}function sa(g,S,k,R){var Y=S+pe(k)+(R?"_"+pe(R):"");if(g[qn]&&g[qn][Y])return this;var K=function(pt){return k.call(R||g,pt||window.event)},rt=K;bi&&0===S.indexOf("touch")?ic(g,S,K,Y):!ve||"dblclick"!==S||!Yu||bi&&ls?"addEventListener"in g?"mousewheel"===S?g.addEventListener("onwheel"in g?"wheel":"mousewheel",K,!1):"mouseenter"===S||"mouseleave"===S?g.addEventListener("mouseenter"===S?"mouseover":"mouseout",K=function(pt){pt=pt||window.event,Wi(g,pt)&&rt(pt)},!1):("click"===S&&Ce&&(K=function(pt){!function ju(g,S){var k=g.timeStamp||g.originalEvent&&g.originalEvent.timeStamp,R=$u&&k-$u;R&&R>100&&R<500||g.target._simulatedClick&&!g._simulated?Sn(g):($u=k,S(g))}(pt,rt)}),g.addEventListener(S,K,!1)):"attachEvent"in g&&g.attachEvent("on"+S,K):Yu(g,K,Y),g[qn]=g[qn]||{},g[qn][Y]=K}function Ba(g,S,k,R){var Y=S+pe(k)+(R?"_"+pe(R):""),K=g[qn]&&g[qn][Y];if(!K)return this;bi&&0===S.indexOf("touch")?function Ea(g,S,k){var R=g["_leaflet_"+S+k];return"touchstart"===S?g.removeEventListener(us,R,!1):"touchmove"===S?g.removeEventListener(_e,R,!1):"touchend"===S&&(g.removeEventListener(Bt,R,!1),g.removeEventListener(al,R,!1)),this}(g,S,Y):ve&&"dblclick"===S&&ol?ol(g,Y):"removeEventListener"in g?g.removeEventListener("mousewheel"===S?"onwheel"in g?"wheel":"mousewheel":"mouseenter"===S?"mouseover":"mouseleave"===S?"mouseout":S,K,!1):"detachEvent"in g&&g.detachEvent("on"+S,K),g[qn][Y]=null}function la(g){return g.stopPropagation?g.stopPropagation():g.originalEvent?g.originalEvent._stopped=!0:g.cancelBubble=!0,Zu(g),this}function Pt(g){return sa(g,"mousewheel",la),this}function Je(g){return Me(g,"mousedown touchstart dblclick",la),sa(g,"click",Co),this}function Ii(g){return g.preventDefault?g.preventDefault():g.returnValue=!1,this}function Sn(g){return Ii(g),la(g),this}function Ye(g,S){if(!S)return new re(g.clientX,g.clientY);var k=S.getBoundingClientRect();return new re(g.clientX-k.left-S.clientLeft,g.clientY-k.top-S.clientTop)}var Xu=ft&&ls?2*window.devicePixelRatio:Pi?window.devicePixelRatio:1;function Ed(g){return aa?g.wheelDeltaY/2:g.deltaY&&0===g.deltaMode?-g.deltaY/Xu:g.deltaY&&1===g.deltaMode?20*-g.deltaY:g.deltaY&&2===g.deltaMode?60*-g.deltaY:g.deltaX||g.deltaZ?0:g.wheelDelta?(g.wheelDeltaY||g.wheelDelta)/2:g.detail&&Math.abs(g.detail)<32765?20*-g.detail:g.detail?g.detail/-32765*60:0}var $u,Uu={};function Co(g){Uu[g.type]=!0}function Zu(g){var S=Uu[g.type];return Uu[g.type]=!1,S}function Wi(g,S){var k=S.relatedTarget;if(!k)return!0;try{for(;k&&k!==g;)k=k.parentNode}catch{return!1}return k!==g}var Kn,ua,qu,nc,Qu,Up=(Object.freeze||Object)({on:Me,off:Mt,stopPropagation:la,disableScrollPropagation:Pt,disableClickPropagation:Je,preventDefault:Ii,stop:Sn,getMousePosition:Ye,getWheelDelta:Ed,fakeStop:Co,skipped:Zu,isExternalTarget:Wi,addListener:Me,removeListener:Mt}),sl=Bn(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),zr=Bn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),So="webkitTransition"===zr||"OTransition"===zr?zr+"End":"transitionend";function Fd(g){return"string"==typeof g?document.getElementById(g):g}function ll(g,S){var k=g.style[S]||g.currentStyle&&g.currentStyle[S];if((!k||"auto"===k)&&document.defaultView){var R=document.defaultView.getComputedStyle(g,null);k=R?R[S]:null}return"auto"===k?null:k}function Re(g,S,k){var R=document.createElement(g);return R.className=S||"",k&&k.appendChild(R),R}function di(g){var S=g.parentNode;S&&S.removeChild(g)}function cl(g){for(;g.firstChild;)g.removeChild(g.firstChild)}function fs(g){var S=g.parentNode;S.lastChild!==g&&S.appendChild(g)}function ps(g){var S=g.parentNode;S.firstChild!==g&&S.insertBefore(g,S.firstChild)}function wo(g,S){if(void 0!==g.classList)return g.classList.contains(S);var k=ul(g);return k.length>0&&new RegExp("(^|\\s)"+S+"(\\s|$)").test(k)}function ke(g,S){if(void 0!==g.classList)for(var k=we(S),R=0,Y=k.length;R<Y;R++)g.classList.add(k[R]);else if(!wo(g,S)){var K=ul(g);ca(g,(K?K+" ":"")+S)}}function Ue(g,S){void 0!==g.classList?g.classList.remove(S):ca(g,li((" "+ul(g)+" ").replace(" "+S+" "," ")))}function ca(g,S){void 0===g.className.baseVal?g.className=S:g.className.baseVal=S}function ul(g){return void 0===g.className.baseVal?g.className:g.className.baseVal}function Oi(g,S){"opacity"in g.style?g.style.opacity=S:"filter"in g.style&&function fi(g,S){var k=!1,R="DXImageTransform.Microsoft.Alpha";try{k=g.filters.item(R)}catch{if(1===S)return}S=Math.round(100*S),k?(k.Enabled=100!==S,k.Opacity=S):g.style.filter+=" progid:"+R+"(opacity="+S+")"}(g,S)}function Bn(g){for(var S=document.documentElement.style,k=0;k<g.length;k++)if(g[k]in S)return g[k];return!1}function Nr(g,S,k){var R=S||new re(0,0);g.style[sl]=(Rt?"translate("+R.x+"px,"+R.y+"px)":"translate3d("+R.x+"px,"+R.y+"px,0)")+(k?" scale("+k+")":"")}function yi(g,S){g._leaflet_pos=S,bn?Nr(g,S):(g.style.left=S.x+"px",g.style.top=S.y+"px")}function Gr(g){return g._leaflet_pos||new re(0,0)}if("onselectstart"in document)Kn=function(){Me(window,"selectstart",Ii)},ua=function(){Mt(window,"selectstart",Ii)};else{var gs=Bn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Kn=function(){if(gs){var g=document.documentElement.style;qu=g[gs],g[gs]="none"}},ua=function(){gs&&(document.documentElement.style[gs]=qu,qu=void 0)}}function Ku(){Me(window,"dragstart",Ii)}function ha(){Mt(window,"dragstart",Ii)}function Va(g){for(;-1===g.tabIndex;)g=g.parentNode;g.style&&(rn(),nc=g,Qu=g.style.outline,g.style.outline="none",Me(window,"keydown",rn))}function rn(){nc&&(nc.style.outline=Qu,nc=void 0,Qu=void 0,Mt(window,"keydown",rn))}var za=(Object.freeze||Object)({TRANSFORM:sl,TRANSITION:zr,TRANSITION_END:So,get:Fd,getStyle:ll,create:Re,remove:di,empty:cl,toFront:fs,toBack:ps,hasClass:wo,addClass:ke,removeClass:Ue,setClass:ca,getClass:ul,setOpacity:Oi,testProp:Bn,setTransform:Nr,setPosition:yi,getPosition:Gr,disableTextSelection:Kn,enableTextSelection:ua,disableImageDrag:Ku,enableImageDrag:ha,preventOutline:Va,restoreOutline:rn}),Qn=tn.extend({run:function(g,S,k,R){this.stop(),this._el=g,this._inProgress=!0,this._duration=k||.25,this._easeOutPower=1/Math.max(R||.5,.2),this._startPos=Gr(g),this._offset=S.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Ai(this._animate,this),this._step()},_step:function(g){var S=+new Date-this._startTime,k=1e3*this._duration;S<k?this._runFrame(this._easeOut(S/k),g):(this._runFrame(1),this._complete())},_runFrame:function(g,S){var k=this._startPos.add(this._offset.multiplyBy(g));S&&k._round(),yi(this._el,k),this.fire("step")},_complete:function(){Vr(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(g){return 1-Math.pow(1-g,this._easeOutPower)}}),Be=tn.extend({options:{crs:nl,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(g,S){S=ye(this,S),this._initContainer(g),this._initLayout(),this._onResize=Ot(this._onResize,this),this._initEvents(),S.maxBounds&&this.setMaxBounds(S.maxBounds),void 0!==S.zoom&&(this._zoom=this._limitZoom(S.zoom)),S.center&&void 0!==S.zoom&&this.setView(gi(S.center),S.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._zoomAnimated=zr&&bn&&!Wu&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Me(this._proxy,So,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(g,S,k){return S=void 0===S?this._zoom:this._limitZoom(S),g=this._limitCenter(gi(g),S,this.options.maxBounds),k=k||{},this._stop(),this._loaded&&!k.reset&&!0!==k&&(void 0!==k.animate&&(k.zoom=Qt({animate:k.animate},k.zoom),k.pan=Qt({animate:k.animate,duration:k.duration},k.pan)),this._zoom!==S?this._tryAnimatedZoom&&this._tryAnimatedZoom(g,S,k.zoom):this._tryAnimatedPan(g,k.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(g,S),this)},setZoom:function(g,S){return this._loaded?this.setView(this.getCenter(),g,{zoom:S}):(this._zoom=g,this)},zoomIn:function(g,S){return this.setZoom(this._zoom+(g=g||(bn?this.options.zoomDelta:1)),S)},zoomOut:function(g,S){return this.setZoom(this._zoom-(g=g||(bn?this.options.zoomDelta:1)),S)},setZoomAround:function(g,S,k){var R=this.getZoomScale(S),Y=this.getSize().divideBy(2),rt=(g instanceof re?g:this.latLngToContainerPoint(g)).subtract(Y).multiplyBy(1-1/R),pt=this.containerPointToLatLng(Y.add(rt));return this.setView(pt,S,{zoom:k})},_getBoundsCenterZoom:function(g,S){S=S||{},g=g.getBounds?g.getBounds():ni(g);var k=Fe(S.paddingTopLeft||S.padding||[0,0]),R=Fe(S.paddingBottomRight||S.padding||[0,0]),Y=this.getBoundsZoom(g,!1,k.add(R));if((Y="number"==typeof S.maxZoom?Math.min(S.maxZoom,Y):Y)===1/0)return{center:g.getCenter(),zoom:Y};var K=R.subtract(k).divideBy(2),rt=this.project(g.getSouthWest(),Y),pt=this.project(g.getNorthEast(),Y);return{center:this.unproject(rt.add(pt).divideBy(2).add(K),Y),zoom:Y}},fitBounds:function(g,S){if(!(g=ni(g)).isValid())throw new Error("Bounds are not valid.");var k=this._getBoundsCenterZoom(g,S);return this.setView(k.center,k.zoom,S)},fitWorld:function(g){return this.fitBounds([[-90,-180],[90,180]],g)},panTo:function(g,S){return this.setView(g,this._zoom,{pan:S})},panBy:function(g,S){if(S=S||{},!(g=Fe(g).round()).x&&!g.y)return this.fire("moveend");if(!0!==S.animate&&!this.getSize().contains(g))return this._resetView(this.unproject(this.project(this.getCenter()).add(g)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Qn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),S.noMoveStart||this.fire("movestart"),!1!==S.animate){ke(this._mapPane,"leaflet-pan-anim");var k=this._getMapPanePos().subtract(g).round();this._panAnim.run(this._mapPane,k,S.duration||.25,S.easeLinearity)}else this._rawPanBy(g),this.fire("move").fire("moveend");return this},flyTo:function(g,S,k){if(!1===(k=k||{}).animate||!bn)return this.setView(g,S,k);this._stop();var R=this.project(this.getCenter()),Y=this.project(g),K=this.getSize(),rt=this._zoom;g=gi(g),S=void 0===S?rt:S;var pt=Math.max(K.x,K.y),xt=pt*this.getZoomScale(rt,S),Ct=Y.distanceTo(R)||1,Wt=1.42,ce=Wt*Wt;function Ae(ui){var ln=(xt*xt-pt*pt+(ui?-1:1)*ce*ce*Ct*Ct)/(2*(ui?xt:pt)*ce*Ct),xl=Math.sqrt(ln*ln+1)-ln;return xl<1e-9?-18:Math.log(xl)}function Cr(ui){return(Math.exp(ui)-Math.exp(-ui))/2}function Ur(ui){return(Math.exp(ui)+Math.exp(-ui))/2}var Sr=Ae(0);function Vd(ui){return pt*(Ur(Sr)*function Eo(ui){return Cr(ui)/Ur(ui)}(Sr+Wt*ui)-Cr(Sr))/ce}var Ts=Date.now(),_l=(Ae(1)-Sr)/Wt,ar=k.duration?1e3*k.duration:1e3*_l*.8;return this._moveStart(!0),function oh(){var ui=(Date.now()-Ts)/ar,Fo=function vc(ui){return 1-Math.pow(1-ui,1.5)}(ui)*_l;ui<=1?(this._flyToFrame=Ai(oh,this),this._move(this.unproject(R.add(Y.subtract(R).multiplyBy(Vd(Fo)/Ct)),rt),this.getScaleZoom(pt/function gc(ui){return pt*(Ur(Sr)/Ur(Sr+Wt*ui))}(Fo),rt),{flyTo:!0})):this._move(g,S)._moveEnd(!0)}.call(this),this},flyToBounds:function(g,S){var k=this._getBoundsCenterZoom(g,S);return this.flyTo(k.center,k.zoom,S)},setMaxBounds:function(g){return(g=ni(g)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=g,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(g){return this.options.minZoom=g,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(g):this},setMaxZoom:function(g){return this.options.maxZoom=g,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(g):this},panInsideBounds:function(g,S){this._enforcingBounds=!0;var k=this.getCenter(),R=this._limitCenter(k,this._zoom,ni(g));return k.equals(R)||this.panTo(R,S),this._enforcingBounds=!1,this},invalidateSize:function(g){if(!this._loaded)return this;g=Qt({animate:!1,pan:!0},!0===g?{animate:!0}:g);var S=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var k=this.getSize(),R=S.divideBy(2).round(),Y=k.divideBy(2).round(),K=R.subtract(Y);return K.x||K.y?(g.animate&&g.pan?this.panBy(K):(g.pan&&this._rawPanBy(K),this.fire("move"),g.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Ot(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:S,newSize:k})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(g){if(g=this._locateOptions=Qt({timeout:1e4,watch:!1},g),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var S=Ot(this._handleGeolocationResponse,this),k=Ot(this._handleGeolocationError,this);return g.watch?this._locationWatchId=navigator.geolocation.watchPosition(S,k,g):navigator.geolocation.getCurrentPosition(S,k,g),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(g){var S=g.code,k=g.message||(1===S?"permission denied":2===S?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:S,message:"Geolocation error: "+k+"."})},_handleGeolocationResponse:function(g){var R=new Qe(g.coords.latitude,g.coords.longitude),Y=R.toBounds(g.coords.accuracy),K=this._locateOptions;if(K.setView){var rt=this.getBoundsZoom(Y);this.setView(R,K.maxZoom?Math.min(rt,K.maxZoom):rt)}var pt={latlng:R,bounds:Y,timestamp:g.timestamp};for(var xt in g.coords)"number"==typeof g.coords[xt]&&(pt[xt]=g.coords[xt]);this.fire("locationfound",pt)},addHandler:function(g,S){if(!S)return this;var k=this[g]=new S(this);return this._handlers.push(k),this.options[g]&&k.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}var g;for(g in di(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[g].remove();for(g in this._panes)di(this._panes[g]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(g,S){var R=Re("div","leaflet-pane"+(g?" leaflet-"+g.replace("Pane","")+"-pane":""),S||this._mapPane);return g&&(this._panes[g]=R),R},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var g=this.getPixelBounds();return new en(this.unproject(g.getBottomLeft()),this.unproject(g.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(g,S,k){g=ni(g),k=Fe(k||[0,0]);var R=this.getZoom()||0,Y=this.getMinZoom(),K=this.getMaxZoom(),rt=g.getNorthWest(),pt=g.getSouthEast(),xt=this.getSize().subtract(k),Ct=fr(this.project(pt,R),this.project(rt,R)).getSize(),Wt=bn?this.options.zoomSnap:1,ce=xt.x/Ct.x,Ae=xt.y/Ct.y,Cr=S?Math.max(ce,Ae):Math.min(ce,Ae);return R=this.getScaleZoom(Cr,R),Wt&&(R=Math.round(R/(Wt/100))*(Wt/100),R=S?Math.ceil(R/Wt)*Wt:Math.floor(R/Wt)*Wt),Math.max(Y,Math.min(K,R))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new re(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(g,S){var k=this._getTopLeftPoint(g,S);return new Yt(k,k.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(g){return this.options.crs.getProjectedBounds(void 0===g?this.getZoom():g)},getPane:function(g){return"string"==typeof g?this._panes[g]:g},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(g,S){var k=this.options.crs;return S=void 0===S?this._zoom:S,k.scale(g)/k.scale(S)},getScaleZoom:function(g,S){var k=this.options.crs,R=k.zoom(g*k.scale(S=void 0===S?this._zoom:S));return isNaN(R)?1/0:R},project:function(g,S){return S=void 0===S?this._zoom:S,this.options.crs.latLngToPoint(gi(g),S)},unproject:function(g,S){return S=void 0===S?this._zoom:S,this.options.crs.pointToLatLng(Fe(g),S)},layerPointToLatLng:function(g){var S=Fe(g).add(this.getPixelOrigin());return this.unproject(S)},latLngToLayerPoint:function(g){return this.project(gi(g))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(g){return this.options.crs.wrapLatLng(gi(g))},wrapLatLngBounds:function(g){return this.options.crs.wrapLatLngBounds(ni(g))},distance:function(g,S){return this.options.crs.distance(gi(g),gi(S))},containerPointToLayerPoint:function(g){return Fe(g).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(g){return Fe(g).add(this._getMapPanePos())},containerPointToLatLng:function(g){var S=this.containerPointToLayerPoint(Fe(g));return this.layerPointToLatLng(S)},latLngToContainerPoint:function(g){return this.layerPointToContainerPoint(this.latLngToLayerPoint(gi(g)))},mouseEventToContainerPoint:function(g){return Ye(g,this._container)},mouseEventToLayerPoint:function(g){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(g))},mouseEventToLatLng:function(g){return this.layerPointToLatLng(this.mouseEventToLayerPoint(g))},_initContainer:function(g){var S=this._container=Fd(g);if(!S)throw new Error("Map container not found.");if(S._leaflet_id)throw new Error("Map container is already initialized.");Me(S,"scroll",this._onScroll,this),this._containerId=pe(S)},_initLayout:function(){var g=this._container;this._fadeAnimated=this.options.fadeAnimation&&bn,ke(g,"leaflet-container"+(ve?" leaflet-touch":"")+(oa?" leaflet-retina":"")+(xi?" leaflet-oldie":"")+(Gt?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var S=ll(g,"position");"absolute"!==S&&"relative"!==S&&"fixed"!==S&&(g.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var g=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),yi(this._mapPane,new re(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ke(g.markerPane,"leaflet-zoom-hide"),ke(g.shadowPane,"leaflet-zoom-hide"))},_resetView:function(g,S){yi(this._mapPane,new re(0,0));var k=!this._loaded;this._loaded=!0,S=this._limitZoom(S),this.fire("viewprereset");var R=this._zoom!==S;this._moveStart(R)._move(g,S)._moveEnd(R),this.fire("viewreset"),k&&this.fire("load")},_moveStart:function(g){return g&&this.fire("zoomstart"),this.fire("movestart")},_move:function(g,S,k){void 0===S&&(S=this._zoom);var R=this._zoom!==S;return this._zoom=S,this._lastCenter=g,this._pixelOrigin=this._getNewPixelOrigin(g),(R||k&&k.pinch)&&this.fire("zoom",k),this.fire("move",k)},_moveEnd:function(g){return g&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Vr(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(g){yi(this._mapPane,this._getMapPanePos().subtract(g))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(g){this._targets={},this._targets[pe(this._container)]=this;var S=g?Mt:Me;S(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&S(window,"resize",this._onResize,this),bn&&this.options.transform3DLimit&&(g?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Vr(this._resizeRequest),this._resizeRequest=Ai(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var g=this._getMapPanePos();Math.max(Math.abs(g.x),Math.abs(g.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(g,S){for(var R,k=[],Y="mouseout"===S||"mouseover"===S,K=g.target||g.srcElement,rt=!1;K;){if((R=this._targets[pe(K)])&&("click"===S||"preclick"===S)&&!g._simulated&&this._draggableMoved(R)){rt=!0;break}if(R&&R.listens(S,!0)&&(Y&&!Wi(K,g)||(k.push(R),Y))||K===this._container)break;K=K.parentNode}return!k.length&&!rt&&!Y&&Wi(K,g)&&(k=[this]),k},_handleDOMEvent:function(g){if(this._loaded&&!Zu(g)){var S=g.type;("mousedown"===S||"keypress"===S)&&Va(g.target||g.srcElement),this._fireDOMEvent(g,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(g,S,k){if("click"===g.type){var R=Qt({},g);R.type="preclick",this._fireDOMEvent(R,R.type,k)}if(!g._stopped&&(k=(k||[]).concat(this._findEventTargets(g,S))).length){var Y=k[0];"contextmenu"===S&&Y.listens(S,!0)&&Ii(g);var K={originalEvent:g};if("keypress"!==g.type){var rt=Y.options&&"icon"in Y.options;K.containerPoint=rt?this.latLngToContainerPoint(Y.getLatLng()):this.mouseEventToContainerPoint(g),K.layerPoint=this.containerPointToLayerPoint(K.containerPoint),K.latlng=rt?Y.getLatLng():this.layerPointToLatLng(K.layerPoint)}for(var pt=0;pt<k.length;pt++)if(k[pt].fire(S,K,!0),K.originalEvent._stopped||!1===k[pt].options.bubblingMouseEvents&&-1!==Hp(this._mouseEvents,S))return}},_draggableMoved:function(g){return(g=g.dragging&&g.dragging.enabled()?g:this).dragging&&g.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var g=0,S=this._handlers.length;g<S;g++)this._handlers[g].disable()},whenReady:function(g,S){return this._loaded?g.call(S||this,{target:this}):this.on("load",g,S),this},_getMapPanePos:function(){return Gr(this._mapPane)||new re(0,0)},_moved:function(){var g=this._getMapPanePos();return g&&!g.equals([0,0])},_getTopLeftPoint:function(g,S){return(g&&void 0!==S?this._getNewPixelOrigin(g,S):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(g,S){var k=this.getSize()._divideBy(2);return this.project(g,S)._subtract(k)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(g,S,k){var R=this._getNewPixelOrigin(k,S);return this.project(g,S)._subtract(R)},_latLngBoundsToNewLayerBounds:function(g,S,k){var R=this._getNewPixelOrigin(k,S);return fr([this.project(g.getSouthWest(),S)._subtract(R),this.project(g.getNorthWest(),S)._subtract(R),this.project(g.getSouthEast(),S)._subtract(R),this.project(g.getNorthEast(),S)._subtract(R)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(g){return this.latLngToLayerPoint(g).subtract(this._getCenterLayerPoint())},_limitCenter:function(g,S,k){if(!k)return g;var R=this.project(g,S),Y=this.getSize().divideBy(2),K=new Yt(R.subtract(Y),R.add(Y)),rt=this._getBoundsOffset(K,k,S);return rt.round().equals([0,0])?g:this.unproject(R.add(rt),S)},_limitOffset:function(g,S){if(!S)return g;var k=this.getPixelBounds(),R=new Yt(k.min.add(g),k.max.add(g));return g.add(this._getBoundsOffset(R,S))},_getBoundsOffset:function(g,S,k){var R=fr(this.project(S.getNorthEast(),k),this.project(S.getSouthWest(),k)),Y=R.min.subtract(g.min),K=R.max.subtract(g.max);return new re(this._rebound(Y.x,-K.x),this._rebound(Y.y,-K.y))},_rebound:function(g,S){return g+S>0?Math.round(g-S)/2:Math.max(0,Math.ceil(g))-Math.max(0,Math.floor(S))},_limitZoom:function(g){var S=this.getMinZoom(),k=this.getMaxZoom(),R=bn?this.options.zoomSnap:1;return R&&(g=Math.round(g/R)*R),Math.max(S,Math.min(k,g))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ue(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(g,S){var k=this._getCenterOffset(g)._floor();return!(!0!==(S&&S.animate)&&!this.getSize().contains(k)||(this.panBy(k,S),0))},_createAnimProxy:function(){var g=this._proxy=Re("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(g),this.on("zoomanim",function(S){var k=sl,R=this._proxy.style[k];Nr(this._proxy,this.project(S.center,S.zoom),this.getZoomScale(S.zoom,1)),R===this._proxy.style[k]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var S=this.getCenter(),k=this.getZoom();Nr(this._proxy,this.project(S,k),this.getZoomScale(k,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){di(this._proxy),delete this._proxy},_catchTransitionEnd:function(g){this._animatingZoom&&g.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(g,S,k){if(this._animatingZoom)return!0;if(k=k||{},!this._zoomAnimated||!1===k.animate||this._nothingToAnimate()||Math.abs(S-this._zoom)>this.options.zoomAnimationThreshold)return!1;var R=this.getZoomScale(S),Y=this._getCenterOffset(g)._divideBy(1-1/R);return!(!0!==k.animate&&!this.getSize().contains(Y)||(Ai(function(){this._moveStart(!0)._animateZoom(g,S,!0)},this),0))},_animateZoom:function(g,S,k,R){k&&(this._animatingZoom=!0,this._animateToCenter=g,this._animateToZoom=S,ke(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:g,zoom:S,noUpdate:R}),setTimeout(Ot(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(Ue(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),Ai(function(){this._moveEnd(!0)},this))}});var Vn=ia.extend({options:{position:"topright"},initialize:function(g){ye(this,g)},getPosition:function(){return this.options.position},setPosition:function(g){var S=this._map;return S&&S.removeControl(this),this.options.position=g,S&&S.addControl(this),this},getContainer:function(){return this._container},addTo:function(g){this.remove(),this._map=g;var S=this._container=this.onAdd(g),k=this.getPosition(),R=g._controlCorners[k];return ke(S,"leaflet-control"),-1!==k.indexOf("bottom")?R.insertBefore(S,R.firstChild):R.appendChild(S),this},remove:function(){return this._map?(di(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(g){this._map&&g&&g.screenX>0&&g.screenY>0&&this._map.getContainer().focus()}}),wn=function(g){return new Vn(g)};Be.include({addControl:function(g){return g.addTo(this),this},removeControl:function(g){return g.remove(),this},_initControlPos:function(){var g=this._controlCorners={},S="leaflet-",k=this._controlContainer=Re("div",S+"control-container",this._container);function R(Y,K){g[Y+K]=Re("div",S+Y+" "+S+K,k)}R("top","left"),R("top","right"),R("bottom","left"),R("bottom","right")},_clearControlPos:function(){for(var g in this._controlCorners)di(this._controlCorners[g]);di(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Si=Vn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(g,S,k,R){return k<R?-1:R<k?1:0}},initialize:function(g,S,k){for(var R in ye(this,k),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,g)this._addLayer(g[R],R);for(R in S)this._addLayer(S[R],R,!0)},onAdd:function(g){this._initLayout(),this._update(),this._map=g,g.on("zoomend",this._checkDisabledLayers,this);for(var S=0;S<this._layers.length;S++)this._layers[S].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(g){return Vn.prototype.addTo.call(this,g),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(g,S){return this._addLayer(g,S),this._map?this._update():this},addOverlay:function(g,S){return this._addLayer(g,S,!0),this._map?this._update():this},removeLayer:function(g){g.off("add remove",this._onLayerChange,this);var S=this._getLayer(pe(g));return S&&this._layers.splice(this._layers.indexOf(S),1),this._map?this._update():this},expand:function(){ke(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var g=this._map.getSize().y-(this._container.offsetTop+50);return g<this._form.clientHeight?(ke(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=g+"px"):Ue(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ue(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var g="leaflet-control-layers",S=this._container=Re("div",g),k=this.options.collapsed;S.setAttribute("aria-haspopup",!0),Je(S),Pt(S);var R=this._form=Re("form",g+"-list");k&&(this._map.on("click",this.collapse,this),Ce||Me(S,{mouseenter:this.expand,mouseleave:this.collapse},this));var Y=this._layersLink=Re("a",g+"-toggle",S);Y.href="#",Y.title="Layers",ve?(Me(Y,"click",Sn),Me(Y,"click",this.expand,this)):Me(Y,"focus",this.expand,this),k||this.expand(),this._baseLayersList=Re("div",g+"-base",R),this._separator=Re("div",g+"-separator",R),this._overlaysList=Re("div",g+"-overlays",R),S.appendChild(R)},_getLayer:function(g){for(var S=0;S<this._layers.length;S++)if(this._layers[S]&&pe(this._layers[S].layer)===g)return this._layers[S]},_addLayer:function(g,S,k){this._map&&g.on("add remove",this._onLayerChange,this),this._layers.push({layer:g,name:S,overlay:k}),this.options.sortLayers&&this._layers.sort(Ot(function(R,Y){return this.options.sortFunction(R.layer,Y.layer,R.name,Y.name)},this)),this.options.autoZIndex&&g.setZIndex&&(this._lastZIndex++,g.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;cl(this._baseLayersList),cl(this._overlaysList),this._layerControlInputs=[];var g,S,k,R,Y=0;for(k=0;k<this._layers.length;k++)this._addItem(R=this._layers[k]),S=S||R.overlay,g=g||!R.overlay,Y+=R.overlay?0:1;return this.options.hideSingleBase&&(this._baseLayersList.style.display=(g=g&&Y>1)?"":"none"),this._separator.style.display=S&&g?"":"none",this},_onLayerChange:function(g){this._handlingClick||this._update();var S=this._getLayer(pe(g.target)),k=S.overlay?"add"===g.type?"overlayadd":"overlayremove":"add"===g.type?"baselayerchange":null;k&&this._map.fire(k,S)},_createRadioElement:function(g,S){var k='<input type="radio" class="leaflet-control-layers-selector" name="'+g+'"'+(S?' checked="checked"':"")+"/>",R=document.createElement("div");return R.innerHTML=k,R.firstChild},_addItem:function(g){var R,S=document.createElement("label"),k=this._map.hasLayer(g.layer);g.overlay?((R=document.createElement("input")).type="checkbox",R.className="leaflet-control-layers-selector",R.defaultChecked=k):R=this._createRadioElement("leaflet-base-layers",k),this._layerControlInputs.push(R),R.layerId=pe(g.layer),Me(R,"click",this._onInputClick,this);var Y=document.createElement("span");Y.innerHTML=" "+g.name;var K=document.createElement("div");return S.appendChild(K),K.appendChild(R),K.appendChild(Y),(g.overlay?this._overlaysList:this._baseLayersList).appendChild(S),this._checkDisabledLayers(),S},_onInputClick:function(){var S,k,g=this._layerControlInputs,R=[],Y=[];this._handlingClick=!0;for(var K=g.length-1;K>=0;K--)k=this._getLayer((S=g[K]).layerId).layer,S.checked?R.push(k):S.checked||Y.push(k);for(K=0;K<Y.length;K++)this._map.hasLayer(Y[K])&&this._map.removeLayer(Y[K]);for(K=0;K<R.length;K++)this._map.hasLayer(R[K])||this._map.addLayer(R[K]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var S,k,g=this._layerControlInputs,R=this._map.getZoom(),Y=g.length-1;Y>=0;Y--)k=this._getLayer((S=g[Y]).layerId).layer,S.disabled=void 0!==k.options.minZoom&&R<k.options.minZoom||void 0!==k.options.maxZoom&&R>k.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Tn=Vn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(g){var S="leaflet-control-zoom",k=Re("div",S+" leaflet-bar"),R=this.options;return this._zoomInButton=this._createButton(R.zoomInText,R.zoomInTitle,S+"-in",k,this._zoomIn),this._zoomOutButton=this._createButton(R.zoomOutText,R.zoomOutTitle,S+"-out",k,this._zoomOut),this._updateDisabled(),g.on("zoomend zoomlevelschange",this._updateDisabled,this),k},onRemove:function(g){g.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(g){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(g.shiftKey?3:1))},_zoomOut:function(g){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(g.shiftKey?3:1))},_createButton:function(g,S,k,R,Y){var K=Re("a",k,R);return K.innerHTML=g,K.href="#",K.title=S,K.setAttribute("role","button"),K.setAttribute("aria-label",S),Je(K),Me(K,"click",Sn),Me(K,"click",Y,this),Me(K,"click",this._refocusOnMap,this),K},_updateDisabled:function(){var g=this._map,S="leaflet-disabled";Ue(this._zoomInButton,S),Ue(this._zoomOutButton,S),(this._disabled||g._zoom===g.getMinZoom())&&ke(this._zoomOutButton,S),(this._disabled||g._zoom===g.getMaxZoom())&&ke(this._zoomInButton,S)}});Be.mergeOptions({zoomControl:!0}),Be.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Tn,this.addControl(this.zoomControl))});var Ju=Vn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(g){var S="leaflet-control-scale",k=Re("div",S),R=this.options;return this._addScales(R,S+"-line",k),g.on(R.updateWhenIdle?"moveend":"move",this._update,this),g.whenReady(this._update,this),k},onRemove:function(g){g.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(g,S,k){g.metric&&(this._mScale=Re("div",S,k)),g.imperial&&(this._iScale=Re("div",S,k))},_update:function(){var g=this._map,S=g.getSize().y/2,k=g.distance(g.containerPointToLatLng([0,S]),g.containerPointToLatLng([this.options.maxWidth,S]));this._updateScales(k)},_updateScales:function(g){this.options.metric&&g&&this._updateMetric(g),this.options.imperial&&g&&this._updateImperial(g)},_updateMetric:function(g){var S=this._getRoundNum(g);this._updateScale(this._mScale,S<1e3?S+" m":S/1e3+" km",S/g)},_updateImperial:function(g){var k,R,Y,S=3.2808399*g;S>5280?(R=this._getRoundNum(k=S/5280),this._updateScale(this._iScale,R+" mi",R/k)):(Y=this._getRoundNum(S),this._updateScale(this._iScale,Y+" ft",Y/S))},_updateScale:function(g,S,k){g.style.width=Math.round(this.options.maxWidth*k)+"px",g.innerHTML=S},_getRoundNum:function(g){var S=Math.pow(10,(Math.floor(g)+"").length-1),k=g/S;return S*(k>=10?10:k>=5?5:k>=3?3:k>=2?2:1)}}),hl=Vn.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(g){ye(this,g),this._attributions={}},onAdd:function(g){for(var S in g.attributionControl=this,this._container=Re("div","leaflet-control-attribution"),Je(this._container),g._layers)g._layers[S].getAttribution&&this.addAttribution(g._layers[S].getAttribution());return this._update(),this._container},setPrefix:function(g){return this.options.prefix=g,this._update(),this},addAttribution:function(g){return g?(this._attributions[g]||(this._attributions[g]=0),this._attributions[g]++,this._update(),this):this},removeAttribution:function(g){return g?(this._attributions[g]&&(this._attributions[g]--,this._update()),this):this},_update:function(){if(this._map){var g=[];for(var S in this._attributions)this._attributions[S]&&g.push(S);var k=[];this.options.prefix&&k.push(this.options.prefix),g.length&&k.push(g.join(", ")),this._container.innerHTML=k.join(" | ")}}});Be.mergeOptions({attributionControl:!0}),Be.addInitHook(function(){this.options.attributionControl&&(new hl).addTo(this)});Vn.Layers=Si,Vn.Zoom=Tn,Vn.Scale=Ju,Vn.Attribution=hl,wn.layers=function(g,S,k){return new Si(g,S,k)},wn.zoom=function(g){return new Tn(g)},wn.scale=function(g){return new Ju(g)},wn.attribution=function(g){return new hl(g)};var Fi,Wr=ia.extend({initialize:function(g){this._map=g},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),rc={Events:Ji},Mo=ve?"touchstart mousedown":"mousedown",dl={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Yi={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Na=tn.extend({options:{clickTolerance:3},initialize:function(g,S,k,R){ye(this,R),this._element=g,this._dragStartTarget=S||g,this._preventOutline=k},enable:function(){this._enabled||(Me(this._dragStartTarget,Mo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Na._dragging===this&&this.finishDrag(),Mt(this._dragStartTarget,Mo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(g){if(!g._simulated&&this._enabled&&(this._moved=!1,!wo(this._element,"leaflet-zoom-anim")&&!(Na._dragging||g.shiftKey||1!==g.which&&1!==g.button&&!g.touches)&&(Na._dragging=this,this._preventOutline&&Va(this._element),Ku(),Kn(),!this._moving))){this.fire("down");var S=g.touches?g.touches[0]:g;this._startPoint=new re(S.clientX,S.clientY),Me(document,Yi[g.type],this._onMove,this),Me(document,dl[g.type],this._onUp,this)}},_onMove:function(g){if(!g._simulated&&this._enabled){if(g.touches&&g.touches.length>1)return void(this._moved=!0);var S=g.touches&&1===g.touches.length?g.touches[0]:g,R=new re(S.clientX,S.clientY).subtract(this._startPoint);!R.x&&!R.y||Math.abs(R.x)+Math.abs(R.y)<this.options.clickTolerance||(Ii(g),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Gr(this._element).subtract(R),ke(document.body,"leaflet-dragging"),this._lastTarget=g.target||g.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ke(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(R),this._moving=!0,Vr(this._animRequest),this._lastEvent=g,this._animRequest=Ai(this._updatePosition,this,!0))}},_updatePosition:function(){var g={originalEvent:this._lastEvent};this.fire("predrag",g),yi(this._element,this._newPos),this.fire("drag",g)},_onUp:function(g){g._simulated||!this._enabled||this.finishDrag()},finishDrag:function(){for(var g in Ue(document.body,"leaflet-dragging"),this._lastTarget&&(Ue(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Yi)Mt(document,Yi[g],this._onMove,this),Mt(document,dl[g],this._onUp,this);ha(),ua(),this._moved&&this._moving&&(Vr(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Na._dragging=!1}});function fl(g,S){if(!S||!g.length)return g.slice();var k=S*S;return function Xi(g,S){var k=g.length,Y=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(k);Y[0]=Y[k-1]=1,vs(g,Y,S,0,k-1);var K,rt=[];for(K=0;K<k;K++)Y[K]&&rt.push(g[K]);return rt}(g=function ac(g,S){for(var k=[g[0]],R=1,Y=0,K=g.length;R<K;R++)pl(g[R],g[Y])>S&&(k.push(g[R]),Y=R);return Y<K-1&&k.push(g[K-1]),k}(g,k),k)}function th(g,S,k){return Math.sqrt(Ao(g,S,k,!0))}function vs(g,S,k,R,Y){var rt,pt,xt,K=0;for(pt=R+1;pt<=Y-1;pt++)(xt=Ao(g[pt],g[R],g[Y],!0))>K&&(rt=pt,K=xt);K>k&&(S[rt]=1,vs(g,S,k,R,rt),vs(g,S,k,rt,Y))}function eh(g,S,k,R,Y){var pt,xt,Ct,K=R?Fi:Ha(g,k),rt=Ha(S,k);for(Fi=rt;;){if(!(K|rt))return[g,S];if(K&rt)return!1;Ct=Ha(xt=Ga(g,S,pt=K||rt,k,Y),k),pt===K?(g=xt,K=Ct):(S=xt,rt=Ct)}}function Ga(g,S,k,R,Y){var Ct,Wt,K=S.x-g.x,rt=S.y-g.y,pt=R.min,xt=R.max;return 8&k?(Ct=g.x+K*(xt.y-g.y)/rt,Wt=xt.y):4&k?(Ct=g.x+K*(pt.y-g.y)/rt,Wt=pt.y):2&k?(Ct=xt.x,Wt=g.y+rt*(xt.x-g.x)/K):1&k&&(Ct=pt.x,Wt=g.y+rt*(pt.x-g.x)/K),new re(Ct,Wt,Y)}function Ha(g,S){var k=0;return g.x<S.min.x?k|=1:g.x>S.max.x&&(k|=2),g.y<S.min.y?k|=4:g.y>S.max.y&&(k|=8),k}function pl(g,S){var k=S.x-g.x,R=S.y-g.y;return k*k+R*R}function Ao(g,S,k,R){var Ct,Y=S.x,K=S.y,rt=k.x-Y,pt=k.y-K,xt=rt*rt+pt*pt;return xt>0&&((Ct=((g.x-Y)*rt+(g.y-K)*pt)/xt)>1?(Y=k.x,K=k.y):Ct>0&&(Y+=rt*Ct,K+=pt*Ct)),rt=g.x-Y,pt=g.y-K,R?rt*rt+pt*pt:new re(Y,K)}function Jn(g){return!ea(g[0])||"object"!=typeof g[0][0]&&typeof g[0][0]<"u"}function gn(g){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Jn(g)}var ms=(Object.freeze||Object)({simplify:fl,pointToSegmentDistance:th,closestPointOnSegment:function Bd(g,S,k){return Ao(g,S,k)},clipSegment:eh,_getEdgeIntersection:Ga,_getBitCode:Ha,_sqClosestPointOnSegment:Ao,isFlat:Jn,_flat:gn});function Lo(g,S,k){var R,K,rt,pt,xt,Ct,Wt,ce,Ae,Y=[1,4,2,8];for(K=0,Wt=g.length;K<Wt;K++)g[K]._code=Ha(g[K],S);for(pt=0;pt<4;pt++){for(ce=Y[pt],R=[],K=0,rt=(Wt=g.length)-1;K<Wt;rt=K++)Ct=g[rt],(xt=g[K])._code&ce?Ct._code&ce||((Ae=Ga(Ct,xt,ce,S,k))._code=Ha(Ae,S),R.push(Ae)):(Ct._code&ce&&((Ae=Ga(Ct,xt,ce,S,k))._code=Ha(Ae,S),R.push(Ae)),R.push(xt));g=R}return g}var oc=(Object.freeze||Object)({clipPolygon:Lo}),tr={project:function(g){return new re(g.lng,g.lat)},unproject:function(g){return new Qe(g.y,g.x)},bounds:new Yt([-180,-90],[180,90])},gl={R:6378137,R_MINOR:6356752.314245179,bounds:new Yt([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(g){var S=Math.PI/180,k=this.R,R=g.lat*S,Y=this.R_MINOR/k,K=Math.sqrt(1-Y*Y),rt=K*Math.sin(R),pt=Math.tan(Math.PI/4-R/2)/Math.pow((1-rt)/(1+rt),K/2);return R=-k*Math.log(Math.max(pt,1e-10)),new re(g.lng*S*k,R)},unproject:function(g){for(var Ct,S=180/Math.PI,k=this.R,R=this.R_MINOR/k,Y=Math.sqrt(1-R*R),K=Math.exp(-g.y/k),rt=Math.PI/2-2*Math.atan(K),pt=0,xt=.1;pt<15&&Math.abs(xt)>1e-7;pt++)Ct=Y*Math.sin(rt),Ct=Math.pow((1-Ct)/(1+Ct),Y/2),rt+=xt=Math.PI/2-2*Math.atan(K*Ct)-rt;return new Qe(rt*S,g.x*S/k)}},ys=(Object.freeze||Object)({LonLat:tr,Mercator:gl,SphericalMercator:il}),ih=Qt({},na,{code:"EPSG:3395",projection:gl,transformation:function(){var g=.5/(Math.PI*gl.R);return as(g,.5,-g,.5)}()}),nh=Qt({},na,{code:"EPSG:4326",projection:tr,transformation:as(1/180,1,-1/180,.5)}),sc=Qt({},pr,{projection:tr,transformation:as(1,0,-1,0),scale:function(g){return Math.pow(2,g)},zoom:function(g){return Math.log(g)/Math.LN2},distance:function(g,S){var k=S.lng-g.lng,R=S.lat-g.lat;return Math.sqrt(k*k+R*R)},infinite:!0});pr.Earth=na,pr.EPSG3395=ih,pr.EPSG3857=nl,pr.EPSG900913=Hu,pr.EPSG4326=nh,pr.Simple=sc;var ci=tn.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(g){return g.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(g){return g&&g.removeLayer(this),this},getPane:function(g){return this._map.getPane(g?this.options[g]||g:this.options.pane)},addInteractiveTarget:function(g){return this._map._targets[pe(g)]=this,this},removeInteractiveTarget:function(g){return delete this._map._targets[pe(g)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(g){var S=g.target;if(S.hasLayer(this)){if(this._map=S,this._zoomAnimated=S._zoomAnimated,this.getEvents){var k=this.getEvents();S.on(k,this),this.once("remove",function(){S.off(k,this)},this)}this.onAdd(S),this.getAttribution&&S.attributionControl&&S.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),S.fire("layeradd",{layer:this})}}});Be.include({addLayer:function(g){if(!g._layerAdd)throw new Error("The provided object is not a Layer.");var S=pe(g);return this._layers[S]||(this._layers[S]=g,g._mapToAdd=this,g.beforeAdd&&g.beforeAdd(this),this.whenReady(g._layerAdd,g)),this},removeLayer:function(g){var S=pe(g);return this._layers[S]?(this._loaded&&g.onRemove(this),g.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(g.getAttribution()),delete this._layers[S],this._loaded&&(this.fire("layerremove",{layer:g}),g.fire("remove")),g._map=g._mapToAdd=null,this):this},hasLayer:function(g){return!!g&&pe(g)in this._layers},eachLayer:function(g,S){for(var k in this._layers)g.call(S,this._layers[k]);return this},_addLayers:function(g){for(var S=0,k=(g=g?ea(g)?g:[g]:[]).length;S<k;S++)this.addLayer(g[S])},_addZoomLimit:function(g){(isNaN(g.options.maxZoom)||!isNaN(g.options.minZoom))&&(this._zoomBoundLayers[pe(g)]=g,this._updateZoomLevels())},_removeZoomLimit:function(g){var S=pe(g);this._zoomBoundLayers[S]&&(delete this._zoomBoundLayers[S],this._updateZoomLevels())},_updateZoomLevels:function(){var g=1/0,S=-1/0,k=this._getZoomSpan();for(var R in this._zoomBoundLayers){var Y=this._zoomBoundLayers[R].options;g=void 0===Y.minZoom?g:Math.min(g,Y.minZoom),S=void 0===Y.maxZoom?S:Math.max(S,Y.maxZoom)}this._layersMaxZoom=S===-1/0?void 0:S,this._layersMinZoom=g===1/0?void 0:g,k!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Yr=ci.extend({initialize:function(g){var S,k;if(this._layers={},g)for(S=0,k=g.length;S<k;S++)this.addLayer(g[S])},addLayer:function(g){var S=this.getLayerId(g);return this._layers[S]=g,this._map&&this._map.addLayer(g),this},removeLayer:function(g){var S=g in this._layers?g:this.getLayerId(g);return this._map&&this._layers[S]&&this._map.removeLayer(this._layers[S]),delete this._layers[S],this},hasLayer:function(g){return!!g&&(g in this._layers||this.getLayerId(g)in this._layers)},clearLayers:function(){for(var g in this._layers)this.removeLayer(this._layers[g]);return this},invoke:function(g){var k,R,S=Array.prototype.slice.call(arguments,1);for(k in this._layers)(R=this._layers[k])[g]&&R[g].apply(R,S);return this},onAdd:function(g){for(var S in this._layers)g.addLayer(this._layers[S])},onRemove:function(g){for(var S in this._layers)g.removeLayer(this._layers[S])},eachLayer:function(g,S){for(var k in this._layers)g.call(S,this._layers[k]);return this},getLayer:function(g){return this._layers[g]},getLayers:function(){var g=[];for(var S in this._layers)g.push(this._layers[S]);return g},setZIndex:function(g){return this.invoke("setZIndex",g)},getLayerId:function(g){return pe(g)}}),Ui=Yr.extend({addLayer:function(g){return this.hasLayer(g)?this:(g.addEventParent(this),Yr.prototype.addLayer.call(this,g),this.fire("layeradd",{layer:g}))},removeLayer:function(g){return this.hasLayer(g)?(g in this._layers&&(g=this._layers[g]),g.removeEventParent(this),Yr.prototype.removeLayer.call(this,g),this.fire("layerremove",{layer:g})):this},setStyle:function(g){return this.invoke("setStyle",g)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var g=new en;for(var S in this._layers){var k=this._layers[S];g.extend(k.getBounds?k.getBounds():k.getLatLng())}return g}}),Ri=ia.extend({initialize:function(g){ye(this,g)},createIcon:function(g){return this._createIcon("icon",g)},createShadow:function(g){return this._createIcon("shadow",g)},_createIcon:function(g,S){var k=this._getIconUrl(g);if(!k){if("icon"===g)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var R=this._createImg(k,S&&"IMG"===S.tagName?S:null);return this._setIconStyles(R,g),R},_setIconStyles:function(g,S){var k=this.options,R=k[S+"Size"];"number"==typeof R&&(R=[R,R]);var Y=Fe(R),K=Fe("shadow"===S&&k.shadowAnchor||k.iconAnchor||Y&&Y.divideBy(2,!0));g.className="leaflet-marker-"+S+" "+(k.className||""),K&&(g.style.marginLeft=-K.x+"px",g.style.marginTop=-K.y+"px"),Y&&(g.style.width=Y.x+"px",g.style.height=Y.y+"px")},_createImg:function(g,S){return(S=S||document.createElement("img")).src=g,S},_getIconUrl:function(g){return oa&&this.options[g+"RetinaUrl"]||this.options[g+"Url"]}});var vn=Ri.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(g){return vn.imagePath||(vn.imagePath=this._detectIconPath()),(this.options.imagePath||vn.imagePath)+Ri.prototype._getIconUrl.call(this,g)},_detectIconPath:function(){var g=Re("div","leaflet-default-icon-path",document.body),S=ll(g,"background-image")||ll(g,"backgroundImage");return document.body.removeChild(g),null===S||0!==S.indexOf("url")?"":S.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,"")}}),yr=Wr.extend({initialize:function(g){this._marker=g},addHooks:function(){var g=this._marker._icon;this._draggable||(this._draggable=new Na(g,g,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ke(g,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ue(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(g){var S=this._marker,k=S._shadow,R=Gr(S._icon),Y=S._map.layerPointToLatLng(R);k&&yi(k,R),S._latlng=Y,g.latlng=Y,g.oldLatLng=this._oldLatLng,S.fire("move",g).fire("drag",g)},_onDragEnd:function(g){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",g)}}),Wa=ci.extend({options:{icon:new vn,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1},initialize:function(g,S){ye(this,S),this._latlng=gi(g)},onAdd:function(g){this._zoomAnimated=this._zoomAnimated&&g.options.markerZoomAnimation,this._zoomAnimated&&g.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(g){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&g.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(g){var S=this._latlng;return this._latlng=gi(g),this.update(),this.fire("move",{oldLatLng:S,latlng:this._latlng})},setZIndexOffset:function(g){return this.options.zIndexOffset=g,this.update()},setIcon:function(g){return this.options.icon=g,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var g=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(g)}return this},_initIcon:function(){var g=this.options,S="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),k=g.icon.createIcon(this._icon),R=!1;k!==this._icon&&(this._icon&&this._removeIcon(),R=!0,g.title&&(k.title=g.title),g.alt&&(k.alt=g.alt)),ke(k,S),g.keyboard&&(k.tabIndex="0"),this._icon=k,g.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var Y=g.icon.createShadow(this._shadow),K=!1;Y!==this._shadow&&(this._removeShadow(),K=!0),Y&&(ke(Y,S),Y.alt=""),this._shadow=Y,g.opacity<1&&this._updateOpacity(),R&&this.getPane().appendChild(this._icon),this._initInteraction(),Y&&K&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),di(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&di(this._shadow),this._shadow=null},_setPos:function(g){yi(this._icon,g),this._shadow&&yi(this._shadow,g),this._zIndex=g.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(g){this._icon.style.zIndex=this._zIndex+g},_animateZoom:function(g){var S=this._map._latLngToNewLayerPoint(this._latlng,g.zoom,g.center).round();this._setPos(S)},_initInteraction:function(){if(this.options.interactive&&(ke(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),yr)){var g=this.options.draggable;this.dragging&&(g=this.dragging.enabled(),this.dragging.disable()),this.dragging=new yr(this),g&&this.dragging.enable()}},setOpacity:function(g){return this.options.opacity=g,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var g=this.options.opacity;Oi(this._icon,g),this._shadow&&Oi(this._shadow,g)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}});var wi=ci.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(g){this._renderer=g.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(g){return ye(this,g),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(ve?10:0)}}),an=wi.extend({options:{fill:!0,radius:10},initialize:function(g,S){ye(this,S),this._latlng=gi(g),this._radius=this.options.radius},setLatLng:function(g){return this._latlng=gi(g),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(g){return this.options.radius=this._radius=g,this.redraw()},getRadius:function(){return this._radius},setStyle:function(g){var S=g&&g.radius||this._radius;return wi.prototype.setStyle.call(this,g),this.setRadius(S),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var g=this._radius,S=this._radiusY||g,k=this._clickTolerance(),R=[g+k,S+k];this._pxBounds=new Yt(this._point.subtract(R),this._point.add(R))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(g){return g.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var _r=an.extend({initialize:function(g,S,k){if("number"==typeof S&&(S=Qt({},k,{radius:S})),ye(this,S),this._latlng=gi(g),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(g){return this._mRadius=g,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var g=[this._radius,this._radiusY||this._radius];return new en(this._map.layerPointToLatLng(this._point.subtract(g)),this._map.layerPointToLatLng(this._point.add(g)))},setStyle:wi.prototype.setStyle,_project:function(){var g=this._latlng.lng,S=this._latlng.lat,k=this._map,R=k.options.crs;if(R.distance===na.distance){var Y=Math.PI/180,K=this._mRadius/na.R/Y,rt=k.project([S+K,g]),pt=k.project([S-K,g]),xt=rt.add(pt).divideBy(2),Ct=k.unproject(xt).lat,Wt=Math.acos((Math.cos(K*Y)-Math.sin(S*Y)*Math.sin(Ct*Y))/(Math.cos(S*Y)*Math.cos(Ct*Y)))/Y;(isNaN(Wt)||0===Wt)&&(Wt=K/Math.cos(Math.PI/180*S)),this._point=xt.subtract(k.getPixelOrigin()),this._radius=isNaN(Wt)?0:Math.max(Math.round(xt.x-k.project([Ct,g-Wt]).x),1),this._radiusY=Math.max(Math.round(xt.y-rt.y),1)}else{var ce=R.unproject(R.project(this._latlng).subtract([this._mRadius,0]));this._point=k.latLngToLayerPoint(this._latlng),this._radius=this._point.x-k.latLngToLayerPoint(ce).x}this._updateBounds()}});var on=wi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(g,S){ye(this,S),this._setLatLngs(g)},getLatLngs:function(){return this._latlngs},setLatLngs:function(g){return this._setLatLngs(g),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(g){for(var Y,K,S=1/0,k=null,R=Ao,rt=0,pt=this._parts.length;rt<pt;rt++)for(var xt=this._parts[rt],Ct=1,Wt=xt.length;Ct<Wt;Ct++){var ce=R(g,Y=xt[Ct-1],K=xt[Ct],!0);ce<S&&(S=ce,k=R(g,Y,K))}return k&&(k.distance=Math.sqrt(S)),k},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var g,S,k,R,Y,K,rt,pt=this._rings[0],xt=pt.length;if(!xt)return null;for(g=0,S=0;g<xt-1;g++)S+=pt[g].distanceTo(pt[g+1])/2;if(0===S)return this._map.layerPointToLatLng(pt[0]);for(g=0,R=0;g<xt-1;g++)if((R+=k=(Y=pt[g]).distanceTo(K=pt[g+1]))>S)return this._map.layerPointToLatLng([K.x-(rt=(R-S)/k)*(K.x-Y.x),K.y-rt*(K.y-Y.y)])},getBounds:function(){return this._bounds},addLatLng:function(g,S){return S=S||this._defaultShape(),g=gi(g),S.push(g),this._bounds.extend(g),this.redraw()},_setLatLngs:function(g){this._bounds=new en,this._latlngs=this._convertLatLngs(g)},_defaultShape:function(){return Jn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(g){for(var S=[],k=Jn(g),R=0,Y=g.length;R<Y;R++)k?(S[R]=gi(g[R]),this._bounds.extend(S[R])):S[R]=this._convertLatLngs(g[R]);return S},_project:function(){var g=new Yt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,g);var S=this._clickTolerance(),k=new re(S,S);this._bounds.isValid()&&g.isValid()&&(g.min._subtract(k),g.max._add(k),this._pxBounds=g)},_projectLatlngs:function(g,S,k){var K,rt,Y=g.length;if(g[0]instanceof Qe){for(rt=[],K=0;K<Y;K++)rt[K]=this._map.latLngToLayerPoint(g[K]),k.extend(rt[K]);S.push(rt)}else for(K=0;K<Y;K++)this._projectLatlngs(g[K],S,k)},_clipPoints:function(){var g=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(g)){if(this.options.noClip)return void(this._parts=this._rings);var k,R,Y,K,rt,pt,xt,S=this._parts;for(k=0,Y=0,K=this._rings.length;k<K;k++)for(R=0,rt=(xt=this._rings[k]).length;R<rt-1;R++)(pt=eh(xt[R],xt[R+1],g,R,!0))&&(S[Y]=S[Y]||[],S[Y].push(pt[0]),(pt[1]!==xt[R+1]||R===rt-2)&&(S[Y].push(pt[1]),Y++))}},_simplifyPoints:function(){for(var g=this._parts,S=this.options.smoothFactor,k=0,R=g.length;k<R;k++)g[k]=fl(g[k],S)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(g,S){var k,R,Y,K,rt,pt,xt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(g))return!1;for(k=0,K=this._parts.length;k<K;k++)for(R=0,Y=(rt=(pt=this._parts[k]).length)-1;R<rt;Y=R++)if((S||0!==R)&&th(g,pt[Y],pt[R])<=xt)return!0;return!1}});on._flat=gn;var Mn=on.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var g,S,k,R,Y,K,rt,pt,Ct=this._rings[0],Wt=Ct.length;if(!Wt)return null;for(K=rt=pt=0,g=0,S=Wt-1;g<Wt;S=g++)rt+=((k=Ct[g]).x+(R=Ct[S]).x)*(Y=k.y*R.x-R.y*k.x),pt+=(k.y+R.y)*Y,K+=3*Y;return this._map.layerPointToLatLng(0===K?Ct[0]:[rt/K,pt/K])},_convertLatLngs:function(g){var S=on.prototype._convertLatLngs.call(this,g),k=S.length;return k>=2&&S[0]instanceof Qe&&S[0].equals(S[k-1])&&S.pop(),S},_setLatLngs:function(g){on.prototype._setLatLngs.call(this,g),Jn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Jn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var g=this._renderer._bounds,S=this.options.weight,k=new re(S,S);if(g=new Yt(g.min.subtract(k),g.max.add(k)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(g)){if(this.options.noClip)return void(this._parts=this._rings);for(var K,R=0,Y=this._rings.length;R<Y;R++)(K=Lo(this._rings[R],g,!0)).length&&this._parts.push(K)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(g){var k,R,Y,K,rt,pt,xt,Ct,S=!1;if(!this._pxBounds.contains(g))return!1;for(K=0,xt=this._parts.length;K<xt;K++)for(rt=0,pt=(Ct=(k=this._parts[K]).length)-1;rt<Ct;pt=rt++)(R=k[rt]).y>g.y!=(Y=k[pt]).y>g.y&&g.x<(Y.x-R.x)*(g.y-R.y)/(Y.y-R.y)+R.x&&(S=!S);return S||on.prototype._containsPoint.call(this,g,!0)}});var $t=Ui.extend({initialize:function(g,S){ye(this,S),this._layers={},g&&this.addData(g)},addData:function(g){var k,R,Y,S=ea(g)?g:g.features;if(S){for(k=0,R=S.length;k<R;k++)((Y=S[k]).geometries||Y.geometry||Y.features||Y.coordinates)&&this.addData(Y);return this}var K=this.options;if(K.filter&&!K.filter(g))return this;var rt=vl(g,K);return rt?(rt.feature=Po(g),rt.defaultOptions=rt.options,this.resetStyle(rt),K.onEachFeature&&K.onEachFeature(g,rt),this.addLayer(rt)):this},resetStyle:function(g){return g.options=Qt({},g.defaultOptions),this._setLayerStyle(g,this.options.style),this},setStyle:function(g){return this.eachLayer(function(S){this._setLayerStyle(S,g)},this)},_setLayerStyle:function(g,S){"function"==typeof S&&(S=S(g.feature)),g.setStyle&&g.setStyle(S)}});function vl(g,S){var pt,xt,Ct,Wt,k="Feature"===g.type?g.geometry:g,R=k?k.coordinates:null,Y=[],K=S&&S.pointToLayer,rt=S&&S.coordsToLatLng||xs;if(!R&&!k)return null;switch(k.type){case"Point":return pt=rt(R),K?K(g,pt):new Wa(pt);case"MultiPoint":for(Ct=0,Wt=R.length;Ct<Wt;Ct++)pt=rt(R[Ct]),Y.push(K?K(g,pt):new Wa(pt));return new Ui(Y);case"LineString":case"MultiLineString":return xt=ko(R,"LineString"===k.type?0:1,rt),new on(xt,S);case"Polygon":case"MultiPolygon":return xt=ko(R,"Polygon"===k.type?1:2,rt),new Mn(xt,S);case"GeometryCollection":for(Ct=0,Wt=k.geometries.length;Ct<Wt;Ct++){var ce=vl({geometry:k.geometries[Ct],type:"Feature",properties:g.properties},S);ce&&Y.push(ce)}return new Ui(Y);default:throw new Error("Invalid GeoJSON object.")}}function xs(g){return new Qe(g[1],g[0],g[2])}function ko(g,S,k){for(var rt,R=[],Y=0,K=g.length;Y<K;Y++)rt=S?ko(g[Y],S-1,k):(k||xs)(g[Y]),R.push(rt);return R}function ml(g,S){return S="number"==typeof S?S:6,void 0!==g.alt?[te(g.lng,S),te(g.lat,S),te(g.alt,S)]:[te(g.lng,S),te(g.lat,S)]}function xr(g,S,k,R){for(var Y=[],K=0,rt=g.length;K<rt;K++)Y.push(S?xr(g[K],S-1,k,R):ml(g[K],R));return!S&&k&&Y.push(Y[0]),Y}function Do(g,S){return g.feature?Qt({},g.feature,{geometry:S}):Po(S)}function Po(g){return"Feature"===g.type||"FeatureCollection"===g.type?g:{type:"Feature",properties:{},geometry:g}}var bs={toGeoJSON:function(g){return Do(this,{type:"Point",coordinates:ml(this.getLatLng(),g)})}};function cc(g,S){return new $t(g,S)}Wa.include(bs),_r.include(bs),an.include(bs),on.include({toGeoJSON:function(g){var S=!Jn(this._latlngs);return Do(this,{type:(S?"Multi":"")+"LineString",coordinates:xr(this._latlngs,S?1:0,!1,g)})}}),Mn.include({toGeoJSON:function(g){var S=!Jn(this._latlngs),k=S&&!Jn(this._latlngs[0]),R=xr(this._latlngs,k?2:S?1:0,!0,g);return S||(R=[R]),Do(this,{type:(k?"Multi":"")+"Polygon",coordinates:R})}}),Yr.include({toMultiPoint:function(g){var S=[];return this.eachLayer(function(k){S.push(k.toGeoJSON(g).geometry.coordinates)}),Do(this,{type:"MultiPoint",coordinates:S})},toGeoJSON:function(g){var S=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===S)return this.toMultiPoint(g);var k="GeometryCollection"===S,R=[];return this.eachLayer(function(Y){if(Y.toGeoJSON){var K=Y.toGeoJSON(g);if(k)R.push(K.geometry);else{var rt=Po(K);"FeatureCollection"===rt.type?R.push.apply(R,rt.features):R.push(rt)}}}),k?Do(this,{geometries:R,type:"GeometryCollection"}):{type:"FeatureCollection",features:R}}});var uc=cc,er=ci.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(g,S,k){this._url=g,this._bounds=ni(S),ye(this,k)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ke(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){di(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(g){return this.options.opacity=g,this._image&&this._updateOpacity(),this},setStyle:function(g){return g.opacity&&this.setOpacity(g.opacity),this},bringToFront:function(){return this._map&&fs(this._image),this},bringToBack:function(){return this._map&&ps(this._image),this},setUrl:function(g){return this._url=g,this._image&&(this._image.src=g),this},setBounds:function(g){return this._bounds=ni(g),this._map&&this._reset(),this},getEvents:function(){var g={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(g.zoomanim=this._animateZoom),g},setZIndex:function(g){return this.options.zIndex=g,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var g=this._image=Re("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":"")+(this.options.className||""));g.onselectstart=zt,g.onmousemove=zt,g.onload=Ot(this.fire,this,"load"),g.onerror=Ot(this._overlayOnError,this,"error"),this.options.crossOrigin&&(g.crossOrigin=""),this.options.zIndex&&this._updateZIndex(),g.src=this._url,g.alt=this.options.alt},_animateZoom:function(g){var S=this._map.getZoomScale(g.zoom),k=this._map._latLngBoundsToNewLayerBounds(this._bounds,g.zoom,g.center).min;Nr(this._image,k,S)},_reset:function(){var g=this._image,S=new Yt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),k=S.getSize();yi(g,S.min),g.style.width=k.x+"px",g.style.height=k.y+"px"},_updateOpacity:function(){Oi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&null!=this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var g=this.options.errorOverlayUrl;g&&this._url!==g&&(this._url=g,this._image.src=g)}}),hc=er.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var g="VIDEO"===this._url.tagName,S=this._image=g?this._url:Re("video");if(S.class=S.class||"",S.class+="leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""),S.onselectstart=zt,S.onmousemove=zt,S.onloadeddata=Ot(this.fire,this,"load"),!g){ea(this._url)||(this._url=[this._url]),S.autoplay=!!this.options.autoplay,S.loop=!!this.options.loop;for(var k=0;k<this._url.length;k++){var R=Re("source");R.src=this._url[k],S.appendChild(R)}}}});var Gn=ci.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(g,S){ye(this,g),this._source=S},onAdd:function(g){this._zoomAnimated=g._zoomAnimated,this._container||this._initLayout(),g._fadeAnimated&&Oi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),g._fadeAnimated&&Oi(this._container,1),this.bringToFront()},onRemove:function(g){g._fadeAnimated?(Oi(this._container,0),this._removeTimeout=setTimeout(Ot(di,void 0,this._container),200)):di(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(g){return this._latlng=gi(g),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(g){return this._content=g,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var g={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(g.zoomanim=this._animateZoom),g},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&fs(this._container),this},bringToBack:function(){return this._map&&ps(this._container),this},_updateContent:function(){if(this._content){var g=this._contentNode,S="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof S)g.innerHTML=S;else{for(;g.hasChildNodes();)g.removeChild(g.firstChild);g.appendChild(S)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var g=this._map.latLngToLayerPoint(this._latlng),S=Fe(this.options.offset),k=this._getAnchor();this._zoomAnimated?yi(this._container,g.add(k)):S=S.add(g).add(k);var R=this._containerBottom=-S.y,Y=this._containerLeft=-Math.round(this._containerWidth/2)+S.x;this._container.style.bottom=R+"px",this._container.style.left=Y+"px"}},_getAnchor:function(){return[0,0]}}),Ua=Gn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(g){return g.openPopup(this),this},onAdd:function(g){Gn.prototype.onAdd.call(this,g),g.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof wi||this._source.on("preclick",la))},onRemove:function(g){Gn.prototype.onRemove.call(this,g),g.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof wi||this._source.off("preclick",la))},getEvents:function(){var g=Gn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(g.preclick=this._close),this.options.keepInView&&(g.moveend=this._adjustPan),g},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var g="leaflet-popup",S=this._container=Re("div",g+" "+(this.options.className||"")+" leaflet-zoom-animated"),k=this._wrapper=Re("div",g+"-content-wrapper",S);if(this._contentNode=Re("div",g+"-content",k),Je(k),Pt(this._contentNode),Me(k,"contextmenu",la),this._tipContainer=Re("div",g+"-tip-container",S),this._tip=Re("div",g+"-tip",this._tipContainer),this.options.closeButton){var R=this._closeButton=Re("a",g+"-close-button",S);R.href="#close",R.innerHTML="&#215;",Me(R,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var g=this._contentNode,S=g.style;S.width="",S.whiteSpace="nowrap";var k=g.offsetWidth;k=Math.min(k,this.options.maxWidth),k=Math.max(k,this.options.minWidth),S.width=k+1+"px",S.whiteSpace="",S.height="";var Y=this.options.maxHeight,K="leaflet-popup-scrolled";Y&&g.offsetHeight>Y?(S.height=Y+"px",ke(g,K)):Ue(g,K),this._containerWidth=this._container.offsetWidth},_animateZoom:function(g){var S=this._map._latLngToNewLayerPoint(this._latlng,g.zoom,g.center),k=this._getAnchor();yi(this._container,S.add(k))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var g=this._map,S=parseInt(ll(this._container,"marginBottom"),10)||0,k=this._container.offsetHeight+S,R=this._containerWidth,Y=new re(this._containerLeft,-k-this._containerBottom);Y._add(Gr(this._container));var K=g.layerPointToContainerPoint(Y),rt=Fe(this.options.autoPanPadding),pt=Fe(this.options.autoPanPaddingTopLeft||rt),xt=Fe(this.options.autoPanPaddingBottomRight||rt),Ct=g.getSize(),Wt=0,ce=0;K.x+R+xt.x>Ct.x&&(Wt=K.x+R-Ct.x+xt.x),K.x-Wt-pt.x<0&&(Wt=K.x-pt.x),K.y+k+xt.y>Ct.y&&(ce=K.y+k-Ct.y+xt.y),K.y-ce-pt.y<0&&(ce=K.y-pt.y),(Wt||ce)&&g.fire("autopanstart").panBy([Wt,ce])}},_onCloseButtonClick:function(g){this._close(),Sn(g)},_getAnchor:function(){return Fe(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Be.mergeOptions({closePopupOnClick:!0}),Be.include({openPopup:function(g,S,k){return g instanceof Ua||(g=new Ua(k).setContent(g)),S&&g.setLatLng(S),this.hasLayer(g)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=g,this.addLayer(g))},closePopup:function(g){return(!g||g===this._popup)&&(g=this._popup,this._popup=null),g&&this.removeLayer(g),this}}),ci.include({bindPopup:function(g,S){return g instanceof Ua?(ye(g,S),this._popup=g,g._source=this):((!this._popup||S)&&(this._popup=new Ua(S,this)),this._popup.setContent(g)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(g,S){if(g instanceof ci||(S=g,g=this),g instanceof Ui)for(var k in this._layers){g=this._layers[k];break}return S||(S=g.getCenter?g.getCenter():g.getLatLng()),this._popup&&this._map&&(this._popup._source=g,this._popup.update(),this._map.openPopup(this._popup,S)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(g){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(g)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(g){return this._popup&&this._popup.setContent(g),this},getPopup:function(){return this._popup},_openPopup:function(g){var S=g.layer||g.target;if(this._popup&&this._map){if(Sn(g),S instanceof wi)return void this.openPopup(g.layer||g.target,g.latlng);this._map.hasLayer(this._popup)&&this._popup._source===S?this.closePopup():this.openPopup(S,g.latlng)}},_movePopup:function(g){this._popup.setLatLng(g.latlng)},_onKeyPress:function(g){13===g.originalEvent.keyCode&&this._openPopup(g)}});var nr=Gn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(g){Gn.prototype.onAdd.call(this,g),this.setOpacity(this.options.opacity),g.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(g){Gn.prototype.onRemove.call(this,g),g.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var g=Gn.prototype.getEvents.call(this);return ve&&!this.options.permanent&&(g.preclick=this._close),g},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=Re("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(g){var S=this._map,k=this._container,R=S.latLngToContainerPoint(S.getCenter()),Y=S.layerPointToContainerPoint(g),K=this.options.direction,rt=k.offsetWidth,pt=k.offsetHeight,xt=Fe(this.options.offset),Ct=this._getAnchor();"top"===K?g=g.add(Fe(-rt/2+xt.x,-pt+xt.y+Ct.y,!0)):"bottom"===K?g=g.subtract(Fe(rt/2-xt.x,-xt.y,!0)):"center"===K?g=g.subtract(Fe(rt/2+xt.x,pt/2-Ct.y+xt.y,!0)):"right"===K||"auto"===K&&Y.x<R.x?(K="right",g=g.add(Fe(xt.x+Ct.x,Ct.y-pt/2+xt.y,!0))):(K="left",g=g.subtract(Fe(rt+Ct.x-xt.x,pt/2-Ct.y-xt.y,!0))),Ue(k,"leaflet-tooltip-right"),Ue(k,"leaflet-tooltip-left"),Ue(k,"leaflet-tooltip-top"),Ue(k,"leaflet-tooltip-bottom"),ke(k,"leaflet-tooltip-"+K),yi(k,g)},_updatePosition:function(){var g=this._map.latLngToLayerPoint(this._latlng);this._setPosition(g)},setOpacity:function(g){this.options.opacity=g,this._container&&Oi(this._container,g)},_animateZoom:function(g){var S=this._map._latLngToNewLayerPoint(this._latlng,g.zoom,g.center);this._setPosition(S)},_getAnchor:function(){return Fe(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Be.include({openTooltip:function(g,S,k){return g instanceof nr||(g=new nr(k).setContent(g)),S&&g.setLatLng(S),this.hasLayer(g)?this:this.addLayer(g)},closeTooltip:function(g){return g&&this.removeLayer(g),this}}),ci.include({bindTooltip:function(g,S){return g instanceof nr?(ye(g,S),this._tooltip=g,g._source=this):((!this._tooltip||S)&&(this._tooltip=new nr(S,this)),this._tooltip.setContent(g)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(g){if(g||!this._tooltipHandlersAdded){var S=g?"off":"on",k={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?k.add=this._openTooltip:(k.mouseover=this._openTooltip,k.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(k.mousemove=this._moveTooltip),ve&&(k.click=this._openTooltip)),this[S](k),this._tooltipHandlersAdded=!g}},openTooltip:function(g,S){if(g instanceof ci||(S=g,g=this),g instanceof Ui)for(var k in this._layers){g=this._layers[k];break}return S||(S=g.getCenter?g.getCenter():g.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=g,this._tooltip.update(),this._map.openTooltip(this._tooltip,S),this._tooltip.options.interactive&&this._tooltip._container&&(ke(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(Ue(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(g){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(g)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(g){return this._tooltip&&this._tooltip.setContent(g),this},getTooltip:function(){return this._tooltip},_openTooltip:function(g){!this._tooltip||!this._map||this.openTooltip(g.layer||g.target,this._tooltip.options.sticky?g.latlng:void 0)},_moveTooltip:function(g){var k,R,S=g.latlng;this._tooltip.options.sticky&&g.originalEvent&&(k=this._map.mouseEventToContainerPoint(g.originalEvent),R=this._map.containerPointToLayerPoint(k),S=this._map.layerPointToLatLng(R)),this._tooltip.setLatLng(S)}});var da=Ri.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(g){var S=g&&"DIV"===g.tagName?g:document.createElement("div"),k=this.options;if(S.innerHTML=!1!==k.html?k.html:"",k.bgPos){var R=Fe(k.bgPos);S.style.backgroundPosition=-R.x+"px "+-R.y+"px"}return this._setIconStyles(S,"icon"),S},createShadow:function(){return null}});Ri.Default=vn;var rr=ci.extend({options:{tileSize:256,opacity:1,updateWhenIdle:It,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(g){ye(this,g)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(g){g._addZoomLimit(this)},onRemove:function(g){this._removeAllTiles(),di(this._container),g._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(fs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ps(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(g){return this.options.opacity=g,this._updateOpacity(),this},setZIndex:function(g){return this.options.zIndex=g,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var g={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=se(this._onMoveEnd,this.options.updateInterval,this)),g.move=this._onMove),this._zoomAnimated&&(g.zoomanim=this._animateZoom),g},createTile:function(){return document.createElement("div")},getTileSize:function(){var g=this.options.tileSize;return g instanceof re?g:new re(g,g)},_updateZIndex:function(){this._container&&null!=this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(g){for(var K,S=this.getPane().children,k=-g(-1/0,1/0),R=0,Y=S.length;R<Y;R++)K=S[R].style.zIndex,S[R]!==this._container&&K&&(k=g(k,+K));isFinite(k)&&(this.options.zIndex=k+g(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!xi){Oi(this._container,this.options.opacity);var g=+new Date,S=!1,k=!1;for(var R in this._tiles){var Y=this._tiles[R];if(Y.current&&Y.loaded){var K=Math.min(1,(g-Y.loaded)/200);Oi(Y.el,K),K<1?S=!0:(Y.active?k=!0:this._onOpaqueTile(Y),Y.active=!0)}}k&&!this._noPrune&&this._pruneTiles(),S&&(Vr(this._fadeFrame),this._fadeFrame=Ai(this._updateOpacity,this))}},_onOpaqueTile:zt,_initContainer:function(){this._container||(this._container=Re("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var g=this._tileZoom,S=this.options.maxZoom;if(void 0!==g){for(var k in this._levels)this._levels[k].el.children.length||k===g?(this._levels[k].el.style.zIndex=S-Math.abs(g-k),this._onUpdateLevel(k)):(di(this._levels[k].el),this._removeTilesAtZoom(k),this._onRemoveLevel(k),delete this._levels[k]);var R=this._levels[g],Y=this._map;return R||((R=this._levels[g]={}).el=Re("div","leaflet-tile-container leaflet-zoom-animated",this._container),R.el.style.zIndex=S,R.origin=Y.project(Y.unproject(Y.getPixelOrigin()),g).round(),R.zoom=g,this._setZoomTransform(R,Y.getCenter(),Y.getZoom()),this._onCreateLevel(R)),this._level=R,R}},_onUpdateLevel:zt,_onRemoveLevel:zt,_onCreateLevel:zt,_pruneTiles:function(){if(this._map){var g,S,k=this._map.getZoom();if(k>this.options.maxZoom||k<this.options.minZoom)return void this._removeAllTiles();for(g in this._tiles)(S=this._tiles[g]).retain=S.current;for(g in this._tiles)if((S=this._tiles[g]).current&&!S.active){var R=S.coords;this._retainParent(R.x,R.y,R.z,R.z-5)||this._retainChildren(R.x,R.y,R.z,R.z+2)}for(g in this._tiles)this._tiles[g].retain||this._removeTile(g)}},_removeTilesAtZoom:function(g){for(var S in this._tiles)this._tiles[S].coords.z===g&&this._removeTile(S)},_removeAllTiles:function(){for(var g in this._tiles)this._removeTile(g)},_invalidateAll:function(){for(var g in this._levels)di(this._levels[g].el),this._onRemoveLevel(g),delete this._levels[g];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(g,S,k,R){var Y=Math.floor(g/2),K=Math.floor(S/2),rt=k-1,pt=new re(+Y,+K);pt.z=+rt;var xt=this._tileCoordsToKey(pt),Ct=this._tiles[xt];return Ct&&Ct.active?(Ct.retain=!0,!0):(Ct&&Ct.loaded&&(Ct.retain=!0),rt>R&&this._retainParent(Y,K,rt,R))},_retainChildren:function(g,S,k,R){for(var Y=2*g;Y<2*g+2;Y++)for(var K=2*S;K<2*S+2;K++){var rt=new re(Y,K);rt.z=k+1;var pt=this._tileCoordsToKey(rt),xt=this._tiles[pt];xt&&xt.active?xt.retain=!0:(xt&&xt.loaded&&(xt.retain=!0),k+1<R&&this._retainChildren(Y,K,k+1,R))}},_resetView:function(g){var S=g&&(g.pinch||g.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),S,S)},_animateZoom:function(g){this._setView(g.center,g.zoom,!0,g.noUpdate)},_clampZoom:function(g){var S=this.options;return void 0!==S.minNativeZoom&&g<S.minNativeZoom?S.minNativeZoom:void 0!==S.maxNativeZoom&&S.maxNativeZoom<g?S.maxNativeZoom:g},_setView:function(g,S,k,R){var Y=this._clampZoom(Math.round(S));(void 0!==this.options.maxZoom&&Y>this.options.maxZoom||void 0!==this.options.minZoom&&Y<this.options.minZoom)&&(Y=void 0),(!R||this.options.updateWhenZooming&&Y!==this._tileZoom)&&(this._tileZoom=Y,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==Y&&this._update(g),k||this._pruneTiles(),this._noPrune=!!k),this._setZoomTransforms(g,S)},_setZoomTransforms:function(g,S){for(var k in this._levels)this._setZoomTransform(this._levels[k],g,S)},_setZoomTransform:function(g,S,k){var R=this._map.getZoomScale(k,g.zoom),Y=g.origin.multiplyBy(R).subtract(this._map._getNewPixelOrigin(S,k)).round();bn?Nr(g.el,Y,R):yi(g.el,Y)},_resetGrid:function(){var g=this._map,S=g.options.crs,k=this._tileSize=this.getTileSize(),R=this._tileZoom,Y=this._map.getPixelWorldBounds(this._tileZoom);Y&&(this._globalTileRange=this._pxBoundsToTileRange(Y)),this._wrapX=S.wrapLng&&!this.options.noWrap&&[Math.floor(g.project([0,S.wrapLng[0]],R).x/k.x),Math.ceil(g.project([0,S.wrapLng[1]],R).x/k.y)],this._wrapY=S.wrapLat&&!this.options.noWrap&&[Math.floor(g.project([S.wrapLat[0],0],R).y/k.x),Math.ceil(g.project([S.wrapLat[1],0],R).y/k.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(g){var S=this._map,k=S._animatingZoom?Math.max(S._animateToZoom,S.getZoom()):S.getZoom(),R=S.getZoomScale(k,this._tileZoom),Y=S.project(g,this._tileZoom).floor(),K=S.getSize().divideBy(2*R);return new Yt(Y.subtract(K),Y.add(K))},_update:function(g){var S=this._map;if(S){var k=this._clampZoom(S.getZoom());if(void 0===g&&(g=S.getCenter()),void 0!==this._tileZoom){var R=this._getTiledPixelBounds(g),Y=this._pxBoundsToTileRange(R),K=Y.getCenter(),rt=[],pt=this.options.keepBuffer,xt=new Yt(Y.getBottomLeft().subtract([pt,-pt]),Y.getTopRight().add([pt,-pt]));if(!(isFinite(Y.min.x)&&isFinite(Y.min.y)&&isFinite(Y.max.x)&&isFinite(Y.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ct in this._tiles){var Wt=this._tiles[Ct].coords;(Wt.z!==this._tileZoom||!xt.contains(new re(Wt.x,Wt.y)))&&(this._tiles[Ct].current=!1)}if(Math.abs(k-this._tileZoom)>1)return void this._setView(g,k);for(var ce=Y.min.y;ce<=Y.max.y;ce++)for(var Ae=Y.min.x;Ae<=Y.max.x;Ae++){var Cr=new re(Ae,ce);Cr.z=this._tileZoom,this._isValidTile(Cr)&&(this._tiles[this._tileCoordsToKey(Cr)]||rt.push(Cr))}if(rt.sort(function(Eo,Sr){return Eo.distanceTo(K)-Sr.distanceTo(K)}),0!==rt.length){this._loading||(this._loading=!0,this.fire("loading"));var Ur=document.createDocumentFragment();for(Ae=0;Ae<rt.length;Ae++)this._addTile(rt[Ae],Ur);this._level.el.appendChild(Ur)}}}},_isValidTile:function(g){var S=this._map.options.crs;if(!S.infinite){var k=this._globalTileRange;if(!S.wrapLng&&(g.x<k.min.x||g.x>k.max.x)||!S.wrapLat&&(g.y<k.min.y||g.y>k.max.y))return!1}if(!this.options.bounds)return!0;var R=this._tileCoordsToBounds(g);return ni(this.options.bounds).overlaps(R)},_keyToBounds:function(g){return this._tileCoordsToBounds(this._keyToTileCoords(g))},_tileCoordsToBounds:function(g){var S=this._map,k=this.getTileSize(),R=g.scaleBy(k),Y=R.add(k),pt=new en(S.unproject(R,g.z),S.unproject(Y,g.z));return this.options.noWrap||S.wrapLatLngBounds(pt),pt},_tileCoordsToKey:function(g){return g.x+":"+g.y+":"+g.z},_keyToTileCoords:function(g){var S=g.split(":"),k=new re(+S[0],+S[1]);return k.z=+S[2],k},_removeTile:function(g){var S=this._tiles[g];S&&(di(S.el),delete this._tiles[g],this.fire("tileunload",{tile:S.el,coords:this._keyToTileCoords(g)}))},_initTile:function(g){ke(g,"leaflet-tile");var S=this.getTileSize();g.style.width=S.x+"px",g.style.height=S.y+"px",g.onselectstart=zt,g.onmousemove=zt,xi&&this.options.opacity<1&&Oi(g,this.options.opacity),Ce&&!Di&&(g.style.WebkitBackfaceVisibility="hidden")},_addTile:function(g,S){var k=this._getTilePos(g),R=this._tileCoordsToKey(g),Y=this.createTile(this._wrapCoords(g),Ot(this._tileReady,this,g));this._initTile(Y),this.createTile.length<2&&Ai(Ot(this._tileReady,this,g,null,Y)),yi(Y,k),this._tiles[R]={el:Y,coords:g,current:!0},S.appendChild(Y),this.fire("tileloadstart",{tile:Y,coords:g})},_tileReady:function(g,S,k){if(this._map){S&&this.fire("tileerror",{error:S,tile:k,coords:g});var R=this._tileCoordsToKey(g);(k=this._tiles[R])&&(k.loaded=+new Date,this._map._fadeAnimated?(Oi(k.el,0),Vr(this._fadeFrame),this._fadeFrame=Ai(this._updateOpacity,this)):(k.active=!0,this._pruneTiles()),S||(ke(k.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:k.el,coords:g})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),xi||!this._map._fadeAnimated?Ai(this._pruneTiles,this):setTimeout(Ot(this._pruneTiles,this),250)))}},_getTilePos:function(g){return g.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(g){var S=new re(this._wrapX?$e(g.x,this._wrapX):g.x,this._wrapY?$e(g.y,this._wrapY):g.y);return S.z=g.z,S},_pxBoundsToTileRange:function(g){var S=this.getTileSize();return new Yt(g.min.unscaleBy(S).floor(),g.max.unscaleBy(S).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var g in this._tiles)if(!this._tiles[g].loaded)return!1;return!0}});var br=rr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(g,S){this._url=g,(S=ye(this,S)).detectRetina&&oa&&S.maxZoom>0&&(S.tileSize=Math.floor(S.tileSize/2),S.zoomReverse?(S.zoomOffset--,S.minZoom++):(S.zoomOffset++,S.maxZoom--),S.minZoom=Math.max(0,S.minZoom)),"string"==typeof S.subdomains&&(S.subdomains=S.subdomains.split("")),Ce||this.on("tileunload",this._onTileRemove)},setUrl:function(g,S){return this._url=g,S||this.redraw(),this},createTile:function(g,S){var k=document.createElement("img");return Me(k,"load",Ot(this._tileOnLoad,this,S,k)),Me(k,"error",Ot(this._tileOnError,this,S,k)),this.options.crossOrigin&&(k.crossOrigin=""),k.alt="",k.setAttribute("role","presentation"),k.src=this.getTileUrl(g),k},getTileUrl:function(g){var S={r:oa?"@2x":"",s:this._getSubdomain(g),x:g.x,y:g.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var k=this._globalTileRange.max.y-g.y;this.options.tms&&(S.y=k),S["-y"]=k}return el(this._url,Qt(S,this.options))},_tileOnLoad:function(g,S){xi?setTimeout(Ot(g,this,null,S),0):g(null,S)},_tileOnError:function(g,S,k){var R=this.options.errorTileUrl;R&&S.src!==R&&(S.src=R),g(k,S)},_onTileRemove:function(g){g.tile.onload=null},_getZoomForUrl:function(){var g=this._tileZoom;return this.options.zoomReverse&&(g=this.options.maxZoom-g),g+this.options.zoomOffset},_getSubdomain:function(g){var S=Math.abs(g.x+g.y)%this.options.subdomains.length;return this.options.subdomains[S]},_abortLoading:function(){var g,S;for(g in this._tiles)this._tiles[g].coords.z!==this._tileZoom&&((S=this._tiles[g].el).onload=zt,S.onerror=zt,S.complete||(S.src=Wp,di(S)))}});function $a(g,S){return new br(g,S)}var fc=br.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(g,S){this._url=g;var k=Qt({},this.defaultWmsParams);for(var R in S)R in this.options||(k[R]=S[R]);S=ye(this,S),k.width=k.height=S.tileSize*(S.detectRetina&&oa?2:1),this.wmsParams=k},onAdd:function(g){this._crs=this.options.crs||g.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version),this.wmsParams[this._wmsVersion>=1.3?"crs":"srs"]=this._crs.code,br.prototype.onAdd.call(this,g)},getTileUrl:function(g){var S=this._tileCoordsToBounds(g),k=this._crs.project(S.getNorthWest()),R=this._crs.project(S.getSouthEast()),Y=(this._wmsVersion>=1.3&&this._crs===nh?[R.y,k.x,k.y,R.x]:[k.x,R.y,R.x,k.y]).join(","),K=br.prototype.getTileUrl.call(this,g);return K+Ia(this.wmsParams,K,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Y},setParams:function(g,S){return Qt(this.wmsParams,g),S||this.redraw(),this}});br.WMS=fc,$a.wms=function ja(g,S){return new fc(g,S)};var Ln=ci.extend({options:{padding:.1},initialize:function(g){ye(this,g),pe(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ke(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var g={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(g.zoomanim=this._onAnimZoom),g},_onAnimZoom:function(g){this._updateTransform(g.center,g.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(g,S){var k=this._map.getZoomScale(S,this._zoom),R=Gr(this._container),Y=this._map.getSize().multiplyBy(.5+this.options.padding),K=this._map.project(this._center,S),pt=this._map.project(g,S).subtract(K),xt=Y.multiplyBy(-k).add(R).add(Y).subtract(pt);bn?Nr(this._container,xt,k):yi(this._container,xt)},_reset:function(){for(var g in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[g]._reset()},_onZoomEnd:function(){for(var g in this._layers)this._layers[g]._project()},_updatePaths:function(){for(var g in this._layers)this._layers[g]._update()},_update:function(){var g=this.options.padding,S=this._map.getSize(),k=this._map.containerPointToLayerPoint(S.multiplyBy(-g)).round();this._bounds=new Yt(k,k.add(S.multiplyBy(1+2*g)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),yl=Ln.extend({getEvents:function(){var g=Ln.prototype.getEvents.call(this);return g.viewprereset=this._onViewPreReset,g},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ln.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var g=this._container=document.createElement("canvas");Me(g,"mousemove",se(this._onMouseMove,32,this),this),Me(g,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Me(g,"mouseout",this._handleMouseOut,this),this._ctx=g.getContext("2d")},_destroyContainer:function(){delete this._ctx,di(this._container),Mt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var S in this._redrawBounds=null,this._layers)this._layers[S]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},Ln.prototype._update.call(this);var g=this._bounds,S=this._container,k=g.getSize(),R=oa?2:1;yi(S,g.min),S.width=R*k.x,S.height=R*k.y,S.style.width=k.x+"px",S.style.height=k.y+"px",oa&&this._ctx.scale(2,2),this._ctx.translate(-g.min.x,-g.min.y),this.fire("update")}},_reset:function(){Ln.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(g){this._updateDashArray(g),this._layers[pe(g)]=g;var S=g._order={layer:g,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=S),this._drawLast=S,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(g){this._requestRedraw(g)},_removePath:function(g){var S=g._order,k=S.next,R=S.prev;k?k.prev=R:this._drawLast=R,R?R.next=k:this._drawFirst=k,delete g._order,delete this._layers[L.stamp(g)],this._requestRedraw(g)},_updatePath:function(g){this._extendRedrawBounds(g),g._project(),g._update(),this._requestRedraw(g)},_updateStyle:function(g){this._updateDashArray(g),this._requestRedraw(g)},_updateDashArray:function(g){if(g.options.dashArray){var R,S=g.options.dashArray.split(","),k=[];for(R=0;R<S.length;R++)k.push(Number(S[R]));g.options._dashArray=k}},_requestRedraw:function(g){this._map&&(this._extendRedrawBounds(g),this._redrawRequest=this._redrawRequest||Ai(this._redraw,this))},_extendRedrawBounds:function(g){if(g._pxBounds){var S=(g.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Yt,this._redrawBounds.extend(g._pxBounds.min.subtract([S,S])),this._redrawBounds.extend(g._pxBounds.max.add([S,S]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var g=this._redrawBounds;if(g){var S=g.getSize();this._ctx.clearRect(g.min.x,g.min.y,S.x,S.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var g,S=this._redrawBounds;if(this._ctx.save(),S){var k=S.getSize();this._ctx.beginPath(),this._ctx.rect(S.min.x,S.min.y,k.x,k.y),this._ctx.clip()}this._drawing=!0;for(var R=this._drawFirst;R;R=R.next)g=R.layer,(!S||g._pxBounds&&g._pxBounds.intersects(S))&&g._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(g,S){if(this._drawing){var k,R,Y,K,rt=g._parts,pt=rt.length,xt=this._ctx;if(pt){for(this._drawnLayers[g._leaflet_id]=g,xt.beginPath(),k=0;k<pt;k++){for(R=0,Y=rt[k].length;R<Y;R++)xt[R?"lineTo":"moveTo"]((K=rt[k][R]).x,K.y);S&&xt.closePath()}this._fillStroke(xt,g)}}},_updateCircle:function(g){if(this._drawing&&!g._empty()){var S=g._point,k=this._ctx,R=g._radius,Y=(g._radiusY||R)/R;this._drawnLayers[g._leaflet_id]=g,1!==Y&&(k.save(),k.scale(1,Y)),k.beginPath(),k.arc(S.x,S.y/Y,R,0,2*Math.PI,!1),1!==Y&&k.restore(),this._fillStroke(k,g)}},_fillStroke:function(g,S){var k=S.options;k.fill&&(g.globalAlpha=k.fillOpacity,g.fillStyle=k.fillColor||k.color,g.fill(k.fillRule||"evenodd")),k.stroke&&0!==k.weight&&(g.setLineDash&&g.setLineDash(S.options&&S.options._dashArray||[]),g.globalAlpha=k.opacity,g.lineWidth=k.weight,g.strokeStyle=k.color,g.lineCap=k.lineCap,g.lineJoin=k.lineJoin,g.stroke())},_onClick:function(g){for(var k,R,S=this._map.mouseEventToLayerPoint(g),Y=this._drawFirst;Y;Y=Y.next)(k=Y.layer).options.interactive&&k._containsPoint(S)&&!this._map._draggableMoved(k)&&(R=k);R&&(Co(g),this._fireEvent([R],g))},_onMouseMove:function(g){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var S=this._map.mouseEventToLayerPoint(g);this._handleMouseHover(g,S)}},_handleMouseOut:function(g){var S=this._hoveredLayer;S&&(Ue(this._container,"leaflet-interactive"),this._fireEvent([S],g,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(g,S){for(var k,R,Y=this._drawFirst;Y;Y=Y.next)(k=Y.layer).options.interactive&&k._containsPoint(S)&&(R=k);R!==this._hoveredLayer&&(this._handleMouseOut(g),R&&(ke(this._container,"leaflet-interactive"),this._fireEvent([R],g,"mouseover"),this._hoveredLayer=R)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],g)},_fireEvent:function(g,S,k){this._map._fireDOMEvent(S,k||S.type,g)},_bringToFront:function(g){var S=g._order,k=S.next,R=S.prev;k&&(k.prev=R,R?R.next=k:k&&(this._drawFirst=k),S.prev=this._drawLast,this._drawLast.next=S,S.next=null,this._drawLast=S,this._requestRedraw(g))},_bringToBack:function(g){var S=g._order,k=S.next,R=S.prev;R&&(R.next=k,k?k.prev=R:R&&(this._drawLast=R),S.prev=null,S.next=this._drawFirst,this._drawFirst.prev=S,this._drawFirst=S,this._requestRedraw(g))}});function Cs(g){return Dt?new yl(g):null}var fa=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(g){return document.createElement("<lvml:"+g+' class="lvml">')}}catch{return function(S){return document.createElement("<"+S+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),pc={_initContainer:function(){this._container=Re("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ln.prototype._update.call(this),this.fire("update"))},_initPath:function(g){var S=g._container=fa("shape");ke(S,"leaflet-vml-shape "+(this.options.className||"")),S.coordsize="1 1",g._path=fa("path"),S.appendChild(g._path),this._updateStyle(g),this._layers[pe(g)]=g},_addPath:function(g){var S=g._container;this._container.appendChild(S),g.options.interactive&&g.addInteractiveTarget(S)},_removePath:function(g){var S=g._container;di(S),g.removeInteractiveTarget(S),delete this._layers[pe(g)]},_updateStyle:function(g){var S=g._stroke,k=g._fill,R=g.options,Y=g._container;Y.stroked=!!R.stroke,Y.filled=!!R.fill,R.stroke?(S||(S=g._stroke=fa("stroke")),Y.appendChild(S),S.weight=R.weight+"px",S.color=R.color,S.opacity=R.opacity,S.dashStyle=R.dashArray?ea(R.dashArray)?R.dashArray.join(" "):R.dashArray.replace(/( *, *)/g," "):"",S.endcap=R.lineCap.replace("butt","flat"),S.joinstyle=R.lineJoin):S&&(Y.removeChild(S),g._stroke=null),R.fill?(k||(k=g._fill=fa("fill")),Y.appendChild(k),k.color=R.fillColor||R.color,k.opacity=R.fillOpacity):k&&(Y.removeChild(k),g._fill=null)},_updateCircle:function(g){var S=g._point.round(),k=Math.round(g._radius),R=Math.round(g._radiusY||k);this._setPath(g,g._empty()?"M0 0":"AL "+S.x+","+S.y+" "+k+","+R+" 0,23592600")},_setPath:function(g,S){g._path.v=S},_bringToFront:function(g){fs(g._container)},_bringToBack:function(g){ps(g._container)}},qa=yt?fa:Hi,Ka=Ln.extend({getEvents:function(){var g=Ln.prototype.getEvents.call(this);return g.zoomstart=this._onZoomStart,g},_initContainer:function(){this._container=qa("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=qa("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){di(this._container),Mt(this._container),delete this._container,delete this._rootGroup},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Ln.prototype._update.call(this);var g=this._bounds,S=g.getSize(),k=this._container;(!this._svgSize||!this._svgSize.equals(S))&&(this._svgSize=S,k.setAttribute("width",S.x),k.setAttribute("height",S.y)),yi(k,g.min),k.setAttribute("viewBox",[g.min.x,g.min.y,S.x,S.y].join(" ")),this.fire("update")}},_initPath:function(g){var S=g._path=qa("path");g.options.className&&ke(S,g.options.className),g.options.interactive&&ke(S,"leaflet-interactive"),this._updateStyle(g),this._layers[pe(g)]=g},_addPath:function(g){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(g._path),g.addInteractiveTarget(g._path)},_removePath:function(g){di(g._path),g.removeInteractiveTarget(g._path),delete this._layers[pe(g)]},_updatePath:function(g){g._project(),g._update()},_updateStyle:function(g){var S=g._path,k=g.options;S&&(k.stroke?(S.setAttribute("stroke",k.color),S.setAttribute("stroke-opacity",k.opacity),S.setAttribute("stroke-width",k.weight),S.setAttribute("stroke-linecap",k.lineCap),S.setAttribute("stroke-linejoin",k.lineJoin),k.dashArray?S.setAttribute("stroke-dasharray",k.dashArray):S.removeAttribute("stroke-dasharray"),k.dashOffset?S.setAttribute("stroke-dashoffset",k.dashOffset):S.removeAttribute("stroke-dashoffset")):S.setAttribute("stroke","none"),k.fill?(S.setAttribute("fill",k.fillColor||k.color),S.setAttribute("fill-opacity",k.fillOpacity),S.setAttribute("fill-rule",k.fillRule||"evenodd")):S.setAttribute("fill","none"))},_updatePoly:function(g,S){this._setPath(g,ra(g._parts,S))},_updateCircle:function(g){var S=g._point,k=g._radius,Y="a"+k+","+(g._radiusY||k)+" 0 1,0 ",K=g._empty()?"M0 0":"M"+(S.x-k)+","+S.y+Y+2*k+",0 "+Y+2*-k+",0 ";this._setPath(g,K)},_setPath:function(g,S){g._path.setAttribute("d",S)},_bringToFront:function(g){fs(g._path)},_bringToBack:function(g){ps(g._path)}});function Io(g){return jt||yt?new Ka(g):null}yt&&Ka.include(pc),Be.include({getRenderer:function(g){var S=g.options.renderer||this._getPaneRenderer(g.options.pane)||this.options.renderer||this._renderer;return S||(S=this._renderer=this.options.preferCanvas&&Cs()||Io()),this.hasLayer(S)||this.addLayer(S),S},_getPaneRenderer:function(g){if("overlayPane"===g||void 0===g)return!1;var S=this._paneRenderers[g];return void 0===S&&(S=Ka&&Io({pane:g})||yl&&Cs({pane:g}),this._paneRenderers[g]=S),S}});var Hn=Mn.extend({initialize:function(g,S){Mn.prototype.initialize.call(this,this._boundsToLatLngs(g),S)},setBounds:function(g){return this.setLatLngs(this._boundsToLatLngs(g))},_boundsToLatLngs:function(g){return[(g=ni(g)).getSouthWest(),g.getNorthWest(),g.getNorthEast(),g.getSouthEast()]}});Ka.create=qa,Ka.pointsToPath=ra,$t.geometryToLayer=vl,$t.coordsToLatLng=xs,$t.coordsToLatLngs=ko,$t.latLngToCoords=ml,$t.latLngsToCoords=xr,$t.getFeature=Do,$t.asFeature=Po,Be.mergeOptions({boxZoom:!0});var Zi=Wr.extend({initialize:function(g){this._map=g,this._container=g._container,this._pane=g._panes.overlayPane,this._resetStateTimeout=0,g.on("unload",this._destroy,this)},addHooks:function(){Me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Mt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){di(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(g){if(!g.shiftKey||1!==g.which&&1!==g.button)return!1;this._clearDeferredResetState(),this._resetState(),Kn(),Ku(),this._startPoint=this._map.mouseEventToContainerPoint(g),Me(document,{contextmenu:Sn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(g){this._moved||(this._moved=!0,this._box=Re("div","leaflet-zoom-box",this._container),ke(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(g);var S=new Yt(this._point,this._startPoint),k=S.getSize();yi(this._box,S.min),this._box.style.width=k.x+"px",this._box.style.height=k.y+"px"},_finish:function(){this._moved&&(di(this._box),Ue(this._container,"leaflet-crosshair")),ua(),ha(),Mt(document,{contextmenu:Sn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(g){if((1===g.which||1===g.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Ot(this._resetState,this),0);var S=new en(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(S).fire("boxzoomend",{boxZoomBounds:S})}},_onKeyDown:function(g){27===g.keyCode&&this._finish()}});Be.addInitHook("addHandler","boxZoom",Zi),Be.mergeOptions({doubleClickZoom:!0});var Ss=Wr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(g){var S=this._map,k=S.getZoom(),R=S.options.zoomDelta,Y=g.originalEvent.shiftKey?k-R:k+R;"center"===S.options.doubleClickZoom?S.setZoom(Y):S.setZoomAround(g.containerPoint,Y)}});Be.addInitHook("addHandler","doubleClickZoom",Ss),Be.mergeOptions({dragging:!0,inertia:!Di,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ws=Wr.extend({addHooks:function(){if(!this._draggable){var g=this._map;this._draggable=new Na(g._mapPane,g._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),g.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),g.on("zoomend",this._onZoomEnd,this),g.whenReady(this._onZoomEnd,this))}ke(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ue(this._map._container,"leaflet-grab"),Ue(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var g=this._map;if(g._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var S=ni(this._map.options.maxBounds);this._offsetLimit=fr(this._map.latLngToContainerPoint(S.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(S.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;g.fire("movestart").fire("dragstart"),g.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(g){if(this._map.options.inertia){var S=this._lastTime=+new Date,k=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(k),this._times.push(S),S-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",g).fire("drag",g)},_onZoomEnd:function(){var g=this._map.getSize().divideBy(2),S=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=S.subtract(g).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(g,S){return g-(g-S)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var g=this._draggable._newPos.subtract(this._draggable._startPos),S=this._offsetLimit;g.x<S.min.x&&(g.x=this._viscousLimit(g.x,S.min.x)),g.y<S.min.y&&(g.y=this._viscousLimit(g.y,S.min.y)),g.x>S.max.x&&(g.x=this._viscousLimit(g.x,S.max.x)),g.y>S.max.y&&(g.y=this._viscousLimit(g.y,S.max.y)),this._draggable._newPos=this._draggable._startPos.add(g)}},_onPreDragWrap:function(){var g=this._worldWidth,S=Math.round(g/2),k=this._initialWorldOffset,R=this._draggable._newPos.x,Y=(R-S+k)%g+S-k,K=(R+S+k)%g-S-k,rt=Math.abs(Y+k)<Math.abs(K+k)?Y:K;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=rt},_onDragEnd:function(g){var S=this._map,k=S.options,R=!k.inertia||this._times.length<2;if(S.fire("dragend",g),R)S.fire("moveend");else{var Y=this._lastPos.subtract(this._positions[0]),rt=k.easeLinearity,pt=Y.multiplyBy(rt/((this._lastTime-this._times[0])/1e3)),xt=pt.distanceTo([0,0]),Ct=Math.min(k.inertiaMaxSpeed,xt),Wt=pt.multiplyBy(Ct/xt),ce=Ct/(k.inertiaDeceleration*rt),Ae=Wt.multiplyBy(-ce/2).round();Ae.x||Ae.y?(Ae=S._limitOffset(Ae,S.options.maxBounds),Ai(function(){S.panBy(Ae,{duration:ce,easeLinearity:rt,noMoveStart:!0,animate:!0})})):S.fire("moveend")}}});Be.addInitHook("addHandler","dragging",ws),Be.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Wn=Wr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(g){this._map=g,this._setPanDelta(g.options.keyboardPanDelta),this._setZoomDelta(g.options.zoomDelta)},addHooks:function(){var g=this._map._container;g.tabIndex<=0&&(g.tabIndex="0"),Me(g,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Mt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var g=document.body,S=document.documentElement,k=g.scrollTop||S.scrollTop,R=g.scrollLeft||S.scrollLeft;this._map._container.focus(),window.scrollTo(R,k)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(g){var R,Y,S=this._panKeys={},k=this.keyCodes;for(R=0,Y=k.left.length;R<Y;R++)S[k.left[R]]=[-1*g,0];for(R=0,Y=k.right.length;R<Y;R++)S[k.right[R]]=[g,0];for(R=0,Y=k.down.length;R<Y;R++)S[k.down[R]]=[0,g];for(R=0,Y=k.up.length;R<Y;R++)S[k.up[R]]=[0,-1*g]},_setZoomDelta:function(g){var R,Y,S=this._zoomKeys={},k=this.keyCodes;for(R=0,Y=k.zoomIn.length;R<Y;R++)S[k.zoomIn[R]]=g;for(R=0,Y=k.zoomOut.length;R<Y;R++)S[k.zoomOut[R]]=-g},_addHooks:function(){Me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Mt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(g){if(!(g.altKey||g.ctrlKey||g.metaKey)){var R,S=g.keyCode,k=this._map;if(S in this._panKeys){if(k._panAnim&&k._panAnim._inProgress)return;R=this._panKeys[S],g.shiftKey&&(R=Fe(R).multiplyBy(3)),k.panBy(R),k.options.maxBounds&&k.panInsideBounds(k.options.maxBounds)}else if(S in this._zoomKeys)k.setZoom(k.getZoom()+(g.shiftKey?3:1)*this._zoomKeys[S]);else{if(27!==S||!k._popup)return;k.closePopup()}Sn(g)}}});Be.addInitHook("addHandler","keyboard",Wn),Be.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var kn=Wr.extend({addHooks:function(){Me(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Mt(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(g){var S=Ed(g),k=this._map.options.wheelDebounceTime;this._delta+=S,this._lastMousePos=this._map.mouseEventToContainerPoint(g),this._startTime||(this._startTime=+new Date);var R=Math.max(k-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(Ot(this._performZoom,this),R),Sn(g)},_performZoom:function(){var g=this._map,S=g.getZoom(),k=this._map.options.zoomSnap||0;g._stop();var Y=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2,K=k?Math.ceil(Y/k)*k:Y,rt=g._limitZoom(S+(this._delta>0?K:-K))-S;this._delta=0,this._startTime=null,rt&&("center"===g.options.scrollWheelZoom?g.setZoom(S+rt):g.setZoomAround(this._lastMousePos,S+rt))}});Be.addInitHook("addHandler","scrollWheelZoom",kn),Be.mergeOptions({tap:!0,tapTolerance:15});var Qa=Wr.extend({addHooks:function(){Me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Mt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(g){if(g.touches){if(Ii(g),this._fireClick=!0,g.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var S=g.touches[0],k=S.target;this._startPos=this._newPos=new re(S.clientX,S.clientY),k.tagName&&"a"===k.tagName.toLowerCase()&&ke(k,"leaflet-active"),this._holdTimeout=setTimeout(Ot(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",S))},this),1e3),this._simulateEvent("mousedown",S),Me(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(g){if(clearTimeout(this._holdTimeout),Mt(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&g&&g.changedTouches){var S=g.changedTouches[0],k=S.target;k&&k.tagName&&"a"===k.tagName.toLowerCase()&&Ue(k,"leaflet-active"),this._simulateEvent("mouseup",S),this._isTapValid()&&this._simulateEvent("click",S)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(g){var S=g.touches[0];this._newPos=new re(S.clientX,S.clientY),this._simulateEvent("mousemove",S)},_simulateEvent:function(g,S){var k=document.createEvent("MouseEvents");k._simulated=!0,S.target._simulatedClick=!0,k.initMouseEvent(g,!0,!0,window,1,S.screenX,S.screenY,S.clientX,S.clientY,!1,!1,!1,!1,0,null),S.target.dispatchEvent(k)}});ve&&!bi&&Be.addInitHook("addHandler","tap",Qa),Be.mergeOptions({touchZoom:ve&&!Di,bounceAtZoomLimits:!0});var sn=Wr.extend({addHooks:function(){ke(this._map._container,"leaflet-touch-zoom"),Me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ue(this._map._container,"leaflet-touch-zoom"),Mt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(g){var S=this._map;if(g.touches&&2===g.touches.length&&!S._animatingZoom&&!this._zooming){var k=S.mouseEventToContainerPoint(g.touches[0]),R=S.mouseEventToContainerPoint(g.touches[1]);this._centerPoint=S.getSize()._divideBy(2),this._startLatLng=S.containerPointToLatLng(this._centerPoint),"center"!==S.options.touchZoom&&(this._pinchStartLatLng=S.containerPointToLatLng(k.add(R)._divideBy(2))),this._startDist=k.distanceTo(R),this._startZoom=S.getZoom(),this._moved=!1,this._zooming=!0,S._stop(),Me(document,"touchmove",this._onTouchMove,this),Me(document,"touchend",this._onTouchEnd,this),Ii(g)}},_onTouchMove:function(g){if(g.touches&&2===g.touches.length&&this._zooming){var S=this._map,k=S.mouseEventToContainerPoint(g.touches[0]),R=S.mouseEventToContainerPoint(g.touches[1]),Y=k.distanceTo(R)/this._startDist;if(this._zoom=S.getScaleZoom(Y,this._startZoom),!S.options.bounceAtZoomLimits&&(this._zoom<S.getMinZoom()&&Y<1||this._zoom>S.getMaxZoom()&&Y>1)&&(this._zoom=S._limitZoom(this._zoom)),"center"===S.options.touchZoom){if(this._center=this._startLatLng,1===Y)return}else{var K=k._add(R)._divideBy(2)._subtract(this._centerPoint);if(1===Y&&0===K.x&&0===K.y)return;this._center=S.unproject(S.project(this._pinchStartLatLng,this._zoom).subtract(K),this._zoom)}this._moved||(S._moveStart(!0),this._moved=!0),Vr(this._animRequest);var rt=Ot(S._move,S,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=Ai(rt,this,!0),Ii(g)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,Vr(this._animRequest),Mt(document,"touchmove",this._onTouchMove),Mt(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Be.addInitHook("addHandler","touchZoom",sn),Be.BoxZoom=Zi,Be.DoubleClickZoom=Ss,Be.Drag=ws,Be.Keyboard=Wn,Be.ScrollWheelZoom=kn,Be.Tap=Qa,Be.TouchZoom=sn;var ah=window.L;window.L=dt,Object.freeze=ct,dt.version="1.2.0",dt.noConflict=function vi(){return window.L=ah,this},dt.Control=Vn,dt.control=wn,dt.Browser=Lt,dt.Evented=tn,dt.Mixin=rc,dt.Util=Yp,dt.Class=ia,dt.Handler=Wr,dt.extend=Qt,dt.bind=Ot,dt.stamp=pe,dt.setOptions=ye,dt.DomEvent=Up,dt.DomUtil=za,dt.PosAnimation=Qn,dt.Draggable=Na,dt.LineUtil=ms,dt.PolyUtil=oc,dt.Point=re,dt.point=Fe,dt.Bounds=Yt,dt.bounds=fr,dt.Transformation=xn,dt.transformation=as,dt.Projection=ys,dt.LatLng=Qe,dt.latLng=gi,dt.LatLngBounds=en,dt.latLngBounds=ni,dt.CRS=pr,dt.GeoJSON=$t,dt.geoJSON=cc,dt.geoJson=uc,dt.Layer=ci,dt.LayerGroup=Yr,dt.layerGroup=function(g){return new Yr(g)},dt.FeatureGroup=Ui,dt.featureGroup=function(g){return new Ui(g)},dt.ImageOverlay=er,dt.imageOverlay=function(g,S,k){return new er(g,S,k)},dt.VideoOverlay=hc,dt.videoOverlay=function ir(g,S,k){return new hc(g,S,k)},dt.DivOverlay=Gn,dt.Popup=Ua,dt.popup=function(g,S){return new Ua(g,S)},dt.Tooltip=nr,dt.tooltip=function(g,S){return new nr(g,S)},dt.Icon=Ri,dt.icon=function Ze(g){return new Ri(g)},dt.DivIcon=da,dt.divIcon=function Za(g){return new da(g)},dt.Marker=Wa,dt.marker=function ee(g,S){return new Wa(g,S)},dt.TileLayer=br,dt.tileLayer=$a,dt.GridLayer=rr,dt.gridLayer=function An(g){return new rr(g)},dt.SVG=Ka,dt.svg=Io,dt.Renderer=Ln,dt.Canvas=yl,dt.canvas=Cs,dt.Path=wi,dt.CircleMarker=an,dt.circleMarker=function Ya(g,S){return new an(g,S)},dt.Circle=_r,dt.circle=function Xa(g,S,k){return new _r(g,S,k)},dt.Polyline=on,dt.polyline=function _s(g,S){return new on(g,S)},dt.Polygon=Mn,dt.polygon=function rh(g,S){return new Mn(g,S)},dt.Rectangle=Hn,dt.rectangle=function Oo(g,S){return new Hn(g,S)},dt.Map=Be,dt.map=function Hr(g,S){return new Be(g,S)}}(Qi)},5126:tl=>{"use strict";function Qi(ct){return ct instanceof Buffer?Buffer.from(ct):new ct.constructor(ct.buffer.slice(),ct.byteOffset,ct.length)}tl.exports=function dt(ct){if((ct=ct||{}).circles)return function Te(ct){const Qt=[],y=[],Ot=new Map;if(Ot.set(Date,zt=>new Date(zt)),Ot.set(Map,(zt,te)=>new Map(pe(Array.from(zt),te))),Ot.set(Set,(zt,te)=>new Set(pe(Array.from(zt),te))),ct.constructorHandlers)for(const zt of ct.constructorHandlers)Ot.set(zt[0],zt[1]);let ot=null;return ct.proto?function $e(zt){if("object"!=typeof zt||null===zt)return zt;if(Array.isArray(zt))return pe(zt,$e);if(zt.constructor!==Object&&(ot=Ot.get(zt.constructor)))return ot(zt,$e);const te={};Qt.push(zt),y.push(te);for(const li in zt){const we=zt[li];if("object"!=typeof we||null===we)te[li]=we;else if(we.constructor!==Object&&(ot=Ot.get(we.constructor)))te[li]=ot(we,$e);else if(ArrayBuffer.isView(we))te[li]=Qi(we);else{const ye=Qt.indexOf(we);te[li]=-1!==ye?y[ye]:$e(we)}}return Qt.pop(),y.pop(),te}:function se(zt){if("object"!=typeof zt||null===zt)return zt;if(Array.isArray(zt))return pe(zt,se);if(zt.constructor!==Object&&(ot=Ot.get(zt.constructor)))return ot(zt,se);const te={};Qt.push(zt),y.push(te);for(const li in zt){if(!1===Object.hasOwnProperty.call(zt,li))continue;const we=zt[li];if("object"!=typeof we||null===we)te[li]=we;else if(we.constructor!==Object&&(ot=Ot.get(we.constructor)))te[li]=ot(we,se);else if(ArrayBuffer.isView(we))te[li]=Qi(we);else{const ye=Qt.indexOf(we);te[li]=-1!==ye?y[ye]:se(we)}}return Qt.pop(),y.pop(),te};function pe(zt,te){const li=Object.keys(zt),we=new Array(li.length);for(let ye=0;ye<li.length;ye++){const Ia=li[ye],Rn=zt[Ia];if("object"!=typeof Rn||null===Rn)we[Ia]=Rn;else if(Rn.constructor!==Object&&(ot=Ot.get(Rn.constructor)))we[Ia]=ot(Rn,te);else if(ArrayBuffer.isView(Rn))we[Ia]=Qi(Rn);else{const el=Qt.indexOf(Rn);we[Ia]=-1!==el?y[el]:te(Rn)}}return we}}(ct);const Qt=new Map;if(Qt.set(Date,se=>new Date(se)),Qt.set(Map,(se,$e)=>new Map(Ot(Array.from(se),$e))),Qt.set(Set,(se,$e)=>new Set(Ot(Array.from(se),$e))),ct.constructorHandlers)for(const se of ct.constructorHandlers)Qt.set(se[0],se[1]);let y=null;return ct.proto?function pe(se){if("object"!=typeof se||null===se)return se;if(Array.isArray(se))return Ot(se,pe);if(se.constructor!==Object&&(y=Qt.get(se.constructor)))return y(se,pe);const $e={};for(const zt in se){const te=se[zt];$e[zt]="object"!=typeof te||null===te?te:te.constructor!==Object&&(y=Qt.get(te.constructor))?y(te,pe):ArrayBuffer.isView(te)?Qi(te):pe(te)}return $e}:function ot(se){if("object"!=typeof se||null===se)return se;if(Array.isArray(se))return Ot(se,ot);if(se.constructor!==Object&&(y=Qt.get(se.constructor)))return y(se,ot);const $e={};for(const zt in se){if(!1===Object.hasOwnProperty.call(se,zt))continue;const te=se[zt];$e[zt]="object"!=typeof te||null===te?te:te.constructor!==Object&&(y=Qt.get(te.constructor))?y(te,ot):ArrayBuffer.isView(te)?Qi(te):ot(te)}return $e};function Ot(se,$e){const zt=Object.keys(se),te=new Array(zt.length);for(let li=0;li<zt.length;li++){const we=zt[li],ye=se[we];te[we]="object"!=typeof ye||null===ye?ye:ye.constructor!==Object&&(y=Qt.get(ye.constructor))?y(ye,$e):ArrayBuffer.isView(ye)?Qi(ye):$e(ye)}return te}}}}]);