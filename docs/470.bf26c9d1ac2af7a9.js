"use strict";(self.webpackChunkaudio_aid_manager=self.webpackChunkaudio_aid_manager||[]).push([[470],{62470:(rt,Y,c)=>{c.r(Y),c.d(Y,{SetupModule:()=>it});var p=c(36895),s=c(24006),a=c(47898),b=c(74385),se=c(40950),h=c(34793),u=c(97582),d=c(5264),v=c(2994),_=c(14197),x=c(80535),y=c(78711),S=c(99304),w=c(17489),I=c(591),f=c(40537),E=c(44447),e=c(94650),g=c(35851);const Q=function(){return{type:"pulse"}},U=function(n){return{animation:n}};function le(n,r){1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"nb-icon",15),e.\u0275\u0275text(2," Edit clinic "),e.\u0275\u0275elementContainerEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,U,e.\u0275\u0275pureFunction0(1,Q))))}function ce(n,r){1&n&&(e.\u0275\u0275element(0,"nb-icon",16),e.\u0275\u0275text(1," Add new clinic ")),2&n&&e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,U,e.\u0275\u0275pureFunction0(1,Q)))}function de(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"form",1),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.submit())}),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",2),e.\u0275\u0275template(5,le,3,4,"ng-container",3),e.\u0275\u0275template(6,ce,2,4,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),e.\u0275\u0275text(13,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",6)(16,"div",7)(17,"label",10),e.\u0275\u0275text(18,"Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"input",11),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(20,"nb-card-footer")(21,"div",12)(22,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.close())}),e.\u0275\u0275text(23," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"button",14),e.\u0275\u0275text(25," Save "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=r.ngIf,i=e.\u0275\u0275reference(7),o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",o.form),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.selected)("ngIfElse",i),e.\u0275\u0275advance(9),e.\u0275\u0275property("status",o.isValid(o.nameControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.addressControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("nbSpinner",t.loading)}}const pe=function(n,r){return{loading:n,selected:r}};let R=class P extends E.I{get nameControl(){return this.form.controls.name}get addressControl(){return this.form.controls.address}constructor(r,t){super(),this.ref=r,this.coreService=t,this.form=new s.cw({id:new s.NI(0,{nonNullable:!0}),name:new s.NI("",{nonNullable:!0,validators:[s.kI.required]}),address:new s.NI("",{nonNullable:!0,validators:[s.kI.required]})}),this.selected=null,this.loading$=new I.X(!1)}ngOnInit(){this.selected&&this.form.patchValue(this.selected)}close(r=!1){this.ref.close(r)}submit(){this.form.markAllAsTouched(),this.form.valid&&!1===this.loading$.value&&(this.selected?this.updateClinic():this.addClinic())}updateClinic(){this.loading$.next(!0),this.coreService.put(this.form.getRawValue(),this.entity).pipe((0,d.t)(this),(0,f.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}addClinic(){this.loading$.next(!0),this.coreService.post((0,w.omit)(this.form.getRawValue(),["id"]),this.entity).pipe((0,d.t)(this),(0,f.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}static#e=this.\u0275fac=function(t){return new(t||P)(e.\u0275\u0275directiveInject(a.X4l,8),e.\u0275\u0275directiveInject(g.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:P,selectors:[["ngx-clinics-add-dialog"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["titleAddTpl",""],[1,"row"],[1,"col-12"],[1,"form-group"],["for","name",1,"label"],["type","text","nbInput","","fullWidth","","id","name","placeholder","Name","formControlName","name",3,"status"],["for","address",1,"label"],["type","text","nbInput","","fullWidth","","id","address","placeholder","Address","formControlName","address",3,"status"],[1,"d-flex","justify-content-end"],["type","button","nbButton","","status","basic",1,"mr-2",3,"click"],["type","submit","nbButton","","hero","","status","primary","nbSpinnerStatus","success","nbSpinnerMessage","",3,"nbSpinner"],["icon","edit-2-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],["icon","plus-circle-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"]],template:function(t,i){1&t&&(e.\u0275\u0275template(0,de,26,6,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&t&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction2(3,pe,e.\u0275\u0275pipeBind1(1,1,i.loading$),i.selected))},dependencies:[p.O5,a.Asz,a.yKW,a.XWE,a.ndF,a.fMN,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,a.h8i,a.DPz,a.Q7R,p.Ov],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:auto;max-width:90vh;max-height:90vh}"]})};R=(0,u.gn)([(0,d.c)()],R);var A=c(64522);function me(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-custom-actions",7),e.\u0275\u0275listener("handleAddAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.addDialog())})("handleEditAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.editDialog())})("handleReloadAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.refresh())})("handleRemoveAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.openRemoveDialog(o.selectedRows[0].id))}),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedRows",t.selectedRows)}}function ue(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedRows.length," selected clinics ")}}function _e(n,r){if(1&n&&e.\u0275\u0275text(0),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275textInterpolate1("",t.source.count()," clinics")}}let D=class z extends S.D{constructor(r,t,i){super(t,r,i),this.dialogService=r,this.entity=x.J.Clinic,this.settings={selectMode:"multi",actions:!1,columns:{id:{title:"ID",type:"number",width:"10%"},name:{title:"Name",type:"string"},address:{title:"Address",type:"string"},actions:{title:"Actions",type:"custom",width:"1%",renderComponent:y.n,valuePrepareFunction:(o,l,m)=>l,onComponentInitFunction:o=>{o.actionChange.pipe((0,d.t)(this),(0,v.b)(({action:l,row:m})=>{switch(l){case _.a.Delete:this.openRemoveDialog(m.id);break;case _.a.Edit:this.editDialog(m)}})).subscribe()},sort:!1,filter:!1}}},this.dialogTemplateRef=R}static#e=this.\u0275fac=function(t){return new(t||z)(e.\u0275\u0275directiveInject(a.Gln),e.\u0275\u0275directiveInject(g.p),e.\u0275\u0275directiveInject(h.gz))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:z,selectors:[["ngx-clinics"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:7,consts:[[4,"ngIf"],[1,"row","align-items-center"],[1,"col-8"],[4,"ngIf","ngIfElse"],["allRows",""],[1,"col-4"],[3,"settings","source","rowSelect"],[3,"selectedRows","handleAddAction","handleEditAction","handleReloadAction","handleRemoveAction"]],template:function(t,i){if(1&t&&(e.\u0275\u0275template(0,me,5,1,"nb-card",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",1)(5,"div",2),e.\u0275\u0275template(6,ue,2,1,"span",3),e.\u0275\u0275template(7,_e,1,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"div",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"nb-card-body")(11,"ng2-smart-table",6),e.\u0275\u0275listener("rowSelect",function(l){return i.handleSelectedRow(l)}),e.\u0275\u0275elementEnd()()()),2&t){const o=e.\u0275\u0275reference(8);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,i.entities$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",i.selectedRows.length)("ngIfElse",o),e.\u0275\u0275advance(5),e.\u0275\u0275property("settings",i.settings)("source",i.source)}},dependencies:[p.O5,b.T5,a.Asz,a.yKW,a.ndF,A.C,p.Ov]})};function fe(n,r){1&n&&(e.\u0275\u0275elementStart(0,"p",2),e.\u0275\u0275text(1," This field is required. "),e.\u0275\u0275elementEnd())}function ge(n,r){if(1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,fe,2,0,"p",1),e.\u0275\u0275elementContainerEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t.control.errors?null:t.control.errors.required)}}D=(0,u.gn)([(0,d.c)()],D);let he=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-form-errors"]],inputs:{control:"control"},decls:1,vars:1,consts:[[4,"ngIf"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(i,o){1&i&&e.\u0275\u0275template(0,ge,2,1,"ng-container",0),2&i&&e.\u0275\u0275property("ngIf",o.control.invalid&&o.control.touched)},dependencies:[p.O5]})}return n})();const H=function(){return{type:"pulse"}},Z=function(n){return{animation:n}};function xe(n,r){1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"nb-icon",14),e.\u0275\u0275text(2," Edit doctor "),e.\u0275\u0275elementContainerEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,Z,e.\u0275\u0275pureFunction0(1,H))))}function be(n,r){1&n&&(e.\u0275\u0275element(0,"nb-icon",15),e.\u0275\u0275text(1," Add new doctor ")),2&n&&e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,Z,e.\u0275\u0275pureFunction0(1,H)))}function Ce(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"form",1),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.submit())}),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",2),e.\u0275\u0275template(5,xe,3,4,"ng-container",3),e.\u0275\u0275template(6,be,2,4,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),e.\u0275\u0275text(13,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",9)(15,"ngx-form-errors",10),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(16,"nb-card-footer")(17,"div",11)(18,"button",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.close(!1))}),e.\u0275\u0275text(19," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"button",13),e.\u0275\u0275text(21," Save "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=r.ngIf,i=e.\u0275\u0275reference(7),o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",o.form),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.selected)("ngIfElse",i),e.\u0275\u0275advance(9),e.\u0275\u0275property("status",o.isValid(o.nameControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",o.nameControl),e.\u0275\u0275advance(5),e.\u0275\u0275property("nbSpinner",t.loading)}}const ve=function(n,r){return{loading:n,selected:r}};let T=class M extends E.I{get nameControl(){return this.form.controls.name}constructor(r,t){super(),this.ref=r,this.coreService=t,this.form=new s.cw({id:new s.NI(0,{nonNullable:!0}),name:new s.NI("",{nonNullable:!0,validators:[s.kI.required]})}),this.selected=null,this.loading$=new I.X(!1)}ngOnInit(){this.selected&&this.form.patchValue(this.selected)}close(r=!1){this.ref.close(r)}submit(){this.form.markAllAsTouched(),this.form.valid&&!1===this.loading$.value&&(this.selected?this.updateDoctor():this.addDoctor())}updateDoctor(){this.loading$.next(!0),this.coreService.put(this.form.getRawValue(),this.entity).pipe((0,d.t)(this),(0,f.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}addDoctor(){this.loading$.next(!0),this.coreService.post((0,w.omit)(this.form.getRawValue(),["id"]),this.entity).pipe((0,d.t)(this),(0,f.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}static#e=this.\u0275fac=function(t){return new(t||M)(e.\u0275\u0275directiveInject(a.X4l,8),e.\u0275\u0275directiveInject(g.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:M,selectors:[["ngx-doctors-add-dialog"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["titleAddDoctorTpl",""],[1,"row"],[1,"col-12"],[1,"form-group"],["for","name",1,"label"],["type","text","nbInput","","fullWidth","","id","name","placeholder","Name","formControlName","name",3,"status"],[3,"control"],[1,"d-flex","justify-content-end"],["type","button","nbButton","","status","basic",1,"mr-2",3,"click"],["type","submit","nbButton","","hero","","status","primary","nbSpinnerStatus","success","nbSpinnerMessage","",3,"nbSpinner"],["icon","edit-2-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],["icon","plus-circle-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"]],template:function(t,i){1&t&&(e.\u0275\u0275template(0,Ce,22,6,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&t&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction2(3,ve,e.\u0275\u0275pipeBind1(1,1,i.loading$),i.selected))},dependencies:[p.O5,a.Asz,a.yKW,a.XWE,a.ndF,he,a.fMN,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,a.h8i,a.DPz,a.Q7R,p.Ov],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:auto;max-width:90vh;max-height:90vh}"]})};function ye(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-custom-actions",7),e.\u0275\u0275listener("handleAddAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.addDialog())})("handleEditAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.editDialog())})("handleReloadAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.refresh())})("handleRemoveAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.openRemoveDialog(o.selectedRows[0].id))}),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedRows",t.selectedRows)}}function Se(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedRows.length," selected doctors ")}}function we(n,r){if(1&n&&e.\u0275\u0275text(0),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275textInterpolate1("",t.source.count()," doctors")}}T=(0,u.gn)([(0,d.c)()],T);let V=class W extends S.D{constructor(r,t,i){super(r,t,i),this.dialogService=t,this.entity=x.J.Doctor,this.settings={selectMode:"multi",actions:!1,columns:{id:{title:"ID",type:"number",width:"10%"},name:{title:"Name",type:"string"},actions:{title:"Actions",type:"custom",width:"1%",renderComponent:y.n,valuePrepareFunction:(o,l,m)=>l,onComponentInitFunction:o=>{o.actionChange.pipe((0,d.t)(this),(0,v.b)(({action:l,row:m})=>{switch(l){case _.a.Delete:this.openRemoveDialog(m.id);break;case _.a.Edit:this.editDialog(m)}})).subscribe()},sort:!1,filter:!1}}},this.dialogTemplateRef=T}static#e=this.\u0275fac=function(t){return new(t||W)(e.\u0275\u0275directiveInject(g.p),e.\u0275\u0275directiveInject(a.Gln),e.\u0275\u0275directiveInject(h.gz))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:W,selectors:[["ngx-doctors"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:7,consts:[[4,"ngIf"],[1,"row","align-items-center"],[1,"col-8"],[4,"ngIf","ngIfElse"],["allRows",""],[1,"col-4"],[3,"settings","source","rowSelect"],[3,"selectedRows","handleAddAction","handleEditAction","handleReloadAction","handleRemoveAction"]],template:function(t,i){if(1&t&&(e.\u0275\u0275template(0,ye,5,1,"nb-card",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",1)(5,"div",2),e.\u0275\u0275template(6,Se,2,1,"span",3),e.\u0275\u0275template(7,we,1,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"div",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"nb-card-body")(11,"ng2-smart-table",6),e.\u0275\u0275listener("rowSelect",function(l){return i.handleSelectedRow(l)}),e.\u0275\u0275elementEnd()()()),2&t){const o=e.\u0275\u0275reference(8);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,i.entities$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",i.selectedRows.length)("ngIfElse",o),e.\u0275\u0275advance(5),e.\u0275\u0275property("settings",i.settings)("source",i.source)}},dependencies:[p.O5,b.T5,a.Asz,a.yKW,a.ndF,A.C,p.Ov]})};V=(0,u.gn)([(0,d.c)()],V);var Ie=c(82263),Ee=c(82195),C=(()=>{return(n=C||(C={})).user="User",n.admin="Admin",C;var n})();const q=function(n){return{value:n}};function Ae(n,r){if(1&n&&e.\u0275\u0275element(0,"nb-tag",5),2&n){const t=e.\u0275\u0275nextContext(),i=e.\u0275\u0275reference(4);e.\u0275\u0275property("nbPopover",i)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,q,t.value))("text",t.value)("size","tiny")}}function Re(n,r){if(1&n&&e.\u0275\u0275element(0,"nb-tag",6),2&n){const t=e.\u0275\u0275nextContext(),i=e.\u0275\u0275reference(6);e.\u0275\u0275property("nbPopover",i)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,q,t.value))("text",t.value)("size","tiny")}}function De(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"nb-card",7)(1,"nb-card-header",8),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&n){const t=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",t.value," ")}}function Te(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"nb-card",7)(1,"nb-card-header",8),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&n){const t=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",t.value," ")}}let Ve=(()=>{class n{constructor(){this.roleStatusTpl=C}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ng-component"]],inputs:{value:"value"},decls:7,vars:3,consts:[[3,"ngSwitch"],["status","warning","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"nbPopover","nbPopoverContext","text","size",4,"ngSwitchCase"],["status","primary","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"nbPopover","nbPopoverContext","text","size",4,"ngSwitchCase"],["adminRef",""],["userRef",""],["status","warning","appearance","outline","nbPopoverTrigger","hint",1,"text-uppercase",3,"nbPopover","nbPopoverContext","text","size"],["status","primary","appearance","outline","nbPopoverTrigger","hint",1,"text-uppercase",3,"nbPopover","nbPopoverContext","text","size"],["accent","basic",1,"popover-card"],["status","warning"]],template:function(i,o){1&i&&(e.\u0275\u0275elementStart(0,"nb-tag-list",0),e.\u0275\u0275template(1,Ae,1,6,"nb-tag",1),e.\u0275\u0275template(2,Re,1,6,"nb-tag",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,De,5,1,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(5,Te,5,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor)),2&i&&(e.\u0275\u0275property("ngSwitch",o.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.roleStatusTpl.admin),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.roleStatusTpl.user))},dependencies:[p.RF,p.n9,a.c2L,a.d0f,a.ydg,a.Asz,a.yKW,a.ndF],styles:["nb-card[_ngcontent-%COMP%]{margin:0;max-width:20rem}"]})}return n})();var ee=c(35051);const te=function(){return{type:"pulse"}},ne=function(n){return{animation:n}};function Fe(n,r){1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"nb-icon",22),e.\u0275\u0275text(2," Edit employee "),e.\u0275\u0275elementContainerEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,ne,e.\u0275\u0275pureFunction0(1,te))))}function Ne(n,r){1&n&&(e.\u0275\u0275element(0,"nb-icon",23),e.\u0275\u0275text(1," Add new employee ")),2&n&&e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,ne,e.\u0275\u0275pureFunction0(1,te)))}function ke(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"form",1),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.submit())}),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",2),e.\u0275\u0275template(5,Fe,3,4,"ng-container",3),e.\u0275\u0275template(6,Ne,2,4,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),e.\u0275\u0275text(13,"First name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",6)(16,"div",7)(17,"label",10),e.\u0275\u0275text(18,"Last name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"input",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",6)(21,"div",7)(22,"label",12),e.\u0275\u0275text(23,"Email"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(24,"input",13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"div",6)(26,"div",7)(27,"label",14),e.\u0275\u0275text(28,"Role"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"nb-select",15)(30,"nb-option",16),e.\u0275\u0275text(31),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"nb-option",16),e.\u0275\u0275text(33),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(34,"div",6)(35,"div",7)(36,"label",17),e.\u0275\u0275text(37,"Gender"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(38,"nb-radio-group",18)(39,"nb-radio",16),e.\u0275\u0275text(40,"Male"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"nb-radio",16),e.\u0275\u0275text(42,"Female"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(43,"nb-card-footer")(44,"div",19)(45,"button",20),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.close(!1))}),e.\u0275\u0275text(46," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"button",21),e.\u0275\u0275text(48," Save "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=r.ngIf,i=e.\u0275\u0275reference(7),o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",o.form),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.employee)("ngIfElse",i),e.\u0275\u0275advance(9),e.\u0275\u0275property("status",o.isValid(o.firstNameControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.lastNameControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.emailControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.roleControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("value",o.roleTpl.admin),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(o.roleTpl.admin),e.\u0275\u0275advance(1),e.\u0275\u0275property("value",o.roleTpl.user),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(o.roleTpl.user),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.genderControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("value",o.genderTpl.male),e.\u0275\u0275advance(2),e.\u0275\u0275property("value",o.genderTpl.female),e.\u0275\u0275advance(6),e.\u0275\u0275property("nbSpinner",t.loading)}}const $e=function(n,r){return{loading:n,employee:r}};let F=class B extends E.I{get idControl(){return this.form.controls.id}get emailControl(){return this.form.controls.email}get firstNameControl(){return this.form.controls.firstName}get lastNameControl(){return this.form.controls.lastName}get roleControl(){return this.form.controls.role}get genderControl(){return this.form.controls.gender}constructor(r,t){super(),this.ref=r,this.coreService=t,this.form=new s.cw({id:new s.NI(0,{nonNullable:!0}),email:new s.NI("",{nonNullable:!0,validators:[s.kI.required]}),gender:new s.NI(ee.Y0.male,{nonNullable:!0,validators:[s.kI.required]}),firstName:new s.NI("",{nonNullable:!0,validators:[s.kI.required]}),lastName:new s.NI("",{nonNullable:!0,validators:[s.kI.required]}),role:new s.NI(C.admin,{nonNullable:!0,validators:[s.kI.required]})}),this.selectedEmployee=null,this.loading$=new I.X(!1),this.genderTpl=ee.Y0,this.roleTpl=C}ngOnInit(){this.selectedEmployee&&this.form.patchValue(this.selectedEmployee)}close(r=!1){this.ref.close(r)}submit(){this.form.markAllAsTouched(),this.form.valid&&!1===this.loading$.value&&(this.selectedEmployee?this.update():this.add())}update(){this.loading$.next(!0),this.coreService.patch(`${this.idControl.value??0}`,this.form.getRawValue(),this.entity).pipe((0,d.t)(this),(0,f.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}add(){this.loading$.next(!0),this.coreService.post((0,w.omit)(this.form.getRawValue(),["id"]),this.entity).pipe((0,d.t)(this),(0,f.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}static#e=this.\u0275fac=function(t){return new(t||B)(e.\u0275\u0275directiveInject(a.X4l,8),e.\u0275\u0275directiveInject(g.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:B,selectors:[["ngx-employee-add-dialog"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["titleAddEmployeeTpl",""],[1,"row"],[1,"col-12"],[1,"form-group"],["for","firstName",1,"label"],["type","text","nbInput","","fullWidth","","id","firstName","placeholder","First name","formControlName","firstName",3,"status"],["for","lastName",1,"label"],["type","text","nbInput","","fullWidth","","id","lastName","placeholder","Last name","formControlName","lastName",3,"status"],["for","email",1,"label"],["type","text","nbInput","","fullWidth","","id","email","placeholder","Email","formControlName","email",3,"status"],["for","role",1,"label"],["id","role","fullWidth","","placeholder","Role","formControlName","role",3,"status"],[3,"value"],["for","gender",1,"label"],["id","gender","fullWidth","","formControlName","gender",3,"status"],[1,"d-flex","justify-content-end"],["type","button","nbButton","","status","basic",1,"mr-2",3,"click"],["type","submit","nbButton","","hero","","status","primary","nbSpinnerStatus","success","nbSpinnerMessage","",3,"nbSpinner"],["icon","edit-2-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],["icon","plus-circle-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"]],template:function(t,i){1&t&&(e.\u0275\u0275template(0,ke,49,15,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&t&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction2(3,$e,e.\u0275\u0275pipeBind1(1,1,i.loading$),i.selectedEmployee))},dependencies:[p.O5,a.Asz,a.yKW,a.XWE,a.ndF,a.rs,a.q51,a.fMN,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,a.h8i,a.r3g,a.MFI,a.DPz,a.Q7R,p.Ov],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:auto;max-width:90vh;max-height:90vh}"]})};function je(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-custom-actions",7),e.\u0275\u0275listener("handleAddAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.addDialog())})("handleEditAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.editDialog())})("handleReloadAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.refresh())})("handleRemoveAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.openRemoveDialog(o.selectedRows[0].id))}),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedRows",t.selectedRows)}}function Oe(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedRows.length," selected employees ")}}function Pe(n,r){if(1&n&&e.\u0275\u0275text(0),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275textInterpolate1("",t.source.count()," employees")}}F=(0,u.gn)([(0,d.c)()],F);let N=class J extends S.D{constructor(r,t,i){super(t,r,i),this.dialogService=r,this.entity=x.J.User,this.settings={selectMode:"multi",actions:!1,columns:{id:{title:"ID",type:"number",width:"10%"},email:{title:"Email",type:"custom",renderComponent:Ie._},gender:{title:"Gender",type:"custom",renderComponent:Ee.f},lastName:{title:"Last name",type:"string"},firstName:{title:"First name",type:"string"},role:{title:"Role",type:"custom",renderComponent:Ve},actions:{title:"Actions",type:"custom",width:"1%",renderComponent:y.n,valuePrepareFunction:(o,l,m)=>l,onComponentInitFunction:o=>{o.actionChange.pipe((0,d.t)(this),(0,v.b)(({action:l,row:m})=>{switch(l){case _.a.Delete:this.openRemoveDialog(m.id);break;case _.a.Edit:this.editDialog(m)}})).subscribe()},sort:!1,filter:!1}}},this.dialogTemplateRef=F}static#e=this.\u0275fac=function(t){return new(t||J)(e.\u0275\u0275directiveInject(a.Gln),e.\u0275\u0275directiveInject(g.p),e.\u0275\u0275directiveInject(h.gz))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:J,selectors:[["ngx-employee"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:7,consts:[[4,"ngIf"],[1,"row","align-items-center"],[1,"col-8"],[4,"ngIf","ngIfElse"],["allRows",""],[1,"col-4"],[3,"settings","source","rowSelect"],[3,"selectedRows","handleAddAction","handleEditAction","handleReloadAction","handleRemoveAction"]],template:function(t,i){if(1&t&&(e.\u0275\u0275template(0,je,5,1,"nb-card",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",1)(5,"div",2),e.\u0275\u0275template(6,Oe,2,1,"span",3),e.\u0275\u0275template(7,Pe,1,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"div",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"nb-card-body")(11,"ng2-smart-table",6),e.\u0275\u0275listener("rowSelect",function(l){return i.handleSelectedRow(l)}),e.\u0275\u0275elementEnd()()()),2&t){const o=e.\u0275\u0275reference(8);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,i.entities$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",i.selectedRows.length)("ngIfElse",o),e.\u0275\u0275advance(5),e.\u0275\u0275property("settings",i.settings)("source",i.source)}},dependencies:[p.O5,b.T5,a.Asz,a.yKW,a.ndF,A.C,p.Ov]})};N=(0,u.gn)([(0,d.c)()],N);var ze=c(24850);const oe=function(){return{type:"pulse"}},ie=function(n){return{animation:n}};function Me(n,r){1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"nb-icon",16),e.\u0275\u0275text(2," Edit room "),e.\u0275\u0275elementContainerEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,ie,e.\u0275\u0275pureFunction0(1,oe))))}function We(n,r){1&n&&(e.\u0275\u0275element(0,"nb-icon",17),e.\u0275\u0275text(1," Add new room ")),2&n&&e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,ie,e.\u0275\u0275pureFunction0(1,oe)))}function Be(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"nb-option",18),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=r.$implicit;e.\u0275\u0275property("value",t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.name)}}function Je(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"form",1),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.submit())}),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",2),e.\u0275\u0275template(5,Me,3,4,"ng-container",3),e.\u0275\u0275template(6,We,2,4,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),e.\u0275\u0275text(13,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",6)(16,"div",7)(17,"label",10),e.\u0275\u0275text(18,"Shop"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"nb-select",11),e.\u0275\u0275template(20,Be,2,2,"nb-option",12),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(22,"nb-card-footer")(23,"div",13)(24,"button",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.close())}),e.\u0275\u0275text(25," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"button",15),e.\u0275\u0275text(27," Save "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=r.ngIf,i=e.\u0275\u0275reference(7),o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",o.form),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.selected)("ngIfElse",i),e.\u0275\u0275advance(9),e.\u0275\u0275property("status",o.isValid(o.nameControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.shopIdControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(21,7,o.shops$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("nbSpinner",t.loading)}}const Ge=function(n,r){return{loading:n,selected:r}};let k=class G extends E.I{get nameControl(){return this.form.controls.name}get shopIdControl(){return this.form.controls.shopId}constructor(r,t){super(),this.ref=r,this.coreService=t,this.form=new s.cw({id:new s.NI(0,{nonNullable:!0}),name:new s.NI("",{nonNullable:!0,validators:[s.kI.required]}),shopId:new s.NI(0,{nonNullable:!0,validators:[s.kI.required]})}),this.selected=null,this.loading$=new I.X(!1),this.shops$=this.coreService.getEntities$(x.J.Shop).pipe((0,ze.U)(({entities:i})=>Object.values(i)))}ngOnInit(){this.selected&&this.form.patchValue(this.selected),this.getShops()}close(r=!1){this.ref.close(r)}submit(){this.form.markAllAsTouched(),this.form.valid&&!1===this.loading$.value&&(this.selected?this.update():this.add())}update(){this.loading$.next(!0),this.coreService.put(this.form.getRawValue(),this.entity).pipe((0,d.t)(this),(0,f.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}add(){this.loading$.next(!0),this.coreService.post((0,w.omit)(this.form.getRawValue(),["id"]),this.entity).pipe((0,d.t)(this),(0,f.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}getShops(){this.coreService.get(x.J.Shop).pipe((0,d.t)(this)).subscribe()}static#e=this.\u0275fac=function(t){return new(t||G)(e.\u0275\u0275directiveInject(a.X4l,8),e.\u0275\u0275directiveInject(g.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:G,selectors:[["ngx-rooms-add-dialog"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["titleAddRoomTpl",""],[1,"row"],[1,"col-12"],[1,"form-group"],["for","name",1,"label"],["type","text","nbInput","","fullWidth","","id","name","placeholder","Name","formControlName","name",3,"status"],["for","shopId",1,"label"],["id","shopId","fullWidth","","placeholder","Shop","formControlName","shopId",3,"status"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],["type","button","nbButton","","status","basic",1,"mr-2",3,"click"],["type","submit","nbButton","","hero","","status","primary","nbSpinnerStatus","success","nbSpinnerMessage","",3,"nbSpinner"],["icon","edit-2-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],["icon","plus-circle-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],[3,"value"]],template:function(t,i){1&t&&(e.\u0275\u0275template(0,Je,28,9,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&t&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction2(3,Ge,e.\u0275\u0275pipeBind1(1,1,i.loading$),i.selected))},dependencies:[p.sg,p.O5,a.Asz,a.yKW,a.XWE,a.ndF,a.rs,a.q51,a.fMN,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,a.h8i,a.DPz,a.Q7R,p.Ov],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:auto;max-width:90vh;max-height:90vh}"]})};function Xe(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-custom-actions",7),e.\u0275\u0275listener("handleAddAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.addDialog())})("handleEditAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.editDialog())})("handleReloadAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.refresh())})("handleRemoveAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.openRemoveDialog(o.selectedRows[0].id))}),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedRows",t.selectedRows)}}function Ke(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedRows.length," selected employees ")}}function Le(n,r){if(1&n&&e.\u0275\u0275text(0),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275textInterpolate1("",t.source.count()," employees")}}k=(0,u.gn)([(0,d.c)()],k);let $=class X extends S.D{constructor(r,t,i){super(t,r,i),this.dialogService=r,this.entity=x.J.Room,this.settings={selectMode:"multi",actions:!1,columns:{id:{title:"ID",type:"number",width:"10%"},name:{title:"Name",type:"string"},shopId:{title:"Shop ID",type:"string"},actions:{title:"Actions",type:"custom",width:"1%",renderComponent:y.n,valuePrepareFunction:(o,l,m)=>l,onComponentInitFunction:o=>{o.actionChange.pipe((0,d.t)(this),(0,v.b)(({action:l,row:m})=>{switch(l){case _.a.Delete:this.openRemoveDialog(m.id);break;case _.a.Edit:this.editDialog(m)}})).subscribe()},sort:!1,filter:!1}}},this.dialogTemplateRef=k}static#e=this.\u0275fac=function(t){return new(t||X)(e.\u0275\u0275directiveInject(a.Gln),e.\u0275\u0275directiveInject(g.p),e.\u0275\u0275directiveInject(h.gz))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:X,selectors:[["ngx-rooms"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:7,consts:[[4,"ngIf"],[1,"row","align-items-center"],[1,"col-8"],[4,"ngIf","ngIfElse"],["allRows",""],[1,"col-4"],[3,"settings","source","rowSelect"],[3,"selectedRows","handleAddAction","handleEditAction","handleReloadAction","handleRemoveAction"]],template:function(t,i){if(1&t&&(e.\u0275\u0275template(0,Xe,5,1,"nb-card",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",1)(5,"div",2),e.\u0275\u0275template(6,Ke,2,1,"span",3),e.\u0275\u0275template(7,Le,1,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"div",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"nb-card-body")(11,"ng2-smart-table",6),e.\u0275\u0275listener("rowSelect",function(l){return i.handleSelectedRow(l)}),e.\u0275\u0275elementEnd()()()),2&t){const o=e.\u0275\u0275reference(8);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,i.entities$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",i.selectedRows.length)("ngIfElse",o),e.\u0275\u0275advance(5),e.\u0275\u0275property("settings",i.settings)("source",i.source)}},dependencies:[p.O5,b.T5,a.Asz,a.yKW,a.ndF,A.C,p.Ov]})};$=(0,u.gn)([(0,d.c)()],$);let Ye=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["ngx-setup"]],decls:1,vars:0,template:function(i,o){1&i&&e.\u0275\u0275element(0,"router-outlet")},dependencies:[h.lC]})}return n})();const re=function(){return{type:"pulse"}},ae=function(n){return{animation:n}};function Qe(n,r){1&n&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"nb-icon",15),e.\u0275\u0275text(2," Edit shop "),e.\u0275\u0275elementContainerEnd()),2&n&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,ae,e.\u0275\u0275pureFunction0(1,re))))}function Ue(n,r){1&n&&(e.\u0275\u0275element(0,"nb-icon",16),e.\u0275\u0275text(1," Add new shop ")),2&n&&e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,ae,e.\u0275\u0275pureFunction0(1,re)))}function He(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"form",1),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.submit())}),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",2),e.\u0275\u0275template(5,Qe,3,4,"ng-container",3),e.\u0275\u0275template(6,Ue,2,4,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),e.\u0275\u0275text(13,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",6)(16,"div",7)(17,"label",10),e.\u0275\u0275text(18,"Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"input",11),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(20,"nb-card-footer")(21,"div",12)(22,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.close())}),e.\u0275\u0275text(23," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"button",14),e.\u0275\u0275text(25," Save "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementContainerEnd()}if(2&n){const t=r.ngIf,i=e.\u0275\u0275reference(7),o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",o.form),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.selected)("ngIfElse",i),e.\u0275\u0275advance(9),e.\u0275\u0275property("status",o.isValid(o.nameControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.addressControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("nbSpinner",t.loading)}}const Ze=function(n,r){return{loading:n,selected:r}};let j=class K extends E.I{get nameControl(){return this.form.controls.name}get addressControl(){return this.form.controls.address}constructor(r,t){super(),this.ref=r,this.coreService=t,this.form=new s.cw({id:new s.NI(0,{nonNullable:!0}),name:new s.NI("",{nonNullable:!0,validators:[s.kI.required]}),address:new s.NI("",{nonNullable:!0,validators:[s.kI.required]})}),this.selected=null,this.loading$=new I.X(!1)}ngOnInit(){this.selected&&this.form.patchValue(this.selected)}close(r=!1){this.ref.close(r)}submit(){this.form.markAllAsTouched(),this.form.valid&&!1===this.loading$.value&&(this.selected?this.updateShop():this.addShop())}updateShop(){this.loading$.next(!0),this.coreService.put(this.form.getRawValue(),this.entity).pipe((0,d.t)(this),(0,f.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}addShop(){this.loading$.next(!0),this.coreService.post((0,w.omit)(this.form.getRawValue(),["id"]),this.entity).pipe((0,d.t)(this),(0,f.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}static#e=this.\u0275fac=function(t){return new(t||K)(e.\u0275\u0275directiveInject(a.X4l,8),e.\u0275\u0275directiveInject(g.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:K,selectors:[["ngx-shops-add-dialog"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["titleAddShopTpl",""],[1,"row"],[1,"col-12"],[1,"form-group"],["for","name",1,"label"],["type","text","nbInput","","fullWidth","","id","name","placeholder","Name","formControlName","name",3,"status"],["for","address",1,"label"],["type","text","nbInput","","fullWidth","","id","address","placeholder","Address","formControlName","address",3,"status"],[1,"d-flex","justify-content-end"],["type","button","nbButton","","status","basic",1,"mr-2",3,"click"],["type","submit","nbButton","","hero","","status","primary","nbSpinnerStatus","success","nbSpinnerMessage","",3,"nbSpinner"],["icon","edit-2-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],["icon","plus-circle-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"]],template:function(t,i){1&t&&(e.\u0275\u0275template(0,He,26,6,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&t&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction2(3,Ze,e.\u0275\u0275pipeBind1(1,1,i.loading$),i.selected))},dependencies:[p.O5,a.Asz,a.yKW,a.XWE,a.ndF,a.fMN,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,a.h8i,a.DPz,a.Q7R,p.Ov]})};function qe(n,r){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-custom-actions",7),e.\u0275\u0275listener("handleAddAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.addDialog())})("handleEditAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.editDialog())})("handleReloadAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.refresh())})("handleRemoveAction",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.openRemoveDialog(o.selectedRows[0].id))}),e.\u0275\u0275elementEnd()()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedRows",t.selectedRows)}}function et(n,r){if(1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedRows.length," selected shops ")}}function tt(n,r){if(1&n&&e.\u0275\u0275text(0),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275textInterpolate1("",t.source.count()," shops")}}j=(0,u.gn)([(0,d.c)()],j);let O=class L extends S.D{constructor(r,t,i){super(t,r,i),this.dialogService=r,this.entity=x.J.Shop,this.settings={selectMode:"multi",actions:!1,columns:{id:{title:"ID",type:"number",width:"10%"},name:{title:"Name",type:"string"},address:{title:"Address",type:"string"},actions:{title:"Actions",type:"custom",width:"1%",renderComponent:y.n,valuePrepareFunction:(o,l,m)=>l,onComponentInitFunction:o=>{o.actionChange.pipe((0,d.t)(this),(0,v.b)(({action:l,row:m})=>{switch(l){case _.a.Delete:this.openRemoveDialog(m.id);break;case _.a.Edit:this.editDialog(m)}})).subscribe()},sort:!1,filter:!1}}},this.dialogTemplateRef=j}static#e=this.\u0275fac=function(t){return new(t||L)(e.\u0275\u0275directiveInject(a.Gln),e.\u0275\u0275directiveInject(g.p),e.\u0275\u0275directiveInject(h.gz))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:L,selectors:[["ngx-shops"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:7,consts:[[4,"ngIf"],[1,"row","align-items-center"],[1,"col-8"],[4,"ngIf","ngIfElse"],["allRows",""],[1,"col-4"],[3,"settings","source","rowSelect"],[3,"selectedRows","handleAddAction","handleEditAction","handleReloadAction","handleRemoveAction"]],template:function(t,i){if(1&t&&(e.\u0275\u0275template(0,qe,5,1,"nb-card",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",1)(5,"div",2),e.\u0275\u0275template(6,et,2,1,"span",3),e.\u0275\u0275template(7,tt,1,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"div",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"nb-card-body")(11,"ng2-smart-table",6),e.\u0275\u0275listener("rowSelect",function(l){return i.handleSelectedRow(l)}),e.\u0275\u0275elementEnd()()()),2&t){const o=e.\u0275\u0275reference(8);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,i.entities$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",i.selectedRows.length)("ngIfElse",o),e.\u0275\u0275advance(5),e.\u0275\u0275property("settings",i.settings)("source",i.source)}},dependencies:[p.O5,b.T5,a.Asz,a.yKW,a.ndF,A.C,p.Ov]})};O=(0,u.gn)([(0,d.c)()],O);const nt=[{path:"",component:Ye,children:[{path:"employee",component:N},{path:"rooms",component:$},{path:"shops",component:O},{path:"clinics",component:D},{path:"doctors",component:V}]}];let ot=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[h.Bz.forChild(nt),h.Bz]})}return n})(),it=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:n});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[p.ez,ot,b.ne,a.zyh,a.IIj,se.m,a.j7H.forChild(),a.KdK,s.UX,s.u5,a.nKr,a.OA,a.V7y,a.IIj,a.YNG,a.T2N,a.uuI]})}return n})()}}]);