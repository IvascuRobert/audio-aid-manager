"use strict";(self.webpackChunkaudio_aid_manager=self.webpackChunkaudio_aid_manager||[]).push([[43],{1043:(nt,X,c)=>{c.r(X),c.d(X,{SetupModule:()=>tt});var d=c(6895),a=c(4006),s=c(784),x=c(4385),oe=c(950),A=c(410),m=c(7582),l=c(5264),g=c(2868),_=c(4197),f=c(535),b=c(8711),C=c(4209),v=c(591),u=c(537),y=c(4447),e=c(4650),h=c(5851);const K=function(){return{type:"pulse"}},L=function(o){return{animation:o}};function ie(o,n){1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"nb-icon",15),e.\u0275\u0275text(2," Edit clinic "),e.\u0275\u0275elementContainerEnd()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,L,e.\u0275\u0275pureFunction0(1,K))))}function re(o,n){1&o&&(e.\u0275\u0275element(0,"nb-icon",16),e.\u0275\u0275text(1," Add new clinic ")),2&o&&e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,L,e.\u0275\u0275pureFunction0(1,K)))}function se(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"form",1),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.submit())}),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",2),e.\u0275\u0275template(5,ie,3,4,"ng-container",3),e.\u0275\u0275template(6,re,2,4,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),e.\u0275\u0275text(13,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",6)(16,"div",7)(17,"label",10),e.\u0275\u0275text(18,"Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"input",11),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(20,"nb-card-footer")(21,"div",12)(22,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.close())}),e.\u0275\u0275text(23," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"button",14),e.\u0275\u0275text(25," Save "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementContainerEnd()}if(2&o){const t=n.ngIf,r=e.\u0275\u0275reference(7),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",i.clinicsAddForm),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.clinic)("ngIfElse",r),e.\u0275\u0275advance(9),e.\u0275\u0275property("status",i.isValid(i.nameControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",i.isValid(i.addressControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("nbSpinner",t.loading)}}const ae=function(o,n){return{loading:o,clinic:n}};let w=class k extends y.I{get nameControl(){return this.clinicsAddForm.controls.name}get addressControl(){return this.clinicsAddForm.controls.address}constructor(n,t,r){super(),this.ref=n,this.fb=t,this.coreService=r,this.clinicsAddForm=this.fb.group({id:[0],name:["",[a.kI.required]],address:["",[a.kI.required]]}),this.selectedClinic=null,this.loading$=new v.X(!1)}ngOnInit(){this.selectedClinic&&this.clinicsAddForm.patchValue(this.selectedClinic)}close(n=!1){this.ref.close(n)}submit(){this.clinicsAddForm.markAllAsTouched(),this.clinicsAddForm.valid&&!1===this.loading$.value&&(this.selectedClinic?this.updateClinic():this.addClinic())}updateClinic(){const n=this.clinicsAddForm.getRawValue();this.loading$.next(!0),this.coreService.put(n,this.entity).pipe((0,l.t)(this),(0,u.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}addClinic(){const n=this.clinicsAddForm.getRawValue();this.loading$.next(!0),this.coreService.post(n,this.entity).pipe((0,l.t)(this),(0,u.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}static#e=this.\u0275fac=function(t){return new(t||k)(e.\u0275\u0275directiveInject(s.X4l,8),e.\u0275\u0275directiveInject(a.qu),e.\u0275\u0275directiveInject(h.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:k,selectors:[["ngx-clinics-add-dialog"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["titleAddClinicTpl",""],[1,"row"],[1,"col-12"],[1,"form-group"],["for","name",1,"label"],["type","text","nbInput","","fullWidth","","id","name","placeholder","Name","formControlName","name",3,"status"],["for","address",1,"label"],["type","text","nbInput","","fullWidth","","id","address","placeholder","Address","formControlName","address",3,"status"],[1,"d-flex","justify-content-end"],["type","button","nbButton","","status","basic",1,"mr-2",3,"click"],["type","submit","nbButton","","hero","","status","primary","nbSpinnerStatus","success","nbSpinnerMessage","",3,"nbSpinner"],["icon","edit-2-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],["icon","plus-circle-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"]],template:function(t,r){1&t&&(e.\u0275\u0275template(0,se,26,6,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&t&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction2(3,ae,e.\u0275\u0275pipeBind1(1,1,r.loading$),r.selectedClinic))},dependencies:[d.O5,s.Asz,s.yKW,s.XWE,s.ndF,s.fMN,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,s.h8i,s.DPz,s.Q7R,d.Ov],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:auto;max-width:90vh;max-height:90vh}"]})};w=(0,m.gn)([(0,l.c)()],w);var S=c(4522);function le(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-custom-actions",7),e.\u0275\u0275listener("handleAddAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.addDialog())})("handleEditAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.editDialog(i.selectedRows[0]))})("handleReloadAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.refresh())})("handleRemoveAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.openRemoveDialog(i.selectedRows[0].id))}),e.\u0275\u0275elementEnd()()()}if(2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedRows",t.selectedRows)}}function ce(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedRows.length," selected clinics ")}}function de(o,n){if(1&o&&e.\u0275\u0275text(0),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275textInterpolate1("",t.source.count()," clinics")}}let E=class O extends C.D{constructor(n,t){super(t,n),this.dialogService=n,this.entity=f.J.Clinic,this.settings={selectMode:"multi",actions:!1,columns:{id:{title:"ID",type:"number",width:"10%"},name:{title:"Name",type:"string"},address:{title:"Address",type:"string"},actions:{title:"Actions",type:"custom",width:"1%",renderComponent:b.n,valuePrepareFunction:(r,i,p)=>i,onComponentInitFunction:r=>{r.actionChange.pipe((0,l.t)(this),(0,g.b)(({action:i,row:p})=>{i===_.a.Delete&&this.refresh(),i===_.a.Edit&&this.editDialog(p)})).subscribe()},sort:!1,filter:!1}}}}addDialog(){this.dialogRef().onClose.pipe((0,l.t)(this)).subscribe(n=>{n&&this.refresh()})}editDialog(n){n&&this.dialogRef(n).onClose.pipe((0,l.t)(this)).subscribe(t=>{t&&this.refresh()})}dialogRef(n=null){return this.dialogService.open(w,{context:{selectedClinic:n,entity:this.entity}})}static#e=this.\u0275fac=function(t){return new(t||O)(e.\u0275\u0275directiveInject(s.Gln),e.\u0275\u0275directiveInject(h.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:O,selectors:[["ngx-clinics"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:7,consts:[[4,"ngIf"],[1,"row","align-items-center"],[1,"col-8"],[4,"ngIf","ngIfElse"],["allRows",""],[1,"col-4"],[3,"settings","source","rowSelect"],[3,"selectedRows","handleAddAction","handleEditAction","handleReloadAction","handleRemoveAction"]],template:function(t,r){if(1&t&&(e.\u0275\u0275template(0,le,5,1,"nb-card",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",1)(5,"div",2),e.\u0275\u0275template(6,ce,2,1,"span",3),e.\u0275\u0275template(7,de,1,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"div",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"nb-card-body")(11,"ng2-smart-table",6),e.\u0275\u0275listener("rowSelect",function(p){return r.handleSelectedRow(p)}),e.\u0275\u0275elementEnd()()()),2&t){const i=e.\u0275\u0275reference(8);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,r.entities$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",r.selectedRows.length)("ngIfElse",i),e.\u0275\u0275advance(5),e.\u0275\u0275property("settings",r.settings)("source",r.source)}},dependencies:[d.O5,x.T5,s.Asz,s.yKW,s.ndF,S.C,d.Ov]})};function pe(o,n){1&o&&(e.\u0275\u0275elementStart(0,"p",2),e.\u0275\u0275text(1," This field is required. "),e.\u0275\u0275elementEnd())}function me(o,n){if(1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275template(1,pe,2,0,"p",1),e.\u0275\u0275elementContainerEnd()),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",null==t.control.errors?null:t.control.errors.required)}}E=(0,m.gn)([(0,l.c)()],E);let ue=(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["ngx-form-errors"]],inputs:{control:"control"},decls:1,vars:1,consts:[[4,"ngIf"],["class","caption status-danger",4,"ngIf"],[1,"caption","status-danger"]],template:function(r,i){1&r&&e.\u0275\u0275template(0,me,2,1,"ng-container",0),2&r&&e.\u0275\u0275property("ngIf",i.control.invalid&&i.control.touched)},dependencies:[d.O5]})}return o})();const Y=function(){return{type:"pulse"}},Q=function(o){return{animation:o}};function he(o,n){1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"nb-icon",14),e.\u0275\u0275text(2," Edit doctor "),e.\u0275\u0275elementContainerEnd()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,Q,e.\u0275\u0275pureFunction0(1,Y))))}function _e(o,n){1&o&&(e.\u0275\u0275element(0,"nb-icon",15),e.\u0275\u0275text(1," Add new doctor ")),2&o&&e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,Q,e.\u0275\u0275pureFunction0(1,Y)))}function ge(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"form",1),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.submit())}),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",2),e.\u0275\u0275template(5,he,3,4,"ng-container",3),e.\u0275\u0275template(6,_e,2,4,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),e.\u0275\u0275text(13,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",9)(15,"ngx-form-errors",10),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(16,"nb-card-footer")(17,"div",11)(18,"button",12),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.close(!1))}),e.\u0275\u0275text(19," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"button",13),e.\u0275\u0275text(21," Save "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementContainerEnd()}if(2&o){const t=n.ngIf,r=e.\u0275\u0275reference(7),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",i.doctorsAddForm),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.doctor)("ngIfElse",r),e.\u0275\u0275advance(9),e.\u0275\u0275property("status",i.isValid(i.nameControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("control",i.nameControl),e.\u0275\u0275advance(5),e.\u0275\u0275property("nbSpinner",t.loading)}}const fe=function(o,n){return{loading:o,doctor:n}};let I=class P extends y.I{get nameControl(){return this.doctorsAddForm.controls.name}constructor(n,t,r){super(),this.ref=n,this.fb=t,this.coreService=r,this.doctorsAddForm=this.fb.group({id:[0],name:["",[a.kI.required]]}),this.selectedDoctor=null,this.loading$=new v.X(!1)}ngOnInit(){this.selectedDoctor&&this.doctorsAddForm.patchValue(this.selectedDoctor)}close(n=!1){this.ref.close(n)}submit(){this.doctorsAddForm.markAllAsTouched(),this.doctorsAddForm.valid&&!1===this.loading$.value&&(this.selectedDoctor?this.updateDoctor():this.addDoctor())}updateDoctor(){const n=this.doctorsAddForm.getRawValue();this.loading$.next(!0),this.coreService.put(n,this.entity).pipe((0,l.t)(this),(0,u.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}addDoctor(){const n=this.doctorsAddForm.getRawValue();this.loading$.next(!0),this.coreService.post(n,this.entity).pipe((0,l.t)(this),(0,u.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}static#e=this.\u0275fac=function(t){return new(t||P)(e.\u0275\u0275directiveInject(s.X4l,8),e.\u0275\u0275directiveInject(a.qu),e.\u0275\u0275directiveInject(h.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:P,selectors:[["ngx-doctors-add-dialog"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["titleAddDoctorTpl",""],[1,"row"],[1,"col-12"],[1,"form-group"],["for","name",1,"label"],["type","text","nbInput","","fullWidth","","id","name","placeholder","Name","formControlName","name",3,"status"],[3,"control"],[1,"d-flex","justify-content-end"],["type","button","nbButton","","status","basic",1,"mr-2",3,"click"],["type","submit","nbButton","","hero","","status","primary","nbSpinnerStatus","success","nbSpinnerMessage","",3,"nbSpinner"],["icon","edit-2-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],["icon","plus-circle-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"]],template:function(t,r){1&t&&(e.\u0275\u0275template(0,ge,22,6,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&t&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction2(3,fe,e.\u0275\u0275pipeBind1(1,1,r.loading$),r.selectedDoctor))},dependencies:[d.O5,s.Asz,s.yKW,s.XWE,s.ndF,ue,s.fMN,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,s.h8i,s.DPz,s.Q7R,d.Ov],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:auto;max-width:90vh;max-height:90vh}"]})};function xe(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-custom-actions",7),e.\u0275\u0275listener("handleAddAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.addDialog())})("handleEditAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.editDialog(i.selectedRows[0]))})("handleReloadAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.refresh())})("handleRemoveAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.openRemoveDialog(i.selectedRows[0].id))}),e.\u0275\u0275elementEnd()()()}if(2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedRows",t.selectedRows)}}function be(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedRows.length," selected doctors ")}}function Ce(o,n){if(1&o&&e.\u0275\u0275text(0),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275textInterpolate1("",t.source.count()," doctors")}}I=(0,m.gn)([(0,l.c)()],I);let R=class N extends C.D{constructor(n,t){super(n,t),this.dialogService=t,this.entity=f.J.Doctor,this.settings={selectMode:"multi",actions:!1,columns:{id:{title:"ID",type:"number",width:"10%"},name:{title:"Name",type:"string"},actions:{title:"Actions",type:"custom",width:"1%",renderComponent:b.n,valuePrepareFunction:(r,i,p)=>i,onComponentInitFunction:r=>{r.actionChange.pipe((0,l.t)(this),(0,g.b)(({action:i,row:p})=>{switch(i){case _.a.Delete:this.openRemoveDialog(p.id);break;case _.a.Edit:this.editDialog(p)}})).subscribe()},sort:!1,filter:!1}}}}addDialog(){this.dialogRef().onClose.pipe((0,l.t)(this),(0,g.b)(n=>{n&&this.refresh()})).subscribe()}editDialog(n){n&&this.dialogRef(n).onClose.pipe((0,l.t)(this),(0,g.b)(t=>{t&&this.refresh()})).subscribe()}dialogRef(n=null){return this.dialogService.open(I,{context:{selectedDoctor:n,entity:this.entity}})}static#e=this.\u0275fac=function(t){return new(t||N)(e.\u0275\u0275directiveInject(h.p),e.\u0275\u0275directiveInject(s.Gln))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:N,selectors:[["ngx-doctors"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:7,consts:[[4,"ngIf"],[1,"row","align-items-center"],[1,"col-8"],[4,"ngIf","ngIfElse"],["allRows",""],[1,"col-4"],[3,"settings","source","rowSelect"],[3,"selectedRows","handleAddAction","handleEditAction","handleReloadAction","handleRemoveAction"]],template:function(t,r){if(1&t&&(e.\u0275\u0275template(0,xe,5,1,"nb-card",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",1)(5,"div",2),e.\u0275\u0275template(6,be,2,1,"span",3),e.\u0275\u0275template(7,Ce,1,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"div",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"nb-card-body")(11,"ng2-smart-table",6),e.\u0275\u0275listener("rowSelect",function(p){return r.handleSelectedRow(p)}),e.\u0275\u0275elementEnd()()()),2&t){const i=e.\u0275\u0275reference(8);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,r.entities$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",r.selectedRows.length)("ngIfElse",i),e.\u0275\u0275advance(5),e.\u0275\u0275property("settings",r.settings)("source",r.source)}},dependencies:[d.O5,x.T5,s.Asz,s.yKW,s.ndF,S.C,d.Ov]})};R=(0,m.gn)([(0,l.c)()],R);var ve=c(2263),ye=c(2195),Se=c(2854);const U=function(o){return{value:o}};function Ae(o,n){if(1&o&&e.\u0275\u0275element(0,"nb-tag",5),2&o){const t=e.\u0275\u0275nextContext(),r=e.\u0275\u0275reference(4);e.\u0275\u0275property("nbPopover",r)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,U,t.value))("text",t.value)("size","tiny")}}function we(o,n){if(1&o&&e.\u0275\u0275element(0,"nb-tag",6),2&o){const t=e.\u0275\u0275nextContext(),r=e.\u0275\u0275reference(6);e.\u0275\u0275property("nbPopover",r)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,U,t.value))("text",t.value)("size","tiny")}}function Ee(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"nb-card",7)(1,"nb-card-header",8),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&o){const t=n.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",t.value," ")}}function Ie(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"nb-card",7)(1,"nb-card-header",8),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&o){const t=n.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",t.value," ")}}let Re=(()=>{class o{constructor(){this.roleStatusTpl=Se.u}static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["ng-component"]],inputs:{value:"value"},decls:7,vars:3,consts:[[3,"ngSwitch"],["status","warning","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"nbPopover","nbPopoverContext","text","size",4,"ngSwitchCase"],["status","primary","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"nbPopover","nbPopoverContext","text","size",4,"ngSwitchCase"],["adminRef",""],["employeeRef",""],["status","warning","appearance","outline","nbPopoverTrigger","hint",1,"text-uppercase",3,"nbPopover","nbPopoverContext","text","size"],["status","primary","appearance","outline","nbPopoverTrigger","hint",1,"text-uppercase",3,"nbPopover","nbPopoverContext","text","size"],["accent","basic",1,"popover-card"],["status","warning"]],template:function(r,i){1&r&&(e.\u0275\u0275elementStart(0,"nb-tag-list",0),e.\u0275\u0275template(1,Ae,1,6,"nb-tag",1),e.\u0275\u0275template(2,we,1,6,"nb-tag",2),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(3,Ee,5,1,"ng-template",null,3,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(5,Ie,5,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor)),2&r&&(e.\u0275\u0275property("ngSwitch",i.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",i.roleStatusTpl.admin),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",i.roleStatusTpl.employee))},dependencies:[d.RF,d.n9,s.c2L,s.d0f,s.ydg,s.Asz,s.yKW,s.ndF],styles:["nb-card[_ngcontent-%COMP%]{margin:0;max-width:20rem}"]})}return o})();const H=function(){return{type:"pulse"}},Z=function(o){return{animation:o}};function De(o,n){1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"nb-icon",29),e.\u0275\u0275text(2," Edit employee "),e.\u0275\u0275elementContainerEnd()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,Z,e.\u0275\u0275pureFunction0(1,H))))}function Fe(o,n){1&o&&(e.\u0275\u0275element(0,"nb-icon",30),e.\u0275\u0275text(1," Add new employee ")),2&o&&e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,Z,e.\u0275\u0275pureFunction0(1,H)))}function Te(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"form",1),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.submit())}),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",2),e.\u0275\u0275template(5,De,3,4,"ng-container",3),e.\u0275\u0275template(6,Fe,2,4,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),e.\u0275\u0275text(13,"Email"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",6)(16,"div",7)(17,"label",10),e.\u0275\u0275text(18,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"input",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",6)(21,"div",7)(22,"label",12),e.\u0275\u0275text(23,"Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(24,"input",13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"div",6)(26,"div",7)(27,"label",14),e.\u0275\u0275text(28,"Role"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(29,"nb-select",15)(30,"nb-option",16),e.\u0275\u0275text(31,"role 1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(32,"nb-option",17),e.\u0275\u0275text(33,"role 2"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(34,"nb-option",18),e.\u0275\u0275text(35,"role 3"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"nb-option",19),e.\u0275\u0275text(37,"role 4"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(38,"div",20)(39,"div",7)(40,"label",21),e.\u0275\u0275text(41,"Gender"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"nb-radio-group",22)(43,"nb-radio",23),e.\u0275\u0275text(44,"male"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(45,"nb-radio",24),e.\u0275\u0275text(46,"female"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"nb-radio",25),e.\u0275\u0275text(48,"Unknown"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(49,"nb-card-footer")(50,"div",26)(51,"button",27),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.close(!1))}),e.\u0275\u0275text(52," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(53,"button",28),e.\u0275\u0275text(54," Save "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementContainerEnd()}if(2&o){const t=n.ngIf,r=e.\u0275\u0275reference(7),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",i.employeeAddForm),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.employee)("ngIfElse",r),e.\u0275\u0275advance(9),e.\u0275\u0275property("status",i.isValid(i.emailControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",i.isValid(i.nameControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",i.isValid(i.passwordControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",i.isValid(i.roleControl)?"danger":"basic"),e.\u0275\u0275advance(13),e.\u0275\u0275property("status",i.isValid(i.genderControl)?"danger":"basic"),e.\u0275\u0275advance(11),e.\u0275\u0275property("nbSpinner",t.loading)}}const Ve=function(o,n){return{loading:o,employee:n}};let D=class M extends y.I{get emailControl(){return this.employeeAddForm.controls.email}get nameControl(){return this.employeeAddForm.controls.name}get passwordControl(){return this.employeeAddForm.controls.password}get roleControl(){return this.employeeAddForm.controls.role}get genderControl(){return this.employeeAddForm.controls.gender}constructor(n,t,r){super(),this.ref=n,this.fb=t,this.coreService=r,this.employeeAddForm=this.fb.group({id:[0],email:["",[a.kI.required]],gender:["",[a.kI.required]],name:["",[a.kI.required]],password:["",[a.kI.required]],role:["",[a.kI.required]]}),this.selectedEmployee=null,this.loading$=new v.X(!1)}ngOnInit(){this.selectedEmployee&&this.employeeAddForm.patchValue(this.selectedEmployee)}close(n=!1){this.ref.close(n)}submit(){this.employeeAddForm.markAllAsTouched(),this.employeeAddForm.valid&&!1===this.loading$.value&&(this.selectedEmployee?this.update():this.add())}update(){const n=this.employeeAddForm.getRawValue();this.loading$.next(!0),this.coreService.put(n,this.entity).pipe((0,l.t)(this),(0,u.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}add(){const n=this.employeeAddForm.getRawValue();this.loading$.next(!0),this.coreService.post(n,this.entity).pipe((0,l.t)(this),(0,u.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}static#e=this.\u0275fac=function(t){return new(t||M)(e.\u0275\u0275directiveInject(s.X4l,8),e.\u0275\u0275directiveInject(a.qu),e.\u0275\u0275directiveInject(h.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:M,selectors:[["ngx-employee-add-dialog"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["titleAddEmployeeTpl",""],[1,"row"],[1,"col-12"],[1,"form-group"],["for","email",1,"label"],["type","text","nbInput","","fullWidth","","id","email","placeholder","Email","formControlemail","email",3,"status"],["for","name",1,"label"],["type","text","nbInput","","fullWidth","","id","name","placeholder","Name","formControlName","name",3,"status"],["for","password",1,"label"],["type","text","nbInput","","fullWidth","","id","password","placeholder","Password","formControlName","password",3,"status"],["for","role",1,"label"],["id","role","fullWidth","","placeholder","Role","formControlName","role",3,"status"],["value","1"],["value","2"],["value","3"],["value","4"],[1,"col-6"],["for","gender",1,"label"],["id","gender","fullWidth","","formControlName","gender",3,"status"],["value","male"],["value","female"],["value","unknown"],[1,"d-flex","justify-content-end"],["type","button","nbButton","","status","basic",1,"mr-2",3,"click"],["type","submit","nbButton","","hero","","status","primary","nbSpinnerStatus","success","nbSpinnerMessage","",3,"nbSpinner"],["icon","edit-2-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],["icon","plus-circle-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"]],template:function(t,r){1&t&&(e.\u0275\u0275template(0,Te,55,9,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&t&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction2(3,Ve,e.\u0275\u0275pipeBind1(1,1,r.loading$),r.selectedEmployee))},dependencies:[d.O5,s.Asz,s.yKW,s.XWE,s.ndF,s.rs,s.q51,s.fMN,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,s.h8i,s.r3g,s.MFI,s.DPz,s.Q7R,d.Ov],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:auto;max-width:90vh;max-height:90vh}"]})};function $e(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-custom-actions",7),e.\u0275\u0275listener("handleAddAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.addDialog())})("handleEditAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.editDialog(i.selectedRows[0]))})("handleReloadAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.refresh())})("handleRemoveAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.openRemoveDialog(i.selectedRows[0].id))}),e.\u0275\u0275elementEnd()()()}if(2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedRows",t.selectedRows)}}function je(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedRows.length," selected employees ")}}function ke(o,n){if(1&o&&e.\u0275\u0275text(0),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275textInterpolate1("",t.source.count()," employees")}}D=(0,m.gn)([(0,l.c)()],D);let F=class W extends C.D{constructor(n,t){super(t,n),this.dialogService=n,this.entity=f.J.User,this.settings={selectMode:"multi",actions:!1,columns:{id:{title:"ID",type:"number",width:"10%"},email:{title:"Email",type:"custom",renderComponent:ve._},gender:{title:"Gender",type:"custom",renderComponent:ye.f},name:{title:"Name",type:"string"},password:{title:"Password",type:"string"},role:{title:"Role",type:"custom",renderComponent:Re},actions:{title:"Actions",type:"custom",width:"1%",renderComponent:b.n,valuePrepareFunction:(r,i,p)=>i,onComponentInitFunction:r=>{r.actionChange.pipe((0,l.t)(this)).subscribe(({action:i})=>{i===_.a.Delete&&this.refresh()})},sort:!1,filter:!1}}}}addDialog(){this.dialogRef().onClose.pipe((0,l.t)(this),(0,g.b)(n=>{n&&this.refresh()})).subscribe()}editDialog(n){n&&this.dialogRef(n).onClose.pipe((0,l.t)(this),(0,g.b)(t=>{t&&this.refresh()})).subscribe()}dialogRef(n=null){return this.dialogService.open(D,{context:{selectedEmployee:n,entity:this.entity}})}static#e=this.\u0275fac=function(t){return new(t||W)(e.\u0275\u0275directiveInject(s.Gln),e.\u0275\u0275directiveInject(h.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:W,selectors:[["ngx-employee"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:7,consts:[[4,"ngIf"],[1,"row","align-items-center"],[1,"col-8"],[4,"ngIf","ngIfElse"],["allRows",""],[1,"col-4"],[3,"settings","source","rowSelect"],[3,"selectedRows","handleAddAction","handleEditAction","handleReloadAction","handleRemoveAction"]],template:function(t,r){if(1&t&&(e.\u0275\u0275template(0,$e,5,1,"nb-card",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",1)(5,"div",2),e.\u0275\u0275template(6,je,2,1,"span",3),e.\u0275\u0275template(7,ke,1,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"div",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"nb-card-body")(11,"ng2-smart-table",6),e.\u0275\u0275listener("rowSelect",function(p){return r.handleSelectedRow(p)}),e.\u0275\u0275elementEnd()()()),2&t){const i=e.\u0275\u0275reference(8);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,r.entities$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",r.selectedRows.length)("ngIfElse",i),e.\u0275\u0275advance(5),e.\u0275\u0275property("settings",r.settings)("source",r.source)}},dependencies:[d.O5,x.T5,s.Asz,s.yKW,s.ndF,S.C,d.Ov]})};F=(0,m.gn)([(0,l.c)()],F);var Oe=c(4850);const q=function(){return{type:"pulse"}},ee=function(o){return{animation:o}};function Pe(o,n){1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"nb-icon",16),e.\u0275\u0275text(2," Edit room "),e.\u0275\u0275elementContainerEnd()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,ee,e.\u0275\u0275pureFunction0(1,q))))}function Ne(o,n){1&o&&(e.\u0275\u0275element(0,"nb-icon",17),e.\u0275\u0275text(1," Add new room ")),2&o&&e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,ee,e.\u0275\u0275pureFunction0(1,q)))}function Me(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"nb-option",18),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=n.$implicit;e.\u0275\u0275property("value",t.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.name)}}function We(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"form",1),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.submit())}),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",2),e.\u0275\u0275template(5,Pe,3,4,"ng-container",3),e.\u0275\u0275template(6,Ne,2,4,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),e.\u0275\u0275text(13,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",6)(16,"div",7)(17,"label",10),e.\u0275\u0275text(18,"Shop"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"nb-select",11),e.\u0275\u0275template(20,Me,2,2,"nb-option",12),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(22,"nb-card-footer")(23,"div",13)(24,"button",14),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.close())}),e.\u0275\u0275text(25," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"button",15),e.\u0275\u0275text(27," Save "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementContainerEnd()}if(2&o){const t=n.ngIf,r=e.\u0275\u0275reference(7),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",i.roomsAddForm),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.room)("ngIfElse",r),e.\u0275\u0275advance(9),e.\u0275\u0275property("status",i.isValid(i.nameControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",i.isValid(i.shopIdControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(21,7,i.shops$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("nbSpinner",t.loading)}}const ze=function(o,n){return{loading:o,room:n}};let T=class z extends y.I{get nameControl(){return this.roomsAddForm.controls.name}get shopIdControl(){return this.roomsAddForm.controls.shopId}constructor(n,t,r){super(),this.ref=n,this.fb=t,this.coreService=r,this.roomsAddForm=this.fb.group({id:[0],name:["",[a.kI.required]],shopId:[null,[a.kI.required]]}),this.selectedRoom=null,this.loading$=new v.X(!1),this.shops$=this.coreService.getEntities$(f.J.Shop).pipe((0,Oe.U)(({entities:i})=>Object.values(i)))}ngOnInit(){this.selectedRoom&&this.roomsAddForm.patchValue(this.selectedRoom),this.getShops()}close(n=!1){this.ref.close(n)}submit(){this.roomsAddForm.markAllAsTouched(),this.roomsAddForm.valid&&!1===this.loading$.value&&(this.selectedRoom?this.updateRoom():this.addRoom())}updateRoom(){const n=this.roomsAddForm.getRawValue();this.loading$.next(!0),this.coreService.put(n,this.entity).pipe((0,l.t)(this),(0,u.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}addRoom(){const n=this.roomsAddForm.getRawValue();this.loading$.next(!0),this.coreService.post(n,this.entity).pipe((0,l.t)(this),(0,u.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}getShops(){this.coreService.get(f.J.Shop).pipe((0,l.t)(this)).subscribe()}static#e=this.\u0275fac=function(t){return new(t||z)(e.\u0275\u0275directiveInject(s.X4l,8),e.\u0275\u0275directiveInject(a.qu),e.\u0275\u0275directiveInject(h.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:z,selectors:[["ngx-rooms-add-dialog"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["titleAddRoomTpl",""],[1,"row"],[1,"col-12"],[1,"form-group"],["for","name",1,"label"],["type","text","nbInput","","fullWidth","","id","name","placeholder","Name","formControlName","name",3,"status"],["for","shopId",1,"label"],["id","shopId","fullWidth","","placeholder","Shop","formControlName","shopId",3,"status"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],["type","button","nbButton","","status","basic",1,"mr-2",3,"click"],["type","submit","nbButton","","hero","","status","primary","nbSpinnerStatus","success","nbSpinnerMessage","",3,"nbSpinner"],["icon","edit-2-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],["icon","plus-circle-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],[3,"value"]],template:function(t,r){1&t&&(e.\u0275\u0275template(0,We,28,9,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&t&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction2(3,ze,e.\u0275\u0275pipeBind1(1,1,r.loading$),r.selectedRoom))},dependencies:[d.sg,d.O5,s.Asz,s.yKW,s.XWE,s.ndF,s.rs,s.q51,s.fMN,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,s.h8i,s.DPz,s.Q7R,d.Ov],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:auto;max-width:90vh;max-height:90vh}"]})};function Be(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-custom-actions",7),e.\u0275\u0275listener("handleAddAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.addDialog())})("handleEditAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.editDialog(i.selectedRows[0]))})("handleReloadAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.refresh())})("handleRemoveAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.openRemoveDialog(i.selectedRows[0].id))}),e.\u0275\u0275elementEnd()()()}if(2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedRows",t.selectedRows)}}function Je(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedRows.length," selected employees ")}}function Ge(o,n){if(1&o&&e.\u0275\u0275text(0),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275textInterpolate1("",t.source.count()," employees")}}T=(0,m.gn)([(0,l.c)()],T);let V=class B extends C.D{constructor(n,t){super(t,n),this.dialogService=n,this.entity=f.J.Room,this.settings={selectMode:"multi",actions:!1,columns:{id:{title:"ID",type:"number",width:"10%"},name:{title:"Name",type:"string"},shopId:{title:"Shop ID",type:"string"},actions:{title:"Actions",type:"custom",width:"1%",renderComponent:b.n,valuePrepareFunction:(r,i,p)=>i,onComponentInitFunction:r=>{r.actionChange.pipe((0,l.t)(this),(0,g.b)(({action:i,row:p})=>{i===_.a.Delete&&this.refresh(),i===_.a.Edit&&this.editDialog(p)})).subscribe()},sort:!1,filter:!1}}}}addDialog(){this.dialogRef().onClose.pipe((0,l.t)(this)).subscribe(n=>{n&&this.refresh()})}editDialog(n){n&&this.dialogRef(n).onClose.pipe((0,l.t)(this)).subscribe(t=>{t&&this.refresh()})}dialogRef(n=null){return this.dialogService.open(T,{context:{selectedRoom:n,entity:this.entity}})}static#e=this.\u0275fac=function(t){return new(t||B)(e.\u0275\u0275directiveInject(s.Gln),e.\u0275\u0275directiveInject(h.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:B,selectors:[["ngx-rooms"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:7,consts:[[4,"ngIf"],[1,"row","align-items-center"],[1,"col-8"],[4,"ngIf","ngIfElse"],["allRows",""],[1,"col-4"],[3,"settings","source","rowSelect"],[3,"selectedRows","handleAddAction","handleEditAction","handleReloadAction","handleRemoveAction"]],template:function(t,r){if(1&t&&(e.\u0275\u0275template(0,Be,5,1,"nb-card",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",1)(5,"div",2),e.\u0275\u0275template(6,Je,2,1,"span",3),e.\u0275\u0275template(7,Ge,1,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"div",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"nb-card-body")(11,"ng2-smart-table",6),e.\u0275\u0275listener("rowSelect",function(p){return r.handleSelectedRow(p)}),e.\u0275\u0275elementEnd()()()),2&t){const i=e.\u0275\u0275reference(8);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,r.entities$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",r.selectedRows.length)("ngIfElse",i),e.\u0275\u0275advance(5),e.\u0275\u0275property("settings",r.settings)("source",r.source)}},dependencies:[d.O5,x.T5,s.Asz,s.yKW,s.ndF,S.C,d.Ov]})};V=(0,m.gn)([(0,l.c)()],V);let Xe=(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["ngx-setup"]],decls:1,vars:0,template:function(r,i){1&r&&e.\u0275\u0275element(0,"router-outlet")},dependencies:[A.lC]})}return o})();const te=function(){return{type:"pulse"}},ne=function(o){return{animation:o}};function Ke(o,n){1&o&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"nb-icon",15),e.\u0275\u0275text(2," Edit shop "),e.\u0275\u0275elementContainerEnd()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,ne,e.\u0275\u0275pureFunction0(1,te))))}function Le(o,n){1&o&&(e.\u0275\u0275element(0,"nb-icon",16),e.\u0275\u0275text(1," Add new shop ")),2&o&&e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,ne,e.\u0275\u0275pureFunction0(1,te)))}function Ye(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"form",1),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.submit())}),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",2),e.\u0275\u0275template(5,Ke,3,4,"ng-container",3),e.\u0275\u0275template(6,Le,2,4,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),e.\u0275\u0275text(13,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",6)(16,"div",7)(17,"label",10),e.\u0275\u0275text(18,"Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"input",11),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(20,"nb-card-footer")(21,"div",12)(22,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.close())}),e.\u0275\u0275text(23," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"button",14),e.\u0275\u0275text(25," Save "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementContainerEnd()}if(2&o){const t=n.ngIf,r=e.\u0275\u0275reference(7),i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",i.shopsAddForm),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",t.shop)("ngIfElse",r),e.\u0275\u0275advance(9),e.\u0275\u0275property("status",i.isValid(i.nameControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",i.isValid(i.addressControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("nbSpinner",t.loading)}}const Qe=function(o,n){return{loading:o,shop:n}};let $=class J extends y.I{get nameControl(){return this.shopsAddForm.controls.name}get addressControl(){return this.shopsAddForm.controls.address}constructor(n,t,r){super(),this.ref=n,this.fb=t,this.coreService=r,this.shopsAddForm=this.fb.group({id:[0],name:["",[a.kI.required]],address:["",[a.kI.required]]}),this.loadingLargeGroup=!1,this.selectedShop=null,this.loading$=new v.X(!1)}ngOnInit(){this.selectedShop&&this.shopsAddForm.patchValue(this.selectedShop)}close(n=!1){this.ref.close(n)}submit(){this.shopsAddForm.markAllAsTouched(),this.shopsAddForm.valid&&!1===this.loading$.value&&(this.selectedShop?this.updateShop():this.addShop())}updateShop(){const n=this.shopsAddForm.getRawValue();this.loading$.next(!0),this.coreService.put(n,this.entity).pipe((0,l.t)(this),(0,u.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}addShop(){const n=this.shopsAddForm.getRawValue();this.loading$.next(!0),this.coreService.post(n,this.entity).pipe((0,l.t)(this),(0,u.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}static#e=this.\u0275fac=function(t){return new(t||J)(e.\u0275\u0275directiveInject(s.X4l,8),e.\u0275\u0275directiveInject(a.qu),e.\u0275\u0275directiveInject(h.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:J,selectors:[["ngx-shops-add-dialog"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["titleAddShopTpl",""],[1,"row"],[1,"col-12"],[1,"form-group"],["for","name",1,"label"],["type","text","nbInput","","fullWidth","","id","name","placeholder","Name","formControlName","name",3,"status"],["for","address",1,"label"],["type","text","nbInput","","fullWidth","","id","address","placeholder","Address","formControlName","address",3,"status"],[1,"d-flex","justify-content-end"],["type","button","nbButton","","status","basic",1,"mr-2",3,"click"],["type","submit","nbButton","","hero","","status","primary","nbSpinnerStatus","success","nbSpinnerMessage","",3,"nbSpinner"],["icon","edit-2-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],["icon","plus-circle-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"]],template:function(t,r){1&t&&(e.\u0275\u0275template(0,Ye,26,6,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&t&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction2(3,Qe,e.\u0275\u0275pipeBind1(1,1,r.loading$),r.selectedShop))},dependencies:[d.O5,s.Asz,s.yKW,s.XWE,s.ndF,s.fMN,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,s.h8i,s.DPz,s.Q7R,d.Ov]})};function Ue(o,n){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-custom-actions",7),e.\u0275\u0275listener("handleAddAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.addDialog())})("handleEditAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.editDialog(i.selectedRows[0]))})("handleReloadAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.refresh())})("handleRemoveAction",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.openRemoveDialog(i.selectedRows[0].id))}),e.\u0275\u0275elementEnd()()()}if(2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedRows",t.selectedRows)}}function He(o,n){if(1&o&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t.selectedRows.length," selected shops ")}}function Ze(o,n){if(1&o&&e.\u0275\u0275text(0),2&o){const t=e.\u0275\u0275nextContext();e.\u0275\u0275textInterpolate1("",t.source.count()," shops")}}$=(0,m.gn)([(0,l.c)()],$);let j=class G extends C.D{constructor(n,t){super(t,n),this.dialogService=n,this.entity=f.J.Shop,this.settings={selectMode:"multi",actions:!1,columns:{id:{title:"ID",type:"number",width:"10%"},name:{title:"Name",type:"string"},address:{title:"Address",type:"string"},actions:{title:"Actions",type:"custom",width:"1%",renderComponent:b.n,valuePrepareFunction:(r,i,p)=>i,onComponentInitFunction:r=>{r.actionChange.pipe((0,l.t)(this)).subscribe(({action:i,row:p})=>{i===_.a.Delete&&this.refresh(),i===_.a.Edit&&this.editDialog(p)})},sort:!1,filter:!1}}}}addDialog(){this.dialogRef().onClose.pipe((0,l.t)(this)).subscribe()}editDialog(n){n&&this.dialogRef(n).onClose.pipe((0,l.t)(this)).subscribe(t=>{t&&this.refresh()})}dialogRef(n=null){return this.dialogService.open($,{context:{selectedShop:n,entity:this.entity}})}static#e=this.\u0275fac=function(t){return new(t||G)(e.\u0275\u0275directiveInject(s.Gln),e.\u0275\u0275directiveInject(h.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:G,selectors:[["ngx-shops"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:7,consts:[[4,"ngIf"],[1,"row","align-items-center"],[1,"col-8"],[4,"ngIf","ngIfElse"],["allRows",""],[1,"col-4"],[3,"settings","source","rowSelect"],[3,"selectedRows","handleAddAction","handleEditAction","handleReloadAction","handleRemoveAction"]],template:function(t,r){if(1&t&&(e.\u0275\u0275template(0,Ue,5,1,"nb-card",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",1)(5,"div",2),e.\u0275\u0275template(6,He,2,1,"span",3),e.\u0275\u0275template(7,Ze,1,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"div",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"nb-card-body")(11,"ng2-smart-table",6),e.\u0275\u0275listener("rowSelect",function(p){return r.handleSelectedRow(p)}),e.\u0275\u0275elementEnd()()()),2&t){const i=e.\u0275\u0275reference(8);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,r.entities$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",r.selectedRows.length)("ngIfElse",i),e.\u0275\u0275advance(5),e.\u0275\u0275property("settings",r.settings)("source",r.source)}},dependencies:[d.O5,x.T5,s.Asz,s.yKW,s.ndF,S.C,d.Ov]})};j=(0,m.gn)([(0,l.c)()],j);const qe=[{path:"",component:Xe,children:[{path:"employee",component:F},{path:"rooms",component:V},{path:"shops",component:j},{path:"clinics",component:E},{path:"doctors",component:R}]}];let et=(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:o});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[A.Bz.forChild(qe),A.Bz]})}return o})(),tt=(()=>{class o{static#e=this.\u0275fac=function(r){return new(r||o)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:o});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[d.ez,et,x.ne,s.zyh,s.IIj,oe.m,s.j7H.forChild(),s.KdK,a.UX,a.u5,s.nKr,s.OA,s.V7y,s.IIj,s.YNG,s.T2N,s.uuI]})}return o})()}}]);