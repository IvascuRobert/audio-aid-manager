"use strict";(self.webpackChunkaudio_aid_manager=self.webpackChunkaudio_aid_manager||[]).push([[879],{6879:(Qe,$,c)=>{c.r($),c.d($,{CustomersModule:()=>Xe});var d=c(6895),l=c(4006),i=c(784),u=c(4385),X=c(950),E=c(410),b=c(7582),p=c(5264),B=c(2868),C=c(4197),m=c(535),O=c(8711),e=c(4650);function Q(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",3)(1,"nb-card-header",4),e.\u0275\u0275text(2," Note "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),2&t){const n=r.$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",n.value," ")}}const U=function(){return{type:"pulse"}},Z=function(t){return{animation:t}},q=function(t){return{value:t}};let W=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],inputs:{value:"value"},decls:4,vars:8,consts:[[1,"d-flex","justify-content-center"],["status","basic","icon","file-text-outline","pack","eva","nbPopoverTrigger","hint",1,"skip",3,"options","nbPopover","nbPopoverContext"],["commentRef",""],["accent","basic",1,"popover-card"],["status","warning"]],template:function(o,a){if(1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"nb-icon",1),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,Q,5,1,"ng-template",null,2,e.\u0275\u0275templateRefExtractor)),2&o){const s=e.\u0275\u0275reference(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(4,Z,e.\u0275\u0275pureFunction0(3,U)))("nbPopover",s)("nbPopoverContext",e.\u0275\u0275pureFunction1(6,q,a.value))}},dependencies:[i.ydg,i.Asz,i.yKW,i.ndF,i.fMN],styles:["nb-card[_ngcontent-%COMP%]{margin:0;max-width:20rem}"]})}return t})();var x=c(5439);const ee=function(t){return{"text-warning":t}};let te=(()=>{class t{constructor(){this.isInPresent=!1}ngOnInit(){this.renderValue=x(this.value).format("L"),this.isInPresent=x().isSame(x(this.value),"day")}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],inputs:{value:"value"},decls:2,vars:4,consts:[[3,"ngClass"]],template:function(o,a){1&o&&(e.\u0275\u0275elementStart(0,"span",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(2,ee,!a.isInPresent)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",a.renderValue," "))},dependencies:[d.mk],encapsulation:2})}return t})();var g=c(5051);const f=function(t){return{value:t}};function ne(t,r){if(1&t&&e.\u0275\u0275element(0,"nb-tag",11),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(7);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,f,n.value))("text",n.value)}}function oe(t,r){if(1&t&&e.\u0275\u0275element(0,"nb-tag",12),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(9);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,f,n.value))("text",n.value)}}function ae(t,r){if(1&t&&e.\u0275\u0275element(0,"nb-tag",13),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(11);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,f,n.value))("text",n.value)}}function re(t,r){if(1&t&&e.\u0275\u0275element(0,"nb-tag",14),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(13);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,f,n.value))("text",n.value)}}function ie(t,r){if(1&t&&e.\u0275\u0275element(0,"nb-tag",15),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(13);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,f,n.value))("text",n.value)}}function le(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",16)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function se(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",18)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function ce(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",19)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function de(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",20)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function pe(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",16)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}let me=(()=>{class t{constructor(){this.processStatusTypeTpl=g.Rd}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],inputs:{value:"value"},decls:16,vars:6,consts:[[3,"ngSwitch"],["status","warning","class","text-uppercase","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchCase"],["status","basic","class","text-uppercase","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchCase"],["status","danger","class","text-uppercase","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchCase"],["status","primary","class","text-uppercase","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchCase"],["status","success","class","text-uppercase","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchCase"],["ccRef",""],["clRef",""],["noRef",""],["pcRef",""],["defaultRef",""],["status","warning","nbPopoverTrigger","hint",1,"text-uppercase",3,"size","nbPopover","nbPopoverContext","text"],["status","basic","nbPopoverTrigger","hint",1,"text-uppercase",3,"size","nbPopover","nbPopoverContext","text"],["status","danger","nbPopoverTrigger","hint",1,"text-uppercase",3,"size","nbPopover","nbPopoverContext","text"],["status","primary","nbPopoverTrigger","hint",1,"text-uppercase",3,"size","nbPopover","nbPopoverContext","text"],["status","success","nbPopoverTrigger","hint",1,"text-uppercase",3,"size","nbPopover","nbPopoverContext","text"],["accent","basic",1,"popover-card"],["status","warning"],["accent","primary",1,"popover-card"],["accent","success",1,"popover-card"],["accent","warning",1,"popover-card"]],template:function(o,a){1&o&&(e.\u0275\u0275elementStart(0,"nb-tag-list",0),e.\u0275\u0275template(1,ne,1,6,"nb-tag",1),e.\u0275\u0275template(2,oe,1,6,"nb-tag",2),e.\u0275\u0275template(3,ae,1,6,"nb-tag",3),e.\u0275\u0275template(4,re,1,6,"nb-tag",4),e.\u0275\u0275template(5,ie,1,6,"nb-tag",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,le,5,1,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(8,se,5,1,"ng-template",null,7,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(10,ce,5,1,"ng-template",null,8,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(12,de,5,1,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(14,pe,5,1,"ng-template",null,10,e.\u0275\u0275templateRefExtractor)),2&o&&(e.\u0275\u0275property("ngSwitch",a.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",a.processStatusTypeTpl.open),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",a.processStatusTypeTpl.end),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",a.processStatusTypeTpl.lost),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",a.processStatusTypeTpl.trial),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",a.processStatusTypeTpl.win))},dependencies:[d.RF,d.n9,i.c2L,i.d0f,i.ydg,i.Asz,i.yKW,i.ndF],styles:["nb-card[_ngcontent-%COMP%]{margin:0;max-width:20rem}"]})}return t})();var j=c(9304),M=c(7489),w=c(591),_=c(537),h=(()=>{return(t=h||(h={})).none="none",t.lessThanThreeYears="lessThanThreeYears",t.moreThanThreeYears="moreThanThreeYears",h;var t})(),y=(()=>{return(t=y||(y={})).money="money",t.style="style",y;var t})(),L=c(4447),S=c(5851);const J=function(){return{type:"pulse"}},H=function(t){return{animation:t}};function ue(t,r){1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"nb-icon",30),e.\u0275\u0275text(2," Edit "),e.\u0275\u0275elementContainerEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,H,e.\u0275\u0275pureFunction0(1,J))))}function ge(t,r){1&t&&(e.\u0275\u0275element(0,"nb-icon",31),e.\u0275\u0275text(1," Add new ")),2&t&&e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,H,e.\u0275\u0275pureFunction0(1,J)))}function fe(t,r){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"form",1),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.submit())}),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",2),e.\u0275\u0275template(5,ue,3,4,"ng-container",3),e.\u0275\u0275template(6,ge,2,4,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),e.\u0275\u0275text(13,"Left ear value"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",6)(16,"div",7)(17,"label",10),e.\u0275\u0275text(18,"Left ear device"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"nb-select",11)(20,"nb-option",12),e.\u0275\u0275text(21,"Left ear device 1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"nb-option",13),e.\u0275\u0275text(23,"Left ear device 2"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"nb-option",14),e.\u0275\u0275text(25,"Left ear device 3"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"nb-option",15),e.\u0275\u0275text(27,"Left ear device 4"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(28,"div",6)(29,"div",7)(30,"label",16),e.\u0275\u0275text(31,"Right ear value"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(32,"input",17),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(33,"div",6)(34,"div",7)(35,"label",18),e.\u0275\u0275text(36,"Right ear device"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(37,"nb-select",19)(38,"nb-option",12),e.\u0275\u0275text(39,"Right ear device 1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(40,"nb-option",13),e.\u0275\u0275text(41,"Right ear device 2"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"nb-option",14),e.\u0275\u0275text(43,"Right ear device 3"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(44,"nb-option",15),e.\u0275\u0275text(45,"Right ear device 4"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(46,"div",20)(47,"div",7)(48,"label",21),e.\u0275\u0275text(49,"Questionnaire"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(50,"input",22),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(51,"div",20)(52,"div",7)(53,"label",23),e.\u0275\u0275text(54,"Reason"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(55,"nb-select",24)(56,"nb-option",12),e.\u0275\u0275text(57,"Reason 1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(58,"nb-option",13),e.\u0275\u0275text(59,"Reason 2"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(60,"nb-option",14),e.\u0275\u0275text(61,"Reason 3"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(62,"nb-option",15),e.\u0275\u0275text(63,"Reason 4"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(64,"div",20)(65,"div",7)(66,"label",25),e.\u0275\u0275text(67,"Comment"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(68,"textarea",26),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(69,"nb-card-footer")(70,"div",27)(71,"button",28),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.close())}),e.\u0275\u0275text(72," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(73,"button",29),e.\u0275\u0275text(74," Save "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementContainerEnd()}if(2&t){const n=r.ngIf,o=e.\u0275\u0275reference(7),a=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",a.form),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",n.selected)("ngIfElse",o),e.\u0275\u0275advance(9),e.\u0275\u0275property("status",a.isValid(a.leftEarValueControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",a.isValid(a.leftEarDeviceControl)?"danger":"basic"),e.\u0275\u0275advance(13),e.\u0275\u0275property("status",a.isValid(a.rightEarValueControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",a.isValid(a.rightEarDeviceControl)?"danger":"basic"),e.\u0275\u0275advance(13),e.\u0275\u0275property("status",a.isValid(a.questionnaireControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",a.isValid(a.reasonControl)?"danger":"basic"),e.\u0275\u0275advance(13),e.\u0275\u0275property("status",a.isValid(a.commentControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("nbSpinner",n.loading)}}const he=function(t,r){return{loading:t,selected:r}};let I=class A extends L.I{get leftEarValueControl(){return this.form.controls.leftEarValue}get leftEarDeviceControl(){return this.form.controls.leftEarDevice}get rightEarValueControl(){return this.form.controls.rightEarValue}get rightEarDeviceControl(){return this.form.controls.rightEarDevice}get questionnaireControl(){return this.form.controls.questionnaire}get reasonControl(){return this.form.controls.reason}get commentControl(){return this.form.controls.comment}constructor(r,n){super(),this.ref=r,this.coreService=n,this.form=new l.cw({id:new l.NI(0,{nonNullable:!0}),comment:new l.NI("",{nonNullable:!0}),leftEarDevice:new l.NI(h.none,{nonNullable:!0}),leftEarValue:new l.NI(0,{nonNullable:!0}),questionnaire:new l.NI(0,{nonNullable:!0}),reason:new l.NI(y.style,{nonNullable:!0}),rightEarDevice:new l.NI(h.none,{nonNullable:!0}),rightEarValue:new l.NI(0,{nonNullable:!0})}),this.selected=null,this.loading$=new w.X(!1)}ngOnInit(){this.selected&&this.form.patchValue(this.selected)}close(r=!1){this.ref.close(r)}submit(){this.form.markAllAsTouched(),this.form.valid&&!1===this.loading$.value&&(this.selected?this.update():this.add())}update(){this.loading$.next(!0),this.coreService.put(this.form.getRawValue(),this.entity).pipe((0,p.t)(this),(0,_.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}add(){this.loading$.next(!0),this.coreService.post((0,M.omit)(this.form.getRawValue(),["id"]),this.entity).pipe((0,p.t)(this),(0,_.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}static#e=this.\u0275fac=function(n){return new(n||A)(e.\u0275\u0275directiveInject(i.X4l,8),e.\u0275\u0275directiveInject(S.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:A,selectors:[["ngx-customer-details-add-dialog"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["titleAddTpl",""],[1,"row"],[1,"col-6"],[1,"form-group"],["for","leftEarValue",1,"label"],["type","text","nbInput","","fullWidth","","id","leftEarValue","placeholder","Left ear value","formControlName","leftEarValue",3,"status"],["for","leftEarDevice",1,"label"],["id","leftEarDevice","fullWidth","","placeholder","Left ear device","formControlName","leftEarDevice",3,"status"],["value","1"],["value","2"],["value","3"],["value","4"],["for","rightEarValue",1,"label"],["type","text","nbInput","","fullWidth","","id","rightEarValue","placeholder","Right ear value","formControlName","rightEarValue",3,"status"],["for","rightEarDevice",1,"label"],["id","rightEarDevice","fullWidth","","placeholder","Right ear device","formControlName","rightEarDevice",3,"status"],[1,"col-12"],["for","questionnaire",1,"label"],["type","text","nbInput","","fullWidth","","id","questionnaire","placeholder","Questionnaire","formControlName","questionnaire",3,"status"],["for","reason",1,"label"],["id","reason","fullWidth","","placeholder","Reason","formControlName","reason",3,"status"],["for","comment",1,"label"],["fullWidth","","type","text","nbInput","","fullWidth","","id","comment","placeholder","Comment","formControlName","comment",3,"status"],[1,"d-flex","justify-content-end"],["type","button","nbButton","","status","basic",1,"mr-2",3,"click"],["type","submit","nbButton","","hero","","status","primary","nbSpinnerStatus","success","nbSpinnerMessage","",3,"nbSpinner"],["icon","edit-2-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],["icon","plus-circle-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"]],template:function(n,o){1&n&&(e.\u0275\u0275template(0,fe,75,11,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&n&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction2(3,he,e.\u0275\u0275pipeBind1(1,1,o.loading$),o.selected))},dependencies:[d.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,i.Asz,i.yKW,i.XWE,i.ndF,i.rs,i.q51,i.fMN,i.DPz,i.h8i,i.Q7R,d.Ov],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:auto;max-width:90vh;max-height:90vh}"]})};I=(0,b.gn)([(0,p.c)()],I);var K=c(4522);function ve(t,r){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-custom-actions",6),e.\u0275\u0275listener("handleAddAction",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.addDialog())})("handleEditAction",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.editDialog())})("handleReloadAction",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.refresh())})("handleRemoveAction",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.openRemoveDialog(a.selectedRows[0].id))}),e.\u0275\u0275elementEnd()()()}if(2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedRows",n.selectedRows)}}function be(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.selectedRows.length," selected process ")}}function Ce(t,r){if(1&t&&e.\u0275\u0275text(0),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275textInterpolate1("",n.source.count()," Processes")}}let T=class F extends j.D{constructor(r,n){super(n,r),this.dialogService=r,this.entity=m.J.Process,this.settings={selectMode:"multi",actions:!1,columns:{id:{title:"ID",type:"number",width:"1%"},status:{title:"Status",type:"custom",renderComponent:me},leftEarValue:{title:"Left ear value",type:"number"},leftEarDevice:{title:"Left ear device",type:"string"},rightEarValue:{title:"Right ear value",type:"number"},rightEarDevice:{title:"Right ear device",type:"string"},questionnaire:{title:"Questionnaire",type:"number"},reason:{title:"Reason",type:"string"},comment:{title:"Comment",type:"custom",renderComponent:W},lastStatusUpdate:{title:"Last status update",type:"custom",renderComponent:te},actions:{title:"Actions",type:"custom",width:"1%",renderComponent:O.n,valuePrepareFunction:(o,a,s)=>a,onComponentInitFunction:o=>{o.actionChange.pipe((0,p.t)(this),(0,B.b)(({action:a,row:s})=>{switch(a){case C.a.Delete:this.openRemoveDialog(s.id);break;case C.a.Edit:this.editDialog(s)}})).subscribe()},sort:!1,filter:!1}}},this.source=new u.nC,this.dialogTemplateRef=I}static#e=this.\u0275fac=function(n){return new(n||F)(e.\u0275\u0275directiveInject(i.Gln),e.\u0275\u0275directiveInject(S.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:F,selectors:[["ngx-customer-details"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:11,vars:7,consts:[[4,"ngIf"],[1,"row","align-items-center"],[1,"col-8"],[4,"ngIf","ngIfElse"],["allRows",""],[3,"settings","source","rowSelect"],[3,"selectedRows","handleAddAction","handleEditAction","handleReloadAction","handleRemoveAction"]],template:function(n,o){if(1&n&&(e.\u0275\u0275template(0,ve,5,1,"nb-card",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",1)(5,"div",2),e.\u0275\u0275template(6,be,2,1,"span",3),e.\u0275\u0275template(7,Ce,1,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(9,"nb-card-body")(10,"ng2-smart-table",5),e.\u0275\u0275listener("rowSelect",function(s){return o.handleSelectedRow(s)}),e.\u0275\u0275elementEnd()()()),2&n){const a=e.\u0275\u0275reference(8);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,o.entities$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",o.selectedRows.length)("ngIfElse",a),e.\u0275\u0275advance(4),e.\u0275\u0275property("settings",o.settings)("source",o.source)}},dependencies:[d.O5,K.C,u.T5,i.Asz,i.yKW,i.ndF,d.Ov]})};T=(0,b.gn)([(0,p.c)()],T);var xe=c(392);let _e=(()=>{class t{ngOnInit(){this.renderValue=x().diff(this.value,"years")}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],inputs:{value:"value",rowData:"rowData"},decls:1,vars:1,template:function(o,a){1&o&&e.\u0275\u0275text(0),2&o&&e.\u0275\u0275textInterpolate(a.renderValue)},encapsulation:2})}return t})(),G=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],inputs:{value:"value"},decls:2,vars:1,template:function(o,a){1&o&&(e.\u0275\u0275elementStart(0,"strong"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(a.value))},encapsulation:2})}return t})();const v=function(t){return{value:t}};function ye(t,r){if(1&t&&e.\u0275\u0275element(0,"nb-tag",11),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(7);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,v,n.value))("text",n.value)}}function Se(t,r){if(1&t&&e.\u0275\u0275element(0,"nb-tag",12),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(9);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,v,n.value))("text",n.value)}}function Ee(t,r){if(1&t&&e.\u0275\u0275element(0,"nb-tag",13),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(11);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,v,n.value))("text",n.value)}}function we(t,r){if(1&t&&e.\u0275\u0275element(0,"nb-tag",14),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(13);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,v,n.value))("text",n.value)}}function Ie(t,r){if(1&t&&e.\u0275\u0275element(0,"nb-tag",13),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(15);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,v,n.value))("text",n.value)}}function Te(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",15)(1,"nb-card-header",16),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function Pe(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",17)(1,"nb-card-header",16),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function Ne(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",18)(1,"nb-card-header",16),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function De(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",19)(1,"nb-card-header",16),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function Re(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",15)(1,"nb-card-header",16),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}let Ve=(()=>{class t{constructor(){this.customerStatusTpl=g.WE}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],inputs:{value:"value"},decls:16,vars:5,consts:[[3,"ngSwitch"],["status","danger","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchCase"],["status","success","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchCase"],["status","basic","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchCase"],["status","warning","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchCase"],["status","basic","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchDefault"],["ccRef",""],["clRef",""],["noRef",""],["pcRef",""],["defaultRef",""],["status","danger","appearance","outline","nbPopoverTrigger","hint",1,"text-uppercase",3,"size","nbPopover","nbPopoverContext","text"],["status","success","appearance","outline","nbPopoverTrigger","hint",1,"text-uppercase",3,"size","nbPopover","nbPopoverContext","text"],["status","basic","appearance","outline","nbPopoverTrigger","hint",1,"text-uppercase",3,"size","nbPopover","nbPopoverContext","text"],["status","warning","appearance","outline","nbPopoverTrigger","hint",1,"text-uppercase",3,"size","nbPopover","nbPopoverContext","text"],["accent","basic",1,"popover-card"],["status","warning"],["accent","primary",1,"popover-card"],["accent","success",1,"popover-card"],["accent","warning",1,"popover-card"]],template:function(o,a){1&o&&(e.\u0275\u0275elementStart(0,"nb-tag-list",0),e.\u0275\u0275template(1,ye,1,6,"nb-tag",1),e.\u0275\u0275template(2,Se,1,6,"nb-tag",2),e.\u0275\u0275template(3,Ee,1,6,"nb-tag",3),e.\u0275\u0275template(4,we,1,6,"nb-tag",4),e.\u0275\u0275template(5,Ie,1,6,"nb-tag",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,Te,5,1,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(8,Pe,5,1,"ng-template",null,7,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(10,Ne,5,1,"ng-template",null,8,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(12,De,5,1,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(14,Re,5,1,"ng-template",null,10,e.\u0275\u0275templateRefExtractor)),2&o&&(e.\u0275\u0275property("ngSwitch",a.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",a.customerStatusTpl.cc),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",a.customerStatusTpl.cl),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",a.customerStatusTpl.no),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",a.customerStatusTpl.pc))},dependencies:[d.RF,d.n9,d.ED,i.c2L,i.d0f,i.ydg,i.Asz,i.yKW,i.ndF],styles:["nb-card[_ngcontent-%COMP%]{margin:0;max-width:20rem}"]})}return t})();var Ae=c(2263),Fe=c(2195);let ke=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],inputs:{value:"value"},decls:2,vars:2,consts:[["nbButton","","ghost","",3,"href"]],template:function(o,a){1&o&&(e.\u0275\u0275elementStart(0,"a",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275propertyInterpolate("href","tel:"+a.value,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",a.value," "))},dependencies:[i.DPz],encapsulation:2})}return t})();var Y=c(4850);const P=function(){return{type:"pulse"}},N=function(t){return{animation:t}};function ze(t,r){1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"nb-icon",39),e.\u0275\u0275text(2," Edit "),e.\u0275\u0275elementContainerEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,N,e.\u0275\u0275pureFunction0(1,P))))}function $e(t,r){1&t&&(e.\u0275\u0275element(0,"nb-icon",40),e.\u0275\u0275text(1," Add new ")),2&t&&e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,N,e.\u0275\u0275pureFunction0(1,P)))}function Be(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-option",41),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=r.$implicit;e.\u0275\u0275property("value",n.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name)}}function Oe(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-option",41),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=r.$implicit;e.\u0275\u0275property("value",n.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name)}}function We(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-option",41),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n)}}function je(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-radio",41),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n)}}function Me(t,r){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"form",1),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.submit())}),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",2),e.\u0275\u0275template(5,ze,3,4,"ng-container",3),e.\u0275\u0275template(6,$e,2,4,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),e.\u0275\u0275text(13,"First name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",6)(16,"div",7)(17,"label",10),e.\u0275\u0275text(18,"Last name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"input",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",6)(21,"div",7)(22,"label",12),e.\u0275\u0275text(23,"Email"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(24,"input",13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"div",6)(26,"div",7)(27,"label",14),e.\u0275\u0275text(28,"Date of birth"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(29,"input",15)(30,"nb-datepicker",null,16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(32,"div",6)(33,"label",17),e.\u0275\u0275text(34,"Phone number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"nb-form-field"),e.\u0275\u0275element(36,"nb-icon",18)(37,"input",19),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(38,"div",6)(39,"div",7)(40,"label",20),e.\u0275\u0275text(41,"Doctor"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"nb-select",21),e.\u0275\u0275template(43,Be,2,2,"nb-option",22),e.\u0275\u0275pipe(44,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(45,"div",6)(46,"div",7)(47,"label",23),e.\u0275\u0275text(48,"Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(49,"input",24),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(50,"div",6)(51,"div",7)(52,"label",25),e.\u0275\u0275text(53,"Tax code"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(54,"input",26),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(55,"div",6)(56,"div",7)(57,"label",27),e.\u0275\u0275text(58,"Clinic"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(59,"nb-select",28),e.\u0275\u0275template(60,Oe,2,2,"nb-option",22),e.\u0275\u0275pipe(61,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(62,"div",6)(63,"div",7)(64,"label",29),e.\u0275\u0275text(65,"Where you find it?"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(66,"nb-select",30),e.\u0275\u0275template(67,We,2,2,"nb-option",22),e.\u0275\u0275pipe(68,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(69,"div",31)(70,"div",7)(71,"label",32),e.\u0275\u0275text(72,"Note"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(73,"textarea",33),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(74,"div",6)(75,"div",7)(76,"label",34),e.\u0275\u0275text(77,"Gender"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(78,"nb-radio-group",35),e.\u0275\u0275template(79,je,2,2,"nb-radio",22),e.\u0275\u0275pipe(80,"async"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(81,"nb-card-footer")(82,"div",36)(83,"button",37),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.close())}),e.\u0275\u0275text(84," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(85,"button",38),e.\u0275\u0275text(86," Save "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementContainerEnd()}if(2&t){const n=r.ngIf,o=e.\u0275\u0275reference(7),a=e.\u0275\u0275reference(31),s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",s.form),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",n.selected)("ngIfElse",o),e.\u0275\u0275advance(9),e.\u0275\u0275property("status",s.isValid(s.firstNameControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",s.isValid(s.lastNameControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",s.isValid(s.emailControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("nbDatepicker",a)("status",s.isValid(s.dateOfBirthControl)?"danger":"basic"),e.\u0275\u0275advance(7),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(31,N,e.\u0275\u0275pureFunction0(30,P))),e.\u0275\u0275advance(1),e.\u0275\u0275property("status",s.isValid(s.phoneNumberControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",s.isValid(s.doctorIdControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(44,22,s.doctors$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("status",s.isValid(s.addressControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",s.isValid(s.taxCodeControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",s.isValid(s.clinicIdControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(61,24,s.clinics$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("status",s.isValid(s.contactNoteControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(68,26,s.customerContactNoteType$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("status",s.isValid(s.commentControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",s.isValid(s.genderControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(80,28,s.gender$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("nbSpinner",n.loading)}}const Le=function(t,r){return{loading:t,selected:r}};let D=class k extends L.I{get firstNameControl(){return this.form.controls.firstName}get lastNameControl(){return this.form.controls.lastName}get emailControl(){return this.form.controls.email}get dateOfBirthControl(){return this.form.controls.dateOfBirth}get phoneNumberControl(){return this.form.controls.phoneNumber}get doctorIdControl(){return this.form.controls.doctorId}get addressControl(){return this.form.controls.address}get clinicIdControl(){return this.form.controls.clinicId}get contactNoteControl(){return this.form.controls.contactNote}get genderControl(){return this.form.controls.gender}get commentControl(){return this.form.controls.comment}get taxCodeControl(){return this.form.controls.taxCode}constructor(r,n){super(),this.ref=r,this.coreService=n,this.form=new l.cw({id:new l.NI(0,{nonNullable:!0}),firstName:new l.NI("",{nonNullable:!0,validators:[l.kI.required]}),lastName:new l.NI("",{nonNullable:!0,validators:[l.kI.required]}),address:new l.NI("",{nonNullable:!0,validators:[l.kI.required]}),dateOfBirth:new l.NI(null,{nonNullable:!0,validators:[l.kI.required]}),clinicId:new l.NI("",{nonNullable:!0,validators:[l.kI.required]}),contactNote:new l.NI(g.yk.Other,{nonNullable:!0,validators:[l.kI.required]}),doctorId:new l.NI("",{nonNullable:!0,validators:[l.kI.required]}),email:new l.NI("",{nonNullable:!0,validators:[l.kI.required]}),gender:new l.NI(g.Y0.male,{nonNullable:!0,validators:[l.kI.required]}),phoneNumber:new l.NI("",{nonNullable:!0,validators:[l.kI.required]}),comment:new l.NI("",{nonNullable:!0}),taxCode:new l.NI("",{nonNullable:!0,validators:[l.kI.required]})}),this.selected=null,this.loading$=new w.X(!1),this.gender$=this.coreService.gender$,this.customerContactNoteType$=new w.X(Object.values(g.yk)),this.clinics$=this.coreService.getEntities$(m.J.Clinic).pipe((0,Y.U)(({entities:o})=>Object.values(o))),this.doctors$=this.coreService.getEntities$(m.J.Doctor).pipe((0,Y.U)(({entities:o})=>Object.values(o)))}ngOnInit(){this.selected&&this.form.patchValue(this.selected),this.getDoctors(),this.getClinics()}close(r=!1){this.ref.close(r)}submit(){this.form.markAllAsTouched(),this.form.valid&&!1===this.loading$.value&&(this.selected?this.update():this.add())}update(){this.loading$.next(!0),this.coreService.put(this.form.getRawValue(),this.entity).pipe((0,p.t)(this),(0,_.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}add(){this.loading$.next(!0),this.coreService.post((0,M.omit)(this.form.getRawValue(),["id"]),this.entity).pipe((0,p.t)(this),(0,_.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}getDoctors(){this.coreService.get(m.J.Doctor).pipe((0,p.t)(this)).subscribe()}getClinics(){this.coreService.get(m.J.Clinic).pipe((0,p.t)(this)).subscribe()}static#e=this.\u0275fac=function(n){return new(n||k)(e.\u0275\u0275directiveInject(i.X4l,8),e.\u0275\u0275directiveInject(S.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:k,selectors:[["ngx-customer-add-dialog"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["titleAddTpl",""],[1,"row"],[1,"col-6"],[1,"form-group"],["for","firstName",1,"label"],["type","text","nbInput","","fullWidth","","id","firstName","placeholder","First name","formControlName","firstName",3,"status"],["for","lastName",1,"label"],["type","text","nbInput","","fullWidth","","id","lastName","placeholder","Last name","formControlName","lastName",3,"status"],["for","email",1,"label"],["type","email","nbInput","","fullWidth","","id","email","placeholder","Email","formControlName","email",3,"status"],["for","dateOfBirth",1,"label"],["id","dateOfBirth","fullWidth","","nbInput","","placeholder","Date of birth","formControlName","dateOfBirth",3,"nbDatepicker","status"],["dateOfBirthRef",""],["for","phoneNumber",1,"label"],["nbPrefix","","icon","phone-outline",3,"options"],["type","tel","nbInput","","fullWidth","","id","phoneNumber","placeholder","Phone number","formControlName","phoneNumber",3,"status"],["for","doctorId",1,"label"],["id","doctorId","fullWidth","","placeholder","Doctor","formControlName","doctorId",3,"status"],[3,"value",4,"ngFor","ngForOf"],["for","address",1,"label"],["type","text","nbInput","","fullWidth","","id","address","placeholder","Address","formControlName","address",3,"status"],["for","taxCode",1,"label"],["type","text","nbInput","","fullWidth","","id","taxCode","placeholder","Tax code","formControlName","taxCode",3,"status"],["for","clinicId",1,"label"],["id","clinicId","fullWidth","","placeholder","Clinic","formControlName","clinicId",3,"status"],["for","contactNote",1,"label"],["id","contactNote","fullWidth","","placeholder","Where you find it?","formControlName","contactNote",3,"status"],[1,"col-12"],["for","comment",1,"label"],["nbInput","","fullWidth","","id","comment","placeholder","Note","formControlName","comment",3,"status"],["for","gender",1,"label"],["id","gender","fullWidth","","formControlName","gender",3,"status"],[1,"d-flex","justify-content-end"],["type","button","nbButton","","status","basic",1,"mr-2",3,"click"],["type","submit","nbButton","","hero","","status","primary","nbSpinnerStatus","success","nbSpinnerMessage","",3,"nbSpinner"],["icon","edit-2-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],["icon","plus-circle-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],[3,"value"]],template:function(n,o){1&n&&(e.\u0275\u0275template(0,Me,87,33,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&n&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction2(3,Le,e.\u0275\u0275pipeBind1(1,1,o.loading$),o.selected))},dependencies:[d.sg,d.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,i.Asz,i.yKW,i.XWE,i.ndF,i.rs,i.q51,i.fMN,i.DPz,i.h8i,i.$kf,i.B4C,i.Q7R,i.r3g,i.MFI,i.jBG,i.t3q,d.Ov],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:auto;max-width:90vh;max-height:90vh}"]})};function Je(t,r){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-custom-actions",6),e.\u0275\u0275listener("handleAddAction",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.addDialog())})("handleEditAction",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.editDialog())})("handleReloadAction",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.refresh())})("handlePulseAction",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.view())})("handleRemoveAction",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.openRemoveDialog(a.selectedRows[0].id))})("handleSettingsAction",function(){e.\u0275\u0275restoreView(n);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.openSettingsDialog())}),e.\u0275\u0275elementEnd()()()}if(2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedRows",n.selectedRows)("showProcess",!0)}}function He(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.selectedRows.length," selected customers ")}}function Ke(t,r){if(1&t&&e.\u0275\u0275text(0),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275textInterpolate1("",n.source.count()," Customers")}}D=(0,b.gn)([(0,p.c)()],D);let R=class z extends j.D{constructor(r,n,o){super(o,n),this.router=r,this.dialogService=n,this.entity=m.J.Customer,this.settings={selectMode:"multi",actions:!1,columns:{id:{title:"ID",type:"number",width:"1%"},status:{title:"Status",type:"custom",renderComponent:Ve},firstName:{title:"First Name",type:"custom",renderComponent:G},lastName:{title:"Last Name",type:"custom",renderComponent:G},gender:{title:"Gender",type:"custom",renderComponent:Fe.f},dateOfBirth:{title:"Age",type:"custom",renderComponent:_e},phoneNumber:{title:"Telephone",type:"custom",renderComponent:ke},email:{title:"E-mail",type:"custom",renderComponent:Ae._,hide:!0},address:{title:"Address",type:"string",hide:!0},doctorId:{title:"Doctor",type:"string",hide:!0},clinicId:{title:"Clinic",type:"string",hide:!0},contactNote:{title:"Contact Note",type:"string",hide:!0},taxCode:{title:"Tax code",type:"string",hide:!0},comment:{title:"Note",type:"custom",renderComponent:W,hide:!0},actions:{title:"Actions",type:"custom",width:"1%",renderComponent:O.n,valuePrepareFunction:(a,s,V)=>s,onComponentInitFunction:a=>{a.actionChange.pipe((0,p.t)(this),(0,B.b)(({action:s,row:V})=>{switch(s){case C.a.Delete:this.openRemoveDialog(V.id);break;case C.a.Edit:this.editDialog(V)}})).subscribe()},sort:!1,filter:!1}}},this.source=new u.nC,this.localStorageSettingsKey=xe.m9.customers,this.hiddenColumns=["email","address","doctorId","clinicId","contactNote","comment"],this.dialogTemplateRef=D}view(){this.selectedRows.length>0&&this.router.navigate([`/pages/customers/details/${this.selectedRows[0].id}`])}static#e=this.\u0275fac=function(n){return new(n||z)(e.\u0275\u0275directiveInject(E.F0),e.\u0275\u0275directiveInject(i.Gln),e.\u0275\u0275directiveInject(S.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:z,selectors:[["ngx-customers"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:11,vars:7,consts:[[4,"ngIf"],[1,"row","align-items-center"],[1,"col-8"],[4,"ngIf","ngIfElse"],["allRows",""],[3,"settings","source","rowSelect"],[3,"selectedRows","showProcess","handleAddAction","handleEditAction","handleReloadAction","handlePulseAction","handleRemoveAction","handleSettingsAction"]],template:function(n,o){if(1&n&&(e.\u0275\u0275template(0,Je,5,2,"nb-card",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",1)(5,"div",2),e.\u0275\u0275template(6,He,2,1,"span",3),e.\u0275\u0275template(7,Ke,1,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(9,"nb-card-body")(10,"ng2-smart-table",5),e.\u0275\u0275listener("rowSelect",function(s){return o.handleSelectedRow(s)}),e.\u0275\u0275elementEnd()()()),2&n){const a=e.\u0275\u0275reference(8);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,o.entities$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",o.selectedRows.length)("ngIfElse",a),e.\u0275\u0275advance(4),e.\u0275\u0275property("settings",o.settings)("source",o.source)}},dependencies:[d.O5,K.C,u.T5,i.Asz,i.yKW,i.ndF,d.Ov]})};R=(0,b.gn)([(0,p.c)()],R);const Ge=[{path:"",component:R},{path:"details/:id",component:T}];let Ye=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:t});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[E.Bz.forChild(Ge),E.Bz]})}return t})(),Xe=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:t});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[d.ez,X.m,l.UX,l.u5,Ye,u.ne,i.zyh,i.IIj,i.MAY,i.KdK,i.T2N,i.j7H.forChild(),i.nKr,i.OA,i.uuI,i.YNG,i.V7y,i.rgH]})}return t})()}}]);