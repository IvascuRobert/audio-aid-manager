"use strict";(self.webpackChunkaudio_aid_manager=self.webpackChunkaudio_aid_manager||[]).push([[0],{6e3:(et,X,s)=>{s.r(X),s.d(X,{ProductsModule:()=>Ye});var d=s(6895),a=s(4006),l=s(784),b=s(4385),_=s(8769),le=s(950),K=s(410),v=s(7582),p=s(5264),S=s(2868),m=s(4197),u=s(535),H=s(392),y=(()=>{return(t=y||(y={})).remote="Remote",t.tvAdapter="TVAdapter",t.roger="Roger",t.charger="Charger",y;var t})(),I=(()=>{return(t=I||(I={})).Free="Free",t.Sending="Sending",t.Reserved="Reserved",t.Trial="Trial",t.Sold="Sold",I;var t})(),e=s(4650);const x=function(t){return{value:t}};function se(t,r){if(1&t&&e.\u0275\u0275element(0,"nb-tag",11),2&t){const n=e.\u0275\u0275nextContext(),i=e.\u0275\u0275reference(7);e.\u0275\u0275property("nbPopover",i)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,x,n.value))("text",n.value)("size","tiny")}}function ce(t,r){if(1&t&&e.\u0275\u0275element(0,"nb-tag",12),2&t){const n=e.\u0275\u0275nextContext(),i=e.\u0275\u0275reference(9);e.\u0275\u0275property("nbPopover",i)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,x,n.value))("text",n.value)("size","tiny")}}function de(t,r){if(1&t&&e.\u0275\u0275element(0,"nb-tag",13),2&t){const n=e.\u0275\u0275nextContext(),i=e.\u0275\u0275reference(11);e.\u0275\u0275property("nbPopover",i)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,x,n.value))("text",n.value)("size","tiny")}}function pe(t,r){if(1&t&&e.\u0275\u0275element(0,"nb-tag",14),2&t){const n=e.\u0275\u0275nextContext(),i=e.\u0275\u0275reference(13);e.\u0275\u0275property("nbPopover",i)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,x,n.value))("text",n.value)("size","tiny")}}function ue(t,r){if(1&t&&e.\u0275\u0275element(0,"nb-tag",15),2&t){const n=e.\u0275\u0275nextContext(),i=e.\u0275\u0275reference(13);e.\u0275\u0275property("nbPopover",i)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,x,n.value))("text",n.value)("size","tiny")}}function me(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",16)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function ge(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",18)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function he(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",19)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function ve(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",20)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function fe(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",16)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=r.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}let Y=(()=>{class t{constructor(){this.accessoryStatusTpl=I}static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],inputs:{value:"value"},decls:16,vars:6,consts:[[3,"ngSwitch"],["status","warning","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"nbPopover","nbPopoverContext","text","size",4,"ngSwitchCase"],["status","basic","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"nbPopover","nbPopoverContext","text","size",4,"ngSwitchCase"],["status","danger","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"nbPopover","nbPopoverContext","text","size",4,"ngSwitchCase"],["status","primary","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"nbPopover","nbPopoverContext","text","size",4,"ngSwitchCase"],["status","success","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"nbPopover","nbPopoverContext","text","size",4,"ngSwitchCase"],["ccRef",""],["clRef",""],["noRef",""],["pcRef",""],["defaultRef",""],["status","warning","appearance","outline","nbPopoverTrigger","hint",1,"text-uppercase",3,"nbPopover","nbPopoverContext","text","size"],["status","basic","appearance","outline","nbPopoverTrigger","hint",1,"text-uppercase",3,"nbPopover","nbPopoverContext","text","size"],["status","danger","appearance","outline","nbPopoverTrigger","hint",1,"text-uppercase",3,"nbPopover","nbPopoverContext","text","size"],["status","primary","appearance","outline","nbPopoverTrigger","hint",1,"text-uppercase",3,"nbPopover","nbPopoverContext","text","size"],["status","success","appearance","outline","nbPopoverTrigger","hint",1,"text-uppercase",3,"nbPopover","nbPopoverContext","text","size"],["accent","basic",1,"popover-card"],["status","warning"],["accent","primary",1,"popover-card"],["accent","success",1,"popover-card"],["accent","warning",1,"popover-card"]],template:function(i,o){1&i&&(e.\u0275\u0275elementStart(0,"nb-tag-list",0),e.\u0275\u0275template(1,se,1,6,"nb-tag",1),e.\u0275\u0275template(2,ce,1,6,"nb-tag",2),e.\u0275\u0275template(3,de,1,6,"nb-tag",3),e.\u0275\u0275template(4,pe,1,6,"nb-tag",4),e.\u0275\u0275template(5,ue,1,6,"nb-tag",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,me,5,1,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(8,ge,5,1,"ng-template",null,7,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(10,he,5,1,"ng-template",null,8,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(12,ve,5,1,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(14,fe,5,1,"ng-template",null,10,e.\u0275\u0275templateRefExtractor)),2&i&&(e.\u0275\u0275property("ngSwitch",o.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.accessoryStatusTpl.Free),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.accessoryStatusTpl.Sending),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.accessoryStatusTpl.Reserved),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.accessoryStatusTpl.Trial),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",o.accessoryStatusTpl.Sold))},dependencies:[d.RF,d.n9,l.c2L,l.d0f,l.ydg,l.Asz,l.yKW,l.ndF],styles:["nb-card[_ngcontent-%COMP%]{margin:0;max-width:20rem}"]})}return t})();var w=s(8711);let A=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],inputs:{value:"value"},decls:2,vars:4,template:function(i,o){1&i&&(e.\u0275\u0275text(0),e.\u0275\u0275pipe(1,"currency")),2&i&&e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind2(1,1,o.value,"EUR"))},dependencies:[d.H9],encapsulation:2})}return t})();var E=s(9304),D=s(7489),f=s(591),F=s(4850),g=s(537),P=s(1654),T=s(4447),h=s(5851);const Z=function(){return{type:"pulse"}},ee=function(t){return{animation:t}};function be(t,r){1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"nb-icon",26),e.\u0275\u0275text(2," Edit "),e.\u0275\u0275elementContainerEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,ee,e.\u0275\u0275pureFunction0(1,Z))))}function _e(t,r){1&t&&(e.\u0275\u0275element(0,"nb-icon",27),e.\u0275\u0275text(1," Add new ")),2&t&&e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,ee,e.\u0275\u0275pureFunction0(1,Z)))}function ye(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-option",28),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n)}}function xe(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-option",28),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n)}}function Ce(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-option",28),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=r.$implicit;e.\u0275\u0275property("value",n.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name)}}function Se(t,r){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"form",1),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.submit())}),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",2),e.\u0275\u0275template(5,be,3,4,"ng-container",3),e.\u0275\u0275template(6,_e,2,4,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),e.\u0275\u0275text(13,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",6)(16,"div",7)(17,"label",10),e.\u0275\u0275text(18,"Brand"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"nb-select",11),e.\u0275\u0275template(20,ye,2,2,"nb-option",12),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(22,"div",6)(23,"div",7)(24,"label",13),e.\u0275\u0275text(25,"Group"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(26,"input",14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(27,"div",6)(28,"div",7)(29,"label",15),e.\u0275\u0275text(30,"Serial number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(31,"input",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(32,"div",6)(33,"div",7)(34,"label",17),e.\u0275\u0275text(35,"Type"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"nb-select",18),e.\u0275\u0275template(37,xe,2,2,"nb-option",12),e.\u0275\u0275pipe(38,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(39,"div",6)(40,"div",7)(41,"label",19),e.\u0275\u0275text(42,"Price"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(43,"input",20),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(44,"div",6)(45,"div",7)(46,"label",21),e.\u0275\u0275text(47,"Shop"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(48,"nb-select",22),e.\u0275\u0275template(49,Ce,2,2,"nb-option",12),e.\u0275\u0275pipe(50,"async"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(51,"nb-card-footer")(52,"div",23)(53,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.close())}),e.\u0275\u0275text(54," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(55,"button",25),e.\u0275\u0275text(56," Save "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementContainerEnd()}if(2&t){const n=r.ngIf,i=e.\u0275\u0275reference(7),o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",o.form),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",n.selected)("ngIfElse",i),e.\u0275\u0275advance(9),e.\u0275\u0275property("status",o.isValid(o.nameControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.brandControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(21,14,o.brands$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("status",o.isValid(o.groupIdControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.serialNumberControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.typeControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(38,16,o.accessoryType$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("status",o.isValid(o.priceControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.shopIdControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(50,18,o.shops$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("nbSpinner",n.loading)}}const Ie=function(t,r){return{loading:t,selected:r}};let we=(()=>{class t extends T.I{get groupIdControl(){return this.form.controls.groupId}get serialNumberControl(){return this.form.controls.serialNumber}get nameControl(){return this.form.controls.name}get brandControl(){return this.form.controls.brand}get typeControl(){return this.form.controls.type}get priceControl(){return this.form.controls.price}get shopIdControl(){return this.form.controls.shopId}constructor(n,i){super(),this.ref=n,this.coreService=i,this.form=new a.cw({id:new a.NI(0,{nonNullable:!0}),groupId:new a.NI(0,{nonNullable:!0,validators:[a.kI.required]}),serialNumber:new a.NI("",{nonNullable:!0,validators:[a.kI.required]}),name:new a.NI("",{nonNullable:!0,validators:[a.kI.required]}),brand:new a.NI(P.H.amplifon,{nonNullable:!0,validators:[a.kI.required]}),type:new a.NI(y.charger,{nonNullable:!0,validators:[a.kI.required]}),price:new a.NI(0,{nonNullable:!0,validators:[a.kI.required]}),shopId:new a.NI(0,{nonNullable:!0,validators:[a.kI.required]})}),this.selected=null,this.loading$=new f.X(!1),this.shops$=this.coreService.getEntities$(u.J.Shop).pipe((0,F.U)(({entities:o})=>Object.values(o))),this.brands$=this.coreService.brands$,this.accessoryType$=new f.X(Object.values(y))}ngOnInit(){this.selected&&this.form.patchValue(this.selected),this.getShops()}close(n=!1){this.ref.close(n)}submit(){this.form.markAllAsTouched(),this.form.valid&&!1===this.loading$.value&&(this.selected?this.update():this.add())}update(){this.loading$.next(!0),this.coreService.put(this.form.getRawValue(),this.entity).pipe((0,p.t)(this),(0,g.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}add(){this.loading$.next(!0),this.coreService.post((0,D.omit)(this.form.getRawValue(),["id"]),this.entity).pipe((0,p.t)(this),(0,g.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}getShops(){this.coreService.get(u.J.Shop).pipe((0,p.t)(this)).subscribe()}static#e=this.\u0275fac=function(i){return new(i||t)(e.\u0275\u0275directiveInject(l.X4l,8),e.\u0275\u0275directiveInject(h.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["ngx-accessories-add-dialog"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["titleAddTpl",""],[1,"row"],[1,"col-12"],[1,"form-group"],["for","name",1,"label"],["type","text","nbInput","","fullWidth","","id","name","placeholder","Name","formControlName","name",3,"status"],["for","brand",1,"label"],["id","brand","fullWidth","","placeholder","Brand","formControlName","brand",3,"status"],[3,"value",4,"ngFor","ngForOf"],["for","groupId",1,"label"],["type","number","nbInput","","fullWidth","","id","groupId","placeholder","Group","formControlName","groupId",3,"status"],["for","serialNumber",1,"label"],["type","text","nbInput","","fullWidth","","id","serialNumber","placeholder","Serial number","formControlName","serialNumber",3,"status"],["for","type",1,"label"],["id","type","fullWidth","","placeholder","Type","formControlName","type",3,"status"],["for","price",1,"label"],["type","number","nbInput","","fullWidth","","id","price","placeholder","Price","formControlName","price",3,"status"],["for","shopId",1,"label"],["id","shopId","fullWidth","","placeholder","Shop","formControlName","shopId",3,"status"],[1,"d-flex","justify-content-end"],["type","button","nbButton","","status","basic",1,"mr-2",3,"click"],["type","submit","nbButton","","hero","","status","primary","nbSpinnerStatus","success","nbSpinnerMessage","",3,"nbSpinner"],["icon","edit-2-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],["icon","plus-circle-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],[3,"value"]],template:function(i,o){1&i&&(e.\u0275\u0275template(0,Se,57,20,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&i&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction2(3,Ie,e.\u0275\u0275pipeBind1(1,1,o.loading$),o.selected))},dependencies:[d.sg,d.O5,l.Asz,l.yKW,l.XWE,l.ndF,l.rs,l.q51,l.fMN,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u,l.h8i,l.DPz,l.Q7R,d.Ov],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:auto;max-width:90vh;max-height:90vh}"]})}return t})();var N=s(4522);function Ae(t,r){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-custom-actions",4),e.\u0275\u0275listener("handleAddAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.addDialog())})("handleEditAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.editDialog())})("handleReloadAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.refresh())})("handleRemoveAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.openRemoveDialog(o.selectedRows[0].id))})("handleSettingsAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.openSettingsDialog())}),e.\u0275\u0275elementEnd()()()}if(2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedRows",n.selectedRows)}}let k=class W extends E.D{constructor(r,n){super(n,r),this.dialogService=r,this.entity=u.J.Accessory,this.settings={selectMode:"multi",actions:!1,columns:{id:{title:"ID",type:"number"},status:{title:"Status",type:"custom",renderComponent:Y},groupId:{title:"Group",type:"string"},serialNumber:{title:"Serial number",type:"string"},name:{title:"Name",type:"string"},brand:{title:"Brand",type:"string"},type:{title:"Type",type:"string"},price:{title:"Price",type:"custom",renderComponent:A,hide:!0},shopId:{title:"Shop",type:"string"},actions:{title:"Actions",type:"custom",width:"1%",renderComponent:w.n,valuePrepareFunction:(i,o,c)=>o,onComponentInitFunction:i=>{i.actionChange.pipe((0,p.t)(this),(0,S.b)(({action:o,row:c})=>{switch(o){case m.a.Delete:this.openRemoveDialog(c.id);break;case m.a.Edit:this.editDialog(c)}})).subscribe()},sort:!1,filter:!1}}},this.localStorageSettingsKey=H.m9.accessories,this.hiddenColumns=["price"],this.dialogTemplateRef=we,this.selectedColumns=[]}static#e=this.\u0275fac=function(n){return new(n||W)(e.\u0275\u0275directiveInject(l.Gln),e.\u0275\u0275directiveInject(h.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:W,selectors:[["ngx-accessories"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:10,vars:6,consts:[[4,"ngIf"],[1,"row","align-items-center"],[1,"col-8"],[3,"settings","source","rowSelect"],[3,"selectedRows","handleAddAction","handleEditAction","handleReloadAction","handleRemoveAction","handleSettingsAction"]],template:function(n,i){1&n&&(e.\u0275\u0275template(0,Ae,5,1,"nb-card",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",1)(5,"div",2)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"ng2-smart-table",3),e.\u0275\u0275listener("rowSelect",function(c){return i.handleSelectedRow(c)}),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,4,i.entities$)),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("",i.source.count()," Accessories"),e.\u0275\u0275advance(2),e.\u0275\u0275property("settings",i.settings)("source",i.source))},dependencies:[d.O5,b.T5,l.Asz,l.yKW,l.ndF,N.C,d.Ov]})};k=(0,v.gn)([(0,p.c)()],k);let Ee=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],inputs:{value:"value"},decls:1,vars:3,consts:[["ngx-colors-trigger","",3,"ngModel","hideTextInput","hideColorPicker","ngModelChange"]],template:function(i,o){1&i&&(e.\u0275\u0275elementStart(0,"ngx-colors",0),e.\u0275\u0275listener("ngModelChange",function(Ze){return o.value=Ze}),e.\u0275\u0275elementEnd()),2&i&&e.\u0275\u0275property("ngModel",o.value)("hideTextInput",!0)("hideColorPicker",!0)},dependencies:[a.JJ,a.On,_.qZ,_.u_],encapsulation:2})}return t})();var V=(()=>{return(t=V||(V={})).rechargeable="rechargeable",t.battery10="10",t.battery312="312",t.battery13="13",t.battery675="675",V;var t})(),R=(()=>{return(t=R||(R={}))[t.ITE=0]="ITE",t[t.RITE=1]="RITE",t[t.BTE=2]="BTE",R;var t})();const te=function(){return{type:"pulse"}},ne=function(t){return{animation:t}};function De(t,r){1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"nb-icon",38),e.\u0275\u0275text(2," Edit "),e.\u0275\u0275elementContainerEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,ne,e.\u0275\u0275pureFunction0(1,te))))}function Te(t,r){1&t&&(e.\u0275\u0275element(0,"nb-icon",39),e.\u0275\u0275text(1," Add new ")),2&t&&e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,ne,e.\u0275\u0275pureFunction0(1,te)))}function Ne(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-option",40),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n)}}function Ve(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-option",40),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=r.$implicit;e.\u0275\u0275property("value",n.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name)}}function Re(t,r){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"form",1),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.submit())}),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",2),e.\u0275\u0275template(5,De,3,4,"ng-container",3),e.\u0275\u0275template(6,Te,2,4,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),e.\u0275\u0275text(13,"Group"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",6)(16,"div",7)(17,"label",10),e.\u0275\u0275text(18,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"input",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",6)(21,"div",7)(22,"label",12),e.\u0275\u0275text(23,"Brand"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"nb-select",13),e.\u0275\u0275template(25,Ne,2,2,"nb-option",14),e.\u0275\u0275pipe(26,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(27,"div",6)(28,"div",7)(29,"label",15),e.\u0275\u0275text(30,"Serial number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(31,"input",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(32,"div",6)(33,"div",7)(34,"label",17),e.\u0275\u0275text(35,"Type"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"nb-select",18)(37,"nb-option",19),e.\u0275\u0275text(38,"type 1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(39,"nb-option",20),e.\u0275\u0275text(40,"type 2"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(41,"nb-option",21),e.\u0275\u0275text(42,"type 3"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"nb-option",22),e.\u0275\u0275text(44,"type 4"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(45,"div",6)(46,"div",7)(47,"label",23),e.\u0275\u0275text(48,"Battery"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(49,"nb-select",24)(50,"nb-option",19),e.\u0275\u0275text(51,"battery 1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(52,"nb-option",20),e.\u0275\u0275text(53,"battery 2"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(54,"nb-option",21),e.\u0275\u0275text(55,"battery 3"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(56,"nb-option",22),e.\u0275\u0275text(57,"battery 4"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(58,"div",6)(59,"div",7)(60,"label",25),e.\u0275\u0275text(61,"Quality level"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(62,"nb-select",26)(63,"nb-option",19),e.\u0275\u0275text(64,"qualityLevel 1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(65,"nb-option",20),e.\u0275\u0275text(66,"qualityLevel 2"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(67,"nb-option",21),e.\u0275\u0275text(68,"qualityLevel 3"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(69,"nb-option",22),e.\u0275\u0275text(70,"qualityLevel 4"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(71,"div",6)(72,"div",7)(73,"label",27),e.\u0275\u0275text(74,"Color"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(75,"ngx-colors",28),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(76,"div",6)(77,"div",7)(78,"label",29),e.\u0275\u0275text(79,"ASL Group"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(80,"nb-select",30)(81,"nb-option",19),e.\u0275\u0275text(82,"aslGroup 1"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(83,"nb-option",20),e.\u0275\u0275text(84,"aslGroup 2"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(85,"nb-option",21),e.\u0275\u0275text(86,"aslGroup 3"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(87,"nb-option",22),e.\u0275\u0275text(88,"aslGroup 4"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(89,"div",6)(90,"div",7)(91,"label",31),e.\u0275\u0275text(92,"Price"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(93,"input",32),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(94,"div",6)(95,"div",7)(96,"label",33),e.\u0275\u0275text(97,"Shop"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(98,"nb-select",34),e.\u0275\u0275template(99,Ve,2,2,"nb-option",14),e.\u0275\u0275pipe(100,"async"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(101,"nb-card-footer")(102,"div",35)(103,"button",36),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.close())}),e.\u0275\u0275text(104," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(105,"button",37),e.\u0275\u0275text(106," Save "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementContainerEnd()}if(2&t){const n=r.ngIf,i=e.\u0275\u0275reference(7),o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",o.form),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",n.selected)("ngIfElse",i),e.\u0275\u0275advance(9),e.\u0275\u0275property("status",o.isValid(o.groupIdControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.nameControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.brandControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(26,18,o.brands$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("status",o.isValid(o.serialNumberControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.typeControl)?"danger":"basic"),e.\u0275\u0275advance(13),e.\u0275\u0275property("status",o.isValid(o.batteryControl)?"danger":"basic"),e.\u0275\u0275advance(13),e.\u0275\u0275property("status",o.isValid(o.qualityLevelControl)?"danger":"basic"),e.\u0275\u0275advance(13),e.\u0275\u0275property("formControl",o.colorControl)("hideTextInput",!0),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.aslGroupControl)?"danger":"basic"),e.\u0275\u0275advance(13),e.\u0275\u0275property("status",o.isValid(o.priceControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.shopIdControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(100,20,o.shops$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("nbSpinner",n.loading)}}const Fe=function(t,r){return{loading:t,selected:r}};let $=class j extends T.I{get groupIdControl(){return this.form.controls.groupId}get brandControl(){return this.form.controls.brand}get nameControl(){return this.form.controls.name}get serialNumberControl(){return this.form.controls.serialNumber}get typeControl(){return this.form.controls.type}get batteryControl(){return this.form.controls.battery}get qualityLevelControl(){return this.form.controls.qualityLevel}get colorControl(){return this.form.controls.color}get aslGroupControl(){return this.form.controls.aslGroup}get priceControl(){return this.form.controls.price}get shopIdControl(){return this.form.controls.shopId}constructor(r,n){super(),this.ref=r,this.coreService=n,this.form=new a.cw({id:new a.NI(0,{nonNullable:!0}),groupId:new a.NI(0,{nonNullable:!0,validators:[a.kI.required]}),brand:new a.NI(P.H.phonak,{nonNullable:!0,validators:[a.kI.required]}),name:new a.NI("",{nonNullable:!0,validators:[a.kI.required]}),serialNumber:new a.NI("",{nonNullable:!0,validators:[a.kI.required]}),type:new a.NI(R.BTE,{nonNullable:!0,validators:[a.kI.required]}),battery:new a.NI(V.battery10,{nonNullable:!0,validators:[a.kI.required]}),qualityLevel:new a.NI(0,{nonNullable:!0,validators:[a.kI.required]}),color:new a.NI("rgb(79, 195, 255)",{nonNullable:!0,validators:[a.kI.required]}),aslGroup:new a.NI(0,{nonNullable:!0,validators:[a.kI.required]}),price:new a.NI(0,{nonNullable:!0,validators:[a.kI.required]}),shopId:new a.NI(0,{nonNullable:!0,validators:[a.kI.required]})}),this.selected=null,this.loading$=new f.X(!1),this.shops$=this.coreService.getEntities$(u.J.Shop).pipe((0,F.U)(({entities:i})=>Object.values(i))),this.brands$=this.coreService.brands$}ngOnInit(){this.selected&&this.form.patchValue(this.selected),this.getShops()}close(r=!1){this.ref.close(r)}submit(){this.form.markAllAsTouched(),this.form.valid&&!1===this.loading$.value&&(this.selected?this.update():this.add())}update(){this.loading$.next(!0),this.coreService.put(this.form.getRawValue(),this.entity).pipe((0,p.t)(this),(0,g.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}add(){this.loading$.next(!0),this.coreService.post((0,D.omit)(this.form.getRawValue(),["id"]),this.entity).pipe((0,p.t)(this),(0,g.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}getShops(){this.coreService.get(u.J.Shop).pipe((0,p.t)(this)).subscribe()}static#e=this.\u0275fac=function(n){return new(n||j)(e.\u0275\u0275directiveInject(l.X4l,8),e.\u0275\u0275directiveInject(h.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:j,selectors:[["ngx-devices-add-dialog"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["titleAddTpl",""],[1,"row"],[1,"col-12"],[1,"form-group"],["for","groupId",1,"label"],["type","number","nbInput","","fullWidth","","id","groupId","placeholder","Group","formControlName","groupId",3,"status"],["for","name",1,"label"],["type","text","nbInput","","fullWidth","","id","name","placeholder","Name","formControlName","name",3,"status"],["for","brand",1,"label"],["id","brand","fullWidth","","placeholder","Brand","formControlName","brand",3,"status"],[3,"value",4,"ngFor","ngForOf"],["for","serialNumber",1,"label"],["type","text","nbInput","","fullWidth","","id","serialNumber","placeholder","Serial number","formControlName","serialNumber",3,"status"],["for","type",1,"label"],["id","type","fullWidth","","placeholder","Type","formControlName","type",3,"status"],["value","1"],["value","2"],["value","3"],["value","4"],["for","battery",1,"label"],["id","battery","fullWidth","","placeholder","Battery","formControlName","battery",3,"status"],["for","qualityLevel",1,"label"],["id","qualityLevel","fullWidth","","placeholder","Quality level","formControlName","qualityLevel",3,"status"],["for","color",1,"label"],["ngx-colors-trigger","",3,"formControl","hideTextInput"],["for","aslGroup",1,"label"],["id","aslGroup","fullWidth","","placeholder","ASL Group","formControlName","aslGroup",3,"status"],["for","price",1,"label"],["type","text","nbInput","","fullWidth","","id","price","placeholder","Price","formControlName","price",3,"status"],["for","shopId",1,"label"],["id","shopId","fullWidth","","placeholder","Shop","formControlName","shopId",3,"status"],[1,"d-flex","justify-content-end"],["type","button","nbButton","","status","basic",1,"mr-2",3,"click"],["type","submit","nbButton","","hero","","status","primary","nbSpinnerStatus","success","nbSpinnerMessage","",3,"nbSpinner"],["icon","edit-2-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],["icon","plus-circle-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],[3,"value"]],template:function(n,i){1&n&&(e.\u0275\u0275template(0,Re,107,22,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&n&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction2(3,Fe,e.\u0275\u0275pipeBind1(1,1,i.loading$),i.selected))},dependencies:[d.sg,d.O5,l.Asz,l.yKW,l.XWE,l.ndF,l.rs,l.q51,l.fMN,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.oH,a.sg,a.u,l.h8i,l.DPz,l.Q7R,_.qZ,_.u_,d.Ov],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:auto;max-width:90vh;max-height:90vh}"]})};function Pe(t,r){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-custom-actions",4),e.\u0275\u0275listener("handleAddAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.addDialog())})("handleEditAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.editDialog())})("handleReloadAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.refresh())})("handleRemoveAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.openRemoveDialog(o.selectedRows[0].id))})("handleSettingsAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.openSettingsDialog())}),e.\u0275\u0275elementEnd()()()}if(2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedRows",n.selectedRows)}}$=(0,v.gn)([(0,p.c)()],$);let O=class z extends E.D{constructor(r,n){super(n,r),this.dialogService=r,this.entity=u.J.Device,this.settings={selectMode:"multi",actions:!1,columns:{id:{title:"ID",type:"number"},status:{title:"Status",type:"custom",renderComponent:Y},group:{title:"Group",type:"string"},brand:{title:"Brand",type:"string"},name:{title:"Name",type:"string"},serialNumber:{title:"Serial Number",type:"string"},type:{title:"Type",type:"string"},battery:{title:"Battery",type:"string"},qualityLevel:{title:"Quality Level",type:"string"},color:{title:"Color",type:"custom",renderComponent:Ee},aslGroup:{title:"ASL Group",type:"string",hide:!0},price:{title:"Price",type:"custom",renderComponent:A,hide:!0},location:{title:"Location",type:"string",hide:!0},customer:{title:"Customer",type:"string",hide:!0},actions:{title:"Actions",type:"custom",width:"1%",renderComponent:w.n,valuePrepareFunction:(i,o,c)=>o,onComponentInitFunction:i=>{i.actionChange.pipe((0,p.t)(this),(0,S.b)(({action:o,row:c})=>{switch(o){case m.a.Delete:this.openRemoveDialog(c.id);break;case m.a.Edit:this.editDialog(c)}})).subscribe()},sort:!1,filter:!1}}},this.dialogTemplateRef=$}static#e=this.\u0275fac=function(n){return new(n||z)(e.\u0275\u0275directiveInject(l.Gln),e.\u0275\u0275directiveInject(h.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:z,selectors:[["ngx-devices"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:10,vars:6,consts:[[4,"ngIf"],[1,"row","align-items-center"],[1,"col-8"],[3,"settings","source","rowSelect"],[3,"selectedRows","handleAddAction","handleEditAction","handleReloadAction","handleRemoveAction","handleSettingsAction"]],template:function(n,i){1&n&&(e.\u0275\u0275template(0,Pe,5,1,"nb-card",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",1)(5,"div",2)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"ng2-smart-table",3),e.\u0275\u0275listener("rowSelect",function(c){return i.handleSelectedRow(c)}),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,4,i.entities$)),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("",i.source.count()," Devices"),e.\u0275\u0275advance(2),e.\u0275\u0275property("settings",i.settings)("source",i.source))},dependencies:[d.O5,b.T5,l.Asz,l.yKW,l.ndF,N.C,d.Ov]})};O=(0,v.gn)([(0,p.c)()],O);const oe=function(){return{type:"pulse"}},ie=function(t){return{animation:t}};function ke(t,r){1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"nb-icon",15),e.\u0275\u0275text(2," Edit "),e.\u0275\u0275elementContainerEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,ie,e.\u0275\u0275pureFunction0(1,oe))))}function $e(t,r){1&t&&(e.\u0275\u0275element(0,"nb-icon",16),e.\u0275\u0275text(1," Add new ")),2&t&&e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,ie,e.\u0275\u0275pureFunction0(1,oe)))}function Oe(t,r){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"form",1),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.submit())}),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",2),e.\u0275\u0275template(5,ke,3,4,"ng-container",3),e.\u0275\u0275template(6,$e,2,4,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),e.\u0275\u0275text(13,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",6)(16,"div",7)(17,"label",10),e.\u0275\u0275text(18,"Price"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"input",11),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(20,"nb-card-footer")(21,"div",12)(22,"button",13),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.close())}),e.\u0275\u0275text(23," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"button",14),e.\u0275\u0275text(25," Save "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementContainerEnd()}if(2&t){const n=r.ngIf,i=e.\u0275\u0275reference(7),o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",o.form),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",n.selected)("ngIfElse",i),e.\u0275\u0275advance(9),e.\u0275\u0275property("status",o.isValid(o.nameControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.priceControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("nbSpinner",n.loading)}}const Be=function(t,r){return{loading:t,selected:r}};let B=class M extends T.I{get nameControl(){return this.form.controls.name}get priceControl(){return this.form.controls.price}constructor(r,n,i){super(),this.ref=r,this.fb=n,this.coreService=i,this.form=new a.cw({id:new a.NI(0,{nonNullable:!0}),price:new a.NI(0,{nonNullable:!0,validators:[a.kI.required]}),name:new a.NI("",{nonNullable:!0,validators:[a.kI.required]})}),this.selected=null,this.loading$=new f.X(!1)}ngOnInit(){this.selected&&this.form.patchValue(this.selected)}close(r=!1){this.ref.close(r)}submit(){this.form.markAllAsTouched(),this.form.valid&&!1===this.loading$.value&&(this.selected?this.update():this.add())}update(){this.loading$.next(!0),this.coreService.put(this.form.getRawValue(),this.entity).pipe((0,p.t)(this),(0,g.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}add(){this.loading$.next(!0),this.coreService.post((0,D.omit)(this.form.getRawValue(),["id"]),this.entity).pipe((0,p.t)(this),(0,g.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}static#e=this.\u0275fac=function(n){return new(n||M)(e.\u0275\u0275directiveInject(l.X4l,8),e.\u0275\u0275directiveInject(a.qu),e.\u0275\u0275directiveInject(h.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:M,selectors:[["ngx-services-add-dialog"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["titleAddTpl",""],[1,"row"],[1,"col-12"],[1,"form-group"],["for","name",1,"label"],["type","text","nbInput","","fullWidth","","id","name","placeholder","Name","formControlName","name",3,"status"],["for","price",1,"label"],["type","number","nbInput","","fullWidth","","id","price","placeholder","Price","formControlName","price",3,"status"],[1,"d-flex","justify-content-end"],["type","button","nbButton","","status","basic",1,"mr-2",3,"click"],["type","submit","nbButton","","hero","","status","primary","nbSpinnerStatus","success","nbSpinnerMessage","",3,"nbSpinner"],["icon","edit-2-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],["icon","plus-circle-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"]],template:function(n,i){1&n&&(e.\u0275\u0275template(0,Oe,26,6,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&n&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction2(3,Be,e.\u0275\u0275pipeBind1(1,1,i.loading$),i.selected))},dependencies:[d.O5,l.Asz,l.yKW,l.XWE,l.ndF,l.fMN,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u,l.h8i,l.DPz,l.Q7R,d.Ov],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:auto;max-width:90vh;max-height:90vh}"]})};function Ge(t,r){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-custom-actions",7),e.\u0275\u0275listener("handleAddAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.addDialog())})("handleEditAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.editDialog())})("handleReloadAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.refresh())})("handleRemoveAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.openRemoveDialog(o.selectedRows[0].id))}),e.\u0275\u0275elementEnd()()()}if(2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedRows",n.selectedRows)}}function qe(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.selectedRows.length," selected services ")}}function Le(t,r){if(1&t&&e.\u0275\u0275text(0),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275textInterpolate1("",n.source.count()," services")}}B=(0,v.gn)([(0,p.c)()],B);let G=class Q extends E.D{constructor(r,n){super(n,r),this.dialogService=r,this.entity=u.J.Service,this.settings={selectMode:"multi",actions:!1,columns:{id:{title:"ID",type:"number",width:"1%"},name:{title:"Name",type:"string"},price:{title:"Price",type:"custom",renderComponent:A},actions:{title:"Actions",type:"custom",width:"1%",renderComponent:w.n,valuePrepareFunction:(i,o,c)=>o,onComponentInitFunction:i=>{i.actionChange.pipe((0,p.t)(this),(0,S.b)(({action:o,row:c})=>{switch(o){case m.a.Delete:this.openRemoveDialog(c.id);break;case m.a.Edit:this.editDialog(c)}})).subscribe()},sort:!1,filter:!1}}},this.dialogTemplateRef=B}static#e=this.\u0275fac=function(n){return new(n||Q)(e.\u0275\u0275directiveInject(l.Gln),e.\u0275\u0275directiveInject(h.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:Q,selectors:[["ngx-services"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:12,vars:7,consts:[[4,"ngIf"],[1,"row","align-items-center"],[1,"col-8"],[4,"ngIf","ngIfElse"],["allRows",""],[1,"col-4"],[3,"settings","source","rowSelect"],[3,"selectedRows","handleAddAction","handleEditAction","handleReloadAction","handleRemoveAction"]],template:function(n,i){if(1&n&&(e.\u0275\u0275template(0,Ge,5,1,"nb-card",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",1)(5,"div",2),e.\u0275\u0275template(6,qe,2,1,"span",3),e.\u0275\u0275template(7,Le,1,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(9,"div",5),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(10,"nb-card-body")(11,"ng2-smart-table",6),e.\u0275\u0275listener("rowSelect",function(c){return i.handleSelectedRow(c)}),e.\u0275\u0275elementEnd()()()),2&n){const o=e.\u0275\u0275reference(8);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,i.entities$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",i.selectedRows.length)("ngIfElse",o),e.\u0275\u0275advance(5),e.\u0275\u0275property("settings",i.settings)("source",i.source)}},dependencies:[d.O5,b.T5,l.Asz,l.yKW,l.ndF,N.C,d.Ov]})};G=(0,v.gn)([(0,p.c)()],G);var C=(()=>{return(t=C||(C={})).Eargo="Eargo",t.Domes="Domes",t.Filter="Filter",t.Gel="Gel",t.Wipes="Wipes",C;var t})();const re=function(){return{type:"pulse"}},ae=function(t){return{animation:t}};function We(t,r){1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"nb-icon",24),e.\u0275\u0275text(2," Edit "),e.\u0275\u0275elementContainerEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,ae,e.\u0275\u0275pureFunction0(1,re))))}function je(t,r){1&t&&(e.\u0275\u0275element(0,"nb-icon",25),e.\u0275\u0275text(1," Add new ")),2&t&&e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,ae,e.\u0275\u0275pureFunction0(1,re)))}function ze(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-option",26),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n)}}function Me(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-option",26),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=r.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n)}}function Qe(t,r){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-option",26),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=r.$implicit;e.\u0275\u0275property("value",n.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name)}}function Ue(t,r){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"form",1),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.submit())}),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",2),e.\u0275\u0275template(5,We,3,4,"ng-container",3),e.\u0275\u0275template(6,je,2,4,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),e.\u0275\u0275text(13,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",6)(16,"div",7)(17,"label",10),e.\u0275\u0275text(18,"Brand"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"nb-select",11),e.\u0275\u0275template(20,ze,2,2,"nb-option",12),e.\u0275\u0275pipe(21,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(22,"div",6)(23,"div",7)(24,"label",13),e.\u0275\u0275text(25,"Type"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(26,"nb-select",14),e.\u0275\u0275template(27,Me,2,2,"nb-option",12),e.\u0275\u0275pipe(28,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(29,"div",6)(30,"div",7)(31,"label",15),e.\u0275\u0275text(32,"Quantity"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(33,"input",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(34,"div",6)(35,"div",7)(36,"label",17),e.\u0275\u0275text(37,"Price"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(38,"input",18),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(39,"div",6)(40,"div",7)(41,"label",19),e.\u0275\u0275text(42,"Shop"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(43,"nb-select",20),e.\u0275\u0275template(44,Qe,2,2,"nb-option",12),e.\u0275\u0275pipe(45,"async"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(46,"nb-card-footer")(47,"div",21)(48,"button",22),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.close())}),e.\u0275\u0275text(49," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(50,"button",23),e.\u0275\u0275text(51," Save "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementContainerEnd()}if(2&t){const n=r.ngIf,i=e.\u0275\u0275reference(7),o=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",o.form),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",n.selected)("ngIfElse",i),e.\u0275\u0275advance(9),e.\u0275\u0275property("status",o.isValid(o.nameControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.brandControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(21,13,o.brands$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("status",o.isValid(o.typeControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(28,15,o.utilityType$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("status",o.isValid(o.quantityControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.priceControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",o.isValid(o.shopIdControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(45,17,o.shops$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("nbSpinner",n.loading)}}const Je=function(t,r){return{loading:t,selected:r}};let q=class U extends T.I{get typeControl(){return this.form.controls.type}get nameControl(){return this.form.controls.name}get brandControl(){return this.form.controls.brand}get quantityControl(){return this.form.controls.quantity}get priceControl(){return this.form.controls.price}get shopIdControl(){return this.form.controls.shopId}constructor(r,n){super(),this.ref=r,this.coreService=n,this.form=new a.cw({id:new a.NI(0,{nonNullable:!0}),type:new a.NI(C.Domes,{nonNullable:!0,validators:[a.kI.required]}),name:new a.NI("",{nonNullable:!0,validators:[a.kI.required]}),brand:new a.NI(P.H.phonak,{nonNullable:!0,validators:[a.kI.required]}),quantity:new a.NI(0,{nonNullable:!0,validators:[a.kI.required]}),price:new a.NI(0,{nonNullable:!0,validators:[a.kI.required]}),shopId:new a.NI(0,{nonNullable:!0,validators:[a.kI.required]})}),this.selected=null,this.loading$=new f.X(!1),this.shops$=this.coreService.getEntities$(u.J.Shop).pipe((0,F.U)(({entities:i})=>Object.values(i))),this.brands$=this.coreService.brands$,this.utilityType$=new f.X(Object.values(C))}ngOnInit(){this.selected&&this.form.patchValue(this.selected),this.getShops()}close(r=!1){this.ref.close(r)}submit(){this.form.markAllAsTouched(),this.form.valid&&!1===this.loading$.value&&(this.selected?this.update():this.add())}update(){this.loading$.next(!0),this.coreService.put(this.form.getRawValue(),this.entity).pipe((0,p.t)(this),(0,g.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}add(){this.loading$.next(!0),this.coreService.post((0,D.omit)(this.form.getRawValue(),["id"]),this.entity).pipe((0,p.t)(this),(0,g.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}getShops(){this.coreService.get(u.J.Shop).pipe((0,p.t)(this)).subscribe()}static#e=this.\u0275fac=function(n){return new(n||U)(e.\u0275\u0275directiveInject(l.X4l,8),e.\u0275\u0275directiveInject(h.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:U,selectors:[["ngx-utilities-add-dialog"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["titleAddTpl",""],[1,"row"],[1,"col-12"],[1,"form-group"],["for","name",1,"label"],["type","text","nbInput","","fullWidth","","id","name","placeholder","Name","formControlName","name",3,"status"],["for","brand",1,"label"],["id","brand","fullWidth","","placeholder","Brand","formControlName","brand",3,"status"],[3,"value",4,"ngFor","ngForOf"],["for","type",1,"label"],["id","type","fullWidth","","placeholder","Type","formControlName","type",3,"status"],["for","quantity",1,"label"],["type","number","nbInput","","fullWidth","","id","quantity","placeholder","Quantity","formControlName","quantity",3,"status"],["for","price",1,"label"],["type","number","nbInput","","fullWidth","","id","price","placeholder","Price","formControlName","price",3,"status"],["for","shopId",1,"label"],["id","shopId","fullWidth","","placeholder","Shop","formControlName","shopId",3,"status"],[1,"d-flex","justify-content-end"],["type","button","nbButton","","status","basic",1,"mr-2",3,"click"],["type","submit","nbButton","","hero","","status","primary","nbSpinnerStatus","success","nbSpinnerMessage","",3,"nbSpinner"],["icon","edit-2-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],["icon","plus-circle-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],[3,"value"]],template:function(n,i){1&n&&(e.\u0275\u0275template(0,Ue,52,19,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&n&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction2(3,Je,e.\u0275\u0275pipeBind1(1,1,i.loading$),i.selected))},dependencies:[d.sg,d.O5,l.Asz,l.yKW,l.XWE,l.ndF,l.rs,l.q51,l.fMN,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u,l.h8i,l.DPz,l.Q7R,d.Ov],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:auto;max-width:90vh;max-height:90vh}"]})};function Xe(t,r){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-custom-actions",4),e.\u0275\u0275listener("handleAddAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.addDialog())})("handleEditAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.editDialog())})("handleReloadAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.refresh())})("handleRemoveAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.openRemoveDialog(o.selectedRows[0].id))})("handleSettingsAction",function(){e.\u0275\u0275restoreView(n);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.openSettingsDialog())}),e.\u0275\u0275elementEnd()()()}if(2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedRows",n.selectedRows)}}q=(0,v.gn)([(0,p.c)()],q);let L=class J extends E.D{constructor(r,n){super(n,r),this.dialogService=r,this.entity=u.J.Utility,this.settings={selectMode:"multi",actions:!1,columns:{id:{title:"ID",type:"number"},type:{title:"Type",type:"string"},name:{title:"Name",type:"string"},brand:{title:"Brand",type:"string"},quantity:{title:"Quantity",type:"string"},price:{title:"Price",type:"custom",renderComponent:A,hide:!0},shopId:{title:"Shop",type:"string"},actions:{title:"Actions",type:"custom",width:"1%",renderComponent:w.n,valuePrepareFunction:(i,o,c)=>o,onComponentInitFunction:i=>{i.actionChange.pipe((0,p.t)(this),(0,S.b)(({action:o,row:c})=>{switch(o){case m.a.Delete:this.openRemoveDialog(c.id);break;case m.a.Edit:this.editDialog(c)}})).subscribe(({action:o})=>{o===m.a.Delete&&this.refresh()})},sort:!1,filter:!1}}},this.localStorageSettingsKey=H.m9.utilities,this.hiddenColumns=["price"],this.dialogTemplateRef=q,this.selectedColumns=[]}static#e=this.\u0275fac=function(n){return new(n||J)(e.\u0275\u0275directiveInject(l.Gln),e.\u0275\u0275directiveInject(h.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:J,selectors:[["ngx-utilities"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:10,vars:6,consts:[[4,"ngIf"],[1,"row","align-items-center"],[1,"col-8"],[3,"settings","source","rowSelect"],[3,"selectedRows","handleAddAction","handleEditAction","handleReloadAction","handleRemoveAction","handleSettingsAction"]],template:function(n,i){1&n&&(e.\u0275\u0275template(0,Xe,5,1,"nb-card",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",1)(5,"div",2)(6,"span"),e.\u0275\u0275text(7),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"ng2-smart-table",3),e.\u0275\u0275listener("rowSelect",function(c){return i.handleSelectedRow(c)}),e.\u0275\u0275elementEnd()()()),2&n&&(e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,4,i.entities$)),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate1("",i.source.count()," Utilities"),e.\u0275\u0275advance(2),e.\u0275\u0275property("settings",i.settings)("source",i.source))},dependencies:[d.O5,b.T5,l.Asz,l.yKW,l.ndF,N.C,d.Ov]})};L=(0,v.gn)([(0,p.c)()],L);const Ke=[{path:"",children:[{path:"devices",component:O},{path:"accessories",component:k},{path:"utilities",component:L},{path:"services",component:G}]}];let He=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:t});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[K.Bz.forChild(Ke),K.Bz]})}return t})(),Ye=(()=>{class t{static#e=this.\u0275fac=function(i){return new(i||t)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:t});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[d.ez,He,b.ne,l.zyh,l.IIj,le.m,l.j7H.forChild(),l.KdK,a.UX,a.u5,l.nKr,l.OA,l.V7y,l.IIj,l.YNG,l.T2N,l.uuI,_.To]})}return t})()}}]);