"use strict";(self.webpackChunkaudio_aid_manager=self.webpackChunkaudio_aid_manager||[]).push([[879],{6879:(tt,z,c)=>{c.r(z),c.d(z,{CustomersModule:()=>et});var d=c(6895),l=c(4006),i=c(784),f=c(4385),X=c(950),b=c(410),C=c(7582),p=c(5264),_=c(2868),x=c(4197),u=c(535),B=c(8711),e=c(4650);function Y(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",3)(1,"nb-card-header",4),e.\u0275\u0275text(2," Note "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4),e.\u0275\u0275elementEnd()()),2&t){const n=a.$implicit;e.\u0275\u0275advance(4),e.\u0275\u0275textInterpolate1(" ",n.value," ")}}const Q=function(){return{type:"pulse"}},U=function(t){return{animation:t}},Z=function(t){return{value:t}};let O=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],inputs:{value:"value"},decls:4,vars:8,consts:[[1,"d-flex","justify-content-center"],["status","basic","icon","file-text-outline","pack","eva","nbPopoverTrigger","hint",1,"skip",3,"options","nbPopover","nbPopoverContext"],["commentRef",""],["accent","basic",1,"popover-card"],["status","warning"]],template:function(o,r){if(1&o&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275element(1,"nb-icon",1),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(2,Y,5,1,"ng-template",null,2,e.\u0275\u0275templateRefExtractor)),2&o){const s=e.\u0275\u0275reference(3);e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(4,U,e.\u0275\u0275pureFunction0(3,Q)))("nbPopover",s)("nbPopoverContext",e.\u0275\u0275pureFunction1(6,Z,r.value))}},dependencies:[i.ydg,i.Asz,i.yKW,i.ndF,i.fMN],styles:["nb-card[_ngcontent-%COMP%]{margin:0;max-width:20rem}"]})}return t})();var y=c(5439);const q=function(t){return{"text-warning":t}};let ee=(()=>{class t{constructor(){this.isInPresent=!1}ngOnInit(){console.log(this.value),this.renderValue=y(this.value).format("L"),this.isInPresent=y().isSame(y(this.value),"day")}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],inputs:{value:"value"},decls:2,vars:4,consts:[[3,"ngClass"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"span",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275property("ngClass",e.\u0275\u0275pureFunction1(2,q,!r.isInPresent)),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",r.renderValue," "))},dependencies:[d.mk],encapsulation:2})}return t})();var h=c(5051);const v=function(t){return{value:t}};function te(t,a){if(1&t&&e.\u0275\u0275element(0,"nb-tag",11),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(7);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,v,n.value))("text",n.value)}}function ne(t,a){if(1&t&&e.\u0275\u0275element(0,"nb-tag",12),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(9);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,v,n.value))("text",n.value)}}function oe(t,a){if(1&t&&e.\u0275\u0275element(0,"nb-tag",13),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(11);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,v,n.value))("text",n.value)}}function ae(t,a){if(1&t&&e.\u0275\u0275element(0,"nb-tag",14),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(13);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,v,n.value))("text",n.value)}}function re(t,a){if(1&t&&e.\u0275\u0275element(0,"nb-tag",15),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(13);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,v,n.value))("text",n.value)}}function ie(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",16)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function le(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",18)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function se(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",19)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function ce(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",20)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function de(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",16)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}let pe=(()=>{class t{constructor(){this.processStatusTypeTpl=h.Rd}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],inputs:{value:"value"},decls:16,vars:6,consts:[[3,"ngSwitch"],["status","warning","class","text-uppercase","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchCase"],["status","basic","class","text-uppercase","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchCase"],["status","danger","class","text-uppercase","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchCase"],["status","primary","class","text-uppercase","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchCase"],["status","success","class","text-uppercase","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchCase"],["ccRef",""],["clRef",""],["noRef",""],["pcRef",""],["defaultRef",""],["status","warning","nbPopoverTrigger","hint",1,"text-uppercase",3,"size","nbPopover","nbPopoverContext","text"],["status","basic","nbPopoverTrigger","hint",1,"text-uppercase",3,"size","nbPopover","nbPopoverContext","text"],["status","danger","nbPopoverTrigger","hint",1,"text-uppercase",3,"size","nbPopover","nbPopoverContext","text"],["status","primary","nbPopoverTrigger","hint",1,"text-uppercase",3,"size","nbPopover","nbPopoverContext","text"],["status","success","nbPopoverTrigger","hint",1,"text-uppercase",3,"size","nbPopover","nbPopoverContext","text"],["accent","basic",1,"popover-card"],["status","warning"],["accent","primary",1,"popover-card"],["accent","success",1,"popover-card"],["accent","warning",1,"popover-card"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"nb-tag-list",0),e.\u0275\u0275template(1,te,1,6,"nb-tag",1),e.\u0275\u0275template(2,ne,1,6,"nb-tag",2),e.\u0275\u0275template(3,oe,1,6,"nb-tag",3),e.\u0275\u0275template(4,ae,1,6,"nb-tag",4),e.\u0275\u0275template(5,re,1,6,"nb-tag",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,ie,5,1,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(8,le,5,1,"ng-template",null,7,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(10,se,5,1,"ng-template",null,8,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(12,ce,5,1,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(14,de,5,1,"ng-template",null,10,e.\u0275\u0275templateRefExtractor)),2&o&&(e.\u0275\u0275property("ngSwitch",r.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",r.processStatusTypeTpl.open),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",r.processStatusTypeTpl.end),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",r.processStatusTypeTpl.lost),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",r.processStatusTypeTpl.trial),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",r.processStatusTypeTpl.win))},dependencies:[d.RF,d.n9,i.c2L,i.d0f,i.ydg,i.Asz,i.yKW,i.ndF],styles:["nb-card[_ngcontent-%COMP%]{margin:0;max-width:20rem}"]})}return t})();var W=c(9304),j=c(7489),S=c(591),E=c(537),m=(()=>{return(t=m||(m={})).none="none",t.lessThanThreeYears="lessThanThreeYears",t.moreThanThreeYears="moreThanThreeYears",m;var t})(),L=c(4447),w=c(5851);const M=function(){return{type:"pulse"}},H=function(t){return{animation:t}};function me(t,a){1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"nb-icon",26),e.\u0275\u0275text(2," Edit "),e.\u0275\u0275elementContainerEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,H,e.\u0275\u0275pureFunction0(1,M))))}function ue(t,a){1&t&&(e.\u0275\u0275element(0,"nb-icon",27),e.\u0275\u0275text(1," Add new ")),2&t&&e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,H,e.\u0275\u0275pureFunction0(1,M)))}function ge(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-radio",28),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=a.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n)}}function fe(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",7)(1,"div",8)(2,"label",29),e.\u0275\u0275text(3,"Current left ear device name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",30),e.\u0275\u0275elementEnd()()),2&t){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(4),e.\u0275\u0275property("status",n.isValid(n.currentLeftEarDeviceNameControl)?"danger":"basic")}}function he(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-radio",28),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=a.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n)}}function ve(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"div",7)(1,"div",8)(2,"label",31),e.\u0275\u0275text(3,"Current right ear device name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"input",32),e.\u0275\u0275elementEnd()()),2&t){const n=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(4),e.\u0275\u0275property("status",n.isValid(n.currentRightEarDeviceNameControl)?"danger":"basic")}}function be(t,a){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"form",1),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.submit())}),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",2),e.\u0275\u0275template(5,me,3,4,"ng-container",3),e.\u0275\u0275template(6,ue,2,4,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"div",5)(10,"div",6)(11,"div",5)(12,"div",7)(13,"div",8)(14,"label",9),e.\u0275\u0275text(15,"Left ear value"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(16,"input",10),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(17,"div",7)(18,"div",8)(19,"label",11),e.\u0275\u0275text(20,"Left ear device duration"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"nb-radio-group",12),e.\u0275\u0275template(22,ge,2,2,"nb-radio",13),e.\u0275\u0275pipe(23,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(24,fe,5,1,"div",14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"div",6)(26,"div",5)(27,"div",7)(28,"div",8)(29,"label",15),e.\u0275\u0275text(30,"Right ear value"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(31,"input",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(32,"div",7)(33,"div",8)(34,"label",17),e.\u0275\u0275text(35,"Right ear device duration"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(36,"nb-radio-group",18),e.\u0275\u0275template(37,he,2,2,"nb-radio",13),e.\u0275\u0275pipe(38,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(39,ve,5,1,"div",14),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(40,"div",7)(41,"div",8)(42,"label",19),e.\u0275\u0275text(43,"Questionnaire"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(44,"input",20),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(45,"div",7)(46,"div",8)(47,"label",21),e.\u0275\u0275text(48,"Comment"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(49,"textarea",22),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(50,"nb-card-footer")(51,"div",23)(52,"button",24),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.close())}),e.\u0275\u0275text(53," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(54,"button",25),e.\u0275\u0275text(55," Save "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementContainerEnd()}if(2&t){const n=a.ngIf,o=e.\u0275\u0275reference(7),r=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",r.form),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",n.selected)("ngIfElse",o),e.\u0275\u0275advance(11),e.\u0275\u0275property("status",r.isValid(r.leftEarValueControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",r.isValid(r.leftEarDeviceDurationControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(23,14,r.duration$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",r.leftEarDeviceDurationControl.value!==r.durationTpl.none),e.\u0275\u0275advance(7),e.\u0275\u0275property("status",r.isValid(r.rightEarValueControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",r.isValid(r.rightEarDeviceDurationControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(38,16,r.duration$)),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",r.rightEarDeviceDurationControl.value!==r.durationTpl.none),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",r.isValid(r.questionnaireControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",r.isValid(r.commentControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("nbSpinner",n.loading)}}const Ce=function(t,a){return{loading:t,selected:a}};let I=class V extends L.I{get leftEarValueControl(){return this.form.controls.leftEarValue}get leftEarDeviceDurationControl(){return this.form.controls.leftEarDeviceDuration}get currentLeftEarDeviceNameControl(){return this.form.controls.currentLeftEarDeviceName}get rightEarValueControl(){return this.form.controls.rightEarValue}get rightEarDeviceDurationControl(){return this.form.controls.rightEarDeviceDuration}get currentRightEarDeviceNameControl(){return this.form.controls.currentRightEarDeviceName}get questionnaireControl(){return this.form.controls.questionnaire}get commentControl(){return this.form.controls.comment}constructor(a,n,o){super(),this.ref=a,this.coreService=n,this.route=o,this.form=new l.cw({id:new l.NI(0,{nonNullable:!0}),leftEarValue:new l.NI(0,{nonNullable:!0}),leftEarDeviceDuration:new l.NI(m.none,{nonNullable:!0}),currentLeftEarDeviceName:new l.NI("",{nonNullable:!0}),rightEarValue:new l.NI(0,{nonNullable:!0}),rightEarDeviceDuration:new l.NI(m.none,{nonNullable:!0}),reason:new l.NI("",{nonNullable:!0}),currentRightEarDeviceName:new l.NI("",{nonNullable:!0}),questionnaire:new l.NI(0,{nonNullable:!0}),comment:new l.NI("",{nonNullable:!0}),customerId:new l.NI(null,{nonNullable:!0})}),this.selected=null,this.loading$=new S.X(!1),this.duration$=new S.X(Object.values(m)),this.durationTpl=m}ngOnInit(){this.selected&&this.form.patchValue(this.selected),this.leftEarDeviceDurationControl.valueChanges.pipe((0,_.b)(a=>{console.log({leftEarDeviceDurationValue:a}),a===m.none&&this.currentLeftEarDeviceNameControl.reset()}),(0,p.t)(this)).subscribe(),this.rightEarDeviceDurationControl.valueChanges.pipe((0,_.b)(a=>{a===m.none&&this.currentRightEarDeviceNameControl.reset()}),(0,p.t)(this)).subscribe(),this.route.params.subscribe(a=>{console.log(a,"params")})}close(a=!1){this.ref.close(a)}submit(){this.form.markAllAsTouched(),this.form.valid&&!1===this.loading$.value&&(this.selected?this.update():this.add())}update(){this.loading$.next(!0),this.coreService.put(this.form.getRawValue(),this.entity).pipe((0,p.t)(this),(0,E.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}add(){this.loading$.next(!0),this.coreService.post((0,j.omit)(this.form.getRawValue(),["id"]),this.entity).pipe((0,p.t)(this),(0,E.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}static#e=this.\u0275fac=function(n){return new(n||V)(e.\u0275\u0275directiveInject(i.X4l,8),e.\u0275\u0275directiveInject(w.p),e.\u0275\u0275directiveInject(b.gz))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:V,selectors:[["ngx-customer-details-add-dialog"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["titleAddTpl",""],[1,"row"],[1,"col-6"],[1,"col-12"],[1,"form-group"],["for","leftEarValue",1,"label"],["type","number","nbInput","","fullWidth","","id","leftEarValue","placeholder","Left ear value","formControlName","leftEarValue",3,"status"],["for","leftEarDeviceDuration",1,"label"],["id","leftEarDeviceDuration","fullWidth","","formControlName","leftEarDeviceDuration","name","leftEarDeviceDuration",3,"status"],[3,"value",4,"ngFor","ngForOf"],["class","col-12",4,"ngIf"],["for","rightEarValue",1,"label"],["type","number","nbInput","","fullWidth","","id","rightEarValue","placeholder","Right ear value","formControlName","rightEarValue",3,"status"],["for","rightEarDeviceDuration",1,"label"],["id","rightEarDeviceDuration","fullWidth","","name","rightEarDeviceDuration`","formControlName","rightEarDeviceDuration",3,"status"],["for","questionnaire",1,"label"],["type","number","nbInput","","fullWidth","","id","questionnaire","placeholder","Questionnaire","formControlName","questionnaire",3,"status"],["for","comment",1,"label"],["fullWidth","","type","text","nbInput","","fullWidth","","id","comment","placeholder","Comment","formControlName","comment",3,"status"],[1,"d-flex","justify-content-end"],["type","button","nbButton","","status","basic",1,"mr-2",3,"click"],["type","submit","nbButton","","hero","","status","primary","nbSpinnerStatus","success","nbSpinnerMessage","",3,"nbSpinner"],["icon","edit-2-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],["icon","plus-circle-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],[3,"value"],["for","currentLeftEarDeviceName",1,"label"],["type","text","nbInput","","fullWidth","","id","currentLeftEarDeviceName","placeholder","Device name","formControlName","currentLeftEarDeviceName",3,"status"],["for","currentRightEarDeviceName",1,"label"],["type","text","nbInput","","fullWidth","","id","currentRightEarDeviceName","placeholder","Device name","formControlName","currentRightEarDeviceName",3,"status"]],template:function(n,o){1&n&&(e.\u0275\u0275template(0,be,56,18,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&n&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction2(3,Ce,e.\u0275\u0275pipeBind1(1,1,o.loading$),o.selected))},dependencies:[d.sg,d.O5,l._Y,l.Fj,l.wV,l.JJ,l.JL,l.sg,l.u,i.Asz,i.yKW,i.XWE,i.ndF,i.fMN,i.DPz,i.h8i,i.Q7R,i.r3g,i.MFI,d.Ov],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:auto;max-width:90vh;max-height:90vh}"]})};I=(0,C.gn)([(0,p.c)()],I);var J=c(4522);function _e(t,a){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-custom-actions",6),e.\u0275\u0275listener("handleAddAction",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.addDialog())})("handleEditAction",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.editDialog())})("handleReloadAction",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.refresh())})("handleRemoveAction",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.openRemoveDialog(r.selectedRows[0].id))}),e.\u0275\u0275elementEnd()()()}if(2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedRows",n.selectedRows)}}function xe(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.selectedRows.length," selected process ")}}function ye(t,a){if(1&t&&e.\u0275\u0275text(0),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275textInterpolate1("",n.source.count()," Processes")}}let D=class F extends W.D{constructor(a,n){super(n,a),this.dialogService=a,this.entity=u.J.Process,this.settings={selectMode:"multi",actions:!1,columns:{id:{title:"ID",type:"number",width:"1%"},status:{title:"Status",type:"custom",renderComponent:pe},leftEarValue:{title:"Left ear value",type:"number"},currentLeftEarDeviceName:{title:"Current left ear device name",type:"string"},leftEarDeviceDuration:{title:"Left ear device duration",type:"string"},rightEarValue:{title:"Right ear value",type:"number"},currentRightEarDeviceName:{title:"Current right ear device name",type:"string"},rightEarDeviceDuration:{title:"Right ear device duration",type:"string"},questionnaire:{title:"Questionnaire",type:"number"},reason:{title:"Reason",type:"string"},comment:{title:"Comment",type:"custom",renderComponent:O},createdAt:{title:"Last status update",type:"custom",renderComponent:ee},actions:{title:"Actions",type:"custom",width:"1%",renderComponent:B.n,valuePrepareFunction:(o,r,s)=>r,onComponentInitFunction:o=>{o.actionChange.pipe((0,p.t)(this),(0,_.b)(({action:r,row:s})=>{switch(r){case x.a.Delete:this.openRemoveDialog(s.id);break;case x.a.Edit:this.editDialog(s)}})).subscribe()},sort:!1,filter:!1}}},this.source=new f.nC,this.dialogTemplateRef=I}static#e=this.\u0275fac=function(n){return new(n||F)(e.\u0275\u0275directiveInject(i.Gln),e.\u0275\u0275directiveInject(w.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:F,selectors:[["ngx-customer-details"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:11,vars:7,consts:[[4,"ngIf"],[1,"row","align-items-center"],[1,"col-8"],[4,"ngIf","ngIfElse"],["allRows",""],[3,"settings","source","rowSelect"],[3,"selectedRows","handleAddAction","handleEditAction","handleReloadAction","handleRemoveAction"]],template:function(n,o){if(1&n&&(e.\u0275\u0275template(0,_e,5,1,"nb-card",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",1)(5,"div",2),e.\u0275\u0275template(6,xe,2,1,"span",3),e.\u0275\u0275template(7,ye,1,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(9,"nb-card-body")(10,"ng2-smart-table",5),e.\u0275\u0275listener("rowSelect",function(s){return o.handleSelectedRow(s)}),e.\u0275\u0275elementEnd()()()),2&n){const r=e.\u0275\u0275reference(8);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,o.entities$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",o.selectedRows.length)("ngIfElse",r),e.\u0275\u0275advance(4),e.\u0275\u0275property("settings",o.settings)("source",o.source)}},dependencies:[d.O5,J.C,f.T5,i.Asz,i.yKW,i.ndF,d.Ov]})};D=(0,C.gn)([(0,p.c)()],D);var Se=c(392);let Ee=(()=>{class t{ngOnInit(){this.renderValue=y().diff(this.value,"years")}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],inputs:{value:"value",rowData:"rowData"},decls:1,vars:1,template:function(o,r){1&o&&e.\u0275\u0275text(0),2&o&&e.\u0275\u0275textInterpolate(r.renderValue)},encapsulation:2})}return t})(),K=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],inputs:{value:"value"},decls:2,vars:1,template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"strong"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(r.value))},encapsulation:2})}return t})();const g=function(t){return{value:t}};function we(t,a){if(1&t&&e.\u0275\u0275element(0,"nb-tag",12),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(18);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,g,n.value))("text",n.value)}}function Ie(t,a){if(1&t&&e.\u0275\u0275element(0,"nb-tag",12),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(8);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,g,n.value))("text",n.value)}}function De(t,a){if(1&t&&e.\u0275\u0275element(0,"nb-tag",13),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(10);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,g,n.value))("text",n.value)}}function Te(t,a){if(1&t&&e.\u0275\u0275element(0,"nb-tag",14),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(12);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,g,n.value))("text",n.value)}}function Ne(t,a){if(1&t&&e.\u0275\u0275element(0,"nb-tag",15),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(14);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,g,n.value))("text",n.value)}}function Pe(t,a){if(1&t&&e.\u0275\u0275element(0,"nb-tag",14),2&t){const n=e.\u0275\u0275nextContext(),o=e.\u0275\u0275reference(16);e.\u0275\u0275property("size","tiny")("nbPopover",o)("nbPopoverContext",e.\u0275\u0275pureFunction1(4,g,n.value))("text",n.value)}}function Re(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",16)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function Ae(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",18)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function Ve(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",19)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function Fe(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",20)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function ke(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",16)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}function $e(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-card",16)(1,"nb-card-header",17),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body"),e.\u0275\u0275text(4," Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean. "),e.\u0275\u0275elementEnd()()),2&t){const n=a.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate1(" Hello! ",n.value," ")}}let ze=(()=>{class t{constructor(){this.customerStatusTpl=h.WE}static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],inputs:{value:"value"},decls:19,vars:6,consts:[[3,"ngSwitch"],["status","danger","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchCase"],["status","success","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchCase"],["status","basic","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchCase"],["status","warning","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchCase"],["status","basic","class","text-uppercase","appearance","outline","nbPopoverTrigger","hint",3,"size","nbPopover","nbPopoverContext","text",4,"ngSwitchDefault"],["ccRef",""],["clRef",""],["noRef",""],["pcRef",""],["defaultRef",""],["newRef",""],["status","danger","appearance","outline","nbPopoverTrigger","hint",1,"text-uppercase",3,"size","nbPopover","nbPopoverContext","text"],["status","success","appearance","outline","nbPopoverTrigger","hint",1,"text-uppercase",3,"size","nbPopover","nbPopoverContext","text"],["status","basic","appearance","outline","nbPopoverTrigger","hint",1,"text-uppercase",3,"size","nbPopover","nbPopoverContext","text"],["status","warning","appearance","outline","nbPopoverTrigger","hint",1,"text-uppercase",3,"size","nbPopover","nbPopoverContext","text"],["accent","basic",1,"popover-card"],["status","warning"],["accent","primary",1,"popover-card"],["accent","success",1,"popover-card"],["accent","warning",1,"popover-card"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"nb-tag-list",0),e.\u0275\u0275template(1,we,1,6,"nb-tag",1),e.\u0275\u0275template(2,Ie,1,6,"nb-tag",1),e.\u0275\u0275template(3,De,1,6,"nb-tag",2),e.\u0275\u0275template(4,Te,1,6,"nb-tag",3),e.\u0275\u0275template(5,Ne,1,6,"nb-tag",4),e.\u0275\u0275template(6,Pe,1,6,"nb-tag",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(7,Re,5,1,"ng-template",null,6,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(9,Ae,5,1,"ng-template",null,7,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(11,Ve,5,1,"ng-template",null,8,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(13,Fe,5,1,"ng-template",null,9,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(15,ke,5,1,"ng-template",null,10,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(17,$e,5,1,"ng-template",null,11,e.\u0275\u0275templateRefExtractor)),2&o&&(e.\u0275\u0275property("ngSwitch",r.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",r.customerStatusTpl.new),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",r.customerStatusTpl.cc),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",r.customerStatusTpl.cl),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",r.customerStatusTpl.no),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngSwitchCase",r.customerStatusTpl.pc))},dependencies:[d.RF,d.n9,d.ED,i.c2L,i.d0f,i.ydg,i.Asz,i.yKW,i.ndF],styles:["nb-card[_ngcontent-%COMP%]{margin:0;max-width:20rem}"]})}return t})();var Be=c(2263),Oe=c(2195);let We=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["ng-component"]],inputs:{value:"value"},decls:2,vars:2,consts:[["nbButton","","ghost","",3,"href"]],template:function(o,r){1&o&&(e.\u0275\u0275elementStart(0,"a",0),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&o&&(e.\u0275\u0275propertyInterpolate("href","tel:"+r.value,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",r.value," "))},dependencies:[i.DPz],encapsulation:2})}return t})();var G=c(4850);const T=function(){return{type:"pulse"}},N=function(t){return{animation:t}};function je(t,a){1&t&&(e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275element(1,"nb-icon",39),e.\u0275\u0275text(2," Edit "),e.\u0275\u0275elementContainerEnd()),2&t&&(e.\u0275\u0275advance(1),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,N,e.\u0275\u0275pureFunction0(1,T))))}function Le(t,a){1&t&&(e.\u0275\u0275element(0,"nb-icon",40),e.\u0275\u0275text(1," Add new ")),2&t&&e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(2,N,e.\u0275\u0275pureFunction0(1,T)))}function Me(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-option",41),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=a.$implicit;e.\u0275\u0275property("value",n.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name)}}function He(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-option",41),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=a.$implicit;e.\u0275\u0275property("value",n.id),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n.name)}}function Je(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-option",41),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=a.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n)}}function Ke(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"nb-radio",41),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=a.$implicit;e.\u0275\u0275property("value",n),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(n)}}function Ge(t,a){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementContainerStart(0),e.\u0275\u0275elementStart(1,"form",1),e.\u0275\u0275listener("ngSubmit",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.submit())}),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",2),e.\u0275\u0275template(5,je,3,4,"ng-container",3),e.\u0275\u0275template(6,Le,2,4,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(8,"nb-card-body")(9,"div",5)(10,"div",6)(11,"div",7)(12,"label",8),e.\u0275\u0275text(13,"First name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"input",9),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(15,"div",6)(16,"div",7)(17,"label",10),e.\u0275\u0275text(18,"Last name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"input",11),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",6)(21,"div",7)(22,"label",12),e.\u0275\u0275text(23,"Email"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(24,"input",13),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(25,"div",6)(26,"div",7)(27,"label",14),e.\u0275\u0275text(28,"Date of birth"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(29,"input",15)(30,"nb-datepicker",null,16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(32,"div",6)(33,"label",17),e.\u0275\u0275text(34,"Phone number"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(35,"nb-form-field"),e.\u0275\u0275element(36,"nb-icon",18)(37,"input",19),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(38,"div",6)(39,"div",7)(40,"label",20),e.\u0275\u0275text(41,"Doctor"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(42,"nb-select",21),e.\u0275\u0275template(43,Me,2,2,"nb-option",22),e.\u0275\u0275pipe(44,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(45,"div",6)(46,"div",7)(47,"label",23),e.\u0275\u0275text(48,"Address"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(49,"input",24),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(50,"div",6)(51,"div",7)(52,"label",25),e.\u0275\u0275text(53,"Tax code"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(54,"input",26),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(55,"div",6)(56,"div",7)(57,"label",27),e.\u0275\u0275text(58,"Clinic"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(59,"nb-select",28),e.\u0275\u0275template(60,He,2,2,"nb-option",22),e.\u0275\u0275pipe(61,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(62,"div",6)(63,"div",7)(64,"label",29),e.\u0275\u0275text(65,"Where you find it?"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(66,"nb-select",30),e.\u0275\u0275template(67,Je,2,2,"nb-option",22),e.\u0275\u0275pipe(68,"async"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(69,"div",31)(70,"div",7)(71,"label",32),e.\u0275\u0275text(72,"Note"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(73,"textarea",33),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(74,"div",6)(75,"div",7)(76,"label",34),e.\u0275\u0275text(77,"Gender"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(78,"nb-radio-group",35),e.\u0275\u0275template(79,Ke,2,2,"nb-radio",22),e.\u0275\u0275pipe(80,"async"),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(81,"nb-card-footer")(82,"div",36)(83,"button",37),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.close())}),e.\u0275\u0275text(84," Cancel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(85,"button",38),e.\u0275\u0275text(86," Save "),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementContainerEnd()}if(2&t){const n=a.ngIf,o=e.\u0275\u0275reference(7),r=e.\u0275\u0275reference(31),s=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("formGroup",s.form),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",n.selected)("ngIfElse",o),e.\u0275\u0275advance(9),e.\u0275\u0275property("status",s.isValid(s.firstNameControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",s.isValid(s.lastNameControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",s.isValid(s.emailControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("nbDatepicker",r)("status",s.isValid(s.dateOfBirthControl)?"danger":"basic"),e.\u0275\u0275advance(7),e.\u0275\u0275property("options",e.\u0275\u0275pureFunction1(31,N,e.\u0275\u0275pureFunction0(30,T))),e.\u0275\u0275advance(1),e.\u0275\u0275property("status",s.isValid(s.phoneNumberControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",s.isValid(s.doctorIdControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(44,22,s.doctors$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("status",s.isValid(s.addressControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",s.isValid(s.taxCodeControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",s.isValid(s.clinicIdControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(61,24,s.clinics$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("status",s.isValid(s.contactNoteControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(68,26,s.customerContactNoteType$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("status",s.isValid(s.commentControl)?"danger":"basic"),e.\u0275\u0275advance(5),e.\u0275\u0275property("status",s.isValid(s.genderControl)?"danger":"basic"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(80,28,s.gender$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("nbSpinner",n.loading)}}const Xe=function(t,a){return{loading:t,selected:a}};let P=class k extends L.I{get firstNameControl(){return this.form.controls.firstName}get lastNameControl(){return this.form.controls.lastName}get emailControl(){return this.form.controls.email}get dateOfBirthControl(){return this.form.controls.dateOfBirth}get phoneNumberControl(){return this.form.controls.phoneNumber}get doctorIdControl(){return this.form.controls.doctorId}get addressControl(){return this.form.controls.address}get clinicIdControl(){return this.form.controls.clinicId}get contactNoteControl(){return this.form.controls.contactNote}get genderControl(){return this.form.controls.gender}get commentControl(){return this.form.controls.comment}get taxCodeControl(){return this.form.controls.taxCode}constructor(a,n){super(),this.ref=a,this.coreService=n,this.form=new l.cw({id:new l.NI(0,{nonNullable:!0}),firstName:new l.NI("",{nonNullable:!0,validators:[l.kI.required]}),lastName:new l.NI("",{nonNullable:!0,validators:[l.kI.required]}),address:new l.NI("",{nonNullable:!0,validators:[l.kI.required]}),dateOfBirth:new l.NI(null,{nonNullable:!0,validators:[l.kI.required]}),clinicId:new l.NI("",{nonNullable:!0,validators:[l.kI.required]}),contactNote:new l.NI(h.yk.Other,{nonNullable:!0,validators:[l.kI.required]}),doctorId:new l.NI("",{nonNullable:!0,validators:[l.kI.required]}),email:new l.NI("",{nonNullable:!0,validators:[l.kI.required]}),gender:new l.NI(h.Y0.male,{nonNullable:!0,validators:[l.kI.required]}),phoneNumber:new l.NI("",{nonNullable:!0,validators:[l.kI.required]}),comment:new l.NI("",{nonNullable:!0}),taxCode:new l.NI("",{nonNullable:!0,validators:[l.kI.required]})}),this.selected=null,this.loading$=new S.X(!1),this.gender$=this.coreService.gender$,this.customerContactNoteType$=new S.X(Object.values(h.yk)),this.clinics$=this.coreService.getEntities$(u.J.Clinic).pipe((0,G.U)(({entities:o})=>Object.values(o))),this.doctors$=this.coreService.getEntities$(u.J.Doctor).pipe((0,G.U)(({entities:o})=>Object.values(o)))}ngOnInit(){this.selected&&this.form.patchValue(this.selected),this.getDoctors(),this.getClinics()}close(a=!1){this.ref.close(a)}submit(){this.form.markAllAsTouched(),this.form.valid&&!1===this.loading$.value&&(this.selected?this.update():this.add())}update(){this.loading$.next(!0),this.coreService.put(this.form.getRawValue(),this.entity).pipe((0,p.t)(this),(0,E.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}add(){this.loading$.next(!0),this.coreService.post((0,j.omit)(this.form.getRawValue(),["id"]),this.entity).pipe((0,p.t)(this),(0,E.x)(()=>{this.loading$.next(!1),this.close(!0)})).subscribe()}getDoctors(){this.coreService.get(u.J.Doctor).pipe((0,p.t)(this)).subscribe()}getClinics(){this.coreService.get(u.J.Clinic).pipe((0,p.t)(this)).subscribe()}static#e=this.\u0275fac=function(n){return new(n||k)(e.\u0275\u0275directiveInject(i.X4l,8),e.\u0275\u0275directiveInject(w.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:k,selectors:[["ngx-customer-add-dialog"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:2,vars:6,consts:[[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","align-items-center"],[4,"ngIf","ngIfElse"],["titleAddTpl",""],[1,"row"],[1,"col-6"],[1,"form-group"],["for","firstName",1,"label"],["type","text","nbInput","","fullWidth","","id","firstName","placeholder","First name","formControlName","firstName",3,"status"],["for","lastName",1,"label"],["type","text","nbInput","","fullWidth","","id","lastName","placeholder","Last name","formControlName","lastName",3,"status"],["for","email",1,"label"],["type","email","nbInput","","fullWidth","","id","email","placeholder","Email","formControlName","email",3,"status"],["for","dateOfBirth",1,"label"],["id","dateOfBirth","fullWidth","","nbInput","","placeholder","Date of birth","formControlName","dateOfBirth",3,"nbDatepicker","status"],["dateOfBirthRef",""],["for","phoneNumber",1,"label"],["nbPrefix","","icon","phone-outline",3,"options"],["type","tel","nbInput","","fullWidth","","id","phoneNumber","placeholder","Phone number","formControlName","phoneNumber",3,"status"],["for","doctorId",1,"label"],["id","doctorId","fullWidth","","placeholder","Doctor","formControlName","doctorId",3,"status"],[3,"value",4,"ngFor","ngForOf"],["for","address",1,"label"],["type","text","nbInput","","fullWidth","","id","address","placeholder","Address","formControlName","address",3,"status"],["for","taxCode",1,"label"],["type","text","nbInput","","fullWidth","","id","taxCode","placeholder","Tax code","formControlName","taxCode",3,"status"],["for","clinicId",1,"label"],["id","clinicId","fullWidth","","placeholder","Clinic","formControlName","clinicId",3,"status"],["for","contactNote",1,"label"],["id","contactNote","fullWidth","","placeholder","Where you find it?","formControlName","contactNote",3,"status"],[1,"col-12"],["for","comment",1,"label"],["nbInput","","fullWidth","","id","comment","placeholder","Note","formControlName","comment",3,"status"],["for","gender",1,"label"],["id","gender","fullWidth","","formControlName","gender",3,"status"],[1,"d-flex","justify-content-end"],["type","button","nbButton","","status","basic",1,"mr-2",3,"click"],["type","submit","nbButton","","hero","","status","primary","nbSpinnerStatus","success","nbSpinnerMessage","",3,"nbSpinner"],["icon","edit-2-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],["icon","plus-circle-outline","pack","eva","status","primary",1,"skip","mr-2",3,"options"],[3,"value"]],template:function(n,o){1&n&&(e.\u0275\u0275template(0,Ge,87,33,"ng-container",0),e.\u0275\u0275pipe(1,"async")),2&n&&e.\u0275\u0275property("ngIf",e.\u0275\u0275pureFunction2(3,Xe,e.\u0275\u0275pipeBind1(1,1,o.loading$),o.selected))},dependencies:[d.sg,d.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,i.Asz,i.yKW,i.XWE,i.ndF,i.rs,i.q51,i.fMN,i.DPz,i.h8i,i.$kf,i.B4C,i.Q7R,i.r3g,i.MFI,i.jBG,i.t3q,d.Ov],styles:["[_nghost-%COMP%]   nb-card[_ngcontent-%COMP%]{margin:auto;max-width:90vh;max-height:90vh}"]})};function Ye(t,a){if(1&t){const n=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"nb-card")(1,"nb-card-header"),e.\u0275\u0275text(2,"Actions"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"nb-card-body")(4,"ngx-custom-actions",6),e.\u0275\u0275listener("handleAddAction",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.addDialog())})("handleEditAction",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.editDialog())})("handleReloadAction",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.refresh())})("handlePulseAction",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.view())})("handleRemoveAction",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.openRemoveDialog(r.selectedRows[0].id))})("handleSettingsAction",function(){e.\u0275\u0275restoreView(n);const r=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(r.openSettingsDialog())}),e.\u0275\u0275elementEnd()()()}if(2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("selectedRows",n.selectedRows)("showProcess",!0)}}function Qe(t,a){if(1&t&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",n.selectedRows.length," selected customers ")}}function Ue(t,a){if(1&t&&e.\u0275\u0275text(0),2&t){const n=e.\u0275\u0275nextContext();e.\u0275\u0275textInterpolate1("",n.source.count()," Customers")}}P=(0,C.gn)([(0,p.c)()],P);let R=class $ extends W.D{constructor(a,n,o){super(o,n),this.router=a,this.dialogService=n,this.entity=u.J.Customer,this.settings={selectMode:"multi",actions:!1,columns:{id:{title:"ID",type:"number",width:"1%"},status:{title:"Status",type:"custom",renderComponent:ze},firstName:{title:"First Name",type:"custom",renderComponent:K},lastName:{title:"Last Name",type:"custom",renderComponent:K},gender:{title:"Gender",type:"custom",renderComponent:Oe.f},dateOfBirth:{title:"Age",type:"custom",renderComponent:Ee},phoneNumber:{title:"Telephone",type:"custom",renderComponent:We},email:{title:"E-mail",type:"custom",renderComponent:Be._,hide:!0},address:{title:"Address",type:"string",hide:!0},doctorId:{title:"Doctor",type:"string",hide:!0},clinicId:{title:"Clinic",type:"string",hide:!0},contactNote:{title:"Contact Note",type:"string",hide:!0},taxCode:{title:"Tax code",type:"string",hide:!0},comment:{title:"Note",type:"custom",renderComponent:O,hide:!0},actions:{title:"Actions",type:"custom",width:"1%",renderComponent:B.n,valuePrepareFunction:(r,s,A)=>s,onComponentInitFunction:r=>{r.actionChange.pipe((0,p.t)(this),(0,_.b)(({action:s,row:A})=>{switch(s){case x.a.Delete:this.openRemoveDialog(A.id);break;case x.a.Edit:this.editDialog(A)}})).subscribe()},sort:!1,filter:!1}}},this.source=new f.nC,this.localStorageSettingsKey=Se.m9.customers,this.hiddenColumns=["email","address","doctorId","clinicId","contactNote","comment"],this.dialogTemplateRef=P}view(){this.selectedRows.length>0&&this.router.navigate([`/pages/customers/details/${this.selectedRows[0].id}`])}static#e=this.\u0275fac=function(n){return new(n||$)(e.\u0275\u0275directiveInject(b.F0),e.\u0275\u0275directiveInject(i.Gln),e.\u0275\u0275directiveInject(w.p))};static#t=this.\u0275cmp=e.\u0275\u0275defineComponent({type:$,selectors:[["ngx-customers"]],features:[e.\u0275\u0275InheritDefinitionFeature],decls:11,vars:7,consts:[[4,"ngIf"],[1,"row","align-items-center"],[1,"col-8"],[4,"ngIf","ngIfElse"],["allRows",""],[3,"settings","source","rowSelect"],[3,"selectedRows","showProcess","handleAddAction","handleEditAction","handleReloadAction","handlePulseAction","handleRemoveAction","handleSettingsAction"]],template:function(n,o){if(1&n&&(e.\u0275\u0275template(0,Ye,5,2,"nb-card",0),e.\u0275\u0275pipe(1,"async"),e.\u0275\u0275elementStart(2,"nb-card")(3,"nb-card-header")(4,"div",1)(5,"div",2),e.\u0275\u0275template(6,Qe,2,1,"span",3),e.\u0275\u0275template(7,Ue,1,1,"ng-template",null,4,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(9,"nb-card-body")(10,"ng2-smart-table",5),e.\u0275\u0275listener("rowSelect",function(s){return o.handleSelectedRow(s)}),e.\u0275\u0275elementEnd()()()),2&n){const r=e.\u0275\u0275reference(8);e.\u0275\u0275property("ngIf",e.\u0275\u0275pipeBind1(1,5,o.entities$)),e.\u0275\u0275advance(6),e.\u0275\u0275property("ngIf",o.selectedRows.length)("ngIfElse",r),e.\u0275\u0275advance(4),e.\u0275\u0275property("settings",o.settings)("source",o.source)}},dependencies:[d.O5,J.C,f.T5,i.Asz,i.yKW,i.ndF,d.Ov]})};R=(0,C.gn)([(0,p.c)()],R);const Ze=[{path:"",component:R},{path:"details/:id",component:D}];let qe=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:t});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[b.Bz.forChild(Ze),b.Bz]})}return t})(),et=(()=>{class t{static#e=this.\u0275fac=function(o){return new(o||t)};static#t=this.\u0275mod=e.\u0275\u0275defineNgModule({type:t});static#n=this.\u0275inj=e.\u0275\u0275defineInjector({imports:[d.ez,X.m,l.UX,l.u5,qe,f.ne,i.zyh,i.IIj,i.MAY,i.KdK,i.T2N,i.j7H.forChild(),i.nKr,i.OA,i.uuI,i.YNG,i.V7y,i.rgH]})}return t})()}}]);